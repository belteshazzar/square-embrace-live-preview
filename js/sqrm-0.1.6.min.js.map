{"version":3,"file":"sqrm-0.1.6.min.js","sources":["../node_modules/txi/index.js","../node_modules/earcut/src/earcut.js","../node_modules/@turf/turf/turf.es.js","../node_modules/de9im/src/util/triangulate.js","../node_modules/de9im/src/util/clipper.js","../node_modules/de9im/src/util/helpers.js","../node_modules/de9im/src/util/invariant.js","../node_modules/de9im/src/util/meta.js","../node_modules/geojson-rbush/lib/quickselect.js","../node_modules/geojson-rbush/lib/rbush.js","../node_modules/@turf/meta/main.es.js","../node_modules/geojson-rbush/index.js","../node_modules/de9im/src/util/partition.js","../node_modules/de9im/src/util/point.js","../node_modules/de9im/src/util/line.js","../node_modules/de9im/src/util/polygon.js","../node_modules/de9im/src/util/index.js","../node_modules/de9im/src/within/line.js","../node_modules/de9im/src/within/point.js","../node_modules/de9im/src/within/polygon.js","../node_modules/de9im/src/within/index.js","../node_modules/de9im/index.js","../node_modules/mongo-local-db/main.js","../src/quoted-string.js","../src/sxast-to-js.js","../src/SqrmRequest.js","../node_modules/property-information/lib/util/schema.js","../node_modules/property-information/lib/util/merge.js","../node_modules/property-information/lib/normalize.js","../node_modules/property-information/lib/util/info.js","../node_modules/property-information/lib/util/types.js","../node_modules/property-information/lib/util/defined-info.js","../node_modules/property-information/lib/util/create.js","../node_modules/property-information/lib/xlink.js","../node_modules/property-information/lib/xml.js","../node_modules/property-information/lib/util/case-sensitive-transform.js","../node_modules/property-information/lib/util/case-insensitive-transform.js","../node_modules/property-information/lib/xmlns.js","../node_modules/property-information/lib/aria.js","../node_modules/property-information/lib/html.js","../node_modules/property-information/lib/svg.js","../node_modules/property-information/lib/find.js","../node_modules/property-information/index.js","../node_modules/hast-util-parse-selector/index.js","../node_modules/space-separated-tokens/index.js","../node_modules/comma-separated-tokens/index.js","../node_modules/hastscript/lib/core.js","../node_modules/hastscript/lib/html.js","../node_modules/hastscript/lib/svg.js","../node_modules/hastscript/lib/svg-case-sensitive-tag-names.js","../node_modules/smile2emoji/lib/index.js","../node_modules/html-entities/lib/named-references.js","../node_modules/html-entities/lib/numeric-unicode-map.js","../node_modules/html-entities/lib/surrogate-pairs.js","../node_modules/html-entities/lib/index.js","../src/hastscript-tools.js","../node_modules/zwitch/index.js","../node_modules/direction/index.js","../node_modules/hast-util-is-element/index.js","../node_modules/hast-util-to-string/index.js","../node_modules/unist-util-is/index.js","../node_modules/unist-util-visit-parents/index.js","../node_modules/unist-util-visit-parents/color.js","../node_modules/unist-util-visit/index.js","../node_modules/hast-util-select/lib/util.js","../node_modules/hast-util-select/lib/enter-state.js","../node_modules/hast-util-select/lib/nest.js","../node_modules/bcp-47-match/index.js","../node_modules/hast-util-has-property/index.js","../node_modules/hast-util-whitespace/index.js","../node_modules/hast-util-select/lib/pseudo.js","../node_modules/hast-util-select/lib/attribute.js","../node_modules/hast-util-select/lib/test.js","../node_modules/hast-util-select/lib/name.js","../node_modules/hast-util-select/lib/class-name.js","../node_modules/hast-util-select/lib/id.js","../node_modules/hast-util-select/lib/any.js","../node_modules/css-selector-parser/lib/utils.js","../node_modules/css-selector-parser/lib/parser-context.js","../node_modules/css-selector-parser/lib/render.js","../node_modules/css-selector-parser/lib/index.js","../node_modules/nth-check/lib/esm/parse.js","../node_modules/boolbase/index.js","../node_modules/nth-check/lib/esm/index.js","../node_modules/nth-check/lib/esm/compile.js","../node_modules/hast-util-select/lib/parse.js","../node_modules/hast-util-select/index.js","../node_modules/acorn/dist/acorn.mjs","../src/str-to-js.js","../node_modules/linkifyjs/dist/linkify.module.js","../node_modules/linkify-string/dist/linkify-string.module.js","../src/str-to-link.js","../src/line-to-sxast.js","../src/sast-to-hast.js","../src/jast.js","../src/SqrmResponse.js","../src/SqrmDocument.js","../src/lines-to-sxast.js","../src/sxast-parser.js","../src/sqrm-to-lines.js","../node_modules/html-void-elements/index.js","../node_modules/hast-util-to-html/lib/omission/util/comment.js","../node_modules/hast-util-to-html/lib/omission/util/siblings.js","../node_modules/hast-util-to-html/lib/omission/util/whitespace-start.js","../node_modules/hast-util-to-html/lib/omission/omission.js","../node_modules/hast-util-to-html/lib/omission/closing.js","../node_modules/hast-util-to-html/lib/omission/opening.js","../node_modules/hast-util-to-html/lib/omission/index.js","../node_modules/stringify-entities/lib/core.js","../node_modules/character-entities-legacy/index.js","../node_modules/character-entities-html4/index.js","../node_modules/stringify-entities/lib/constant/dangerous.js","../node_modules/stringify-entities/lib/util/to-named.js","../node_modules/stringify-entities/lib/util/format-smart.js","../node_modules/stringify-entities/lib/util/to-hexadecimal.js","../node_modules/stringify-entities/lib/util/to-decimal.js","../node_modules/stringify-entities/lib/index.js","../node_modules/ccount/index.js","../node_modules/hast-util-to-html/lib/constants.js","../node_modules/hast-util-to-html/lib/text.js","../node_modules/hast-util-to-html/lib/tree.js","../node_modules/hast-util-to-html/lib/comment.js","../node_modules/hast-util-to-html/lib/doctype.js","../node_modules/hast-util-to-html/lib/raw.js","../src/jast-to-json.js","../src/response-to-result.js","../node_modules/hast-util-to-html/lib/index.js","../src/SqrmDB.js","../src/sqrm.js"],"sourcesContent":["\n\nfunction _copy(data) {\n\tconst type = typeof(data);\n\tif(data && type===\"object\") {\n\t\treturn Object.keys(data).reduce((accum,key) => { accum[key] = _copy(data[key]); return accum; },{});\n\t}\n\treturn data;\n}\n\n// remove puntuation except possible : and return space separated tokens\nfunction _tokenize (value,isObject) {\n\treturn value.replace(new RegExp(`[^A-Za-z0-9\\\\s${isObject ? \"\\:\" : \"\"}]`,\"g\"),\"\").replace(/  +/g,\" \").toLowerCase().split(\" \")\n}\n\n// return an array of possible misspelling for a word based on common patterns of error\n// will often return uncommon misspellings, but that's ok, it keeps the code simple without a dictionary\nfunction _misspellings(value,compress) {\n\tconst results = [];\n\tif(compress) {\n\t// remove double letter occurrance, e.g. occurance vs ocurance\n\t\tconst dedoubled = Object.values(value).reduce((accum,char) => accum[accum.length-1]===char ? accum : accum += char,\"\");\n\t\tif(dedoubled!==value) {\n\t\t\tvalue = dedoubled;\n\t\t\tresults.push(dedoubled)\n\t\t}\n\t}\n\t// common misspelling signatures\n\tif(value.includes(\"ie\")) results.push(value.replace(/ie/g,\"ei\"));\n\tif(value.includes(\"ei\")) results.push(value.replace(/ei/g,\"ie\"));\n\tif(value.includes(\"ea\") && !value[0]===\"e\" && !value[value.length-1]===\"a\") results.push(value.replace(/ea/g,\"e\"));\n\tif(value.includes(\"sc\") && !value[0]===\"s\" && !value[value.length-1]===\"c\") results.push(value.replace(/sc/g,\"c\"));\n\tif(value.includes(\"os\") && !value[0]===\"o\" && !value[value.length-1]===\"s\") results.push(value.replace(/os/g,\"ous\"));\n\tif(value.endsWith(\"ery\")) results.push(value.substring(0,value.length-3)+\"ary\");\n\tif(value.includes(\"ite\")) results.push(value.replace(/ite/g,\"ate\"));\n\tif(value.endsWith(\"ent\")) results.push(value.substring(0,value.length-3)+\"ant\");\n\tif(value.endsWith(\"eur\")) results.push(value.substring(0,value.length-3)+\"er\");\n\tif(value.endsWith(\"for\")) results.push(value+\"e\");\n\tif(value.startsWith(\"gua\")) results.push(\"gau\"+value.substring(4));\n\tif(value.endsWith(\"oah\")) results.push(value.substring(0,value.length-3)+\"aoh\");\n\tif(value.endsWith(\"ally\")) results.push(value.substring(0,value.length-4)+\"ly\");\n\tif(value.endsWith(\"ence\")) results.push(value.substring(0,value.length-4)+\"ance\");\n\tif(value.endsWith(\"fore\")) results.push(value.substring(0,value.length-1));\n\tif(value.endsWith(\"ious\")) results.push(value.substring(0,value.length-4)+\"ous\");\n\tif(value.endsWith(\"guese\")) results.push(value.substring(0,value.length-4)+\"gese\");\n\tif(value.endsWith(\"ible\")) results.push(value.substring(0,value.length-4)+\"able\");\n\tif(value.startsWith(\"busi\")) results.push(\"buis\"+value.substring(5));\n\tif(value.startsWith(\"fore\")) results.push(\"for\"+value.substring(5));\n\tif(value.startsWith(\"fluor\")) results.push(\"flor\"+value.substring(5));\n\tif(value.startsWith(\"propa\")) results.push(\"propo\"+value.substring(5));\n\treturn results;\n}\n\n// remove vowels from a word\nfunction _disemvowel(value) {\n\treturn value.replace(/[AEIOUaeiou]+/g,\"\")\n}\n// disemvowel and remove spaces\nfunction _compress(value) {\n\treturn Object.values(_disemvowel(value)).reduce((accum,char) => accum[accum.length-1]===char ? accum : accum += char,\"\")\n}\n\n// join all the tokens together and return an array of three letter sequences, stepping through string one char at a time\n// except treat numbers as numbers\nfunction _trigrams(tokens) {\n\tconst {string,grams} = tokens.reduce((accum,token) => {\n\t\t\tif(isNaN(parseFloat(token))) {\n\t\t\t\taccum.string += token;\n\t\t\t} else {\n\t\t\t\taccum.grams.push(token);\n\t\t\t}\n\t\t\treturn accum;\n\t\t},{string:\"\",grams:[]})\n\t\t//str = Array.isArray(tokens) ? tokens.join(\"\") : tokens+\"\";\n\tfor(let i=0;i<string.length-2;i++) {\n\t\t\tgrams.push(string.substring(i,i+3));\n\t}\n\treturn grams;\n}\n\n//stemmer adapted from from https://github.com/words/stemmer MIT License, Titus Wormer\n/* Character code for `y`. */\nvar CC_Y = 'y'.charCodeAt(0);\n\n/* Standard suffix manipulations. */\nvar step2list = {\n\tational: 'ate',\n\ttional: 'tion',\n\tenci: 'ence',\n\tanci: 'ance',\n\tizer: 'ize',\n\tbli: 'ble',\n\talli: 'al',\n\tentli: 'ent',\n\teli: 'e',\n\tousli: 'ous',\n\tization: 'ize',\n\tation: 'ate',\n\tator: 'ate',\n\talism: 'al',\n\tiveness: 'ive',\n\tfulness: 'ful',\n\tousness: 'ous',\n\taliti: 'al',\n\tiviti: 'ive',\n\tbiliti: 'ble',\n\tlogi: 'log'\n};\n\nvar step3list = {\n\ticate: 'ic',\n\tative: '',\n\talize: 'al',\n\ticiti: 'ic',\n\tical: 'ic',\n\tful: '',\n\tness: ''\n};\n\n/* Consonant-vowel sequences. */\nvar consonant = '[^aeiou]';\nvar vowel = '[aeiouy]';\nvar consonantSequence = '(' + consonant + '[^aeiouy]*)';\nvar vowelSequence = '(' + vowel + '[aeiou]*)';\n\nvar MEASURE_GT_0 = new RegExp(\n\t'^' + consonantSequence + '?' + vowelSequence + consonantSequence\n);\n\nvar MEASURE_EQ_1 = new RegExp(\n\t'^' + consonantSequence + '?' + vowelSequence + consonantSequence +\n\tvowelSequence + '?$'\n);\n\nvar MEASURE_GT_1 = new RegExp(\n\t'^' + consonantSequence + '?' +\n\t'(' + vowelSequence + consonantSequence + '){2,}'\n);\n\nvar VOWEL_IN_STEM = new RegExp(\n\t'^' + consonantSequence + '?' + vowel\n);\n\nvar CONSONANT_LIKE = new RegExp(\n\t'^' + consonantSequence + vowel + '[^aeiouwxy]$'\n);\n\n/* Exception expressions. */\nvar SUFFIX_LL = /ll$/;\nvar SUFFIX_E = /^(.+?)e$/;\nvar SUFFIX_Y = /^(.+?)y$/;\nvar SUFFIX_ION = /^(.+?(s|t))(ion)$/;\nvar SUFFIX_ED_OR_ING = /^(.+?)(ed|ing)$/;\nvar SUFFIX_AT_OR_BL_OR_IZ = /(at|bl|iz)$/;\nvar SUFFIX_EED = /^(.+?)eed$/;\nvar SUFFIX_S = /^.+?[^s]s$/;\nvar SUFFIX_SSES_OR_IES = /^.+?(ss|i)es$/;\nvar SUFFIX_MULTI_CONSONANT_LIKE = /([^aeiouylsz])\\1$/;\nvar STEP_2 = new RegExp(\n\t'^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|' +\n\t'ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|' +\n\t'biliti|logi)$'\n);\nvar STEP_3 = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;\nvar STEP_4 = new RegExp(\n\t'^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|' +\n\t'iti|ous|ive|ize)$'\n);\n\n/* Stem `value`. */\nfunction _stemmer(value) {\n\tvar firstCharacterWasLowerCaseY;\n\tvar match;\n\n\tvalue = String(value).toLowerCase();\n\n\t/* Exit early. */\n\tif (value.length < 3) {\n\treturn value;\n\t}\n\n\t/* Detect initial `y`, make sure it never matches. */\n\tif (value.charCodeAt(0) === CC_Y) {\n\tfirstCharacterWasLowerCaseY = true;\n\tvalue = 'Y' + value.substr(1);\n\t}\n\n\t/* Step 1a. */\n\tif (SUFFIX_SSES_OR_IES.test(value)) {\n\t/* Remove last two characters. */\n\tvalue = value.substr(0, value.length - 2);\n\t} else if (SUFFIX_S.test(value)) {\n\t/* Remove last character. */\n\tvalue = value.substr(0, value.length - 1);\n\t}\n\n\t/* Step 1b. */\n\tif (match = SUFFIX_EED.exec(value)) {\n\tif (MEASURE_GT_0.test(match[1])) {\n\t\t/* Remove last character. */\n\t\tvalue = value.substr(0, value.length - 1);\n\t}\n\t} else if ((match = SUFFIX_ED_OR_ING.exec(value)) && VOWEL_IN_STEM.test(match[1])) {\n\tvalue = match[1];\n\n\tif (SUFFIX_AT_OR_BL_OR_IZ.test(value)) {\n\t\t/* Append `e`. */\n\t\tvalue += 'e';\n\t} else if (SUFFIX_MULTI_CONSONANT_LIKE.test(value)) {\n\t\t/* Remove last character. */\n\t\tvalue = value.substr(0, value.length - 1);\n\t} else if (CONSONANT_LIKE.test(value)) {\n\t\t/* Append `e`. */\n\t\tvalue += 'e';\n\t}\n\t}\n\n\t/* Step 1c. */\n\tif ((match = SUFFIX_Y.exec(value)) && VOWEL_IN_STEM.test(match[1])) {\n\t/* Remove suffixing `y` and append `i`. */\n\tvalue = match[1] + 'i';\n\t}\n\n\t/* Step 2. */\n\tif ((match = STEP_2.exec(value)) && MEASURE_GT_0.test(match[1])) {\n\tvalue = match[1] + step2list[match[2]];\n\t}\n\n\t/* Step 3. */\n\tif ((match = STEP_3.exec(value)) && MEASURE_GT_0.test(match[1])) {\n\tvalue = match[1] + step3list[match[2]];\n\t}\n\n\t/* Step 4. */\n\tif (match = STEP_4.exec(value)) {\n\tif (MEASURE_GT_1.test(match[1])) {\n\t\tvalue = match[1];\n\t}\n\t} else if ((match = SUFFIX_ION.exec(value)) && MEASURE_GT_1.test(match[1])) {\n\tvalue = match[1];\n\t}\n\n\t/* Step 5. */\n\tif (\n\t(match = SUFFIX_E.exec(value)) &&\n\t(MEASURE_GT_1.test(match[1]) || (MEASURE_EQ_1.test(match[1]) && !CONSONANT_LIKE.test(match[1])))\n\t) {\n\tvalue = match[1];\n\t}\n\n\tif (SUFFIX_LL.test(value) && MEASURE_GT_1.test(value)) {\n\tvalue = value.substr(0, value.length - 1);\n\t}\n\n\t/* Turn initial `Y` back to `y`. */\n\tif (firstCharacterWasLowerCaseY) {\n\tvalue = 'y' + value.substr(1);\n\t}\n\n\treturn value;\n}\n\n\nvar STOPWORDS = [\n\t'a', 'about', 'after', 'ala', 'all', 'also', 'am', 'an', 'and', 'another', 'any', 'are', \n\t'around','as', 'at', 'be',\n\t'because', 'been', 'before', 'being', 'between', 'both', 'but', 'by', 'came', 'can',\n\t'come', 'could', 'did', 'do', 'each', 'for', 'from', 'get', 'got', 'has', 'had',\n\t'he', 'have', 'her', 'here', 'him', 'himself', 'his', 'how', 'i', 'if', 'iff', 'in', \n\t'include', 'into',\n\t'is', 'it', 'like', 'make', 'many', 'me', 'might', 'more', 'most', 'much', 'must',\n\t'my', 'never', 'now', 'of', 'on', 'only', 'or', 'other', 'our', 'out', 'over',\n\t'said', 'same', 'see', 'should', 'since', 'some', 'still', 'such', 'take', 'than',\n\t'that', 'the', 'their', 'them', 'then', 'there', 'these', 'they', 'this', 'those',\n\t'through', 'to', 'too', 'under', 'up', 'very', 'was', 'way', 'we', 'well', 'were',\n\t'what', 'where', 'which', 'while', 'who', 'with', 'would', 'you', 'your'];\n\n// return all the values in an object's properties concatenated into a space separated string\n// include the property names followed by :\nfunction _toText(objectOrPrimitive,seen=new Set()) {\n\tif(objectOrPrimitive && typeof(objectOrPrimitive)===\"object\" && !seen.has(objectOrPrimitive)) {\n\t\tseen.add(objectOrPrimitive);\n\t\treturn Object.keys(objectOrPrimitive)\n\t\t\t.reduce((accum,key,i,array) => accum +=  key + \": \" + _toText(objectOrPrimitive[key],seen) + (i<array.length-1 ? \" \" : \"\"),\"\");\n\t}\n\treturn objectOrPrimitive;\n}\n\n// convert ids into numbers if possible\nfunction _coerceId(id) {\n\ttry {\n\t\treturn JSON.parse(id);\n\t} catch(e) {\n\t\treturn id;\n\t}\n}\n\nexport function Txi({stops,stems=true,trigrams=true,compressions=true,misspellings=true,onchange,storage={}}={}) {\n\tconst defaults = {stops,stems,trigrams,compressions,misspellings,onchange,storage};\n\t// ensure Txi is called with the new operator\n\tif(!this || !(this instanceof Txi)) {\n\t\treturn new Txi(defaults);\n\t}\n\tlet {get,set,keys,count} = storage;\n\t\n\t// create stop map from array, stop words are not indexed\n\tstops = (defaults.stops||STOPWORDS).reduce((accum,word) => { accum[word] = true; return accum;},{});\n\t\n\t// the map to store the index, which is of the form\n\t// {[<characterSequence>:{<id>:{stems:<count>,trigrams:<count>,compressions:<count>,numbers:<count>,booleans:<count>}}[,...]}\n\tlet keycount = 0,\n\t\tindex = {}\n\t\n\tif(!keys) {\n\t\tkeys = async function* () {\n\t\t\tlet i = 0,\n\t\t\t\tkey = keys[i];\n\t\t\twhile(key) {\n\t\t\t\tyield key;\n\t\t\t\tkey = keys[++i];\n\t\t\t}\n\t\t};\n\t}\n\t\n\tif(!get) {\n\t\tget = key => index[key];\n\t}\n\t\n\tif(!set) {\n\t\tset = (key,value) => index[key] = value;\n\t}\n\n\t// add words to the stop map created during instantiation\n\tthis.addStops = (...words) => { words.forEach((word) => stops[word] = true); return this; }\n\n\tthis.compress = () => {\n\t\tconst onchange = this.onchange || (() => {})\n\t\tObject.keys(index)\n\t\t\t.forEach(word => {\n\t\t\t\tconst entry = index[word],\n\t\t\t\t\tids = Object.keys(entry);\n\t\t\t\tlet changed;\n\t\t\t\tids.forEach(id => {\n\t\t\t\t\tif(entry[id].stems===0 && entry[id].trigrams===0 && entry[id].compressions===0) {\n\t\t\t\t\t\tdelete entry[id];\n\t\t\t\t\t\tchanged = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif(Object.keys(entry).length===0) {\n\t\t\t\t\tdelete index[word];\n\t\t\t\t\tdelete keys[word];\n\t\t\t\t\tonchange({[word]:null});\n\t\t\t\t\tkeycount--;\n\t\t\t\t} else if(changed) {\n\t\t\t\t\tonchange([word],entry);\n\t\t\t\t}\n\t\t\t});\n\t\treturn this;\n\t}\n\n\t// remove words from the stop map\n\tthis.removeStops = (...words) => { \n\t\twords.forEach((word) => delete stops[word]); \n\t\treturn this; \n\t}\n\n\t// remove the provided ids from the index\n\tthis.remove = async (...ids) => {\n\t\tconst onchange = this.onchange || (() => {})\n\t\tfor(const id of ids) {\n\t\t\tfor await(const word of keys()) {\n\t\t\t\tconst node = await get(word);\n\t\t\t\tif(node && node[id]) { \n\t\t\t\t\tdelete node[id];\n\t\t\t\t\tawait set(word,node);\n\t\t\t\t\tonchange({[word]:{[id]:{stems:0,trigrams:0,compressions:0}}})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t// return the index so that the calling program can perhaps store it somewhere\n\tthis.getIndex = () => _copy(index);\n\n\tthis.getKeys = async () => {\n\t\tconst results = {};\n\t\tfor await(const key of keys()) {\n\t\t\tresults[key] = true;\n\t\t}\n\t\treturn results;\n\t}\n\n\tthis.getKeyCount = () => count ? count() : keycount;\n\n\t// set the index, in case the calling program is loading it from somewhere\n\tthis.setIndex = newIndex => { \n\t\tindex = _copy(newIndex);\n\t\tkeycount = 0;\n\t\tObject.assign(keys,Object.keys(index).reduce((accum,key) => { accum[key] = true; keycount++; return accum; }, {}));\n\t\treturn this; \n\t}\n\n\t// function to call every time an index entry is updated\n\t// called which can be used to update an external data structure using Object.assign(external,updates);\n\t// alternatively,it can be decomposed so that more precise updating of say a Redis store can be done incrementally\n\tthis.onchange = defaults.onchange;\n\n\t// create an index entry with id by indexing objectOrText\n\t// use the id, perhaps a URL< to lookup the full object when it is returned in search results\n\tthis.index = function(id,objectOrText,{stems=defaults.stems,trigrams=defaults.trigrams,compressions=defaults.compressions,misspellings=defaults.misspellings}=defaults) {\n\t\tconst  type = typeof(objectOrText);\n\t\tif(!objectOrText || !(type===\"string\" || type===\"object\")) {\n\t\t\treturn;\n\t\t}\n\t\tif(type===\"object\") {\n\t\t\tstems = true;\n\t\t}\n\t\tconst text = _toText(objectOrText)\n\t\tconst tokens = objectOrText ? _tokenize(text,type===\"object\") : []\n\t\tconst stemmed = (stems || type===\"object\" ? tokens.reduce((accum,token) => \n\t\t\t\t{ \n\t\t\t\t\tconst type = typeof(token);\n\t\t\t\t\tif(type!==\"number\" && type!==\"boolean\") {\n\t\t\t\t\t\tconst stem = _stemmer(token);\n\t\t\t\t\t\tif(!stops[stem]) {\n\t\t\t\t\t\t\taccum.push(stem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn accum;\n\t\t\t\t},[]) : []),\n\t\t\tother = tokens.filter(token => token===\"true\" || token===\"false\" || !isNaN(parseFloat(token))),\n\t\t\tnoproperties = (stems ? stemmed : tokens).filter(token => token[token.length-1]!==\":\" && isNaN(parseFloat(token)) && token!==\"true\" && token!==\"false\"),\n\t\t\tgrams = trigrams ? _trigrams(noproperties) : [],\n\t\t\tmisspelled = (misspellings ? noproperties.reduce((accum,stem) => accum.concat(_misspellings(stem,true)),[]) : []).filter(word => !grams.includes(word)),\n\t\t\tcompressed = compressions ? noproperties.reduce((accum,stem) => accum.concat(_compress(stem)),[]).concat(misspelled.reduce((accum,stem) => accum.concat(_compress(stem)),[])) : [],\n\t\t\tonchange = this.onchange || (() => {});\n\t\tlet changes,\n\t\t\tcount = 0;\n\t\tfor(const word of stemmed.concat(misspelled).concat(compressed).concat(other)) {\n\t\t\t\tif(!stops[word]) { // check stops again in case a compression is a stop\n\t\t\t\t\tconst isboolean = word===\"false\" || word===\"true\",\n\t\t\t\t\t\tisnumber = !isNaN(parseFloat(word));\n\t\t\t\t\tlet node = get(word),\n\t\t\t\t\t\tchange;\n\t\t\t\t\tkeys[word] = true;\n\t\t\t\t\tif(isboolean) {\n\t\t\t\t\t\tif(!node) {\n\t\t\t\t\t\t\tnode = {};\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!node[id]) {\n\t\t\t\t\t\t\tnode[id] =  {stems:0,trigrams:0,compressions:0,numbers:0,booleans:0};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnode[id].boolean++;\n\t\t\t\t\t\tchange = node[id];\n\t\t\t\t\t}\n\t\t\t\t\tif(isnumber) {\n\t\t\t\t\t\tif(!node) {\n\t\t\t\t\t\t\tnode = {};\n\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!node[id]) {\n\t\t\t\t\t\t\tnode[id] =  {stems:0,trigrams:0,compressions:0,numbers:0,booleans:0};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnode[id].numbers++;\n\t\t\t\t\t\tchange = node[id];\n\t\t\t\t\t}\n\t\t\t\t\tif(!isboolean && !isnumber) {\n\t\t\t\t\t\tif(stems && (stemmed.includes(word) || misspelled.includes(word))) {\n\t\t\t\t\t\t\tif(!node) {\n\t\t\t\t\t\t\t\tnode = {};\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!node[id]) {\n\t\t\t\t\t\t\t\tnode[id] =  {stems:0,trigrams:0,compressions:0,numbers:0,booleans:0};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnode[id].stems++;\n\t\t\t\t\t\t\tchange = node[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(compressions && compressed.includes(word)) {\n\t\t\t\t\t\t\tif(!node) {\n\t\t\t\t\t\t\t\tnode = {};\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!node[id]) {\n\t\t\t\t\t\t\t\tnode[id] =  {stems:0,trigrams:0,compressions:0};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnode[id].compressions++;\n\t\t\t\t\t\t\tchange = node[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(change) {\n\t\t\t\t\t\tif(!changes) {\n\t\t\t\t\t\t\tchanges = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!changes[word]) {\n\t\t\t\t\t\t\tchanges[word] = {};\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchanges[word][id] = change;\n\t\t\t\t\t\tset(word,node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t}\n\t\tfor(const word of grams) {\n\t\t\tif(!stops[word]) {\n\t\t\t\tlet node = get(word);\n\t\t\t\tkeys[word] = true;\n\t\t\t\tif(!node) {\n\t\t\t\t\tnode = {};\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t\tif(!node[id]) {\n\t\t\t\t\tnode[id] = {stems:0,trigrams:0,compressions:0,booleans:0,numbers:0};\n\t\t\t\t}\n\t\t\t\tnode[id].trigrams++;\n\t\t\t\tif(!changes) {\n\t\t\t\t\tchanges = {};\n\t\t\t\t}\n\t\t\t\tif(!changes[word]) {\n\t\t\t\t\tchanges[word] = {};\n\t\t\t\t}\n\t\t\t\tchanges[word][id] = node[id];\n\t\t\t\tset(word,node);\n\t\t\t}\n\t\t}\n\t\tif(changes) onchange(changes);\n\t\tkeycount += count;\n\t\treturn this;\n\t}\n\n\t// return a sorted array of search results matching the provided objectOrText\n\tthis.search = function(objectOrText,{all,stems=defaults.stems,trigrams=defaults.trigrams,compressions=defaults.compressions,misspellings=defaults.misspellings}=defaults) {\n\t\tconst  type = typeof(objectOrText);\n\t\tif(!objectOrText || !(type===\"string\" || type===\"object\")) {\n\t\t\treturn [];\n\t\t}\n\t\tif(type===\"object\") {\n\t\t\tstems = true;\n\t\t}\n\t\tconst\ttext = _toText(objectOrText),\n\t\t\ttokens = objectOrText ? _tokenize(text,type===\"object\") : [],\n\t\t\tstemmed = (stems || type===\"object\" ? tokens.reduce((accum,token) => \n\t\t\t{ \n\t\t\t\tconst type = typeof(token);\n\t\t\t\tif(type!==\"number\" && type!==\"boolean\") {\n\t\t\t\t\tconst stem = _stemmer(token);\n\t\t\t\t\tif(!stops[stem]) {\n\t\t\t\t\t\taccum.push(stem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn accum;\n\t\t\t},[]) : []),\n\t\t\tother = tokens.filter(token => token===\"true\" || token===\"false\" || !isNaN(parseFloat(token))),\n\t\t\tnoproperties = (stems ? stemmed : tokens).filter(token => token[token.length-1]!==\":\" && isNaN(parseFloat(token)) && token!==\"true\" && token!==\"false\"),\n\t\t\tgrams = trigrams ? _trigrams(noproperties) : [],\n\t\t\tcompressed = compressions ? noproperties.map(stem => _compress(stem)) : [],\n\t\t\tresults = [];\n\t\t\tfor(const word of stemmed.concat(grams).concat(compressed).concat(other)) {\n\t\t\t\tif(!stops[word]) {\n\t\t\t\t\tconst node = get(word),\n\t\t\t\t\t\tisboolean = word===\"false\" || word===\"true\",\n\t\t\t\t\t\tisnumber = !isNaN(parseFloat(word));\n\t\t\t\t\tif(node) {\n\t\t\t\t\t\tObject.keys(node).forEach(id => {\n\t\t\t\t\t\t\tif(!results[id]) {\n\t\t\t\t\t\t\t\tresults[id] = {score:0,count:0,stems:{},trigrams:{},compressions:{},booleans:{},numbers:{}};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlet count = 0;\n\t\t\t\t\t\t\tif(isboolean) {\n\t\t\t\t\t\t\t\tif(!results[id].booleans[word]) {\n\t\t\t\t\t\t\t\t\tresults[id].booleans[word] = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresults[id].booleans[word] += node[id].booleans;\n\t\t\t\t\t\t\t\tresults[id].score += node[id].booleans;\n\t\t\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(isnumber) {\n\t\t\t\t\t\t\t\tif(!results[id].numbers[word]) {\n\t\t\t\t\t\t\t\t\tresults[id].numbers[word] = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresults[id].numbers[word] += node[id].numbers;\n\t\t\t\t\t\t\t\tresults[id].score += node[id].numbers;\n\t\t\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(stems && stemmed.includes(word)) {\n\t\t\t\t\t\t\t\tif(!results[id].stems[word]) {\n\t\t\t\t\t\t\t\t\tresults[id].stems[word] = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tresults[id].stems[word] += node[id].stems;\n\t\t\t\t\t\t\t\tresults[id].score += node[id].stems;\n\t\t\t\t\t\t\t\tcount = 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(trigrams && grams.includes(word)) {\n\t\t\t\t\t\t\t\tif(!results[id].trigrams[word]) {\n\t\t\t\t\t\t\t\t\tresults[id].trigrams[word] = 0\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst score = node[id].trigrams * .5;\n\t\t\t\t\t\t\t\tresults[id].trigrams[word] += score;\n\t\t\t\t\t\t\t\tresults[id].score += score;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(compressions && compressed.includes(word)) {\n\t\t\t\t\t\t\t\tif(!results[id].compressions[word]) {\n\t\t\t\t\t\t\t\t\tresults[id].compressions[word] = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst score = node[id].compressions * .75;\n\t\t\t\t\t\t\t\tresults[id].compressions[word] += score;\n\t\t\t\t\t\t\t\tresults[id].score += score;\n\t\t\t\t\t\t\t\tcount || (count = 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresults[id].count += count;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst properties = type===\"object\" ? Object.keys(objectOrText) : [];\n\t\t\treturn Object.keys(results)\n\t\t\t\t.reduce((accum,id) => {\n\t\t\t\t\tconst result = results[id];\n\t\t\t\t\tif(result.score>0) {\n\t\t\t\t\t\t// if matching an object, \n\t\t\t\t\t\t// find at least one top level matching property name\n\t\t\t\t\t\t// and a matched value\n\t\t\t\t\t\tconst method = all ? \"every\" : \"some\";\n\t\t\t\t\t\tif(type===\"object\") {\n\t\t\t\t\t\t\tif(properties[method](property => {\n\t\t\t\t\t\t\t\tif(result.stems[property+\":\"]) {\n\t\t\t\t\t\t\t\t\tconst value = objectOrText[property];\n\t\t\t\t\t\t\t\t\tif(value===\"_*_\") return true;\n\t\t\t\t\t\t\t\t\tif(value==\"true\" || value==\"false\") {\n\t\t\t\t\t\t\t\t\t\tif(result.booleans[value]) return true;\n\t\t\t\t\t\t\t\t\t} else if(typeof(value)===\"number\") {\n\t\t\t\t\t\t\t\t\t\tif(result.numbers[value]) return true;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tconst stemmed = _tokenize(value).map(token => _stemmer(token));\n\t\t\t\t\t\t\t\t\t\treturn stemmed.some(stem => result.stems[stem]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\t\taccum.push(Object.assign({id:_coerceId(id)},result));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if(all) {\n\t\t\t\t\t\t\tif(stems && Object.keys(result.stems).length===0 && Object.keys(result.numbers).length===0 && Object.keys(result.booleans).length===0) return accum;\n\t\t\t\t\t\t\tif(trigrams && Object.keys(result.trigrams).length===0) return accum;\n\t\t\t\t\t\t\tif(compressions && Object.keys(result.compressions).length===0) return accum;\n\t\t\t\t\t\t\taccum.push(Object.assign({id:_coerceId(id)},result));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\taccum.push(Object.assign({id:_coerceId(id)},result));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn accum;\n\t\t\t\t},[])\n\t\t\t\t.sort((a,b) => b.score - a.score);\n\t\t\t}\n\t\t}\n","'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(ear, triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return p;\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n        var b = splitPolygon(outerNode, hole);\n        filterPoints(b, b.next);\n    }\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m.prev; // hole touches outer segment; pick lower endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m.next;\n\n    while (p !== stop) {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    }\n\n    return m;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) &&\n           locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    if ((equals(p1, q1) && equals(p2, q2)) ||\n        (equals(p1, q2) && equals(p2, q1))) return true;\n    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n           area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n */\nvar earthRadius = 6371008.8;\n\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n */\nvar factors = {\n    meters: earthRadius,\n    metres: earthRadius,\n    millimeters: earthRadius * 1000,\n    millimetres: earthRadius * 1000,\n    centimeters: earthRadius * 100,\n    centimetres: earthRadius * 100,\n    kilometers: earthRadius / 1000,\n    kilometres: earthRadius / 1000,\n    miles: earthRadius / 1609.344,\n    nauticalmiles: earthRadius / 1852,\n    inches: earthRadius * 39.370,\n    yards: earthRadius / 1.0936,\n    feet: earthRadius * 3.28084,\n    radians: 1,\n    degrees: earthRadius / 111325,\n};\n\n/**\n * Units of measurement factors based on 1 meter.\n */\nvar unitsFactors = {\n    meters: 1,\n    metres: 1,\n    millimeters: 1000,\n    millimetres: 1000,\n    centimeters: 100,\n    centimetres: 100,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    miles: 1 / 1609.344,\n    nauticalmiles: 1 / 1852,\n    inches: 39.370,\n    yards: 1 / 1.0936,\n    feet: 3.28084,\n    radians: 1 / earthRadius,\n    degrees: 1 / 111325,\n};\n\n/**\n * Area of measurement factors based on 1 square meter.\n */\nvar areaFactors = {\n    meters: 1,\n    metres: 1,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    centimeters: 10000,\n    centimetres: 10000,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    acres: 0.000247105,\n    miles: 3.86e-7,\n    yards: 1.195990046,\n    feet: 10.763910417,\n    inches: 1550.003100006\n};\n\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nfunction feature(geometry, properties, options) {\n    // Optional Parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var bbox = options.bbox;\n    var id = options.id;\n\n    // Validation\n    if (geometry === undefined) throw new Error('geometry is required');\n    if (properties && properties.constructor !== Object) throw new Error('properties must be an Object');\n    if (bbox) validateBBox(bbox);\n    if (id) validateId(id);\n\n    // Main\n    var feat = {type: 'Feature'};\n    if (id) feat.id = id;\n    if (bbox) feat.bbox = bbox;\n    feat.properties = properties || {};\n    feat.geometry = geometry;\n    return feat;\n}\n\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<number>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Geometry\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = 'Point';\n * var coordinates = [110, 50];\n *\n * var geometry = turf.geometry(type, coordinates);\n *\n * //=geometry\n */\nfunction geometry(type, coordinates, options) {\n    // Optional Parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var bbox = options.bbox;\n\n    // Validation\n    if (!type) throw new Error('type is required');\n    if (!coordinates) throw new Error('coordinates is required');\n    if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\n    if (bbox) validateBBox(bbox);\n\n    // Main\n    var geom;\n    switch (type) {\n    case 'Point': geom = point(coordinates).geometry; break;\n    case 'LineString': geom = lineString(coordinates).geometry; break;\n    case 'Polygon': geom = polygon(coordinates).geometry; break;\n    case 'MultiPoint': geom = multiPoint(coordinates).geometry; break;\n    case 'MultiLineString': geom = multiLineString(coordinates).geometry; break;\n    case 'MultiPolygon': geom = multiPolygon(coordinates).geometry; break;\n    default: throw new Error(type + ' is invalid');\n    }\n    if (bbox) geom.bbox = bbox;\n    return geom;\n}\n\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nfunction point(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n    if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\n    if (coordinates.length < 2) throw new Error('coordinates must be at least 2 numbers long');\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) throw new Error('coordinates must contain numbers');\n\n    return feature({\n        type: 'Point',\n        coordinates: coordinates\n    }, properties, options);\n}\n\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nfunction points(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n    if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\n\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\n\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nfunction polygon(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n\n    for (var i = 0; i < coordinates.length; i++) {\n        var ring = coordinates[i];\n        if (ring.length < 4) {\n            throw new Error('Each LinearRing of a Polygon must have 4 or more Positions.');\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (i === 0 && j === 0 && !isNumber(ring[0][0]) || !isNumber(ring[0][1])) throw new Error('coordinates must contain numbers');\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error('First and last Position are not equivalent.');\n            }\n        }\n    }\n\n    return feature({\n        type: 'Polygon',\n        coordinates: coordinates\n    }, properties, options);\n}\n\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nfunction polygons(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n    if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\n\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\n\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nfunction lineString(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n    if (coordinates.length < 2) throw new Error('coordinates must be an array of two or more positions');\n    // Check if first point of LineString contains two numbers\n    if (!isNumber(coordinates[0][1]) || !isNumber(coordinates[0][1])) throw new Error('coordinates must contain numbers');\n\n    return feature({\n        type: 'LineString',\n        coordinates: coordinates\n    }, properties, options);\n}\n\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<number>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nfunction lineStrings(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n    if (!Array.isArray(coordinates)) throw new Error('coordinates must be an Array');\n\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\n\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nfunction featureCollection(features, options) {\n    // Optional Parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var bbox = options.bbox;\n    var id = options.id;\n\n    // Validation\n    if (!features) throw new Error('No features passed');\n    if (!Array.isArray(features)) throw new Error('features must be an Array');\n    if (bbox) validateBBox(bbox);\n    if (id) validateId(id);\n\n    // Main\n    var fc = {type: 'FeatureCollection'};\n    if (id) fc.id = id;\n    if (bbox) fc.bbox = bbox;\n    fc.features = features;\n    return fc;\n}\n\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nfunction multiLineString(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n\n    return feature({\n        type: 'MultiLineString',\n        coordinates: coordinates\n    }, properties, options);\n}\n\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nfunction multiPoint(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n\n    return feature({\n        type: 'MultiPoint',\n        coordinates: coordinates\n    }, properties, options);\n}\n\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nfunction multiPolygon(coordinates, properties, options) {\n    if (!coordinates) throw new Error('coordinates is required');\n\n    return feature({\n        type: 'MultiPolygon',\n        coordinates: coordinates\n    }, properties, options);\n}\n\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = {\n *     \"type\": \"Point\",\n *       \"coordinates\": [100, 0]\n *     };\n * var line = {\n *     \"type\": \"LineString\",\n *     \"coordinates\": [ [101, 0], [102, 1] ]\n *   };\n * var collection = turf.geometryCollection([pt, line]);\n *\n * //=collection\n */\nfunction geometryCollection(geometries, properties, options) {\n    if (!geometries) throw new Error('geometries is required');\n    if (!Array.isArray(geometries)) throw new Error('geometries must be an Array');\n\n    return feature({\n        type: 'GeometryCollection',\n        geometries: geometries\n    }, properties, options);\n}\n\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nfunction round(num, precision) {\n    if (num === undefined || num === null || isNaN(num)) throw new Error('num is required');\n    if (precision && !(precision >= 0)) throw new Error('precision must be a positive number');\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units='kilometers'] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\n * @returns {number} distance\n */\nfunction radiansToLength(radians, units) {\n    if (radians === undefined || radians === null) throw new Error('radians is required');\n\n    if (units && typeof units !== 'string') throw new Error('units must be a string');\n    var factor = factors[units || 'kilometers'];\n    if (!factor) throw new Error(units + ' units is invalid');\n    return radians * factor;\n}\n\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units='kilometers'] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\n * @returns {number} radians\n */\nfunction lengthToRadians(distance, units) {\n    if (distance === undefined || distance === null) throw new Error('distance is required');\n\n    if (units && typeof units !== 'string') throw new Error('units must be a string');\n    var factor = factors[units || 'kilometers'];\n    if (!factor) throw new Error(units + ' units is invalid');\n    return distance / factor;\n}\n\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units='kilometers'] can be degrees, radians, miles, or kilometers inches, yards, metres, meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nfunction lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\n\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nfunction bearingToAzimuth(bearing) {\n    if (bearing === null || bearing === undefined) throw new Error('bearing is required');\n\n    var angle = bearing % 360;\n    if (angle < 0) angle += 360;\n    return angle;\n}\n\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nfunction radiansToDegrees(radians) {\n    if (radians === null || radians === undefined) throw new Error('radians is required');\n\n    var degrees = radians % (2 * Math.PI);\n    return degrees * 180 / Math.PI;\n}\n\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nfunction degreesToRadians(degrees) {\n    if (degrees === null || degrees === undefined) throw new Error('degrees is required');\n\n    var radians = degrees % 360;\n    return radians * Math.PI / 180;\n}\n\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {string} originalUnit of the length\n * @param {string} [finalUnit='kilometers'] returned unit\n * @returns {number} the converted length\n */\nfunction convertLength(length, originalUnit, finalUnit) {\n    if (length === null || length === undefined) throw new Error('length is required');\n    if (!(length >= 0)) throw new Error('length must be a positive number');\n\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit || 'kilometers');\n}\n\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches\n * @param {number} area to be converted\n * @param {string} [originalUnit='meters'] of the distance\n * @param {string} [finalUnit='kilometers'] returned unit\n * @returns {number} the converted distance\n */\nfunction convertArea(area, originalUnit, finalUnit) {\n    if (area === null || area === undefined) throw new Error('area is required');\n    if (!(area >= 0)) throw new Error('area must be a positive number');\n\n    var startFactor = areaFactors[originalUnit || 'meters'];\n    if (!startFactor) throw new Error('invalid original units');\n\n    var finalFactor = areaFactors[finalUnit || 'kilometers'];\n    if (!finalFactor) throw new Error('invalid final units');\n\n    return (area / startFactor) * finalFactor;\n}\n\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nfunction isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nfunction isObject(input) {\n    return (!!input) && (input.constructor === Object);\n}\n\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nfunction validateBBox(bbox) {\n    if (!bbox) throw new Error('bbox is required');\n    if (!Array.isArray(bbox)) throw new Error('bbox must be an Array');\n    if (bbox.length !== 4 && bbox.length !== 6) throw new Error('bbox must be an Array of 4 or 6 numbers');\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) throw new Error('bbox must only contain numbers');\n    });\n}\n\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nfunction validateId(id) {\n    if (!id) throw new Error('id is required');\n    if (['string', 'number'].indexOf(typeof id) === -1) throw new Error('id must be a number or a string');\n}\n\n// Deprecated methods\nfunction radians2degrees() {\n    throw new Error('method has been renamed to `radiansToDegrees`');\n}\n\nfunction degrees2radians() {\n    throw new Error('method has been renamed to `degreesToRadians`');\n}\n\nfunction distanceToDegrees() {\n    throw new Error('method has been renamed to `lengthToDegrees`');\n}\n\nfunction distanceToRadians() {\n    throw new Error('method has been renamed to `lengthToRadians`');\n}\n\nfunction radiansToDistance() {\n    throw new Error('method has been renamed to `radiansToLength`');\n}\n\nfunction bearingToAngle() {\n    throw new Error('method has been renamed to `bearingToAzimuth`');\n}\n\nfunction convertDistance() {\n    throw new Error('method has been renamed to `convertLength`');\n}\n\n\n\n\nvar main_es$1 = Object.freeze({\n\tearthRadius: earthRadius,\n\tfactors: factors,\n\tunitsFactors: unitsFactors,\n\tareaFactors: areaFactors,\n\tfeature: feature,\n\tgeometry: geometry,\n\tpoint: point,\n\tpoints: points,\n\tpolygon: polygon,\n\tpolygons: polygons,\n\tlineString: lineString,\n\tlineStrings: lineStrings,\n\tfeatureCollection: featureCollection,\n\tmultiLineString: multiLineString,\n\tmultiPoint: multiPoint,\n\tmultiPolygon: multiPolygon,\n\tgeometryCollection: geometryCollection,\n\tround: round,\n\tradiansToLength: radiansToLength,\n\tlengthToRadians: lengthToRadians,\n\tlengthToDegrees: lengthToDegrees,\n\tbearingToAzimuth: bearingToAzimuth,\n\tradiansToDegrees: radiansToDegrees,\n\tdegreesToRadians: degreesToRadians,\n\tconvertLength: convertLength,\n\tconvertArea: convertArea,\n\tisNumber: isNumber,\n\tisObject: isObject,\n\tvalidateBBox: validateBBox,\n\tvalidateId: validateId,\n\tradians2degrees: radians2degrees,\n\tdegrees2radians: degrees2radians,\n\tdistanceToDegrees: distanceToDegrees,\n\tdistanceToRadians: distanceToRadians,\n\tradiansToDistance: radiansToDistance,\n\tbearingToAngle: bearingToAngle,\n\tconvertDistance: convertDistance\n});\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n    // Handles null Geometry -- Skips this GeoJSON\n    if (geojson === null) return;\n    var j, k, l, geometry$$1, stopG, coords,\n        geometryMaybeCollection,\n        wrapShrink = 0,\n        coordIndex = 0,\n        isGeometryCollection,\n        type = geojson.type,\n        isFeatureCollection = type === 'FeatureCollection',\n        isFeature = type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n            var multiFeatureIndex = 0;\n            var geometryIndex = 0;\n            geometry$$1 = isGeometryCollection ?\n                geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n\n            // Handles null Geometry -- Skips this geometry\n            if (geometry$$1 === null) continue;\n            coords = geometry$$1.coordinates;\n            var geomType = geometry$$1.type;\n\n            wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;\n\n            switch (geomType) {\n            case null:\n                break;\n            case 'Point':\n                callback(coords, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                coordIndex++;\n                multiFeatureIndex++;\n                break;\n            case 'LineString':\n            case 'MultiPoint':\n                for (j = 0; j < coords.length; j++) {\n                    callback(coords[j], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                    coordIndex++;\n                    if (geomType === 'MultiPoint') multiFeatureIndex++;\n                }\n                if (geomType === 'LineString') multiFeatureIndex++;\n                break;\n            case 'Polygon':\n            case 'MultiLineString':\n                for (j = 0; j < coords.length; j++) {\n                    for (k = 0; k < coords[j].length - wrapShrink; k++) {\n                        callback(coords[j][k], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                        coordIndex++;\n                    }\n                    if (geomType === 'MultiLineString') multiFeatureIndex++;\n                    if (geomType === 'Polygon') geometryIndex++;\n                }\n                if (geomType === 'Polygon') multiFeatureIndex++;\n                break;\n            case 'MultiPolygon':\n                for (j = 0; j < coords.length; j++) {\n                    if (geomType === 'MultiPolygon') geometryIndex = 0;\n                    for (k = 0; k < coords[j].length; k++) {\n                        for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                            callback(coords[j][k][l], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                            coordIndex++;\n                        }\n                        geometryIndex++;\n                    }\n                    multiFeatureIndex++;\n                }\n                break;\n            case 'GeometryCollection':\n                for (j = 0; j < geometry$$1.geometries.length; j++)\n                    coordEach(geometry$$1.geometries[j], callback, excludeWrapCoord);\n                break;\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n    }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n    var previousValue = initialValue;\n    coordEach(geojson, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (coordIndex === 0 && initialValue === undefined) previousValue = currentCoord;\n        else previousValue = callback(previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n    }, excludeWrapCoord);\n    return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n    var i;\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        for (i = 0; i < geojson.features.length; i++) {\n            callback(geojson.features[i].properties, i);\n        }\n        break;\n    case 'Feature':\n        callback(geojson.properties, 0);\n        break;\n    }\n}\n\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    propEach(geojson, function (currentProperties, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentProperties;\n        else previousValue = callback(previousValue, currentProperties, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n    if (geojson.type === 'Feature') {\n        callback(geojson, 0);\n    } else if (geojson.type === 'FeatureCollection') {\n        for (var i = 0; i < geojson.features.length; i++) {\n            callback(geojson.features[i], i);\n        }\n    }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    featureEach(geojson, function (currentFeature, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n    var coords = [];\n    coordEach(geojson, function (coord) {\n        coords.push(coord);\n    });\n    return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n    var i, j, g, geometry$$1, stopG,\n        geometryMaybeCollection,\n        isGeometryCollection,\n        featureProperties,\n        featureBBox,\n        featureId,\n        featureIndex = 0,\n        isFeatureCollection = geojson.type === 'FeatureCollection',\n        isFeature = geojson.type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (i = 0; i < stop; i++) {\n\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[i].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        featureProperties = (isFeatureCollection ? geojson.features[i].properties :\n            (isFeature ? geojson.properties : {}));\n        featureBBox = (isFeatureCollection ? geojson.features[i].bbox :\n            (isFeature ? geojson.bbox : undefined));\n        featureId = (isFeatureCollection ? geojson.features[i].id :\n            (isFeature ? geojson.id : undefined));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (g = 0; g < stopG; g++) {\n            geometry$$1 = isGeometryCollection ?\n                geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n\n            // Handle null Geometry\n            if (geometry$$1 === null) {\n                callback(null, featureIndex, featureProperties, featureBBox, featureId);\n                continue;\n            }\n            switch (geometry$$1.type) {\n            case 'Point':\n            case 'LineString':\n            case 'MultiPoint':\n            case 'Polygon':\n            case 'MultiLineString':\n            case 'MultiPolygon': {\n                callback(geometry$$1, featureIndex, featureProperties, featureBBox, featureId);\n                break;\n            }\n            case 'GeometryCollection': {\n                for (j = 0; j < geometry$$1.geometries.length; j++) {\n                    callback(geometry$$1.geometries[j], featureIndex, featureProperties, featureBBox, featureId);\n                }\n                break;\n            }\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n        // Only increase `featureIndex` per each feature\n        featureIndex++;\n    }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    geomEach(geojson, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentGeometry;\n        else previousValue = callback(previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n    geomEach(geojson, function (geometry$$1, featureIndex, properties, bbox, id) {\n        // Callback for single geometry\n        var type = (geometry$$1 === null) ? null : geometry$$1.type;\n        switch (type) {\n        case null:\n        case 'Point':\n        case 'LineString':\n        case 'Polygon':\n            callback(feature(geometry$$1, properties, {bbox: bbox, id: id}), featureIndex, 0);\n            return;\n        }\n\n        var geomType;\n\n        // Callback for multi-geometry\n        switch (type) {\n        case 'MultiPoint':\n            geomType = 'Point';\n            break;\n        case 'MultiLineString':\n            geomType = 'LineString';\n            break;\n        case 'MultiPolygon':\n            geomType = 'Polygon';\n            break;\n        }\n\n        geometry$$1.coordinates.forEach(function (coordinate, multiFeatureIndex) {\n            var geom = {\n                type: geomType,\n                coordinates: coordinate\n            };\n            callback(feature(geom, properties), featureIndex, multiFeatureIndex);\n        });\n\n    });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    flattenEach(geojson, function (currentFeature, featureIndex, multiFeatureIndex) {\n        if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex, multiFeatureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n    flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n        var segmentIndex = 0;\n\n        // Exclude null Geometries\n        if (!feature$$1.geometry) return;\n        // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n        var type = feature$$1.geometry.type;\n        if (type === 'Point' || type === 'MultiPoint') return;\n\n        // Generate 2-vertex line segments\n        coordReduce(feature$$1, function (previousCoords, currentCoord, coordIndex, featureIndexCoord, mutliPartIndexCoord, geometryIndex) {\n            var currentSegment = lineString([previousCoords, currentCoord], feature$$1.properties);\n            callback(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);\n            segmentIndex++;\n            return currentCoord;\n        });\n    });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentInex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    var started = false;\n    segmentEach(geojson, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n        if (started === false && initialValue === undefined) previousValue = currentSegment;\n        else previousValue = callback(previousValue, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);\n        started = true;\n    });\n    return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n    // validation\n    if (!geojson) throw new Error('geojson is required');\n\n    flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n        if (feature$$1.geometry === null) return;\n        var type = feature$$1.geometry.type;\n        var coords = feature$$1.geometry.coordinates;\n        switch (type) {\n        case 'LineString':\n            callback(feature$$1, featureIndex, multiFeatureIndex, 0, 0);\n            break;\n        case 'Polygon':\n            for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n                callback(lineString(coords[geometryIndex], feature$$1.properties), featureIndex, multiFeatureIndex, geometryIndex);\n            }\n            break;\n        }\n    });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    lineEach(geojson, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentLine;\n        else previousValue = callback(previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex);\n    });\n    return previousValue;\n}\n\n\n\n\nvar main_es = Object.freeze({\n\tcoordEach: coordEach,\n\tcoordReduce: coordReduce,\n\tpropEach: propEach,\n\tpropReduce: propReduce,\n\tfeatureEach: featureEach,\n\tfeatureReduce: featureReduce,\n\tcoordAll: coordAll,\n\tgeomEach: geomEach,\n\tgeomReduce: geomReduce,\n\tflattenEach: flattenEach,\n\tflattenReduce: flattenReduce,\n\tsegmentEach: segmentEach,\n\tsegmentReduce: segmentReduce,\n\tlineEach: lineEach,\n\tlineReduce: lineReduce\n});\n\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var BBox = [Infinity, Infinity, -Infinity, -Infinity];\n    coordEach(geojson, function (coord) {\n        if (BBox[0] > coord[0]) BBox[0] = coord[0];\n        if (BBox[1] > coord[1]) BBox[1] = coord[1];\n        if (BBox[2] < coord[0]) BBox[2] = coord[0];\n        if (BBox[3] < coord[1]) BBox[3] = coord[1];\n    });\n    return BBox;\n}\n\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} obj Object\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nfunction getCoord(obj) {\n    if (!obj) throw new Error('obj is required');\n\n    var coordinates = getCoords(obj);\n\n    // getCoord() must contain at least two numbers (Point)\n    if (coordinates.length > 1 && isNumber(coordinates[0]) && isNumber(coordinates[1])) {\n        return coordinates;\n    } else {\n        throw new Error('Coordinate is not a valid Point');\n    }\n}\n\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array of numbers\n *\n * @name getCoords\n * @param {Array<number>|Geometry|Feature} obj Object\n * @returns {Array<number>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coord = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nfunction getCoords(obj) {\n    if (!obj) throw new Error('obj is required');\n    var coordinates;\n\n    // Array of numbers\n    if (obj.length) {\n        coordinates = obj;\n\n    // Geometry Object\n    } else if (obj.coordinates) {\n        coordinates = obj.coordinates;\n\n    // Feature\n    } else if (obj.geometry && obj.geometry.coordinates) {\n        coordinates = obj.geometry.coordinates;\n    }\n    // Checks if coordinates contains a number\n    if (coordinates) {\n        containsNumber(coordinates);\n        return coordinates;\n    }\n    throw new Error('No valid coordinates');\n}\n\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nfunction containsNumber(coordinates) {\n    if (coordinates.length > 1 && isNumber(coordinates[0]) && isNumber(coordinates[1])) {\n        return true;\n    }\n\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error('coordinates must only contain numbers');\n}\n\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nfunction geojsonType(value, type, name) {\n    if (!type || !name) throw new Error('type and name required');\n\n    if (!value || value.type !== type) {\n        throw new Error('Invalid input to ' + name + ': must be a ' + type + ', given ' + value.type);\n    }\n}\n\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nfunction featureOf(feature$$1, type, name) {\n    if (!feature$$1) throw new Error('No feature passed');\n    if (!name) throw new Error('.featureOf() requires a name');\n    if (!feature$$1 || feature$$1.type !== 'Feature' || !feature$$1.geometry) {\n        throw new Error('Invalid input to ' + name + ', Feature with geometry required');\n    }\n    if (!feature$$1.geometry || feature$$1.geometry.type !== type) {\n        throw new Error('Invalid input to ' + name + ': must be a ' + type + ', given ' + feature$$1.geometry.type);\n    }\n}\n\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nfunction collectionOf(featureCollection$$1, type, name) {\n    if (!featureCollection$$1) throw new Error('No featureCollection passed');\n    if (!name) throw new Error('.collectionOf() requires a name');\n    if (!featureCollection$$1 || featureCollection$$1.type !== 'FeatureCollection') {\n        throw new Error('Invalid input to ' + name + ', FeatureCollection required');\n    }\n    for (var i = 0; i < featureCollection$$1.features.length; i++) {\n        var feature$$1 = featureCollection$$1.features[i];\n        if (!feature$$1 || feature$$1.type !== 'Feature' || !feature$$1.geometry) {\n            throw new Error('Invalid input to ' + name + ', Feature with geometry required');\n        }\n        if (!feature$$1.geometry || feature$$1.geometry.type !== type) {\n            throw new Error('Invalid input to ' + name + ': must be a ' + type + ', given ' + feature$$1.geometry.type);\n        }\n    }\n}\n\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nfunction getGeom(geojson) {\n    if (!geojson) throw new Error('geojson is required');\n    if (geojson.geometry !== undefined) return geojson.geometry;\n    if (geojson.coordinates || geojson.geometries) return geojson;\n    throw new Error('geojson must be a valid Feature or Geometry Object');\n}\n\n/**\n * Get Geometry Type from Feature or Geometry Object\n *\n * @throws {Error} **DEPRECATED** in v5.0.0 in favor of getType\n */\nfunction getGeomType() {\n    throw new Error('invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType');\n}\n\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name] name of the variable to display in error message\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nfunction getType(geojson, name) {\n    if (!geojson) throw new Error((name || 'geojson') + ' is required');\n    // GeoJSON Feature & GeometryCollection\n    if (geojson.geometry && geojson.geometry.type) return geojson.geometry.type;\n    // GeoJSON Geometry & FeatureCollection\n    if (geojson.type) return geojson.type;\n    throw new Error((name || 'geojson') + ' is invalid');\n}\n\n\n\n\nvar main_es$2 = Object.freeze({\n\tgetCoord: getCoord,\n\tgetCoords: getCoords,\n\tcontainsNumber: containsNumber,\n\tgeojsonType: geojsonType,\n\tfeatureOf: featureOf,\n\tcollectionOf: collectionOf,\n\tgetGeom: getGeom,\n\tgetGeomType: getGeomType,\n\tgetType: getType\n});\n\n/**\n * @license GNU Affero General Public License.\n * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>\n * v. 1.2.0\n * https://github.com/RaumZeit/MarchingSquares.js\n */\n\n/**\n * Compute the isocontour(s) of a scalar 2D field given\n * a certain threshold by applying the Marching Squares\n * Algorithm. The function returns a list of path coordinates\n */\nvar defaultSettings = {\n    successCallback: null,\n    verbose: false\n};\n\nvar settings = {};\n\nfunction isoContours(data, threshold, options) {\n    /* process options */\n    options = options ? options : {};\n\n    var optionKeys = Object.keys(defaultSettings);\n\n    for (var i = 0; i < optionKeys.length; i++) {\n        var key = optionKeys[i];\n        var val = options[key];\n        val = ((typeof val !== 'undefined') && (val !== null)) ? val : defaultSettings[key];\n\n        settings[key] = val;\n    }\n\n    if (settings.verbose)\n        console.log('MarchingSquaresJS-isoContours: computing isocontour for ' + threshold);\n\n    var ret = contourGrid2Paths(computeContourGrid(data, threshold));\n\n    if (typeof settings.successCallback === 'function')\n        settings.successCallback(ret);\n\n    return ret;\n}\n\n/*\n  Thats all for the public interface, below follows the actual\n  implementation\n*/\n\n/*\n################################\nIsocontour implementation below\n################################\n*/\n\n/* assume that x1 == 1 &&  x0 == 0 */\nfunction interpolateX(y, y0, y1) {\n    return (y - y0) / (y1 - y0);\n}\n\n/* compute the isocontour 4-bit grid */\nfunction computeContourGrid(data, threshold) {\n    var rows = data.length - 1;\n    var cols = data[0].length - 1;\n    var ContourGrid = { rows: rows, cols: cols, cells: [] };\n\n    for (var j = 0; j < rows; ++j) {\n        ContourGrid.cells[j] = [];\n        for (var i = 0; i < cols; ++i) {\n            /* compose the 4-bit corner representation */\n            var cval = 0;\n\n            var tl = data[j + 1][i];\n            var tr = data[j + 1][i + 1];\n            var br = data[j][i + 1];\n            var bl = data[j][i];\n\n            if (isNaN(tl) || isNaN(tr) || isNaN(br) || isNaN(bl)) {\n                continue;\n            }\n            cval |= ((tl >= threshold) ? 8 : 0);\n            cval |= ((tr >= threshold) ? 4 : 0);\n            cval |= ((br >= threshold) ? 2 : 0);\n            cval |= ((bl >= threshold) ? 1 : 0);\n\n            /* resolve ambiguity for cval == 5 || 10 via averaging */\n            var flipped = false;\n            if (cval === 5 || cval === 10) {\n                var average = (tl + tr + br + bl) / 4;\n                if (cval === 5 && (average < threshold)) {\n                    cval = 10;\n                    flipped = true;\n                } else if (cval === 10 && (average < threshold)) {\n                    cval = 5;\n                    flipped = true;\n                }\n            }\n\n            /* add cell to ContourGrid if it contains edges */\n            if (cval !== 0 && cval !== 15) {\n                var top, bottom, left, right;\n                top = bottom = left = right = 0.5;\n                /* interpolate edges of cell */\n                if (cval === 1) {\n                    left    = 1 - interpolateX(threshold, tl, bl);\n                    bottom  = 1 - interpolateX(threshold, br, bl);\n                } else if (cval === 2) {\n                    bottom  = interpolateX(threshold, bl, br);\n                    right   = 1 - interpolateX(threshold, tr, br);\n                } else if (cval === 3) {\n                    left    = 1 - interpolateX(threshold, tl, bl);\n                    right   = 1 - interpolateX(threshold, tr, br);\n                } else if (cval === 4) {\n                    top     = interpolateX(threshold, tl, tr);\n                    right   = interpolateX(threshold, br, tr);\n                } else if (cval === 5) {\n                    top     = interpolateX(threshold, tl, tr);\n                    right   = interpolateX(threshold, br, tr);\n                    bottom  = 1 - interpolateX(threshold, br, bl);\n                    left    = 1 - interpolateX(threshold, tl, bl);\n                } else if (cval === 6) {\n                    bottom  = interpolateX(threshold, bl, br);\n                    top     = interpolateX(threshold, tl, tr);\n                } else if (cval === 7) {\n                    left    = 1 - interpolateX(threshold, tl, bl);\n                    top     = interpolateX(threshold, tl, tr);\n                } else if (cval === 8) {\n                    left    = interpolateX(threshold, bl, tl);\n                    top     = 1 - interpolateX(threshold, tr, tl);\n                } else if (cval === 9) {\n                    bottom  = 1 - interpolateX(threshold, br, bl);\n                    top     = 1 - interpolateX(threshold, tr, tl);\n                } else if (cval === 10) {\n                    top     = 1 - interpolateX(threshold, tr, tl);\n                    right   = 1 - interpolateX(threshold, tr, br);\n                    bottom  = interpolateX(threshold, bl, br);\n                    left    = interpolateX(threshold, bl, tl);\n                } else if (cval === 11) {\n                    top     = 1 - interpolateX(threshold, tr, tl);\n                    right   = 1 - interpolateX(threshold, tr, br);\n                } else if (cval === 12) {\n                    left    = interpolateX(threshold, bl, tl);\n                    right   = interpolateX(threshold, br, tr);\n                } else if (cval === 13) {\n                    bottom  = 1 - interpolateX(threshold, br, bl);\n                    right   = interpolateX(threshold, br, tr);\n                } else if (cval === 14) {\n                    left    = interpolateX(threshold, bl, tl);\n                    bottom  = interpolateX(threshold, bl, br);\n                } else {\n                    console.log('MarchingSquaresJS-isoContours: Illegal cval detected: ' + cval);\n                }\n                ContourGrid.cells[j][i] = {\n                    cval: cval,\n                    flipped: flipped,\n                    top: top,\n                    right: right,\n                    bottom: bottom,\n                    left: left\n                };\n            }\n\n        }\n    }\n\n    return ContourGrid;\n}\n\nfunction isSaddle(cell) {\n    return cell.cval === 5 || cell.cval === 10;\n}\n\nfunction isTrivial(cell) {\n    return cell.cval === 0 || cell.cval === 15;\n}\n\nfunction clearCell(cell) {\n    if ((!isTrivial(cell)) && (cell.cval !== 5) && (cell.cval !== 10)) {\n        cell.cval = 15;\n    }\n}\n\nfunction getXY(cell, edge) {\n    if (edge === 'top') {\n        return [cell.top, 1.0];\n    } else if (edge === 'bottom') {\n        return [cell.bottom, 0.0];\n    } else if (edge === 'right') {\n        return [1.0, cell.right];\n    } else if (edge === 'left') {\n        return [0.0, cell.left];\n    }\n}\n\nfunction contourGrid2Paths(grid) {\n    var paths = [];\n    var path_idx = 0;\n    var rows = grid.rows;\n    var cols = grid.cols;\n    var epsilon = 1e-7;\n\n    grid.cells.forEach(function (g, j) {\n        g.forEach(function (gg, i) {\n            if ((typeof gg !== 'undefined') && (!isSaddle(gg)) && (!isTrivial(gg))) {\n                var p = tracePath(grid.cells, j, i);\n                var merged = false;\n                /* we may try to merge paths at this point */\n                if (p.info === 'mergeable') {\n                    /*\n            search backwards through the path array to find an entry\n            that starts with where the current path ends...\n          */\n                    var x = p.path[p.path.length - 1][0],\n                        y = p.path[p.path.length - 1][1];\n\n                    for (var k = path_idx - 1; k >= 0; k--) {\n                        if ((Math.abs(paths[k][0][0] - x) <= epsilon) && (Math.abs(paths[k][0][1] - y) <= epsilon)) {\n                            for (var l = p.path.length - 2; l >= 0; --l) {\n                                paths[k].unshift(p.path[l]);\n                            }\n                            merged = true;\n                            break;\n                        }\n                    }\n                }\n                if (!merged)\n                    paths[path_idx++] = p.path;\n            }\n        });\n    });\n\n    return paths;\n}\n\n/*\n  construct consecutive line segments from starting cell by\n  walking arround the enclosed area clock-wise\n  */\nfunction tracePath(grid, j, i) {\n    var maxj = grid.length;\n    var p = [];\n    var dxContour = [0, 0, 1, 1, 0, 0, 0, 0, -1, 0, 1, 1, -1, 0, -1, 0];\n    var dyContour = [0, -1, 0, 0, 1, 1, 1, 1, 0, -1, 0, 0, 0, -1, 0, 0];\n    var dx, dy;\n    var startEdge = ['none', 'left', 'bottom', 'left', 'right', 'none', 'bottom', 'left', 'top', 'top', 'none', 'top', 'right', 'right', 'bottom', 'none'];\n    var nextEdge  = ['none', 'bottom', 'right', 'right', 'top', 'top', 'top', 'top', 'left', 'bottom', 'right', 'right', 'left', 'bottom', 'left', 'none'];\n    var edge;\n\n    var startCell   = grid[j][i];\n    var currentCell = grid[j][i];\n\n    var cval = currentCell.cval;\n    var edge = startEdge[cval];\n\n    var pt = getXY(currentCell, edge);\n\n    /* push initial segment */\n    p.push([i + pt[0], j + pt[1]]);\n    edge = nextEdge[cval];\n    pt = getXY(currentCell, edge);\n    p.push([i + pt[0], j + pt[1]]);\n    clearCell(currentCell);\n\n    /* now walk arround the enclosed area in clockwise-direction */\n    var k = i + dxContour[cval];\n    var l = j + dyContour[cval];\n    var prev_cval = cval;\n\n    while ((k >= 0) && (l >= 0) && (l < maxj) && ((k != i) || (l != j))) {\n        currentCell = grid[l][k];\n        if (typeof currentCell === 'undefined') { /* path ends here */\n            //console.log(k + \" \" + l + \" is undefined, stopping path!\");\n            break;\n        }\n        cval = currentCell.cval;\n        if ((cval === 0) || (cval === 15)) {\n            return { path: p, info: 'mergeable' };\n        }\n        edge  = nextEdge[cval];\n        dx    = dxContour[cval];\n        dy    = dyContour[cval];\n        if ((cval === 5) || (cval === 10)) {\n            /* select upper or lower band, depending on previous cells cval */\n            if (cval === 5) {\n                if (currentCell.flipped) { /* this is actually a flipped case 10 */\n                    if (dyContour[prev_cval] === -1) {\n                        edge  = 'left';\n                        dx    = -1;\n                        dy    = 0;\n                    } else {\n                        edge  = 'right';\n                        dx    = 1;\n                        dy    = 0;\n                    }\n                } else { /* real case 5 */\n                    if (dxContour[prev_cval] === -1) {\n                        edge  = 'bottom';\n                        dx    = 0;\n                        dy    = -1;\n                    }\n                }\n            } else if (cval === 10) {\n                if (currentCell.flipped) { /* this is actually a flipped case 5 */\n                    if (dxContour[prev_cval] === -1) {\n                        edge  = 'top';\n                        dx    = 0;\n                        dy    = 1;\n                    } else {\n                        edge  = 'bottom';\n                        dx    = 0;\n                        dy    = -1;\n                    }\n                } else {  /* real case 10 */\n                    if (dyContour[prev_cval] === 1) {\n                        edge  = 'left';\n                        dx    = -1;\n                        dy    = 0;\n                    }\n                }\n            }\n        }\n        pt = getXY(currentCell, edge);\n        p.push([k + pt[0], l + pt[1]]);\n        clearCell(currentCell);\n        k += dx;\n        l += dy;\n        prev_cval = cval;\n    }\n\n    return { path: p, info: 'closed' };\n}\n\n/**\n * Takes a {@link Point} grid and returns a correspondent matrix {Array<Array<number>>}\n * of the 'property' values\n *\n * @name gridToMatrix\n * @param {FeatureCollection<Point>} grid of points\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.zProperty='elevation'] the property name in `points` from which z-values will be pulled\n * @param {boolean} [options.flip=false] returns the matrix upside-down\n * @param {boolean} [options.flags=false] flags, adding a `matrixPosition` array field ([row, column]) to its properties,\n * the grid points with coordinates on the matrix\n * @returns {Array<Array<number>>} matrix of property values\n * @example\n *   var extent = [-70.823364, -33.553984, -70.473175, -33.302986];\n *   var cellSize = 3;\n *   var grid = turf.pointGrid(extent, cellSize);\n *   // add a random property to each point between 0 and 60\n *   for (var i = 0; i < grid.features.length; i++) {\n *     grid.features[i].properties.elevation = (Math.random() * 60);\n *   }\n *   gridToMatrix(grid);\n *   //= [\n *     [ 1, 13, 10,  9, 10, 13, 18],\n *     [34,  8,  5,  4,  5,  8, 13],\n *     [10,  5,  2,  1,  2,  5,  4],\n *     [ 0,  4, 56, 19,  1,  4,  9],\n *     [10,  5,  2,  1,  2,  5, 10],\n *     [57,  8,  5,  4,  5,  0, 57],\n *     [ 3, 13, 10,  9,  5, 13, 18],\n *     [18, 13, 10,  9, 78, 13, 18]\n *   ]\n */\nfunction gridToMatrix(grid, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var zProperty = options.zProperty || 'elevation';\n    var flip = options.flip;\n    var flags = options.flags;\n\n    // validation\n    collectionOf(grid, 'Point', 'input must contain Points');\n\n    var pointsMatrix = sortPointsByLatLng(grid, flip);\n\n    var matrix = [];\n    // create property matrix from sorted points\n    // looping order matters here\n    for (var r = 0; r < pointsMatrix.length; r++) {\n        var pointRow = pointsMatrix[r];\n        var row = [];\n        for (var c = 0; c < pointRow.length; c++) {\n            var point$$1 = pointRow[c];\n            // Check if zProperty exist\n            if (point$$1.properties[zProperty]) row.push(point$$1.properties[zProperty]);\n            else row.push(0);\n            // add flags\n            if (flags === true) point$$1.properties.matrixPosition = [r, c];\n        }\n        matrix.push(row);\n    }\n\n    return matrix;\n}\n\n/**\n * Sorts points by latitude and longitude, creating a 2-dimensional array of points\n *\n * @private\n * @param {FeatureCollection<Point>} points GeoJSON Point features\n * @param {boolean} [flip=false] returns the matrix upside-down\n * @returns {Array<Array<Point>>} points ordered by latitude and longitude\n */\nfunction sortPointsByLatLng(points$$1, flip) {\n    var pointsByLatitude = {};\n\n    // divide points by rows with the same latitude\n    featureEach(points$$1, function (point$$1) {\n        var lat = getCoords(point$$1)[1];\n        if (!pointsByLatitude[lat]) pointsByLatitude[lat] = [];\n        pointsByLatitude[lat].push(point$$1);\n    });\n\n    // sort points (with the same latitude) by longitude\n    var orderedRowsByLatitude = Object.keys(pointsByLatitude).map(function (lat) {\n        var row = pointsByLatitude[lat];\n        var rowOrderedByLongitude = row.sort(function (a, b) {\n            return getCoords(a)[0] - getCoords(b)[0];\n        });\n        return rowOrderedByLongitude;\n    });\n\n    // sort rows (of points with the same latitude) by latitude\n    var pointMatrix = orderedRowsByLatitude.sort(function (a, b) {\n        if (flip) return getCoords(a[0])[1] - getCoords(b[0])[1];\n        else return getCoords(b[0])[1] - getCoords(a[0])[1];\n    });\n\n    return pointMatrix;\n}\n\n/**\n * Takes a grid {@link FeatureCollection} of {@link Point} features with z-values and an array of\n * value breaks and generates [isolines](http://en.wikipedia.org/wiki/Isoline).\n *\n * @name isolines\n * @param {FeatureCollection<Point>} pointGrid input points\n * @param {Array<number>} breaks values of `zProperty` where to draw isolines\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.zProperty='elevation'] the property name in `points` from which z-values will be pulled\n * @param {Object} [options.commonProperties={}] GeoJSON properties passed to ALL isolines\n * @param {Array<Object>} [options.breaksProperties=[]] GeoJSON properties passed, in order, to the correspondent isoline;\n * the breaks array will define the order in which the isolines are created\n * @returns {FeatureCollection<MultiLineString>} a FeatureCollection of {@link MultiLineString} features representing isolines\n * @example\n * // create a grid of points with random z-values in their properties\n * var extent = [0, 30, 20, 50];\n * var cellWidth = 100;\n * var pointGrid = turf.pointGrid(extent, cellWidth, {units: 'miles'});\n *\n * for (var i = 0; i < pointGrid.features.length; i++) {\n *     pointGrid.features[i].properties.temperature = Math.random() * 10;\n * }\n * var breaks = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\n *\n * var lines = turf.isolines(pointGrid, breaks, {zProperty: 'temperature'});\n *\n * //addToMap\n * var addToMap = [lines];\n */\nfunction isolines(pointGrid, breaks, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var zProperty = options.zProperty || 'elevation';\n    var commonProperties = options.commonProperties || {};\n    var breaksProperties = options.breaksProperties || [];\n\n    // Input validation\n    collectionOf(pointGrid, 'Point', 'Input must contain Points');\n    if (!breaks) throw new Error('breaks is required');\n    if (!Array.isArray(breaks)) throw new Error('breaks must be an Array');\n    if (!isObject(commonProperties)) throw new Error('commonProperties must be an Object');\n    if (!Array.isArray(breaksProperties)) throw new Error('breaksProperties must be an Array');\n\n    // Isoline methods\n    var matrix = gridToMatrix(pointGrid, {zProperty: zProperty, flip: true});\n    var createdIsoLines = createIsoLines(matrix, breaks, zProperty, commonProperties, breaksProperties);\n    var scaledIsolines = rescaleIsolines(createdIsoLines, matrix, pointGrid);\n\n    return featureCollection(scaledIsolines);\n}\n\n/**\n * Creates the isolines lines (featuresCollection of MultiLineString features) from the 2D data grid\n *\n * Marchingsquares process the grid data as a 3D representation of a function on a 2D plane, therefore it\n * assumes the points (x-y coordinates) are one 'unit' distance. The result of the isolines function needs to be\n * rescaled, with turfjs, to the original area and proportions on the map\n *\n * @private\n * @param {Array<Array<number>>} matrix Grid Data\n * @param {Array<number>} breaks Breaks\n * @param {string} zProperty name of the z-values property\n * @param {Object} [commonProperties={}] GeoJSON properties passed to ALL isolines\n * @param {Object} [breaksProperties=[]] GeoJSON properties passed to the correspondent isoline\n * @returns {Array<MultiLineString>} isolines\n */\nfunction createIsoLines(matrix, breaks, zProperty, commonProperties, breaksProperties) {\n    var results = [];\n    for (var i = 1; i < breaks.length; i++) {\n        var threshold = +breaks[i]; // make sure it's a number\n\n        var properties = Object.assign(\n            {},\n            commonProperties,\n            breaksProperties[i]\n        );\n        properties[zProperty] = threshold;\n        var isoline = multiLineString(isoContours(matrix, threshold), properties);\n\n        results.push(isoline);\n    }\n    return results;\n}\n\n/**\n * Translates and scales isolines\n *\n * @private\n * @param {Array<MultiLineString>} createdIsoLines to be rescaled\n * @param {Array<Array<number>>} matrix Grid Data\n * @param {Object} points Points by Latitude\n * @returns {Array<MultiLineString>} isolines\n */\nfunction rescaleIsolines(createdIsoLines, matrix, points$$1) {\n\n    // get dimensions (on the map) of the original grid\n    var gridBbox = bbox(points$$1); // [ minX, minY, maxX, maxY ]\n    var originalWidth = gridBbox[2] - gridBbox[0];\n    var originalHeigth = gridBbox[3] - gridBbox[1];\n\n    // get origin, which is the first point of the last row on the rectangular data on the map\n    var x0 = gridBbox[0];\n    var y0 = gridBbox[1];\n\n    // get number of cells per side\n    var matrixWidth = matrix[0].length - 1;\n    var matrixHeight = matrix.length - 1;\n\n    // calculate the scaling factor between matrix and rectangular grid on the map\n    var scaleX = originalWidth / matrixWidth;\n    var scaleY = originalHeigth / matrixHeight;\n\n    var resize = function (point$$1) {\n        point$$1[0] = point$$1[0] * scaleX + x0;\n        point$$1[1] = point$$1[1] * scaleY + y0;\n    };\n\n    // resize and shift each point/line of the createdIsoLines\n    createdIsoLines.forEach(function (isoline) {\n        coordEach(isoline, resize);\n    });\n    return createdIsoLines;\n}\n\nvar quickselect = partialSort;\n\n// Floyd-Rivest selection algorithm:\n// Rearrange items so that all items in the [left, k] range are smaller than all items in (k, right];\n// The k-th element will have the (k - left + 1)th smallest value in [left, right]\n\nfunction partialSort(arr, k, left, right, compare) {\n    left = left || 0;\n    right = right || (arr.length - 1);\n    compare = compare || defaultCompare;\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            partialSort(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nvar rbush_1 = rbush;\n\n\n\nfunction rbush(maxEntries, format) {\n    if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries || 9);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n    if (format) {\n        this._initFormat(format);\n    }\n\n    this.clear();\n}\n\nrbush.prototype = {\n\n    all: function () {\n        return this._all(this.data, []);\n    },\n\n    search: function (bbox) {\n\n        var node = this.data,\n            result = [],\n            toBBox = this.toBBox;\n\n        if (!intersects$1(bbox, node)) return result;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects$1(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    },\n\n    collides: function (bbox) {\n\n        var node = this.data,\n            toBBox = this.toBBox;\n\n        if (!intersects$1(bbox, node)) return false;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects$1(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    },\n\n    load: function (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (var i = 0, len = data.length; i < len; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from stratch using OMT algorithm\n        var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                var tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    },\n\n    insert: function (item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    },\n\n    clear: function () {\n        this.data = createNode([]);\n        return this;\n    },\n\n    remove: function (item, equalsFn) {\n        if (!item) return this;\n\n        var node = this.data,\n            bbox = this.toBBox(item),\n            path = [],\n            indexes = [],\n            i, parent, index, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    },\n\n    toBBox: function (item) { return item; },\n\n    compareMinX: compareNodeMinX,\n    compareMinY: compareNodeMinY,\n\n    toJSON: function () { return this.data; },\n\n    fromJSON: function (data) {\n        this.data = data;\n        return this;\n    },\n\n    _all: function (node, result) {\n        var nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push.apply(result, node.children);\n            else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    },\n\n    _build: function (items, left, right, height) {\n\n        var N = right - left + 1,\n            M = this._maxEntries,\n            node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        var N2 = Math.ceil(N / M),\n            N1 = N2 * Math.ceil(Math.sqrt(M)),\n            i, j, right2, right3;\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (i = left; i <= right; i += N1) {\n\n            right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (j = i; j <= right2; j += N2) {\n\n                right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    },\n\n    _chooseSubtree: function (bbox, node, level, path) {\n\n        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            minArea = minEnlargement = Infinity;\n\n            for (i = 0, len = node.children.length; i < len; i++) {\n                child = node.children[i];\n                area = bboxArea(child);\n                enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    },\n\n    _insert: function (item, level, isNode) {\n\n        var toBBox = this.toBBox,\n            bbox = isNode ? item : toBBox(item),\n            insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    },\n\n    // split overflowed node into two\n    _split: function (insertPath, level) {\n\n        var node = insertPath[level],\n            M = node.children.length,\n            m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        var splitIndex = this._chooseSplitIndex(node, m, M);\n\n        var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    },\n\n    _splitRoot: function (node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    },\n\n    _chooseSplitIndex: function (node, m, M) {\n\n        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n        minOverlap = minArea = Infinity;\n\n        for (i = m; i <= M - m; i++) {\n            bbox1 = distBBox(node, 0, i, this.toBBox);\n            bbox2 = distBBox(node, i, M, this.toBBox);\n\n            overlap = intersectionArea(bbox1, bbox2);\n            area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index;\n    },\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis: function (node, m, M) {\n\n        var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n            compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n            xMargin = this._allDistMargin(node, m, M, compareMinX),\n            yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    },\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin: function (node, m, M, compare) {\n\n        node.children.sort(compare);\n\n        var toBBox = this.toBBox,\n            leftBBox = distBBox(node, 0, m, toBBox),\n            rightBBox = distBBox(node, M - m, M, toBBox),\n            margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n            i, child;\n\n        for (i = m; i < M - m; i++) {\n            child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (i = M - m - 1; i >= m; i--) {\n            child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    },\n\n    _adjustParentBBoxes: function (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (var i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    },\n\n    _condense: function (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (var i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    },\n\n    _initFormat: function (format) {\n        // data format (minX, minY, maxX, maxY accessors)\n\n        // uses eval-type function compilation instead of just accepting a toBBox function\n        // because the algorithms are very sensitive to sorting functions performance,\n        // so they should be dead simple and without inner calls\n\n        var compareArr = ['return a', ' - b', ';'];\n\n        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n        this.toBBox = new Function('a',\n            'return {minX: a' + format[0] +\n            ', minY: a' + format[1] +\n            ', maxX: a' + format[2] +\n            ', maxY: a' + format[3] + '};');\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k, child; i < p; i++) {\n        child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX),\n        minY = Math.max(a.minY, b.minY),\n        maxX = Math.min(a.maxX, b.maxX),\n        maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects$1(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right],\n        mid;\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar twoProduct_1 = twoProduct;\n\nvar SPLITTER = +(Math.pow(2, 27) + 1.0);\n\nfunction twoProduct(a, b, result) {\n  var x = a * b;\n\n  var c = SPLITTER * a;\n  var abig = c - a;\n  var ahi = c - abig;\n  var alo = a - ahi;\n\n  var d = SPLITTER * b;\n  var bbig = d - b;\n  var bhi = d - bbig;\n  var blo = b - bhi;\n\n  var err1 = x - (ahi * bhi);\n  var err2 = err1 - (alo * bhi);\n  var err3 = err2 - (ahi * blo);\n\n  var y = alo * blo - err3;\n\n  if(result) {\n    result[0] = y;\n    result[1] = x;\n    return result\n  }\n\n  return [ y, x ]\n}\n\nvar robustSum = linearExpansionSum;\n\n//Easy case: Add two scalars\nfunction scalarScalar(a, b) {\n  var x = a + b;\n  var bv = x - a;\n  var av = x - bv;\n  var br = b - bv;\n  var ar = a - av;\n  var y = ar + br;\n  if(y) {\n    return [y, x]\n  }\n  return [x]\n}\n\nfunction linearExpansionSum(e, f) {\n  var ne = e.length|0;\n  var nf = f.length|0;\n  if(ne === 1 && nf === 1) {\n    return scalarScalar(e[0], f[0])\n  }\n  var n = ne + nf;\n  var g = new Array(n);\n  var count = 0;\n  var eptr = 0;\n  var fptr = 0;\n  var abs = Math.abs;\n  var ei = e[eptr];\n  var ea = abs(ei);\n  var fi = f[fptr];\n  var fa = abs(fi);\n  var a, b;\n  if(ea < fa) {\n    b = ei;\n    eptr += 1;\n    if(eptr < ne) {\n      ei = e[eptr];\n      ea = abs(ei);\n    }\n  } else {\n    b = fi;\n    fptr += 1;\n    if(fptr < nf) {\n      fi = f[fptr];\n      fa = abs(fi);\n    }\n  }\n  if((eptr < ne && ea < fa) || (fptr >= nf)) {\n    a = ei;\n    eptr += 1;\n    if(eptr < ne) {\n      ei = e[eptr];\n      ea = abs(ei);\n    }\n  } else {\n    a = fi;\n    fptr += 1;\n    if(fptr < nf) {\n      fi = f[fptr];\n      fa = abs(fi);\n    }\n  }\n  var x = a + b;\n  var bv = x - a;\n  var y = b - bv;\n  var q0 = y;\n  var q1 = x;\n  var _x, _bv, _av, _br, _ar;\n  while(eptr < ne && fptr < nf) {\n    if(ea < fa) {\n      a = ei;\n      eptr += 1;\n      if(eptr < ne) {\n        ei = e[eptr];\n        ea = abs(ei);\n      }\n    } else {\n      a = fi;\n      fptr += 1;\n      if(fptr < nf) {\n        fi = f[fptr];\n        fa = abs(fi);\n      }\n    }\n    b = q0;\n    x = a + b;\n    bv = x - a;\n    y = b - bv;\n    if(y) {\n      g[count++] = y;\n    }\n    _x = q1 + x;\n    _bv = _x - q1;\n    _av = _x - _bv;\n    _br = x - _bv;\n    _ar = q1 - _av;\n    q0 = _ar + _br;\n    q1 = _x;\n  }\n  while(eptr < ne) {\n    a = ei;\n    b = q0;\n    x = a + b;\n    bv = x - a;\n    y = b - bv;\n    if(y) {\n      g[count++] = y;\n    }\n    _x = q1 + x;\n    _bv = _x - q1;\n    _av = _x - _bv;\n    _br = x - _bv;\n    _ar = q1 - _av;\n    q0 = _ar + _br;\n    q1 = _x;\n    eptr += 1;\n    if(eptr < ne) {\n      ei = e[eptr];\n    }\n  }\n  while(fptr < nf) {\n    a = fi;\n    b = q0;\n    x = a + b;\n    bv = x - a;\n    y = b - bv;\n    if(y) {\n      g[count++] = y;\n    } \n    _x = q1 + x;\n    _bv = _x - q1;\n    _av = _x - _bv;\n    _br = x - _bv;\n    _ar = q1 - _av;\n    q0 = _ar + _br;\n    q1 = _x;\n    fptr += 1;\n    if(fptr < nf) {\n      fi = f[fptr];\n    }\n  }\n  if(q0) {\n    g[count++] = q0;\n  }\n  if(q1) {\n    g[count++] = q1;\n  }\n  if(!count) {\n    g[count++] = 0.0;  \n  }\n  g.length = count;\n  return g\n}\n\nvar twoSum = fastTwoSum;\n\nfunction fastTwoSum(a, b, result) {\n\tvar x = a + b;\n\tvar bv = x - a;\n\tvar av = x - bv;\n\tvar br = b - bv;\n\tvar ar = a - av;\n\tif(result) {\n\t\tresult[0] = ar + br;\n\t\tresult[1] = x;\n\t\treturn result\n\t}\n\treturn [ar+br, x]\n}\n\nvar robustScale = scaleLinearExpansion;\n\nfunction scaleLinearExpansion(e, scale) {\n  var n = e.length;\n  if(n === 1) {\n    var ts = twoProduct_1(e[0], scale);\n    if(ts[0]) {\n      return ts\n    }\n    return [ ts[1] ]\n  }\n  var g = new Array(2 * n);\n  var q = [0.1, 0.1];\n  var t = [0.1, 0.1];\n  var count = 0;\n  twoProduct_1(e[0], scale, q);\n  if(q[0]) {\n    g[count++] = q[0];\n  }\n  for(var i=1; i<n; ++i) {\n    twoProduct_1(e[i], scale, t);\n    var pq = q[1];\n    twoSum(pq, t[0], q);\n    if(q[0]) {\n      g[count++] = q[0];\n    }\n    var a = t[1];\n    var b = q[1];\n    var x = a + b;\n    var bv = x - a;\n    var y = b - bv;\n    q[1] = x;\n    if(y) {\n      g[count++] = y;\n    }\n  }\n  if(q[1]) {\n    g[count++] = q[1];\n  }\n  if(count === 0) {\n    g[count++] = 0.0;\n  }\n  g.length = count;\n  return g\n}\n\nvar robustDiff = robustSubtract;\n\n//Easy case: Add two scalars\nfunction scalarScalar$1(a, b) {\n  var x = a + b;\n  var bv = x - a;\n  var av = x - bv;\n  var br = b - bv;\n  var ar = a - av;\n  var y = ar + br;\n  if(y) {\n    return [y, x]\n  }\n  return [x]\n}\n\nfunction robustSubtract(e, f) {\n  var ne = e.length|0;\n  var nf = f.length|0;\n  if(ne === 1 && nf === 1) {\n    return scalarScalar$1(e[0], -f[0])\n  }\n  var n = ne + nf;\n  var g = new Array(n);\n  var count = 0;\n  var eptr = 0;\n  var fptr = 0;\n  var abs = Math.abs;\n  var ei = e[eptr];\n  var ea = abs(ei);\n  var fi = -f[fptr];\n  var fa = abs(fi);\n  var a, b;\n  if(ea < fa) {\n    b = ei;\n    eptr += 1;\n    if(eptr < ne) {\n      ei = e[eptr];\n      ea = abs(ei);\n    }\n  } else {\n    b = fi;\n    fptr += 1;\n    if(fptr < nf) {\n      fi = -f[fptr];\n      fa = abs(fi);\n    }\n  }\n  if((eptr < ne && ea < fa) || (fptr >= nf)) {\n    a = ei;\n    eptr += 1;\n    if(eptr < ne) {\n      ei = e[eptr];\n      ea = abs(ei);\n    }\n  } else {\n    a = fi;\n    fptr += 1;\n    if(fptr < nf) {\n      fi = -f[fptr];\n      fa = abs(fi);\n    }\n  }\n  var x = a + b;\n  var bv = x - a;\n  var y = b - bv;\n  var q0 = y;\n  var q1 = x;\n  var _x, _bv, _av, _br, _ar;\n  while(eptr < ne && fptr < nf) {\n    if(ea < fa) {\n      a = ei;\n      eptr += 1;\n      if(eptr < ne) {\n        ei = e[eptr];\n        ea = abs(ei);\n      }\n    } else {\n      a = fi;\n      fptr += 1;\n      if(fptr < nf) {\n        fi = -f[fptr];\n        fa = abs(fi);\n      }\n    }\n    b = q0;\n    x = a + b;\n    bv = x - a;\n    y = b - bv;\n    if(y) {\n      g[count++] = y;\n    }\n    _x = q1 + x;\n    _bv = _x - q1;\n    _av = _x - _bv;\n    _br = x - _bv;\n    _ar = q1 - _av;\n    q0 = _ar + _br;\n    q1 = _x;\n  }\n  while(eptr < ne) {\n    a = ei;\n    b = q0;\n    x = a + b;\n    bv = x - a;\n    y = b - bv;\n    if(y) {\n      g[count++] = y;\n    }\n    _x = q1 + x;\n    _bv = _x - q1;\n    _av = _x - _bv;\n    _br = x - _bv;\n    _ar = q1 - _av;\n    q0 = _ar + _br;\n    q1 = _x;\n    eptr += 1;\n    if(eptr < ne) {\n      ei = e[eptr];\n    }\n  }\n  while(fptr < nf) {\n    a = fi;\n    b = q0;\n    x = a + b;\n    bv = x - a;\n    y = b - bv;\n    if(y) {\n      g[count++] = y;\n    } \n    _x = q1 + x;\n    _bv = _x - q1;\n    _av = _x - _bv;\n    _br = x - _bv;\n    _ar = q1 - _av;\n    q0 = _ar + _br;\n    q1 = _x;\n    fptr += 1;\n    if(fptr < nf) {\n      fi = -f[fptr];\n    }\n  }\n  if(q0) {\n    g[count++] = q0;\n  }\n  if(q1) {\n    g[count++] = q1;\n  }\n  if(!count) {\n    g[count++] = 0.0;  \n  }\n  g.length = count;\n  return g\n}\n\nvar orientation_1 = createCommonjsModule(function (module) {\nvar NUM_EXPAND = 5;\n\nvar EPSILON     = 1.1102230246251565e-16;\nvar ERRBOUND3   = (3.0 + 16.0 * EPSILON) * EPSILON;\nvar ERRBOUND4   = (7.0 + 56.0 * EPSILON) * EPSILON;\n\nfunction cofactor(m, c) {\n  var result = new Array(m.length-1);\n  for(var i=1; i<m.length; ++i) {\n    var r = result[i-1] = new Array(m.length-1);\n    for(var j=0,k=0; j<m.length; ++j) {\n      if(j === c) {\n        continue\n      }\n      r[k++] = m[i][j];\n    }\n  }\n  return result\n}\n\nfunction matrix(n) {\n  var result = new Array(n);\n  for(var i=0; i<n; ++i) {\n    result[i] = new Array(n);\n    for(var j=0; j<n; ++j) {\n      result[i][j] = [\"m\", j, \"[\", (n-i-1), \"]\"].join(\"\");\n    }\n  }\n  return result\n}\n\nfunction sign(n) {\n  if(n & 1) {\n    return \"-\"\n  }\n  return \"\"\n}\n\nfunction generateSum(expr) {\n  if(expr.length === 1) {\n    return expr[0]\n  } else if(expr.length === 2) {\n    return [\"sum(\", expr[0], \",\", expr[1], \")\"].join(\"\")\n  } else {\n    var m = expr.length>>1;\n    return [\"sum(\", generateSum(expr.slice(0, m)), \",\", generateSum(expr.slice(m)), \")\"].join(\"\")\n  }\n}\n\nfunction determinant(m) {\n  if(m.length === 2) {\n    return [[\"sum(prod(\", m[0][0], \",\", m[1][1], \"),prod(-\", m[0][1], \",\", m[1][0], \"))\"].join(\"\")]\n  } else {\n    var expr = [];\n    for(var i=0; i<m.length; ++i) {\n      expr.push([\"scale(\", generateSum(determinant(cofactor(m, i))), \",\", sign(i), m[0][i], \")\"].join(\"\"));\n    }\n    return expr\n  }\n}\n\nfunction orientation(n) {\n  var pos = [];\n  var neg = [];\n  var m = matrix(n);\n  var args = [];\n  for(var i=0; i<n; ++i) {\n    if((i&1)===0) {\n      pos.push.apply(pos, determinant(cofactor(m, i)));\n    } else {\n      neg.push.apply(neg, determinant(cofactor(m, i)));\n    }\n    args.push(\"m\" + i);\n  }\n  var posExpr = generateSum(pos);\n  var negExpr = generateSum(neg);\n  var funcName = \"orientation\" + n + \"Exact\";\n  var code = [\"function \", funcName, \"(\", args.join(), \"){var p=\", posExpr, \",n=\", negExpr, \",d=sub(p,n);\\\nreturn d[d.length-1];};return \", funcName].join(\"\");\n  var proc = new Function(\"sum\", \"prod\", \"scale\", \"sub\", code);\n  return proc(robustSum, twoProduct_1, robustScale, robustDiff)\n}\n\nvar orientation3Exact = orientation(3);\nvar orientation4Exact = orientation(4);\n\nvar CACHED = [\n  function orientation0() { return 0 },\n  function orientation1() { return 0 },\n  function orientation2(a, b) { \n    return b[0] - a[0]\n  },\n  function orientation3(a, b, c) {\n    var l = (a[1] - c[1]) * (b[0] - c[0]);\n    var r = (a[0] - c[0]) * (b[1] - c[1]);\n    var det = l - r;\n    var s;\n    if(l > 0) {\n      if(r <= 0) {\n        return det\n      } else {\n        s = l + r;\n      }\n    } else if(l < 0) {\n      if(r >= 0) {\n        return det\n      } else {\n        s = -(l + r);\n      }\n    } else {\n      return det\n    }\n    var tol = ERRBOUND3 * s;\n    if(det >= tol || det <= -tol) {\n      return det\n    }\n    return orientation3Exact(a, b, c)\n  },\n  function orientation4(a,b,c,d) {\n    var adx = a[0] - d[0];\n    var bdx = b[0] - d[0];\n    var cdx = c[0] - d[0];\n    var ady = a[1] - d[1];\n    var bdy = b[1] - d[1];\n    var cdy = c[1] - d[1];\n    var adz = a[2] - d[2];\n    var bdz = b[2] - d[2];\n    var cdz = c[2] - d[2];\n    var bdxcdy = bdx * cdy;\n    var cdxbdy = cdx * bdy;\n    var cdxady = cdx * ady;\n    var adxcdy = adx * cdy;\n    var adxbdy = adx * bdy;\n    var bdxady = bdx * ady;\n    var det = adz * (bdxcdy - cdxbdy) \n            + bdz * (cdxady - adxcdy)\n            + cdz * (adxbdy - bdxady);\n    var permanent = (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz)\n                  + (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz)\n                  + (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz);\n    var tol = ERRBOUND4 * permanent;\n    if ((det > tol) || (-det > tol)) {\n      return det\n    }\n    return orientation4Exact(a,b,c,d)\n  }\n];\n\nfunction slowOrient(args) {\n  var proc = CACHED[args.length];\n  if(!proc) {\n    proc = CACHED[args.length] = orientation(args.length);\n  }\n  return proc.apply(undefined, args)\n}\n\nfunction generateOrientationProc() {\n  while(CACHED.length <= NUM_EXPAND) {\n    CACHED.push(orientation(CACHED.length));\n  }\n  var args = [];\n  var procArgs = [\"slow\"];\n  for(var i=0; i<=NUM_EXPAND; ++i) {\n    args.push(\"a\" + i);\n    procArgs.push(\"o\" + i);\n  }\n  var code = [\n    \"function getOrientation(\", args.join(), \"){switch(arguments.length){case 0:case 1:return 0;\"\n  ];\n  for(var i=2; i<=NUM_EXPAND; ++i) {\n    code.push(\"case \", i, \":return o\", i, \"(\", args.slice(0, i).join(), \");\");\n  }\n  code.push(\"}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation\");\n  procArgs.push(code.join(\"\"));\n\n  var proc = Function.apply(undefined, procArgs);\n  module.exports = proc.apply(undefined, [slowOrient].concat(CACHED));\n  for(var i=0; i<=NUM_EXPAND; ++i) {\n    module.exports[i] = CACHED[i];\n  }\n}\n\ngenerateOrientationProc();\n});\n\nvar monotoneConvexHull2d = monotoneConvexHull2D;\n\nvar orient$1 = orientation_1[3];\n\nfunction monotoneConvexHull2D(points) {\n  var n = points.length;\n\n  if(n < 3) {\n    var result = new Array(n);\n    for(var i=0; i<n; ++i) {\n      result[i] = i;\n    }\n\n    if(n === 2 &&\n       points[0][0] === points[1][0] &&\n       points[0][1] === points[1][1]) {\n      return [0]\n    }\n\n    return result\n  }\n\n  //Sort point indices along x-axis\n  var sorted = new Array(n);\n  for(var i=0; i<n; ++i) {\n    sorted[i] = i;\n  }\n  sorted.sort(function(a,b) {\n    var d = points[a][0]-points[b][0];\n    if(d) {\n      return d\n    }\n    return points[a][1] - points[b][1]\n  });\n\n  //Construct upper and lower hulls\n  var lower = [sorted[0], sorted[1]];\n  var upper = [sorted[0], sorted[1]];\n\n  for(var i=2; i<n; ++i) {\n    var idx = sorted[i];\n    var p   = points[idx];\n\n    //Insert into lower list\n    var m = lower.length;\n    while(m > 1 && orient$1(\n        points[lower[m-2]], \n        points[lower[m-1]], \n        p) <= 0) {\n      m -= 1;\n      lower.pop();\n    }\n    lower.push(idx);\n\n    //Insert into upper list\n    m = upper.length;\n    while(m > 1 && orient$1(\n        points[upper[m-2]], \n        points[upper[m-1]], \n        p) >= 0) {\n      m -= 1;\n      upper.pop();\n    }\n    upper.push(idx);\n  }\n\n  //Merge lists together\n  var result = new Array(upper.length + lower.length - 2);\n  var ptr    = 0;\n  for(var i=0, nl=lower.length; i<nl; ++i) {\n    result[ptr++] = lower[i];\n  }\n  for(var j=upper.length-2; j>0; --j) {\n    result[ptr++] = upper[j];\n  }\n\n  //Return result\n  return result\n}\n\nvar tinyqueue = TinyQueue;\nvar default_1$1 = TinyQueue;\n\nfunction TinyQueue(data, compare) {\n    if (!(this instanceof TinyQueue)) return new TinyQueue(data, compare);\n\n    this.data = data || [];\n    this.length = this.data.length;\n    this.compare = compare || defaultCompare$1;\n\n    if (this.length > 0) {\n        for (var i = (this.length >> 1) - 1; i >= 0; i--) this._down(i);\n    }\n}\n\nfunction defaultCompare$1(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nTinyQueue.prototype = {\n\n    push: function (item) {\n        this.data.push(item);\n        this.length++;\n        this._up(this.length - 1);\n    },\n\n    pop: function () {\n        if (this.length === 0) return undefined;\n\n        var top = this.data[0];\n        this.length--;\n\n        if (this.length > 0) {\n            this.data[0] = this.data[this.length];\n            this._down(0);\n        }\n        this.data.pop();\n\n        return top;\n    },\n\n    peek: function () {\n        return this.data[0];\n    },\n\n    _up: function (pos) {\n        var data = this.data;\n        var compare = this.compare;\n        var item = data[pos];\n\n        while (pos > 0) {\n            var parent = (pos - 1) >> 1;\n            var current = data[parent];\n            if (compare(item, current) >= 0) break;\n            data[pos] = current;\n            pos = parent;\n        }\n\n        data[pos] = item;\n    },\n\n    _down: function (pos) {\n        var data = this.data;\n        var compare = this.compare;\n        var halfLength = this.length >> 1;\n        var item = data[pos];\n\n        while (pos < halfLength) {\n            var left = (pos << 1) + 1;\n            var right = left + 1;\n            var best = data[left];\n\n            if (right < this.length && compare(data[right], best) < 0) {\n                left = right;\n                best = data[right];\n            }\n            if (compare(best, item) >= 0) break;\n\n            data[pos] = best;\n            pos = left;\n        }\n\n        data[pos] = item;\n    }\n};\n\ntinyqueue.default = default_1$1;\n\nvar pointInPolygon = function (point, vs) {\n    // ray-casting algorithm based on\n    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n    \n    var x = point[0], y = point[1];\n    \n    var inside = false;\n    for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {\n        var xi = vs[i][0], yi = vs[i][1];\n        var xj = vs[j][0], yj = vs[j][1];\n        \n        var intersect = ((yi > y) != (yj > y))\n            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n        if (intersect) inside = !inside;\n    }\n    \n    return inside;\n};\n\nvar orient = orientation_1[3];\n\nvar concaveman_1 = concaveman;\nvar default_1 = concaveman;\n\nfunction concaveman(points, concavity, lengthThreshold) {\n    // a relative measure of concavity; higher value means simpler hull\n    concavity = Math.max(0, concavity === undefined ? 2 : concavity);\n\n    // when a segment goes below this length threshold, it won't be drilled down further\n    lengthThreshold = lengthThreshold || 0;\n\n    // start with a convex hull of the points\n    var hull = fastConvexHull(points);\n\n    // index the points with an R-tree\n    var tree = rbush_1(16, ['[0]', '[1]', '[0]', '[1]']).load(points);\n\n    // turn the convex hull into a linked list and populate the initial edge queue with the nodes\n    var queue = [];\n    for (var i = 0, last; i < hull.length; i++) {\n        var p = hull[i];\n        tree.remove(p);\n        last = insertNode(p, last);\n        queue.push(last);\n    }\n\n    // index the segments with an R-tree (for intersection checks)\n    var segTree = rbush_1(16);\n    for (i = 0; i < queue.length; i++) segTree.insert(updateBBox(queue[i]));\n\n    var sqConcavity = concavity * concavity;\n    var sqLenThreshold = lengthThreshold * lengthThreshold;\n\n    // process edges one by one\n    while (queue.length) {\n        var node = queue.shift();\n        var a = node.p;\n        var b = node.next.p;\n\n        // skip the edge if it's already short enough\n        var sqLen = getSqDist(a, b);\n        if (sqLen < sqLenThreshold) continue;\n\n        var maxSqLen = sqLen / sqConcavity;\n\n        // find the best connection point for the current edge to flex inward to\n        p = findCandidate(tree, node.prev.p, a, b, node.next.next.p, maxSqLen, segTree);\n\n        // if we found a connection and it satisfies our concavity measure\n        if (p && Math.min(getSqDist(p, a), getSqDist(p, b)) <= maxSqLen) {\n            // connect the edge endpoints through this point and add 2 new edges to the queue\n            queue.push(node);\n            queue.push(insertNode(p, node));\n\n            // update point and segment indexes\n            tree.remove(p);\n            segTree.remove(node);\n            segTree.insert(updateBBox(node));\n            segTree.insert(updateBBox(node.next));\n        }\n    }\n\n    // convert the resulting hull linked list to an array of points\n    node = last;\n    var concave = [];\n    do {\n        concave.push(node.p);\n        node = node.next;\n    } while (node !== last);\n\n    concave.push(node.p);\n\n    return concave;\n}\n\nfunction findCandidate(tree, a, b, c, d, maxDist, segTree) {\n    var queue = new tinyqueue(null, compareDist);\n    var node = tree.data;\n\n    // search through the point R-tree with a depth-first search using a priority queue\n    // in the order of distance to the edge (b, c)\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n\n            var dist = node.leaf ? sqSegDist(child, b, c) : sqSegBoxDist(b, c, child);\n            if (dist > maxDist) continue; // skip the node if it's farther than we ever need\n\n            queue.push({\n                node: child,\n                dist: dist\n            });\n        }\n\n        while (queue.length && !queue.peek().node.children) {\n            var item = queue.pop();\n            var p = item.node;\n\n            // skip all points that are as close to adjacent edges (a,b) and (c,d),\n            // and points that would introduce self-intersections when connected\n            var d0 = sqSegDist(p, a, b);\n            var d1 = sqSegDist(p, c, d);\n            if (item.dist < d0 && item.dist < d1 &&\n                noIntersections(b, p, segTree) &&\n                noIntersections(c, p, segTree)) return p;\n        }\n\n        node = queue.pop();\n        if (node) node = node.node;\n    }\n\n    return null;\n}\n\nfunction compareDist(a, b) {\n    return a.dist - b.dist;\n}\n\n// square distance from a segment bounding box to the given one\nfunction sqSegBoxDist(a, b, bbox) {\n    if (inside(a, bbox) || inside(b, bbox)) return 0;\n    var d1 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.maxX, bbox.minY);\n    if (d1 === 0) return 0;\n    var d2 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.minY, bbox.minX, bbox.maxY);\n    if (d2 === 0) return 0;\n    var d3 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.maxX, bbox.minY, bbox.maxX, bbox.maxY);\n    if (d3 === 0) return 0;\n    var d4 = sqSegSegDist(a[0], a[1], b[0], b[1], bbox.minX, bbox.maxY, bbox.maxX, bbox.maxY);\n    if (d4 === 0) return 0;\n    return Math.min(d1, d2, d3, d4);\n}\n\nfunction inside(a, bbox) {\n    return a[0] >= bbox.minX &&\n           a[0] <= bbox.maxX &&\n           a[1] >= bbox.minY &&\n           a[1] <= bbox.maxY;\n}\n\n// check if the edge (a,b) doesn't intersect any other edges\nfunction noIntersections(a, b, segTree) {\n    var minX = Math.min(a[0], b[0]);\n    var minY = Math.min(a[1], b[1]);\n    var maxX = Math.max(a[0], b[0]);\n    var maxY = Math.max(a[1], b[1]);\n\n    var edges = segTree.search({minX: minX, minY: minY, maxX: maxX, maxY: maxY});\n    for (var i = 0; i < edges.length; i++) {\n        if (intersects(edges[i].p, edges[i].next.p, a, b)) return false;\n    }\n    return true;\n}\n\n// check if the edges (p1,q1) and (p2,q2) intersect\nfunction intersects(p1, q1, p2, q2) {\n    return p1 !== q2 && q1 !== p2 &&\n        orient(p1, q1, p2) > 0 !== orient(p1, q1, q2) > 0 &&\n        orient(p2, q2, p1) > 0 !== orient(p2, q2, q1) > 0;\n}\n\n// update the bounding box of a node's edge\nfunction updateBBox(node) {\n    var p1 = node.p;\n    var p2 = node.next.p;\n    node.minX = Math.min(p1[0], p2[0]);\n    node.minY = Math.min(p1[1], p2[1]);\n    node.maxX = Math.max(p1[0], p2[0]);\n    node.maxY = Math.max(p1[1], p2[1]);\n    return node;\n}\n\n// speed up convex hull by filtering out points inside quadrilateral formed by 4 extreme points\nfunction fastConvexHull(points) {\n    var left = points[0];\n    var top = points[0];\n    var right = points[0];\n    var bottom = points[0];\n\n    // find the leftmost, rightmost, topmost and bottommost points\n    for (var i = 0; i < points.length; i++) {\n        var p = points[i];\n        if (p[0] < left[0]) left = p;\n        if (p[0] > right[0]) right = p;\n        if (p[1] < top[1]) top = p;\n        if (p[1] > bottom[1]) bottom = p;\n    }\n\n    // filter out points that are inside the resulting quadrilateral\n    var cull = [left, top, right, bottom];\n    var filtered = cull.slice();\n    for (i = 0; i < points.length; i++) {\n        if (!pointInPolygon(points[i], cull)) filtered.push(points[i]);\n    }\n\n    // get convex hull around the filtered points\n    var indices = monotoneConvexHull2d(filtered);\n\n    // return the hull as array of points (rather than indices)\n    var hull = [];\n    for (i = 0; i < indices.length; i++) hull.push(filtered[indices[i]]);\n    return hull;\n}\n\n// create a new node in a doubly linked list\nfunction insertNode(p, prev) {\n    var node = {\n        p: p,\n        prev: null,\n        next: null,\n        minX: 0,\n        minY: 0,\n        maxX: 0,\n        maxY: 0\n    };\n\n    if (!prev) {\n        node.prev = node;\n        node.next = node;\n\n    } else {\n        node.next = prev.next;\n        node.prev = prev;\n        prev.next.prev = node;\n        prev.next = node;\n    }\n    return node;\n}\n\n// square distance between 2 points\nfunction getSqDist(p1, p2) {\n\n    var dx = p1[0] - p2[0],\n        dy = p1[1] - p2[1];\n\n    return dx * dx + dy * dy;\n}\n\n// square distance from a point to a segment\nfunction sqSegDist(p, p1, p2) {\n\n    var x = p1[0],\n        y = p1[1],\n        dx = p2[0] - x,\n        dy = p2[1] - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p[0] - x) * dx + (p[1] - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2[0];\n            y = p2[1];\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p[0] - x;\n    dy = p[1] - y;\n\n    return dx * dx + dy * dy;\n}\n\n// segment to segment distance, ported from http://geomalgorithms.com/a07-_distance.html by Dan Sunday\nfunction sqSegSegDist(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var ux = x1 - x0;\n    var uy = y1 - y0;\n    var vx = x3 - x2;\n    var vy = y3 - y2;\n    var wx = x0 - x2;\n    var wy = y0 - y2;\n    var a = ux * ux + uy * uy;\n    var b = ux * vx + uy * vy;\n    var c = vx * vx + vy * vy;\n    var d = ux * wx + uy * wy;\n    var e = vx * wx + vy * wy;\n    var D = a * c - b * b;\n\n    var sc, sN, tc, tN;\n    var sD = D;\n    var tD = D;\n\n    if (D === 0) {\n        sN = 0;\n        sD = 1;\n        tN = e;\n        tD = c;\n    } else {\n        sN = b * e - c * d;\n        tN = a * e - b * d;\n        if (sN < 0) {\n            sN = 0;\n            tN = e;\n            tD = c;\n        } else if (sN > sD) {\n            sN = sD;\n            tN = e + b;\n            tD = c;\n        }\n    }\n\n    if (tN < 0.0) {\n        tN = 0.0;\n        if (-d < 0.0) sN = 0.0;\n        else if (-d > a) sN = sD;\n        else {\n            sN = -d;\n            sD = a;\n        }\n    } else if (tN > tD) {\n        tN = tD;\n        if ((-d + b) < 0.0) sN = 0;\n        else if (-d + b > a) sN = sD;\n        else {\n            sN = -d + b;\n            sD = a;\n        }\n    }\n\n    sc = sN === 0 ? 0 : sN / sD;\n    tc = tN === 0 ? 0 : tN / tD;\n\n    var cx = (1 - sc) * x0 + sc * x1;\n    var cy = (1 - sc) * y0 + sc * y1;\n    var cx2 = (1 - tc) * x2 + tc * x3;\n    var cy2 = (1 - tc) * y2 + tc * y3;\n    var dx = cx2 - cx;\n    var dy = cy2 - cy;\n\n    return dx * dx + dy * dy;\n}\n\nconcaveman_1.default = default_1;\n\n/**\n * Takes a {@link Feature} or a {@link FeatureCollection} and returns a convex hull {@link Polygon}.\n *\n * Internally this uses\n * the [convex-hull](https://github.com/mikolalysenko/convex-hull) module that\n * implements a [monotone chain hull](http://en.wikibooks.org/wiki/Algorithm_Implementation/Geometry/Convex_hull/Monotone_chain).\n *\n * @name convex\n * @param {GeoJSON} geojson input Feature or FeatureCollection\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.concavity=Infinity] 1 - thin shape. Infinity - convex hull.\n * @returns {Feature<Polygon>} a convex hull\n * @example\n * var points = turf.featureCollection([\n *   turf.point([10.195312, 43.755225]),\n *   turf.point([10.404052, 43.8424511]),\n *   turf.point([10.579833, 43.659924]),\n *   turf.point([10.360107, 43.516688]),\n *   turf.point([10.14038, 43.588348]),\n *   turf.point([10.195312, 43.755225])\n * ]);\n *\n * var hull = turf.convex(points);\n *\n * //addToMap\n * var addToMap = [points, hull]\n */\nfunction convex(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var concavity = options.concavity || Infinity;\n    var points$$1 = [];\n\n    // Convert all points to flat 2D coordinate Array\n    coordEach(geojson, function (coord) {\n        points$$1.push([coord[0], coord[1]]);\n    });\n    if (!points$$1.length) return null;\n\n    var convexHull = concaveman_1(points$$1, concavity);\n\n    // Convex hull should have at least 3 different vertices in order to create a valid polygon\n    if (convexHull.length > 3) {\n        return polygon([convexHull]);\n    }\n    return null;\n}\n\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n\n/**\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point resides inside the polygon. The polygon can\n * be convex or concave. The function accounts for holes.\n *\n * @name booleanPointInPolygon\n * @param {Coord} point input point\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if the point is inside the polygon otherwise false.\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\n * @example\n * var pt = turf.point([-77, 44]);\n * var poly = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]]);\n *\n * turf.booleanPointInPolygon(pt, poly);\n * //= true\n */\nfunction booleanPointInPolygon(point, polygon, options) {\n    // Optional parameters\n    options = options || {};\n    if (typeof options !== 'object') throw new Error('options is invalid');\n    var ignoreBoundary = options.ignoreBoundary;\n\n    // validation\n    if (!point) throw new Error('point is required');\n    if (!polygon) throw new Error('polygon is required');\n\n    var pt = getCoord(point);\n    var polys = getCoords(polygon);\n    var type = (polygon.geometry) ? polygon.geometry.type : polygon.type;\n    var bbox = polygon.bbox;\n\n    // Quick elimination if point is not inside bbox\n    if (bbox && inBBox(pt, bbox) === false) return false;\n\n    // normalize to multipolygon\n    if (type === 'Polygon') polys = [polys];\n\n    for (var i = 0, insidePoly = false; i < polys.length && !insidePoly; i++) {\n        // check if it is in the outer ring first\n        if (inRing(pt, polys[i][0], ignoreBoundary)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (inRing(pt, polys[i][k], !ignoreBoundary)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole) insidePoly = true;\n        }\n    }\n    return insidePoly;\n}\n\n/**\n * inRing\n *\n * @private\n * @param {Array<number>} pt [x,y]\n * @param {Array<Array<number>>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nfunction inRing(pt, ring, ignoreBoundary) {\n    var isInside = false;\n    if (ring[0][0] === ring[ring.length - 1][0] && ring[0][1] === ring[ring.length - 1][1]) ring = ring.slice(0, ring.length - 1);\n\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var xi = ring[i][0], yi = ring[i][1];\n        var xj = ring[j][0], yj = ring[j][1];\n        var onBoundary = (pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0) &&\n            ((xi - pt[0]) * (xj - pt[0]) <= 0) && ((yi - pt[1]) * (yj - pt[1]) <= 0);\n        if (onBoundary) return !ignoreBoundary;\n        var intersect = ((yi > pt[1]) !== (yj > pt[1])) &&\n        (pt[0] < (xj - xi) * (pt[1] - yi) / (yj - yi) + xi);\n        if (intersect) isInside = !isInside;\n    }\n    return isInside;\n}\n\n/**\n * inBBox\n *\n * @private\n * @param {Position} pt point [x,y]\n * @param {BBox} bbox BBox [west, south, east, north]\n * @returns {boolean} true/false if point is inside BBox\n */\nfunction inBBox(pt, bbox) {\n    return bbox[0] <= pt[0] &&\n           bbox[1] <= pt[1] &&\n           bbox[2] >= pt[0] &&\n           bbox[3] >= pt[1];\n}\n\n/**\n * Finds {@link Points} that fall within {@link (Multi)Polygon(s)}.\n *\n * @name pointsWithinPolygon\n * @param {Feauture|FeatureCollection<Point>} points Points as input search\n * @param {FeatureCollection|Geoemtry|Feature<Polygon|MultiPolygon>} polygons Points must be within these (Multi)Polygon(s)\n * @returns {FeatureCollection<Point>} points that land within at least one polygon\n * @example\n * var points = turf.points([\n *     [-46.6318, -23.5523],\n *     [-46.6246, -23.5325],\n *     [-46.6062, -23.5513],\n *     [-46.663, -23.554],\n *     [-46.643, -23.557]\n * ]);\n *\n * var searchWithin = turf.polygon([[\n *     [-46.653,-23.543],\n *     [-46.634,-23.5346],\n *     [-46.613,-23.543],\n *     [-46.614,-23.559],\n *     [-46.631,-23.567],\n *     [-46.653,-23.560],\n *     [-46.653,-23.543]\n * ]]);\n *\n * var ptsWithin = turf.pointsWithinPolygon(points, searchWithin);\n *\n * //addToMap\n * var addToMap = [points, searchWithin, ptsWithin]\n * turf.featureEach(ptsWithin, function (currentFeature) {\n *   currentFeature.properties['marker-size'] = 'large';\n *   currentFeature.properties['marker-color'] = '#000';\n * });\n */\nfunction pointsWithinPolygon(points$$1, polygons$$1) {\n    var results = [];\n    geomEach(polygons$$1, function (polygon$$1) {\n        featureEach(points$$1, function (point$$1) {\n            if (booleanPointInPolygon(point$$1, polygon$$1)) results.push(point$$1);\n        });\n    });\n    return featureCollection(results);\n}\n\n//http://en.wikipedia.org/wiki/Delaunay_triangulation\n//https://github.com/ironwallaby/delaunay\n/**\n * Takes a set of {@link Point|points} and creates a\n * [Triangulated Irregular Network](http://en.wikipedia.org/wiki/Triangulated_irregular_network),\n * or a TIN for short, returned as a collection of Polygons. These are often used\n * for developing elevation contour maps or stepped heat visualizations.\n *\n * If an optional z-value property is provided then it is added as properties called `a`, `b`,\n * and `c` representing its value at each of the points that represent the corners of the\n * triangle.\n *\n * @name tin\n * @param {FeatureCollection<Point>} points input points\n * @param {String} [z] name of the property from which to pull z values\n * This is optional: if not given, then there will be no extra data added to the derived triangles.\n * @returns {FeatureCollection<Polygon>} TIN output\n * @example\n * // generate some random point data\n * var points = turf.randomPoint(30, {bbox: [50, 30, 70, 50]});\n *\n * // add a random property to each point between 0 and 9\n * for (var i = 0; i < points.features.length; i++) {\n *   points.features[i].properties.z = ~~(Math.random() * 9);\n * }\n * var tin = turf.tin(points, 'z');\n *\n * //addToMap\n * var addToMap = [tin, points]\n * for (var i = 0; i < tin.features.length; i++) {\n *   var properties  = tin.features[i].properties;\n *   properties.fill = '#' + properties.a + properties.b + properties.c;\n * }\n */\nfunction tin(points$$1, z) {\n    if (points$$1.type !== 'FeatureCollection') throw new Error('points must be a FeatureCollection');\n    //break down points\n    var isPointZ = false;\n    return featureCollection(triangulate(points$$1.features.map(function (p) {\n        var point$$1 = {\n            x: p.geometry.coordinates[0],\n            y: p.geometry.coordinates[1]\n        };\n        if (z) {\n            point$$1.z = p.properties[z];\n        } else if (p.geometry.coordinates.length === 3) {\n            isPointZ = true;\n            point$$1.z = p.geometry.coordinates[2];\n        }\n        return point$$1;\n    })).map(function (triangle) {\n\n        var a = [triangle.a.x, triangle.a.y];\n        var b = [triangle.b.x, triangle.b.y];\n        var c = [triangle.c.x, triangle.c.y];\n        var properties = {};\n\n        // Add z coordinates to triangle points if user passed\n        // them in that way otherwise add it as a property.\n        if (isPointZ) {\n            a.push(triangle.a.z);\n            b.push(triangle.b.z);\n            c.push(triangle.c.z);\n        } else {\n            properties = {\n                a: triangle.a.z,\n                b: triangle.b.z,\n                c: triangle.c.z\n            };\n        }\n\n        return polygon([[a, b, c, a]], properties);\n\n    }));\n}\n\nfunction Triangle(a, b, c) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n\n    var A = b.x - a.x,\n        B = b.y - a.y,\n        C = c.x - a.x,\n        D = c.y - a.y,\n        E = A * (a.x + b.x) + B * (a.y + b.y),\n        F = C * (a.x + c.x) + D * (a.y + c.y),\n        G = 2 * (A * (c.y - b.y) - B * (c.x - b.x)),\n        dx, dy;\n\n    // If the points of the triangle are collinear, then just find the\n    // extremes and use the midpoint as the center of the circumcircle.\n    this.x = (D * E - B * F) / G;\n    this.y = (A * F - C * E) / G;\n    dx = this.x - a.x;\n    dy = this.y - a.y;\n    this.r = dx * dx + dy * dy;\n}\n\nfunction byX(a, b) {\n    return b.x - a.x;\n}\n\nfunction dedup(edges) {\n    var j = edges.length,\n        a, b, i, m, n;\n\n    outer:\n    while (j) {\n        b = edges[--j];\n        a = edges[--j];\n        i = j;\n        while (i) {\n            n = edges[--i];\n            m = edges[--i];\n            if ((a === m && b === n) || (a === n && b === m)) {\n                edges.splice(j, 2);\n                edges.splice(i, 2);\n                j -= 2;\n                continue outer;\n            }\n        }\n    }\n}\n\nfunction triangulate(vertices) {\n    // Bail if there aren't enough vertices to form any triangles.\n    if (vertices.length < 3)\n        return [];\n\n    // Ensure the vertex array is in order of descending X coordinate\n    // (which is needed to ensure a subquadratic runtime), and then find\n    // the bounding box around the points.\n    vertices.sort(byX);\n\n    var i = vertices.length - 1,\n        xmin = vertices[i].x,\n        xmax = vertices[0].x,\n        ymin = vertices[i].y,\n        ymax = ymin,\n        epsilon = 1e-12;\n\n    var a,\n        b,\n        c,\n        A,\n        B,\n        G;\n\n    while (i--) {\n        if (vertices[i].y < ymin)\n            ymin = vertices[i].y;\n        if (vertices[i].y > ymax)\n            ymax = vertices[i].y;\n    }\n\n    //Find a supertriangle, which is a triangle that surrounds all the\n    //vertices. This is used like something of a sentinel value to remove\n    //cases in the main algorithm, and is removed before we return any\n    // results.\n\n    // Once found, put it in the \"open\" list. (The \"open\" list is for\n    // triangles who may still need to be considered; the \"closed\" list is\n    // for triangles which do not.)\n    var dx = xmax - xmin,\n        dy = ymax - ymin,\n        dmax = (dx > dy) ? dx : dy,\n        xmid = (xmax + xmin) * 0.5,\n        ymid = (ymax + ymin) * 0.5,\n        open = [\n            new Triangle({\n                x: xmid - 20 * dmax,\n                y: ymid - dmax,\n                __sentinel: true\n            }, {\n                x: xmid,\n                y: ymid + 20 * dmax,\n                __sentinel: true\n            }, {\n                x: xmid + 20 * dmax,\n                y: ymid - dmax,\n                __sentinel: true\n            }\n            )],\n        closed = [],\n        edges = [],\n        j;\n\n    // Incrementally add each vertex to the mesh.\n    i = vertices.length;\n    while (i--) {\n        // For each open triangle, check to see if the current point is\n        // inside it's circumcircle. If it is, remove the triangle and add\n        // it's edges to an edge list.\n        edges.length = 0;\n        j = open.length;\n        while (j--) {\n            // If this point is to the right of this triangle's circumcircle,\n            // then this triangle should never get checked again. Remove it\n            // from the open list, add it to the closed list, and skip.\n            dx = vertices[i].x - open[j].x;\n            if (dx > 0 && dx * dx > open[j].r) {\n                closed.push(open[j]);\n                open.splice(j, 1);\n                continue;\n            }\n\n            // If not, skip this triangle.\n            dy = vertices[i].y - open[j].y;\n            if (dx * dx + dy * dy > open[j].r)\n                continue;\n\n            // Remove the triangle and add it's edges to the edge list.\n            edges.push(\n                open[j].a, open[j].b,\n                open[j].b, open[j].c,\n                open[j].c, open[j].a\n            );\n            open.splice(j, 1);\n        }\n\n        // Remove any doubled edges.\n        dedup(edges);\n\n        // Add a new triangle for each edge.\n        j = edges.length;\n        while (j) {\n            b = edges[--j];\n            a = edges[--j];\n            c = vertices[i];\n            // Avoid adding colinear triangles (which have error-prone\n            // circumcircles)\n            A = b.x - a.x;\n            B = b.y - a.y;\n            G = 2 * (A * (c.y - b.y) - B * (c.x - b.x));\n            if (Math.abs(G) > epsilon) {\n                open.push(new Triangle(a, b, c));\n            }\n        }\n    }\n\n    // Copy any remaining open triangles to the closed list, and then\n    // remove any triangles that share a vertex with the supertriangle.\n    Array.prototype.push.apply(closed, open);\n\n    i = closed.length;\n    while (i--)\n        if (closed[i].a.__sentinel ||\n            closed[i].b.__sentinel ||\n            closed[i].c.__sentinel)\n            closed.splice(i, 1);\n\n    return closed;\n}\n\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n\n/**\n * Calculates the distance between two {@link Point|points} in degrees, radians,\n * miles, or kilometers. This uses the\n * [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula)\n * to account for global curvature.\n *\n * @name distance\n * @param {Coord} from origin point\n * @param {Coord} to destination point\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.distance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction distance(from, to, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n\n    var coordinates1 = getCoord(from);\n    var coordinates2 = getCoord(to);\n    var dLat = degreesToRadians((coordinates2[1] - coordinates1[1]));\n    var dLon = degreesToRadians((coordinates2[0] - coordinates1[0]));\n    var lat1 = degreesToRadians(coordinates1[1]);\n    var lat2 = degreesToRadians(coordinates2[1]);\n\n    var a = Math.pow(Math.sin(dLat / 2), 2) +\n          Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n\n    return radiansToLength(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)), units);\n}\n\n/**\n * Returns a cloned copy of the passed GeoJSON Object, including possible 'Foreign Members'.\n * ~3-5x faster than the common JSON.parse + JSON.stringify combo method.\n *\n * @name clone\n * @param {GeoJSON} geojson GeoJSON Object\n * @returns {GeoJSON} cloned GeoJSON Object\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]], {color: 'red'});\n *\n * var lineCloned = turf.clone(line);\n */\nfunction clone(geojson) {\n    if (!geojson) throw new Error('geojson is required');\n\n    switch (geojson.type) {\n    case 'Feature':\n        return cloneFeature(geojson);\n    case 'FeatureCollection':\n        return cloneFeatureCollection(geojson);\n    case 'Point':\n    case 'LineString':\n    case 'Polygon':\n    case 'MultiPoint':\n    case 'MultiLineString':\n    case 'MultiPolygon':\n    case 'GeometryCollection':\n        return cloneGeometry(geojson);\n    default:\n        throw new Error('unknown GeoJSON type');\n    }\n}\n\n/**\n * Clone Feature\n *\n * @private\n * @param {Feature<any>} geojson GeoJSON Feature\n * @returns {Feature<any>} cloned Feature\n */\nfunction cloneFeature(geojson) {\n    var cloned = {type: 'Feature'};\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n        case 'type':\n        case 'properties':\n        case 'geometry':\n            return;\n        default:\n            cloned[key] = geojson[key];\n        }\n    });\n    // Add properties & geometry last\n    cloned.properties = cloneProperties(geojson.properties);\n    cloned.geometry = cloneGeometry(geojson.geometry);\n    return cloned;\n}\n\n/**\n * Clone Properties\n *\n * @private\n * @param {Object} properties GeoJSON Properties\n * @returns {Object} cloned Properties\n */\nfunction cloneProperties(properties) {\n    var cloned = {};\n    if (!properties) return cloned;\n    Object.keys(properties).forEach(function (key) {\n        var value = properties[key];\n        if (typeof value === 'object') {\n            if (value === null) {\n                // handle null\n                cloned[key] = null;\n            } else if (value.length) {\n                // handle Array\n                cloned[key] = value.map(function (item) {\n                    return item;\n                });\n            } else {\n                // handle generic Object\n                cloned[key] = cloneProperties(value);\n            }\n        } else cloned[key] = value;\n    });\n    return cloned;\n}\n\n/**\n * Clone Feature Collection\n *\n * @private\n * @param {FeatureCollection<any>} geojson GeoJSON Feature Collection\n * @returns {FeatureCollection<any>} cloned Feature Collection\n */\nfunction cloneFeatureCollection(geojson) {\n    var cloned = {type: 'FeatureCollection'};\n\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n        case 'type':\n        case 'features':\n            return;\n        default:\n            cloned[key] = geojson[key];\n        }\n    });\n    // Add features\n    cloned.features = geojson.features.map(function (feature) {\n        return cloneFeature(feature);\n    });\n    return cloned;\n}\n\n/**\n * Clone Geometry\n *\n * @private\n * @param {Geometry<any>} geometry GeoJSON Geometry\n * @returns {Geometry<any>} cloned Geometry\n */\nfunction cloneGeometry(geometry) {\n    var geom = {type: geometry.type};\n    if (geometry.bbox) geom.bbox = geometry.bbox;\n\n    if (geometry.type === 'GeometryCollection') {\n        geom.geometries = geometry.geometries.map(function (geom) {\n            return cloneGeometry(geom);\n        });\n        return geom;\n    }\n    geom.coordinates = deepSlice(geometry.coordinates);\n    return geom;\n}\n\n/**\n * Deep Slice coordinates\n *\n * @private\n * @param {Coordinates} coords Coordinates\n * @returns {Coordinates} all coordinates sliced\n */\nfunction deepSlice(coords) {\n    if (typeof coords[0] !== 'object') { return coords.slice(); }\n    return coords.map(function (coord) {\n        return deepSlice(coord);\n    });\n}\n\nvar identity = function(x) {\n  return x;\n};\n\nvar transform = function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n};\n\nvar reverse = function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n};\n\nfunction object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n\nvar stitch = function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n};\n\nfunction planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area); // Note: doubled area!\n}\n\nvar merge = function(topology) {\n  return object(topology, mergeArcs.apply(this, arguments));\n};\n\nfunction mergeArcs(topology, objects) {\n  var polygonsByArc = {},\n      polygons = [],\n      groups = [];\n\n  objects.forEach(geometry);\n\n  function geometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"Polygon\": extract(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(extract); break;\n    }\n  }\n\n  function extract(polygon) {\n    polygon.forEach(function(ring) {\n      ring.forEach(function(arc) {\n        (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n      });\n    });\n    polygons.push(polygon);\n  }\n\n  function area(ring) {\n    return planarRingArea(object(topology, {type: \"Polygon\", arcs: [ring]}).coordinates[0]);\n  }\n\n  polygons.forEach(function(polygon) {\n    if (!polygon._) {\n      var group = [],\n          neighbors = [polygon];\n      polygon._ = 1;\n      groups.push(group);\n      while (polygon = neighbors.pop()) {\n        group.push(polygon);\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n              if (!polygon._) {\n                polygon._ = 1;\n                neighbors.push(polygon);\n              }\n            });\n          });\n        });\n      }\n    }\n  });\n\n  polygons.forEach(function(polygon) {\n    delete polygon._;\n  });\n\n  return {\n    type: \"MultiPolygon\",\n    arcs: groups.map(function(polygons) {\n      var arcs = [], n;\n\n      // Extract the exterior (unique) arcs.\n      polygons.forEach(function(polygon) {\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n              arcs.push(arc);\n            }\n          });\n        });\n      });\n\n      // Stitch the arcs into one or more rings.\n      arcs = stitch(topology, arcs);\n\n      // If more than one ring is returned,\n      // at most one of these rings can be the exterior;\n      // choose the one with the greatest absolute area.\n      if ((n = arcs.length) > 1) {\n        for (var i = 1, k = area(arcs[0]), ki, t; i < n; ++i) {\n          if ((ki = area(arcs[i])) > k) {\n            t = arcs[0], arcs[0] = arcs[i], arcs[i] = t, k = ki;\n          }\n        }\n      }\n\n      return arcs;\n    })\n  };\n}\n\n// Computes the bounding box of the specified hash of GeoJSON objects.\nvar bounds = function(objects) {\n  var x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  function boundGeometry(geometry) {\n    if (geometry != null && boundGeometryType.hasOwnProperty(geometry.type)) boundGeometryType[geometry.type](geometry);\n  }\n\n  var boundGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(boundGeometry); },\n    Point: function(o) { boundPoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates.forEach(boundPoint); },\n    LineString: function(o) { boundLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs.forEach(boundLine); },\n    Polygon: function(o) { o.arcs.forEach(boundLine); },\n    MultiPolygon: function(o) { o.arcs.forEach(boundMultiLine); }\n  };\n\n  function boundPoint(coordinates) {\n    var x = coordinates[0],\n        y = coordinates[1];\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  function boundLine(coordinates) {\n    coordinates.forEach(boundPoint);\n  }\n\n  function boundMultiLine(coordinates) {\n    coordinates.forEach(boundLine);\n  }\n\n  for (var key in objects) {\n    boundGeometry(objects[key]);\n  }\n\n  return x1 >= x0 && y1 >= y0 ? [x0, y0, x1, y1] : undefined;\n};\n\nvar hashset = function(size, hash, equal, type, empty) {\n  if (arguments.length === 3) {\n    type = Array;\n    empty = null;\n  }\n\n  var store = new type(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    store[i] = empty;\n  }\n\n  function add(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) throw new Error(\"full hashset\");\n      match = store[index = (index + 1) & mask];\n    }\n    store[index] = value;\n    return true;\n  }\n\n  function has(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) break;\n      match = store[index = (index + 1) & mask];\n    }\n    return false;\n  }\n\n  function values() {\n    var values = [];\n    for (var i = 0, n = store.length; i < n; ++i) {\n      var match = store[i];\n      if (match != empty) values.push(match);\n    }\n    return values;\n  }\n\n  return {\n    add: add,\n    has: has,\n    values: values\n  };\n};\n\nvar hashmap = function(size, hash, equal, keyType, keyEmpty, valueType) {\n  if (arguments.length === 3) {\n    keyType = valueType = Array;\n    keyEmpty = null;\n  }\n\n  var keystore = new keyType(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      valstore = new valueType(size),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    keystore[i] = keyEmpty;\n  }\n\n  function set(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index] = value;\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function maybeSet(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function get(key, missingValue) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) break;\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    return missingValue;\n  }\n\n  function keys() {\n    var keys = [];\n    for (var i = 0, n = keystore.length; i < n; ++i) {\n      var matchKey = keystore[i];\n      if (matchKey != keyEmpty) keys.push(matchKey);\n    }\n    return keys;\n  }\n\n  return {\n    set: set,\n    maybeSet: maybeSet, // set if unset\n    get: get,\n    keys: keys\n  };\n};\n\nvar equalPoint = function(pointA, pointB) {\n  return pointA[0] === pointB[0] && pointA[1] === pointB[1];\n};\n\n// TODO if quantized, use simpler Int32 hashing?\n\nvar buffer = new ArrayBuffer(16);\nvar floats = new Float64Array(buffer);\nvar uints = new Uint32Array(buffer);\n\nvar hashPoint = function(point) {\n  floats[0] = point[0];\n  floats[1] = point[1];\n  var hash = uints[0] ^ uints[1];\n  hash = hash << 5 ^ hash >> 7 ^ uints[2] ^ uints[3];\n  return hash & 0x7fffffff;\n};\n\n// Given an extracted (pre-)topology, identifies all of the junctions. These are\n// the points at which arcs (lines or rings) will need to be cut so that each\n// arc is represented uniquely.\n//\n// A junction is a point where at least one arc deviates from another arc going\n// through the same point. For example, consider the point B. If there is a arc\n// through ABC and another arc through CBA, then B is not a junction because in\n// both cases the adjacent point pairs are {A,C}. However, if there is an\n// additional arc ABD, then {A,D} != {A,C}, and thus B becomes a junction.\n//\n// For a closed ring ABCA, the first point As adjacent points are the second\n// and last point {B,C}. For a line, the first and last point are always\n// considered junctions, even if the line is closed; this ensures that a closed\n// line is never rotated.\nvar join = function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      indexes = index(),\n      visitedByIndex = new Int32Array(coordinates.length),\n      leftByIndex = new Int32Array(coordinates.length),\n      rightByIndex = new Int32Array(coordinates.length),\n      junctionByIndex = new Int8Array(coordinates.length),\n      junctionCount = 0, // upper bound on number of junctions\n      i, n,\n      previousIndex,\n      currentIndex,\n      nextIndex;\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = leftByIndex[i] = rightByIndex[i] = -1;\n  }\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineStart = line[0],\n        lineEnd = line[1];\n    currentIndex = indexes[lineStart];\n    nextIndex = indexes[++lineStart];\n    ++junctionCount, junctionByIndex[currentIndex] = 1; // start\n    while (++lineStart <= lineEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[lineStart]);\n    }\n    ++junctionCount, junctionByIndex[nextIndex] = 1; // end\n  }\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = -1;\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0] + 1,\n        ringEnd = ring[1];\n    previousIndex = indexes[ringEnd - 1];\n    currentIndex = indexes[ringStart - 1];\n    nextIndex = indexes[ringStart];\n    sequence(i, previousIndex, currentIndex, nextIndex);\n    while (++ringStart <= ringEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[ringStart]);\n    }\n  }\n\n  function sequence(i, previousIndex, currentIndex, nextIndex) {\n    if (visitedByIndex[currentIndex] === i) return; // ignore self-intersection\n    visitedByIndex[currentIndex] = i;\n    var leftIndex = leftByIndex[currentIndex];\n    if (leftIndex >= 0) {\n      var rightIndex = rightByIndex[currentIndex];\n      if ((leftIndex !== previousIndex || rightIndex !== nextIndex)\n        && (leftIndex !== nextIndex || rightIndex !== previousIndex)) {\n        ++junctionCount, junctionByIndex[currentIndex] = 1;\n      }\n    } else {\n      leftByIndex[currentIndex] = previousIndex;\n      rightByIndex[currentIndex] = nextIndex;\n    }\n  }\n\n  function index() {\n    var indexByPoint = hashmap(coordinates.length * 1.4, hashIndex, equalIndex, Int32Array, -1, Int32Array),\n        indexes = new Int32Array(coordinates.length);\n\n    for (var i = 0, n = coordinates.length; i < n; ++i) {\n      indexes[i] = indexByPoint.maybeSet(i, i);\n    }\n\n    return indexes;\n  }\n\n  function hashIndex(i) {\n    return hashPoint(coordinates[i]);\n  }\n\n  function equalIndex(i, j) {\n    return equalPoint(coordinates[i], coordinates[j]);\n  }\n\n  visitedByIndex = leftByIndex = rightByIndex = null;\n\n  var junctionByPoint = hashset(junctionCount * 1.4, hashPoint, equalPoint), j;\n\n  // Convert back to a standard hashset by point for caller convenience.\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    if (junctionByIndex[j = indexes[i]]) {\n      junctionByPoint.add(coordinates[j]);\n    }\n  }\n\n  return junctionByPoint;\n};\n\n// Given an extracted (pre-)topology, cuts (or rotates) arcs so that all shared\n// point sequences are identified. The topology can then be subsequently deduped\n// to remove exact duplicate arcs.\nvar cut = function(topology) {\n  var junctions = join(topology),\n      coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      next,\n      i, n;\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineMid = line[0],\n        lineEnd = line[1];\n    while (++lineMid < lineEnd) {\n      if (junctions.has(coordinates[lineMid])) {\n        next = {0: lineMid, 1: line[1]};\n        line[1] = lineMid;\n        line = line.next = next;\n      }\n    }\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0],\n        ringMid = ringStart,\n        ringEnd = ring[1],\n        ringFixed = junctions.has(coordinates[ringStart]);\n    while (++ringMid < ringEnd) {\n      if (junctions.has(coordinates[ringMid])) {\n        if (ringFixed) {\n          next = {0: ringMid, 1: ring[1]};\n          ring[1] = ringMid;\n          ring = ring.next = next;\n        } else { // For the first junction, we can rotate rather than cut.\n          rotateArray(coordinates, ringStart, ringEnd, ringEnd - ringMid);\n          coordinates[ringEnd] = coordinates[ringStart];\n          ringFixed = true;\n          ringMid = ringStart; // restart; we may have skipped junctions\n        }\n      }\n    }\n  }\n\n  return topology;\n};\n\nfunction rotateArray(array, start, end, offset) {\n  reverse$1(array, start, end);\n  reverse$1(array, start, start + offset);\n  reverse$1(array, start + offset, end);\n}\n\nfunction reverse$1(array, start, end) {\n  for (var mid = start + ((end-- - start) >> 1), t; start < mid; ++start, --end) {\n    t = array[start], array[start] = array[end], array[end] = t;\n  }\n}\n\n// Given a cut topology, combines duplicate arcs.\nvar dedup$1 = function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines, line,\n      rings = topology.rings, ring,\n      arcCount = lines.length + rings.length,\n      i, n;\n\n  delete topology.lines;\n  delete topology.rings;\n\n  // Count the number of (non-unique) arcs to initialize the hashmap safely.\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i]; while (line = line.next) ++arcCount;\n  }\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i]; while (ring = ring.next) ++arcCount;\n  }\n\n  var arcsByEnd = hashmap(arcCount * 2 * 1.4, hashPoint, equalPoint),\n      arcs = topology.arcs = [];\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i];\n    do {\n      dedupLine(line);\n    } while (line = line.next);\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i];\n    if (ring.next) { // arc is no longer closed\n      do {\n        dedupLine(ring);\n      } while (ring = ring.next);\n    } else {\n      dedupRing(ring);\n    }\n  }\n\n  function dedupLine(arc) {\n    var startPoint,\n        endPoint,\n        startArcs, startArc,\n        endArcs, endArc,\n        i, n;\n\n    // Does this arc match an existing arc in order?\n    if (startArcs = arcsByEnd.get(startPoint = coordinates[arc[0]])) {\n      for (i = 0, n = startArcs.length; i < n; ++i) {\n        startArc = startArcs[i];\n        if (equalLine(startArc, arc)) {\n          arc[0] = startArc[0];\n          arc[1] = startArc[1];\n          return;\n        }\n      }\n    }\n\n    // Does this arc match an existing arc in reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[1]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (reverseEqualLine(endArc, arc)) {\n          arc[1] = endArc[0];\n          arc[0] = endArc[1];\n          return;\n        }\n      }\n    }\n\n    if (startArcs) startArcs.push(arc); else arcsByEnd.set(startPoint, [arc]);\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function dedupRing(arc) {\n    var endPoint,\n        endArcs,\n        endArc,\n        i, n;\n\n    // Does this arc match an existing line in order, or reverse order?\n    // Rings are closed, so their start point and end point is the same.\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    // Otherwise, does this arc match an existing ring in order, or reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0] + findMinimumOffset(arc)])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function equalLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, ++ib) if (!equalPoint(coordinates[ia], coordinates[ib])) return false;\n    return true;\n  }\n\n  function reverseEqualLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, --jb) if (!equalPoint(coordinates[ia], coordinates[jb])) return false;\n    return true;\n  }\n\n  function equalRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[ib + (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  function reverseEqualRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = n - findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[jb - (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  // Rings are rotated to a consistent, but arbitrary, start point.\n  // This is necessary to detect when a ring and a rotated copy are dupes.\n  function findMinimumOffset(arc) {\n    var start = arc[0],\n        end = arc[1],\n        mid = start,\n        minimum = mid,\n        minimumPoint = coordinates[mid];\n    while (++mid < end) {\n      var point = coordinates[mid];\n      if (point[0] < minimumPoint[0] || point[0] === minimumPoint[0] && point[1] < minimumPoint[1]) {\n        minimum = mid;\n        minimumPoint = point;\n      }\n    }\n    return minimum - start;\n  }\n\n  return topology;\n};\n\n// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nvar delta = function(arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n};\n\n// Extracts the lines and rings from the specified hash of geometry objects.\n//\n// Returns an object with three properties:\n//\n// * coordinates - shared buffer of [x, y] coordinates\n// * lines - lines extracted from the hash, of the form [start, end]\n// * rings - rings extracted from the hash, of the form [start, end]\n//\n// For each ring or line, start and end represent inclusive indexes into the\n// coordinates buffer. For rings (and closed lines), coordinates[start] equals\n// coordinates[end].\n//\n// For each line or polygon geometry in the input hash, including nested\n// geometries as in geometry collections, the `coordinates` array is replaced\n// with an equivalent `arcs` array that, for each line (for line string\n// geometries) or ring (for polygon geometries), points to one of the above\n// lines or rings.\nvar extract = function(objects) {\n  var index = -1,\n      lines = [],\n      rings = [],\n      coordinates = [];\n\n  function extractGeometry(geometry) {\n    if (geometry && extractGeometryType.hasOwnProperty(geometry.type)) extractGeometryType[geometry.type](geometry);\n  }\n\n  var extractGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(extractGeometry); },\n    LineString: function(o) { o.arcs = extractLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(extractLine); },\n    Polygon: function(o) { o.arcs = o.arcs.map(extractRing); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(extractMultiRing); }\n  };\n\n  function extractLine(line) {\n    for (var i = 0, n = line.length; i < n; ++i) coordinates[++index] = line[i];\n    var arc = {0: index - n + 1, 1: index};\n    lines.push(arc);\n    return arc;\n  }\n\n  function extractRing(ring) {\n    for (var i = 0, n = ring.length; i < n; ++i) coordinates[++index] = ring[i];\n    var arc = {0: index - n + 1, 1: index};\n    rings.push(arc);\n    return arc;\n  }\n\n  function extractMultiRing(rings) {\n    return rings.map(extractRing);\n  }\n\n  for (var key in objects) {\n    extractGeometry(objects[key]);\n  }\n\n  return {\n    type: \"Topology\",\n    coordinates: coordinates,\n    lines: lines,\n    rings: rings,\n    objects: objects\n  };\n};\n\n// Given a hash of GeoJSON objects, returns a hash of GeoJSON geometry objects.\n// Any null input geometry objects are represented as {type: null} in the output.\n// Any feature.{id,properties,bbox} are transferred to the output geometry object.\n// Each output geometry object is a shallow copy of the input (e.g., properties, coordinates)!\nvar geometry$1 = function(inputs) {\n  var outputs = {}, key;\n  for (key in inputs) outputs[key] = geomifyObject(inputs[key]);\n  return outputs;\n};\n\nfunction geomifyObject(input) {\n  return input == null ? {type: null}\n      : (input.type === \"FeatureCollection\" ? geomifyFeatureCollection\n      : input.type === \"Feature\" ? geomifyFeature\n      : geomifyGeometry)(input);\n}\n\nfunction geomifyFeatureCollection(input) {\n  var output = {type: \"GeometryCollection\", geometries: input.features.map(geomifyFeature)};\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n\nfunction geomifyFeature(input) {\n  var output = geomifyGeometry(input.geometry), key; // eslint-disable-line no-unused-vars\n  if (input.id != null) output.id = input.id;\n  if (input.bbox != null) output.bbox = input.bbox;\n  for (key in input.properties) { output.properties = input.properties; break; }\n  return output;\n}\n\nfunction geomifyGeometry(input) {\n  if (input == null) return {type: null};\n  var output = input.type === \"GeometryCollection\" ? {type: \"GeometryCollection\", geometries: input.geometries.map(geomifyGeometry)}\n      : input.type === \"Point\" || input.type === \"MultiPoint\" ? {type: input.type, coordinates: input.coordinates}\n      : {type: input.type, arcs: input.coordinates}; // TODO Check for unknown types?\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n\nvar prequantize = function(objects, bbox, n) {\n  var x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3],\n      kx = x1 - x0 ? (n - 1) / (x1 - x0) : 1,\n      ky = y1 - y0 ? (n - 1) / (y1 - y0) : 1;\n\n  function quantizePoint(input) {\n    return [Math.round((input[0] - x0) * kx), Math.round((input[1] - y0) * ky)];\n  }\n\n  function quantizePoints(input, m) {\n    var i = -1,\n        j = 0,\n        n = input.length,\n        output = new Array(n), // pessimistic\n        pi,\n        px,\n        py,\n        x,\n        y;\n\n    while (++i < n) {\n      pi = input[i];\n      x = Math.round((pi[0] - x0) * kx);\n      y = Math.round((pi[1] - y0) * ky);\n      if (x !== px || y !== py) output[j++] = [px = x, py = y]; // non-coincident points\n    }\n\n    output.length = j;\n    while (j < m) j = output.push([output[0][0], output[0][1]]);\n    return output;\n  }\n\n  function quantizeLine(input) {\n    return quantizePoints(input, 2);\n  }\n\n  function quantizeRing(input) {\n    return quantizePoints(input, 4);\n  }\n\n  function quantizePolygon(input) {\n    return input.map(quantizeRing);\n  }\n\n  function quantizeGeometry(o) {\n    if (o != null && quantizeGeometryType.hasOwnProperty(o.type)) quantizeGeometryType[o.type](o);\n  }\n\n  var quantizeGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(quantizeGeometry); },\n    Point: function(o) { o.coordinates = quantizePoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates = o.coordinates.map(quantizePoint); },\n    LineString: function(o) { o.arcs = quantizeLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(quantizeLine); },\n    Polygon: function(o) { o.arcs = quantizePolygon(o.arcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(quantizePolygon); }\n  };\n\n  for (var key in objects) {\n    quantizeGeometry(objects[key]);\n  }\n\n  return {\n    scale: [1 / kx, 1 / ky],\n    translate: [x0, y0]\n  };\n};\n\n// Constructs the TopoJSON Topology for the specified hash of features.\n// Each object in the specified hash must be a GeoJSON object,\n// meaning FeatureCollection, a Feature or a geometry object.\nvar topology = function(objects, quantization) {\n  var bbox = bounds(objects = geometry$1(objects)),\n      transform = quantization > 0 && bbox && prequantize(objects, bbox, quantization),\n      topology = dedup$1(cut(extract(objects))),\n      coordinates = topology.coordinates,\n      indexByArc = hashmap(topology.arcs.length * 1.4, hashArc, equalArc);\n\n  objects = topology.objects; // for garbage collection\n  topology.bbox = bbox;\n  topology.arcs = topology.arcs.map(function(arc, i) {\n    indexByArc.set(arc, i);\n    return coordinates.slice(arc[0], arc[1] + 1);\n  });\n\n  delete topology.coordinates;\n  coordinates = null;\n\n  function indexGeometry(geometry) {\n    if (geometry && indexGeometryType.hasOwnProperty(geometry.type)) indexGeometryType[geometry.type](geometry);\n  }\n\n  var indexGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(indexGeometry); },\n    LineString: function(o) { o.arcs = indexArcs(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    Polygon: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(indexMultiArcs); }\n  };\n\n  function indexArcs(arc) {\n    var indexes = [];\n    do {\n      var index = indexByArc.get(arc);\n      indexes.push(arc[0] < arc[1] ? index : ~index);\n    } while (arc = arc.next);\n    return indexes;\n  }\n\n  function indexMultiArcs(arcs) {\n    return arcs.map(indexArcs);\n  }\n\n  for (var key in objects) {\n    indexGeometry(objects[key]);\n  }\n\n  if (transform) {\n    topology.transform = transform;\n    topology.arcs = delta(topology.arcs);\n  }\n\n  return topology;\n};\n\nfunction hashArc(arc) {\n  var i = arc[0], j = arc[1], t;\n  if (j < i) t = i, i = j, j = t;\n  return i + 31 * j;\n}\n\nfunction equalArc(arcA, arcB) {\n  var ia = arcA[0], ja = arcA[1],\n      ib = arcB[0], jb = arcB[1], t;\n  if (ja < ia) t = ia, ia = ja, ja = t;\n  if (jb < ib) t = ib, ib = jb, jb = t;\n  return ia === ib && ja === jb;\n}\n\n/**\n * Merges all connected (non-forking, non-junctioning) line strings into single lineStrings.\n * [LineString] -> LineString|MultiLineString\n *\n * @param {FeatureCollection<LineString|MultiLineString>} geojson Lines to dissolve\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.mutate=false] Prevent input mutation\n * @returns {Feature<LineString|MultiLineString>} Dissolved lines\n */\nfunction lineDissolve(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var mutate = options.mutate;\n\n    // Validation\n    if (getType(geojson) !== 'FeatureCollection') throw new Error('geojson must be a FeatureCollection');\n    if (!geojson.features.length) throw new Error('geojson is empty');\n\n    // Clone geojson to avoid side effects\n    if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n    var result = [];\n    var lastLine = lineReduce(geojson, function (previousLine, currentLine) {\n        // Attempt to merge this LineString with the other LineStrings, updating\n        // the reference as it is merged with others and grows.\n        var merged = mergeLineStrings(previousLine, currentLine);\n\n        // Accumulate the merged LineString\n        if (merged) return merged;\n\n        // Put the unmerged LineString back into the list\n        else {\n            result.push(previousLine);\n            return currentLine;\n        }\n    });\n    // Append the last line\n    if (lastLine) result.push(lastLine);\n\n    // Return null if no lines were dissolved\n    if (!result.length) return null;\n    // Return LineString if only 1 line was dissolved\n    else if (result.length === 1) return result[0];\n    // Return MultiLineString if multiple lines were dissolved with gaps\n    else return multiLineString(result.map(function (line) { return line.coordinates; }));\n}\n\n// [Number, Number] -> String\nfunction coordId(coord) {\n    return coord[0].toString() + ',' + coord[1].toString();\n}\n\n/**\n * LineString, LineString -> LineString\n *\n * @private\n * @param {Feature<LineString>} a line1\n * @param {Feature<LineString>} b line2\n * @returns {Feature<LineString>|null} Merged LineString\n */\nfunction mergeLineStrings(a, b) {\n    var coords1 = a.geometry.coordinates;\n    var coords2 = b.geometry.coordinates;\n\n    var s1 = coordId(coords1[0]);\n    var e1 = coordId(coords1[coords1.length - 1]);\n    var s2 = coordId(coords2[0]);\n    var e2 = coordId(coords2[coords2.length - 1]);\n\n    // TODO: handle case where more than one of these is true!\n    var coords;\n    if (s1 === e2) coords = coords2.concat(coords1.slice(1));\n    else if (s2 === e1) coords = coords1.concat(coords2.slice(1));\n    else if (s1 === s2) coords = coords1.slice(1).reverse().concat(coords2);\n    else if (e1 === e2) coords = coords1.concat(coords2.reverse().slice(1));\n    else return null;\n\n    return lineString(coords);\n}\n\n/**\n * Dissolves all overlapping (Multi)Polygon\n *\n * @param {FeatureCollection<Polygon|MultiPolygon>} geojson Polygons to dissolve\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.mutate=false] Prevent input mutation\n * @returns {Feature<Polygon|MultiPolygon>} Dissolved Polygons\n */\nfunction polygonDissolve(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var mutate = options.mutate;\n\n    // Validation\n    if (getType(geojson) !== 'FeatureCollection') throw new Error('geojson must be a FeatureCollection');\n    if (!geojson.features.length) throw new Error('geojson is empty');\n\n    // Clone geojson to avoid side effects\n    // Topojson modifies in place, so we need to deep clone first\n    if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n    var geoms = [];\n    flattenEach(geojson, function (feature$$1) {\n        geoms.push(feature$$1.geometry);\n    });\n    var topo = topology({geoms: geometryCollection(geoms).geometry});\n    return merge(topo, topo.objects.geoms.geometries);\n}\n\n/**\n * Transform function: attempts to dissolve geojson objects where possible\n * [GeoJSON] -> GeoJSON geometry\n *\n * @private\n * @param {FeatureCollection<LineString|MultiLineString|Polygon|MultiPolygon>} geojson Features to dissolved\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.mutate=false] Prevent input mutation\n * @returns {Feature<MultiLineString|MultiPolygon>} Dissolved Features\n */\nfunction dissolve(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var mutate = options.mutate;\n\n    // Validation\n    if (getType(geojson) !== 'FeatureCollection') throw new Error('geojson must be a FeatureCollection');\n    if (!geojson.features.length) throw new Error('geojson is empty');\n\n    // Clone geojson to avoid side effects\n    // Topojson modifies in place, so we need to deep clone first\n    if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n    // Assert homogenity\n    var type = getHomogenousType(geojson);\n    if (!type) throw new Error('geojson must be homogenous');\n\n    switch (type) {\n    case 'LineString':\n        return lineDissolve(geojson, options);\n    case 'Polygon':\n        return polygonDissolve(geojson, options);\n    default:\n        throw new Error(type + ' is not supported');\n    }\n}\n\n/**\n * Checks if GeoJSON is Homogenous\n *\n * @private\n * @param {GeoJSON} geojson GeoJSON\n * @returns {string|null} Homogenous type or null if multiple types\n */\nfunction getHomogenousType(geojson) {\n    var types = {};\n    flattenEach(geojson, function (feature$$1) {\n        types[feature$$1.geometry.type] = true;\n    });\n    var keys = Object.keys(types);\n    if (keys.length === 1) return keys[0];\n    return null;\n}\n\n/**\n * Takes a set of {@link Point|points} and returns a concave hull Polygon or MultiPolygon.\n * Internally, this uses [turf-tin](https://github.com/Turfjs/turf-tin) to generate geometries.\n *\n * @name concave\n * @param {FeatureCollection<Point>} points input points\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.maxEdge=Infinity] the length (in 'units') of an edge necessary for part of the hull to become concave.\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {Feature<(Polygon|MultiPolygon)>|null} a concave hull (null value is returned if unable to compute hull)\n * @example\n * var points = turf.featureCollection([\n *   turf.point([-63.601226, 44.642643]),\n *   turf.point([-63.591442, 44.651436]),\n *   turf.point([-63.580799, 44.648749]),\n *   turf.point([-63.573589, 44.641788]),\n *   turf.point([-63.587665, 44.64533]),\n *   turf.point([-63.595218, 44.64765])\n * ]);\n * var options = {units: 'miles', maxEdge: 1};\n *\n * var hull = turf.concave(points, options);\n *\n * //addToMap\n * var addToMap = [points, hull]\n */\nfunction concave(points$$1, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n\n    // validation\n    if (!points$$1) throw new Error('points is required');\n    var maxEdge = options.maxEdge || Infinity;\n    if (!isNumber(maxEdge)) throw new Error('maxEdge is invalid');\n\n    var cleaned = removeDuplicates(points$$1);\n\n    var tinPolys = tin(cleaned);\n    // calculate length of all edges and area of all triangles\n    // and remove triangles that fail the max length test\n    tinPolys.features = tinPolys.features.filter(function (triangle) {\n        var pt1 = triangle.geometry.coordinates[0][0];\n        var pt2 = triangle.geometry.coordinates[0][1];\n        var pt3 = triangle.geometry.coordinates[0][2];\n        var dist1 = distance(pt1, pt2, options);\n        var dist2 = distance(pt2, pt3, options);\n        var dist3 = distance(pt1, pt3, options);\n        return (dist1 <= maxEdge && dist2 <= maxEdge && dist3 <= maxEdge);\n    });\n\n    if (tinPolys.features.length < 1) return null;\n\n    // merge the adjacent triangles\n    var dissolved = dissolve(tinPolys, options);\n\n    // geojson-dissolve always returns a MultiPolygon\n    if (dissolved.coordinates.length === 1) {\n        dissolved.coordinates = dissolved.coordinates[0];\n        dissolved.type = 'Polygon';\n    }\n    return feature(dissolved);\n}\n\n/**\n * Removes duplicated points in a collection returning a new collection\n *\n * @private\n * @param {FeatureCollection<Point>} points to be cleaned\n * @returns {FeatureCollection<Point>} cleaned set of points\n */\nfunction removeDuplicates(points$$1) {\n    var cleaned = [];\n    var existing = {};\n\n    featureEach(points$$1, function (pt) {\n        if (!pt.geometry) return;\n        var key = pt.geometry.coordinates.join('-');\n        if (!existing.hasOwnProperty(key)) {\n            cleaned.push(pt);\n            existing[key] = true;\n        }\n    });\n    return featureCollection(cleaned);\n}\n\n/**\n * Merges a specified property from a FeatureCollection of points into a\n * FeatureCollection of polygons. Given an `inProperty` on points and an `outProperty`\n * for polygons, this finds every point that lies within each polygon, collects the\n * `inProperty` values from those points, and adds them as an array to `outProperty`\n * on the polygon.\n *\n * @name collect\n * @param {FeatureCollection<Polygon>} polygons polygons with values on which to aggregate\n * @param {FeatureCollection<Point>} points points to be aggregated\n * @param {string} inProperty property to be nested from\n * @param {string} outProperty property to be nested into\n * @returns {FeatureCollection<Polygon>} polygons with properties listed based on `outField`\n * @example\n * var poly1 = turf.polygon([[[0,0],[10,0],[10,10],[0,10],[0,0]]]);\n * var poly2 = turf.polygon([[[10,0],[20,10],[20,20],[20,0],[10,0]]]);\n * var polyFC = turf.featureCollection([poly1, poly2]);\n * var pt1 = turf.point([5,5], {population: 200});\n * var pt2 = turf.point([1,3], {population: 600});\n * var pt3 = turf.point([14,2], {population: 100});\n * var pt4 = turf.point([13,1], {population: 200});\n * var pt5 = turf.point([19,7], {population: 300});\n * var pointFC = turf.featureCollection([pt1, pt2, pt3, pt4, pt5]);\n * var collected = turf.collect(polyFC, pointFC, 'population', 'values');\n * var values = collected.features[0].properties.values\n * //=values => [200, 600]\n *\n * //addToMap\n * var addToMap = [pointFC, collected]\n */\nfunction collect(polygons, points, inProperty, outProperty) {\n    var rtree = rbush_1(6);\n\n    var treeItems = points.features.map(function (item) {\n        return {\n            minX: item.geometry.coordinates[0],\n            minY: item.geometry.coordinates[1],\n            maxX: item.geometry.coordinates[0],\n            maxY: item.geometry.coordinates[1],\n            property: item.properties[inProperty]\n        };\n    });\n\n    rtree.load(treeItems);\n    polygons.features.forEach(function (poly) {\n\n        if (!poly.properties) {\n            poly.properties = {};\n        }\n        var bbox$$1 = bbox(poly);\n        var potentialPoints = rtree.search({minX: bbox$$1[0], minY: bbox$$1[1], maxX: bbox$$1[2], maxY: bbox$$1[3]});\n        var values = [];\n        potentialPoints.forEach(function (pt) {\n            if (booleanPointInPolygon([pt.minX, pt.minY], poly)) {\n                values.push(pt.property);\n            }\n        });\n\n        poly.properties[outProperty] = values;\n    });\n\n    return polygons;\n}\n\n/**\n * Takes input features and flips all of their coordinates from `[x, y]` to `[y, x]`.\n *\n * @name flip\n * @param {GeoJSON} geojson input features\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} a feature or set of features of the same type as `input` with flipped coordinates\n * @example\n * var serbia = turf.point([20.566406, 43.421008]);\n *\n * var saudiArabia = turf.flip(serbia);\n *\n * //addToMap\n * var addToMap = [serbia, saudiArabia];\n */\nfunction flip(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var mutate = options.mutate;\n\n    if (!geojson) throw new Error('geojson is required');\n    // ensure that we don't modify features in-place and changes to the\n    // output do not change the previous feature, including changes to nested\n    // properties.\n    if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n    coordEach(geojson, function (coord) {\n        var x = coord[0];\n        var y = coord[1];\n        coord[0] = y;\n        coord[1] = x;\n    });\n    return geojson;\n}\n\n/**\n * Removes redundant coordinates from any GeoJSON Geometry.\n *\n * @name cleanCoords\n * @param {Geometry|Feature} geojson Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated\n * @returns {Geometry|Feature} the cleaned input Feature/Geometry\n * @example\n * var line = turf.lineString([[0, 0], [0, 2], [0, 5], [0, 8], [0, 8], [0, 10]]);\n * var multiPoint = turf.multiPoint([[0, 0], [0, 0], [2, 2]]);\n *\n * turf.cleanCoords(line).geometry.coordinates;\n * //= [[0, 0], [0, 10]]\n *\n * turf.cleanCoords(multiPoint).geometry.coordinates;\n * //= [[0, 0], [2, 2]]\n */\nfunction cleanCoords(geojson, options) {\n    // Backwards compatible with v4.0\n    var mutate = (typeof options === 'object') ? options.mutate : options;\n    if (!geojson) throw new Error('geojson is required');\n    var type = getType(geojson);\n\n    // Store new \"clean\" points in this Array\n    var newCoords = [];\n\n    switch (type) {\n    case 'LineString':\n        newCoords = cleanLine(geojson);\n        break;\n    case 'MultiLineString':\n    case 'Polygon':\n        getCoords(geojson).forEach(function (line) {\n            newCoords.push(cleanLine(line));\n        });\n        break;\n    case 'MultiPolygon':\n        getCoords(geojson).forEach(function (polygons$$1) {\n            var polyPoints = [];\n            polygons$$1.forEach(function (ring) {\n                polyPoints.push(cleanLine(ring));\n            });\n            newCoords.push(polyPoints);\n        });\n        break;\n    case 'Point':\n        return geojson;\n    case 'MultiPoint':\n        var existing = {};\n        getCoords(geojson).forEach(function (coord) {\n            var key = coord.join('-');\n            if (!existing.hasOwnProperty(key)) {\n                newCoords.push(coord);\n                existing[key] = true;\n            }\n        });\n        break;\n    default:\n        throw new Error(type + ' geometry not supported');\n    }\n\n    // Support input mutation\n    if (geojson.coordinates) {\n        if (mutate === true) {\n            geojson.coordinates = newCoords;\n            return geojson;\n        }\n        return {type: type, coordinates: newCoords};\n    } else {\n        if (mutate === true) {\n            geojson.geometry.coordinates = newCoords;\n            return geojson;\n        }\n        return feature({type: type, coordinates: newCoords}, geojson.properties, geojson.bbox, geojson.id);\n    }\n}\n\n/**\n * Clean Coords\n *\n * @private\n * @param {Array<number>|LineString} line Line\n * @returns {Array<number>} Cleaned coordinates\n */\nfunction cleanLine(line) {\n    var points$$1 = getCoords(line);\n    // handle \"clean\" segment\n    if (points$$1.length === 2 && !equals(points$$1[0], points$$1[1])) return points$$1;\n\n    var prevPoint, point$$1, nextPoint;\n    var newPoints = [];\n    var secondToLast = points$$1.length - 1;\n\n    newPoints.push(points$$1[0]);\n    for (var i = 1; i < secondToLast; i++) {\n        prevPoint = points$$1[i - 1];\n        point$$1 = points$$1[i];\n        nextPoint = points$$1[i + 1];\n\n        if (!isPointOnLineSegment(prevPoint, nextPoint, point$$1)) {\n            newPoints.push(point$$1);\n        }\n    }\n    newPoints.push(nextPoint);\n    return newPoints;\n}\n\n/**\n * Compares two points and returns if they are equals\n *\n * @private\n * @param {Position} pt1 point\n * @param {Position} pt2 point\n * @returns {boolean} true if they are equals\n */\nfunction equals(pt1, pt2) {\n    return pt1[0] === pt2[0] && pt1[1] === pt2[1];\n}\n\n/**\n * Returns if `point` is on the segment between `start` and `end`.\n * Borrowed from `@turf/boolean-point-on-line` to speed up the evaluation (instead of using the module as dependency)\n *\n * @private\n * @param {Position} start coord pair of start of line\n * @param {Position} end coord pair of end of line\n * @param {Position} point coord pair of point to check\n * @returns {boolean} true/false\n */\nfunction isPointOnLineSegment(start, end, point$$1) {\n    var x = point$$1[0], y = point$$1[1];\n    var startX = start[0], startY = start[1];\n    var endX = end[0], endY = end[1];\n\n    var dxc = x - startX;\n    var dyc = y - startY;\n    var dxl = endX - startX;\n    var dyl = endY - startY;\n    var cross = dxc * dyl - dyc * dxl;\n\n    if (cross !== 0) return false;\n    else if (Math.abs(dxl) >= Math.abs(dyl)) return dxl > 0 ? startX <= x && x <= endX : endX <= x && x <= startX;\n    else return dyl > 0 ? startY <= y && y <= endY : endY <= y && y <= startY;\n}\n\n/*\n (c) 2013, Vladimir Agafonkin\n Simplify.js, a high-performance JS polyline simplification library\n mourner.github.io/simplify-js\n*/\n\n// to suit your point format, run search/replace for '.x' and '.y';\n// for 3D version, see 3d branch (configurability would draw significant performance overhead)\n\n// square distance between 2 points\nfunction getSqDist$1(p1, p2) {\n\n    var dx = p1.x - p2.x,\n        dy = p1.y - p2.y;\n\n    return dx * dx + dy * dy;\n}\n\n// square distance from a point to a segment\nfunction getSqSegDist(p, p1, p2) {\n\n    var x = p1.x,\n        y = p1.y,\n        dx = p2.x - x,\n        dy = p2.y - y;\n\n    if (dx !== 0 || dy !== 0) {\n\n        var t = ((p.x - x) * dx + (p.y - y) * dy) / (dx * dx + dy * dy);\n\n        if (t > 1) {\n            x = p2.x;\n            y = p2.y;\n\n        } else if (t > 0) {\n            x += dx * t;\n            y += dy * t;\n        }\n    }\n\n    dx = p.x - x;\n    dy = p.y - y;\n\n    return dx * dx + dy * dy;\n}\n// rest of the code doesn't care about point format\n\n// basic distance-based simplification\nfunction simplifyRadialDist(points$$1, sqTolerance) {\n\n    var prevPoint = points$$1[0],\n        newPoints = [prevPoint],\n        point$$1;\n\n    for (var i = 1, len = points$$1.length; i < len; i++) {\n        point$$1 = points$$1[i];\n\n        if (getSqDist$1(point$$1, prevPoint) > sqTolerance) {\n            newPoints.push(point$$1);\n            prevPoint = point$$1;\n        }\n    }\n\n    if (prevPoint !== point$$1) newPoints.push(point$$1);\n\n    return newPoints;\n}\n\nfunction simplifyDPStep(points$$1, first, last, sqTolerance, simplified) {\n    var maxSqDist = sqTolerance,\n        index;\n\n    for (var i = first + 1; i < last; i++) {\n        var sqDist = getSqSegDist(points$$1[i], points$$1[first], points$$1[last]);\n\n        if (sqDist > maxSqDist) {\n            index = i;\n            maxSqDist = sqDist;\n        }\n    }\n\n    if (maxSqDist > sqTolerance) {\n        if (index - first > 1) simplifyDPStep(points$$1, first, index, sqTolerance, simplified);\n        simplified.push(points$$1[index]);\n        if (last - index > 1) simplifyDPStep(points$$1, index, last, sqTolerance, simplified);\n    }\n}\n\n// simplification using Ramer-Douglas-Peucker algorithm\nfunction simplifyDouglasPeucker(points$$1, sqTolerance) {\n    var last = points$$1.length - 1;\n\n    var simplified = [points$$1[0]];\n    simplifyDPStep(points$$1, 0, last, sqTolerance, simplified);\n    simplified.push(points$$1[last]);\n\n    return simplified;\n}\n\n// both algorithms combined for awesome performance\nfunction simplify$2(points$$1, tolerance, highestQuality) {\n\n    if (points$$1.length <= 2) return points$$1;\n\n    var sqTolerance = tolerance !== undefined ? tolerance * tolerance : 1;\n\n    points$$1 = highestQuality ? points$$1 : simplifyRadialDist(points$$1, sqTolerance);\n    points$$1 = simplifyDouglasPeucker(points$$1, sqTolerance);\n\n    return points$$1;\n}\n\n/**\n * Takes a {@link GeoJSON} object and returns a simplified version. Internally uses\n * [simplify-js](http://mourner.github.io/simplify-js/) to perform simplification using the Ramer-Douglas-Peucker algorithm.\n *\n * @name simplify\n * @param {GeoJSON} geojson object to be simplified\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.tolerance=1] simplification tolerance\n * @param {boolean} [options.highQuality=false] whether or not to spend more time to create a higher-quality simplification with a different algorithm\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} a simplified GeoJSON\n * @example\n * var geojson = turf.polygon([[\n *   [-70.603637, -33.399918],\n *   [-70.614624, -33.395332],\n *   [-70.639343, -33.392466],\n *   [-70.659942, -33.394759],\n *   [-70.683975, -33.404504],\n *   [-70.697021, -33.419406],\n *   [-70.701141, -33.434306],\n *   [-70.700454, -33.446339],\n *   [-70.694274, -33.458369],\n *   [-70.682601, -33.465816],\n *   [-70.668869, -33.472117],\n *   [-70.646209, -33.473835],\n *   [-70.624923, -33.472117],\n *   [-70.609817, -33.468107],\n *   [-70.595397, -33.458369],\n *   [-70.587158, -33.442901],\n *   [-70.587158, -33.426283],\n *   [-70.590591, -33.414248],\n *   [-70.594711, -33.406224],\n *   [-70.603637, -33.399918]\n * ]]);\n * var options = {tolerance: 0.01, highQuality: false};\n * var simplified = turf.simplify(geojson, options);\n *\n * //addToMap\n * var addToMap = [geojson, simplified]\n */\nfunction simplify(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var tolerance = options.tolerance !== undefined ? options.tolerance : 1;\n    var highQuality = options.highQuality || false;\n    var mutate = options.mutate || false;\n\n    if (!geojson) throw new Error('geojson is required');\n    if (tolerance && tolerance < 0) throw new Error('invalid tolerance');\n\n    // Clone geojson to avoid side effects\n    if (mutate !== true) geojson = clone(geojson);\n\n    geomEach(geojson, function (geom) {\n        simplifyGeom(geom, tolerance, highQuality);\n    });\n    return geojson;\n}\n\n/**\n * Simplifies a feature's coordinates\n *\n * @private\n * @param {Geometry} geometry to be simplified\n * @param {number} [tolerance=1] simplification tolerance\n * @param {boolean} [highQuality=false] whether or not to spend more time to create a higher-quality simplification with a different algorithm\n * @returns {Geometry} output\n */\nfunction simplifyGeom(geometry$$1, tolerance, highQuality) {\n    var type = geometry$$1.type;\n\n    // \"unsimplyfiable\" geometry types\n    if (type === 'Point' || type === 'MultiPoint') return geometry$$1;\n\n    // Remove any extra coordinates\n    cleanCoords(geometry$$1, true);\n\n    var coordinates = geometry$$1.coordinates;\n    switch (type) {\n    case 'LineString':\n        geometry$$1['coordinates'] = simplifyLine(coordinates, tolerance, highQuality);\n        break;\n    case 'MultiLineString':\n        geometry$$1['coordinates'] = coordinates.map(function (lines) {\n            return simplifyLine(lines, tolerance, highQuality);\n        });\n        break;\n    case 'Polygon':\n        geometry$$1['coordinates'] = simplifyPolygon(coordinates, tolerance, highQuality);\n        break;\n    case 'MultiPolygon':\n        geometry$$1['coordinates'] = coordinates.map(function (rings) {\n            return simplifyPolygon(rings, tolerance, highQuality);\n        });\n    }\n    return geometry$$1;\n}\n\n\n/**\n * Simplifies the coordinates of a LineString with simplify-js\n *\n * @private\n * @param {Array<number>} coordinates to be processed\n * @param {number} tolerance simplification tolerance\n * @param {boolean} highQuality whether or not to spend more time to create a higher-quality\n * @returns {Array<Array<number>>} simplified coords\n */\nfunction simplifyLine(coordinates, tolerance, highQuality) {\n    return simplify$2(coordinates.map(function (coord) {\n        return {x: coord[0], y: coord[1], z: coord[2]};\n    }), tolerance, highQuality).map(function (coords) {\n        return (coords.z) ? [coords.x, coords.y, coords.z] : [coords.x, coords.y];\n    });\n}\n\n\n/**\n * Simplifies the coordinates of a Polygon with simplify-js\n *\n * @private\n * @param {Array<number>} coordinates to be processed\n * @param {number} tolerance simplification tolerance\n * @param {boolean} highQuality whether or not to spend more time to create a higher-quality\n * @returns {Array<Array<Array<number>>>} simplified coords\n */\nfunction simplifyPolygon(coordinates, tolerance, highQuality) {\n    return coordinates.map(function (ring) {\n        var pts = ring.map(function (coord) {\n            return {x: coord[0], y: coord[1]};\n        });\n        if (pts.length < 4) {\n            throw new Error('invalid polygon');\n        }\n        var simpleRing = simplify$2(pts, tolerance, highQuality).map(function (coords) {\n            return [coords.x, coords.y];\n        });\n        //remove 1 percent of tolerance until enough points to make a triangle\n        while (!checkValidity(simpleRing)) {\n            tolerance -= tolerance * 0.01;\n            simpleRing = simplify$2(pts, tolerance, highQuality).map(function (coords) {\n                return [coords.x, coords.y];\n            });\n        }\n        if (\n            (simpleRing[simpleRing.length - 1][0] !== simpleRing[0][0]) ||\n            (simpleRing[simpleRing.length - 1][1] !== simpleRing[0][1])) {\n            simpleRing.push(simpleRing[0]);\n        }\n        return simpleRing;\n    });\n}\n\n\n/**\n * Returns true if ring has at least 3 coordinates and its first coordinate is the same as its last\n *\n * @private\n * @param {Array<number>} ring coordinates to be checked\n * @returns {boolean} true if valid\n */\nfunction checkValidity(ring) {\n    if (ring.length < 3) return false;\n    //if the last point is the same as the first, it's not a triangle\n    return !(ring.length === 3 && ((ring[2][0] === ring[0][0]) && (ring[2][1] === ring[0][1])));\n}\n\n/* eslint-disable */\n\n /**\n   * BezierSpline\n   * https://github.com/leszekr/bezier-spline-js\n   *\n   * @private\n   * @copyright\n   * Copyright (c) 2013 Leszek Rybicki\n   *\n   * Permission is hereby granted, free of charge, to any person obtaining a copy\n   * of this software and associated documentation files (the \"Software\"), to deal\n   * in the Software without restriction, including without limitation the rights\n   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n   * copies of the Software, and to permit persons to whom the Software is\n   * furnished to do so, subject to the following conditions:\n   *\n   * The above copyright notice and this permission notice shall be included in all\n   * copies or substantial portions of the Software.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n   * SOFTWARE.\n   */\nvar Spline = function (options) {\n    this.points = options.points || [];\n    this.duration = options.duration || 10000;\n    this.sharpness = options.sharpness || 0.85;\n    this.centers = [];\n    this.controls = [];\n    this.stepLength = options.stepLength || 60;\n    this.length = this.points.length;\n    this.delay = 0;\n    // this is to ensure compatibility with the 2d version\n    for (var i = 0; i < this.length; i++) this.points[i].z = this.points[i].z || 0;\n    for (var i = 0; i < this.length - 1; i++) {\n        var p1 = this.points[i];\n        var p2 = this.points[i + 1];\n        this.centers.push({\n            x: (p1.x + p2.x) / 2,\n            y: (p1.y + p2.y) / 2,\n            z: (p1.z + p2.z) / 2\n        });\n    }\n    this.controls.push([this.points[0], this.points[0]]);\n    for (var i = 0; i < this.centers.length - 1; i++) {\n        var p1 = this.centers[i];\n        var p2 = this.centers[i + 1];\n        var dx = this.points[i + 1].x - (this.centers[i].x + this.centers[i + 1].x) / 2;\n        var dy = this.points[i + 1].y - (this.centers[i].y + this.centers[i + 1].y) / 2;\n        var dz = this.points[i + 1].z - (this.centers[i].y + this.centers[i + 1].z) / 2;\n        this.controls.push([{\n            x: (1.0 - this.sharpness) * this.points[i + 1].x + this.sharpness * (this.centers[i].x + dx),\n            y: (1.0 - this.sharpness) * this.points[i + 1].y + this.sharpness * (this.centers[i].y + dy),\n            z: (1.0 - this.sharpness) * this.points[i + 1].z + this.sharpness * (this.centers[i].z + dz)},\n            {\n                x: (1.0 - this.sharpness) * this.points[i + 1].x + this.sharpness * (this.centers[i + 1].x + dx),\n                y: (1.0 - this.sharpness) * this.points[i + 1].y + this.sharpness * (this.centers[i + 1].y + dy),\n                z: (1.0 - this.sharpness) * this.points[i + 1].z + this.sharpness * (this.centers[i + 1].z + dz)}]);\n    }\n    this.controls.push([this.points[this.length - 1], this.points[this.length - 1]]);\n    this.steps = this.cacheSteps(this.stepLength);\n    return this;\n};\n\n  /*\n    Caches an array of equidistant (more or less) points on the curve.\n  */\nSpline.prototype.cacheSteps = function (mindist) {\n    var steps = [];\n    var laststep = this.pos(0);\n    steps.push(0);\n    for (var t = 0; t < this.duration; t += 10) {\n        var step = this.pos(t);\n        var dist = Math.sqrt((step.x - laststep.x) * (step.x - laststep.x) + (step.y - laststep.y) * (step.y - laststep.y) + (step.z - laststep.z) * (step.z - laststep.z));\n        if (dist > mindist) {\n            steps.push(t);\n            laststep = step;\n        }\n    }\n    return steps;\n};\n\n  /*\n    returns angle and speed in the given point in the curve\n  */\nSpline.prototype.vector = function (t) {\n    var p1 = this.pos(t + 10);\n    var p2 = this.pos(t - 10);\n    return {\n        angle:180 * Math.atan2(p1.y - p2.y, p1.x - p2.x) / 3.14,\n        speed:Math.sqrt((p2.x - p1.x) * (p2.x - p1.x) + (p2.y - p1.y) * (p2.y - p1.y) + (p2.z - p1.z) * (p2.z - p1.z))\n    };\n};\n\n  /*\n    Gets the position of the point, given time.\n\n    WARNING: The speed is not constant. The time it takes between control points is constant.\n\n    For constant speed, use Spline.steps[i];\n  */\nSpline.prototype.pos = function (time) {\n\n    function bezier(t, p1, c1, c2, p2) {\n        var B = function (t) {\n            var t2 = t * t, t3 = t2 * t;\n            return [(t3), (3 * t2 * (1 - t)), (3 * t * (1 - t) * (1 - t)), ((1 - t) * (1 - t) * (1 - t))];\n        };\n        var b = B(t);\n        var pos = {\n            x : p2.x * b[0] + c2.x * b[1] + c1.x * b[2] + p1.x * b[3],\n            y : p2.y * b[0] + c2.y * b[1] + c1.y * b[2] + p1.y * b[3],\n            z : p2.z * b[0] + c2.z * b[1] + c1.z * b[2] + p1.z * b[3]\n        };\n        return pos;\n    }\n    var t = time - this.delay;\n    if (t < 0) t = 0;\n    if (t > this.duration) t = this.duration - 1;\n    //t = t-this.delay;\n    var t2 = (t) / this.duration;\n    if (t2 >= 1) return this.points[this.length - 1];\n\n    var n = Math.floor((this.points.length - 1) * t2);\n    var t1 = (this.length - 1) * t2 - n;\n    return bezier(t1, this.points[n], this.controls[n][1], this.controls[n + 1][0], this.points[n + 1]);\n};\n\n/**\n * Takes a {@link LineString|line} and returns a curved version\n * by applying a [Bezier spline](http://en.wikipedia.org/wiki/B%C3%A9zier_spline)\n * algorithm.\n *\n * The bezier spline implementation is by [Leszek Rybicki](http://leszek.rybicki.cc/).\n *\n * @name bezierSpline\n * @param {Feature<LineString>} line input LineString\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.resolution=10000] time in milliseconds between points\n * @param {number} [options.sharpness=0.85] a measure of how curvy the path should be between splines\n * @returns {Feature<LineString>} curved line\n * @example\n * var line = turf.lineString([\n *   [-76.091308, 18.427501],\n *   [-76.695556, 18.729501],\n *   [-76.552734, 19.40443],\n *   [-74.61914, 19.134789],\n *   [-73.652343, 20.07657],\n *   [-73.157958, 20.210656]\n * ]);\n *\n * var curved = turf.bezierSpline(line);\n *\n * //addToMap\n * var addToMap = [line, curved]\n * curved.properties = { stroke: '#0F0' };\n */\nfunction bezier(line, options) {\n    // Optional params\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var resolution = options.resolution || 10000;\n    var sharpness = options.sharpness || 0.85;\n\n    // validation\n    if (!line) throw new Error('line is required');\n    if (!isNumber(resolution)) throw new Error('resolution must be an number');\n    if (!isNumber(sharpness)) throw new Error('sharpness must be an number');\n\n    var coords = [];\n    var spline = new Spline({\n        points: getGeom(line).coordinates.map(function (pt) {\n            return {x: pt[0], y: pt[1]};\n        }),\n        duration: resolution,\n        sharpness: sharpness\n    });\n\n    for (var i = 0; i < spline.duration; i += 10) {\n        var pos = spline.pos(i);\n        if (Math.floor(i / 100) % 2 === 0) {\n            coords.push([pos.x, pos.y]);\n        }\n    }\n\n    return lineString(coords, line.properties);\n}\n\n/**\n * Takes a set of {@link Point|points} and a set of {@link Polygon|polygons} and performs a spatial join.\n *\n * @name tag\n * @param {FeatureCollection<Point>} points input points\n * @param {FeatureCollection<Polygon>} polygons input polygons\n * @param {string} field property in `polygons` to add to joined {<Point>} features\n * @param {string} outField property in `points` in which to store joined property from `polygons`\n * @returns {FeatureCollection<Point>} points with `containingPolyId` property containing values from `polyId`\n * @example\n * var pt1 = turf.point([-77, 44]);\n * var pt2 = turf.point([-77, 38]);\n * var poly1 = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]], {pop: 3000});\n * var poly2 = turf.polygon([[\n *   [-81, 35],\n *   [-81, 41],\n *   [-72, 41],\n *   [-72, 35],\n *   [-81, 35]\n * ]], {pop: 1000});\n *\n * var points = turf.featureCollection([pt1, pt2]);\n * var polygons = turf.featureCollection([poly1, poly2]);\n *\n * var tagged = turf.tag(points, polygons, 'pop', 'population');\n *\n * //addToMap\n * var addToMap = [tagged, polygons]\n */\nfunction tag(points, polygons, field, outField) {\n    // prevent mutations\n    points = clone(points);\n    polygons = clone(polygons);\n    featureEach(points, function (pt) {\n        if (!pt.properties) pt.properties = {};\n        featureEach(polygons, function (poly) {\n            if (pt.properties[outField] === undefined) {\n                if (booleanPointInPolygon(pt, poly)) pt.properties[outField] = poly.properties[field];\n            }\n        });\n    });\n    return points;\n}\n\n// http://stackoverflow.com/questions/11935175/sampling-a-random-subset-from-an-array\n/**\n * Takes a {@link FeatureCollection} and returns a FeatureCollection with given number of {@link Feature|features} at random.\n *\n * @name sample\n * @param {FeatureCollection} featurecollection set of input features\n * @param {number} num number of features to select\n * @returns {FeatureCollection} a FeatureCollection with `n` features\n * @example\n * var points = turf.randomPoint(100, {bbox: [-80, 30, -60, 60]});\n *\n * var sample = turf.sample(points, 5);\n *\n * //addToMap\n * var addToMap = [points, sample]\n * turf.featureEach(sample, function (currentFeature) {\n *   currentFeature.properties['marker-size'] = 'large';\n *   currentFeature.properties['marker-color'] = '#000';\n * });\n */\nfunction sample(featurecollection, num) {\n    if (!featurecollection) throw new Error('featurecollection is required');\n    if (num === null || num === undefined) throw new Error('num is required');\n    if (typeof num !== 'number') throw new Error('num must be a number');\n\n    var outFC = featureCollection(getRandomSubarray(featurecollection.features, num));\n    return outFC;\n}\n\nfunction getRandomSubarray(arr, size) {\n    var shuffled = arr.slice(0), i = arr.length, min = i - size, temp, index;\n    while (i-- > min) {\n        index = Math.floor((i + 1) * Math.random());\n        temp = shuffled[index];\n        shuffled[index] = shuffled[i];\n        shuffled[i] = temp;\n    }\n    return shuffled.slice(min);\n}\n\n/**\n * Takes a bbox and returns an equivalent {@link Polygon|polygon}.\n *\n * @name bboxPolygon\n * @param {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @returns {Feature<Polygon>} a Polygon representation of the bounding box\n * @example\n * var bbox = [0, 0, 10, 10];\n *\n * var poly = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [poly]\n */\nfunction bboxPolygon(bbox) {\n    validateBBox(bbox);\n    // Convert BBox positions to Numbers\n    // No performance loss for including Number()\n    // https://github.com/Turfjs/turf/issues/1119\n    var west = Number(bbox[0]);\n    var south = Number(bbox[1]);\n    var east = Number(bbox[2]);\n    var north = Number(bbox[3]);\n\n    if (bbox.length === 6) throw new Error('@turf/bbox-polygon does not support BBox with 6 positions');\n\n    var lowLeft = [west, south];\n    var topLeft = [west, north];\n    var topRight = [east, north];\n    var lowRight = [east, south];\n\n    return polygon([[\n        lowLeft,\n        lowRight,\n        topRight,\n        topLeft,\n        lowLeft\n    ]]);\n}\n\n/**\n * Takes any number of features and returns a rectangular {@link Polygon} that encompasses all vertices.\n *\n * @name envelope\n * @param {GeoJSON} geojson input features\n * @returns {Feature<Polygon>} a rectangular Polygon feature that encompasses all vertices\n * @example\n * var features = turf.featureCollection([\n *   turf.point([-75.343, 39.984], {\"name\": \"Location A\"}),\n *   turf.point([-75.833, 39.284], {\"name\": \"Location B\"}),\n *   turf.point([-75.534, 39.123], {\"name\": \"Location C\"})\n * ]);\n *\n * var enveloped = turf.envelope(features);\n *\n * //addToMap\n * var addToMap = [features, enveloped];\n */\nfunction envelope(geojson) {\n    return bboxPolygon(bbox(geojson));\n}\n\n/**\n * Takes a bounding box and calculates the minimum square bounding box that\n * would contain the input.\n *\n * @name square\n * @param {BBox} bbox extent in [west, south, east, north] order\n * @returns {BBox} a square surrounding `bbox`\n * @example\n * var bbox = [-20, -20, -15, 0];\n * var squared = turf.square(bbox);\n *\n * //addToMap\n * var addToMap = [turf.bboxPolygon(bbox), turf.bboxPolygon(squared)]\n */\nfunction square(bbox) {\n    var west = bbox[0];\n    var south = bbox[1];\n    var east = bbox[2];\n    var north = bbox[3];\n\n    var horizontalDistance = distance(bbox.slice(0, 2), [east, south]);\n    var verticalDistance = distance(bbox.slice(0, 2), [west, north]);\n    if (horizontalDistance >= verticalDistance) {\n        var verticalMidpoint = (south + north) / 2;\n        return [\n            west,\n            verticalMidpoint - ((east - west) / 2),\n            east,\n            verticalMidpoint + ((east - west) / 2)\n        ];\n    } else {\n        var horizontalMidpoint = (west + east) / 2;\n        return [\n            horizontalMidpoint - ((north - south) / 2),\n            south,\n            horizontalMidpoint + ((north - south) / 2),\n            north\n        ];\n    }\n}\n\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n/**\n * Takes a {@link Point} and calculates the location of a destination point given a distance in degrees, radians, miles, or kilometers; and bearing in degrees. This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name destination\n * @param {Coord} origin starting point\n * @param {number} distance distance from the origin point\n * @param {number} bearing ranging from -180 to 180\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] Translate properties to Point\n * @returns {Feature<Point>} destination point\n * @example\n * var point = turf.point([-75.343, 39.984]);\n * var distance = 50;\n * var bearing = 90;\n * var options = {units: 'miles'};\n *\n * var destination = turf.destination(point, distance, bearing, options);\n *\n * //addToMap\n * var addToMap = [point, destination]\n * destination.properties['marker-color'] = '#f00';\n * point.properties['marker-color'] = '#0f0';\n */\nfunction destination(origin, distance, bearing, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n    var properties = options.properties;\n\n    // Handle input\n    var coordinates1 = getCoord(origin);\n    var longitude1 = degreesToRadians(coordinates1[0]);\n    var latitude1 = degreesToRadians(coordinates1[1]);\n    var bearing_rad = degreesToRadians(bearing);\n    var radians = lengthToRadians(distance, units);\n\n    // Main\n    var latitude2 = Math.asin(Math.sin(latitude1) * Math.cos(radians) +\n        Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearing_rad));\n    var longitude2 = longitude1 + Math.atan2(Math.sin(bearing_rad) * Math.sin(radians) * Math.cos(latitude1),\n        Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2));\n    var lng = radiansToDegrees(longitude2);\n    var lat = radiansToDegrees(latitude2);\n\n    return point([lng, lat], properties);\n}\n\n/**\n * Takes a {@link Point} and calculates the circle polygon given a radius in degrees, radians, miles, or kilometers; and steps for precision.\n *\n * @name circle\n * @param {Feature<Point>|number[]} center center point\n * @param {number} radius radius of the circle\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] properties\n * @returns {Feature<Polygon>} circle polygon\n * @example\n * var center = [-75.343, 39.984];\n * var radius = 5;\n * var options = {steps: 10, units: 'kilometers', properties: {foo: 'bar'}};\n * var circle = turf.circle(center, radius, options);\n *\n * //addToMap\n * var addToMap = [turf.point(center), circle]\n */\nfunction circle(center, radius, options) {\n    // Optional params\n    options = options || {};\n    var steps = options.steps || 64;\n    var properties = options.properties;\n\n    // validation\n    if (!center) throw new Error('center is required');\n    if (!radius) throw new Error('radius is required');\n    if (typeof options !== 'object') throw new Error('options must be an object');\n    if (typeof steps !== 'number') throw new Error('steps must be a number');\n\n    // default params\n    steps = steps || 64;\n    properties = properties || center.properties || {};\n\n    var coordinates = [];\n    for (var i = 0; i < steps; i++) {\n        coordinates.push(destination(center, radius, i * -360 / steps, options).geometry.coordinates);\n    }\n    coordinates.push(coordinates[0]);\n\n    return polygon([coordinates], properties);\n}\n\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n\n/**\n * Takes two {@link Point|points} and finds the geographic bearing between them,\n * i.e. the angle measured in degrees from the north line (0 degrees)\n *\n * @name bearing\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.final=false] calculates the final bearing if true\n * @returns {number} bearing in decimal degrees, between -180 and 180 degrees (positive clockwise)\n * @example\n * var point1 = turf.point([-75.343, 39.984]);\n * var point2 = turf.point([-75.534, 39.123]);\n *\n * var bearing = turf.bearing(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2]\n * point1.properties['marker-color'] = '#f00'\n * point2.properties['marker-color'] = '#0f0'\n * point1.properties.bearing = bearing\n */\nfunction bearing(start, end, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var final = options.final;\n\n    // Reverse calculation\n    if (final === true) return calculateFinalBearing(start, end);\n\n    var coordinates1 = getCoord(start);\n    var coordinates2 = getCoord(end);\n\n    var lon1 = degreesToRadians(coordinates1[0]);\n    var lon2 = degreesToRadians(coordinates2[0]);\n    var lat1 = degreesToRadians(coordinates1[1]);\n    var lat2 = degreesToRadians(coordinates2[1]);\n    var a = Math.sin(lon2 - lon1) * Math.cos(lat2);\n    var b = Math.cos(lat1) * Math.sin(lat2) -\n        Math.sin(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n\n    return radiansToDegrees(Math.atan2(a, b));\n}\n\n/**\n * Calculates Final Bearing\n *\n * @private\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @returns {number} bearing\n */\nfunction calculateFinalBearing(start, end) {\n    // Swap start & end\n    var bear = bearing(end, start);\n    bear = (bear + 180) % 360;\n    return bear;\n}\n\n/**\n * Takes two {@link Point|points} and returns a point midway between them.\n * The midpoint is calculated geodesically, meaning the curvature of the earth is taken into account.\n *\n * @name midpoint\n * @param {Coord} point1 first point\n * @param {Coord} point2 second point\n * @returns {Feature<Point>} a point midway between `pt1` and `pt2`\n * @example\n * var point1 = turf.point([144.834823, -37.771257]);\n * var point2 = turf.point([145.14244, -37.830937]);\n *\n * var midpoint = turf.midpoint(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2, midpoint];\n * midpoint.properties['marker-color'] = '#f00';\n */\nfunction midpoint(point1, point2) {\n    var dist = distance(point1, point2);\n    var heading = bearing(point1, point2);\n    var midpoint = destination(point1, dist / 2, heading);\n\n    return midpoint;\n}\n\n/**\n * Takes a {@link Feature} or {@link FeatureCollection} and returns the absolute center point of all features.\n *\n * @name center\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} a Point feature at the absolute center point of all input features\n * @example\n * var features = turf.featureCollection([\n *   turf.point( [-97.522259, 35.4691]),\n *   turf.point( [-97.502754, 35.463455]),\n *   turf.point( [-97.508269, 35.463245])\n * ]);\n *\n * var center = turf.center(features);\n *\n * //addToMap\n * var addToMap = [features, center]\n * center.properties['marker-size'] = 'large';\n * center.properties['marker-color'] = '#000';\n */\nfunction center(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var properties = options.properties;\n\n    // Input validation\n    if (!geojson) throw new Error('geojson is required');\n\n    var ext = bbox(geojson);\n    var x = (ext[0] + ext[2]) / 2;\n    var y = (ext[1] + ext[3]) / 2;\n    return point([x, y], properties);\n}\n\n/**\n * Takes one or more features and calculates the centroid using the mean of all vertices.\n * This lessens the effect of small islands and artifacts when calculating the centroid of a set of polygons.\n *\n * @name centroid\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} the centroid of the input features\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var centroid = turf.centroid(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, centroid]\n */\nfunction centroid(geojson, properties) {\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coordEach(geojson, function (coord) {\n        xSum += coord[0];\n        ySum += coord[1];\n        len++;\n    }, true);\n    return point([xSum / len, ySum / len], properties);\n}\n\n/**\n * Takes any {@link Feature} or a {@link FeatureCollection} and returns its [center of mass](https://en.wikipedia.org/wiki/Center_of_mass) using this formula: [Centroid of Polygon](https://en.wikipedia.org/wiki/Centroid#Centroid_of_polygon).\n *\n * @name centerOfMass\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} the center of mass\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var center = turf.centerOfMass(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, center]\n */\nfunction centerOfMass(geojson, properties) {\n    switch (getType(geojson)) {\n    case 'Point':\n        return geojson;\n    case 'Polygon':\n        var coords = [];\n        coordEach(geojson, function (coord) {\n            coords.push(coord);\n        });\n\n        // First, we neutralize the feature (set it around coordinates [0,0]) to prevent rounding errors\n        // We take any point to translate all the points around 0\n        var centre = centroid(geojson, properties);\n        var translation = centre.geometry.coordinates;\n        var sx = 0;\n        var sy = 0;\n        var sArea = 0;\n        var i, pi, pj, xi, xj, yi, yj, a;\n\n        var neutralizedPoints = coords.map(function (point$$1) {\n            return [\n                point$$1[0] - translation[0],\n                point$$1[1] - translation[1]\n            ];\n        });\n\n        for (i = 0; i < coords.length - 1; i++) {\n            // pi is the current point\n            pi = neutralizedPoints[i];\n            xi = pi[0];\n            yi = pi[1];\n\n            // pj is the next point (pi+1)\n            pj = neutralizedPoints[i + 1];\n            xj = pj[0];\n            yj = pj[1];\n\n            // a is the common factor to compute the signed area and the final coordinates\n            a = xi * yj - xj * yi;\n\n            // sArea is the sum used to compute the signed area\n            sArea += a;\n\n            // sx and sy are the sums used to compute the final coordinates\n            sx += (xi + xj) * a;\n            sy += (yi + yj) * a;\n        }\n\n        // Shape has no area: fallback on turf.centroid\n        if (sArea === 0) {\n            return centre;\n        } else {\n            // Compute the signed area, and factorize 1/6A\n            var area = sArea * 0.5;\n            var areaFactor = 1 / (6 * area);\n\n            // Compute the final coordinates, adding back the values that have been neutralized\n            return point([\n                translation[0] + areaFactor * sx,\n                translation[1] + areaFactor * sy\n            ], properties);\n        }\n    default:\n        // Not a polygon: Compute the convex hull and work with that\n        var hull = convex(geojson);\n\n        if (hull) return centerOfMass(hull, properties);\n        // Hull is empty: fallback on the centroid\n        else return centroid(geojson, properties);\n    }\n}\n\n/**\n * Combines a {@link FeatureCollection} of {@link Point}, {@link LineString}, or {@link Polygon} features\n * into {@link MultiPoint}, {@link MultiLineString}, or {@link MultiPolygon} features.\n *\n * @name combine\n * @param {FeatureCollection<Point|LineString|Polygon>} fc a FeatureCollection of any type\n * @returns {FeatureCollection<MultiPoint|MultiLineString|MultiPolygon>} a FeatureCollection of corresponding type to input\n * @example\n * var fc = turf.featureCollection([\n *   turf.point([19.026432, 47.49134]),\n *   turf.point([19.074497, 47.509548])\n * ]);\n *\n * var combined = turf.combine(fc);\n *\n * //addToMap\n * var addToMap = [combined]\n */\nfunction combine(fc) {\n    var groups = {\n        MultiPoint: {coordinates: [], properties: []},\n        MultiLineString: {coordinates: [], properties: []},\n        MultiPolygon: {coordinates: [], properties: []}\n    };\n\n    var multiMapping = Object.keys(groups).reduce(function (memo, item) {\n        memo[item.replace('Multi', '')] = item;\n        return memo;\n    }, {});\n\n    function addToGroup(feature$$1, key, multi) {\n        if (!multi) {\n            groups[key].coordinates.push(feature$$1.geometry.coordinates);\n        } else {\n            groups[key].coordinates = groups[key].coordinates.concat(feature$$1.geometry.coordinates);\n        }\n        groups[key].properties.push(feature$$1.properties);\n    }\n\n    featureEach(fc, function (feature$$1) {\n        if (!feature$$1.geometry) return;\n        if (groups[feature$$1.geometry.type]) {\n            addToGroup(feature$$1, feature$$1.geometry.type, true);\n        } else if (multiMapping[feature$$1.geometry.type]) {\n            addToGroup(feature$$1, multiMapping[feature$$1.geometry.type], false);\n        }\n    });\n\n    return featureCollection(Object.keys(groups)\n        .filter(function (key) {\n            return groups[key].coordinates.length;\n        })\n        .sort()\n        .map(function (key) {\n            var geometry$$1 = { type: key, coordinates: groups[key].coordinates };\n            var properties = { collectedProperties: groups[key].properties };\n            return feature(geometry$$1, properties);\n        }));\n}\n\n/**\n * Takes a feature or set of features and returns all positions as {@link Point|points}.\n *\n * @name explode\n * @param {GeoJSON} geojson input features\n * @returns {FeatureCollection<point>} points representing the exploded input features\n * @throws {Error} if it encounters an unknown geometry type\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var explode = turf.explode(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, explode]\n */\nfunction explode(geojson) {\n    var points$$1 = [];\n    if (geojson.type === 'FeatureCollection') {\n        featureEach(geojson, function (feature$$1) {\n            coordEach(feature$$1, function (coord) {\n                points$$1.push(point(coord, feature$$1.properties));\n            });\n        });\n    } else {\n        coordEach(geojson, function (coord) {\n            points$$1.push(point(coord, geojson.properties));\n        });\n    }\n    return featureCollection(points$$1);\n}\n\nvar earcut_1 = earcut;\nvar default_1$2 = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode$1(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode$1(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals$1(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals$1(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertice leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(ear, triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    // first look for points inside the triangle in increasing z-order\n    var p = ear.nextZ;\n\n    while (p && p.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.nextZ;\n    }\n\n    // then look for points in decreasing z-order\n    p = ear.prevZ;\n\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals$1(a, b) && intersects$2(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return p;\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n        var b = splitPolygon(outerNode, hole);\n        filterPoints(b, b.next);\n    }\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m.prev; // hole touches outer segment; pick lower endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m.next;\n\n    while (p !== stop) {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if ((tan < tanMin || (tan === tanMin && p.x > m.x)) && locallyInside(p, hole)) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    }\n\n    return m;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) &&\n           locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b);\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals$1(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects$2(p1, q1, p2, q2) {\n    if ((equals$1(p1, q1) && equals$1(p2, q2)) ||\n        (equals$1(p1, q2) && equals$1(p2, q1))) return true;\n    return area(p1, q1, p2) > 0 !== area(p1, q1, q2) > 0 &&\n           area(p2, q2, p1) > 0 !== area(p2, q2, q1) > 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects$2(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode$1(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertice index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertice nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n\nearcut_1.default = default_1$2;\n\n/**\n * Tesselates a {@link Feature<Polygon>} into a {@link FeatureCollection<Polygon>} of triangles\n * using [earcut](https://github.com/mapbox/earcut).\n *\n * @name tesselate\n * @param {Feature<Polygon>} poly the polygon to tesselate\n * @returns {FeatureCollection<Polygon>} a geometrycollection feature\n * @example\n * var poly = turf.polygon([[[11, 0], [22, 4], [31, 0], [31, 11], [21, 15], [11, 11], [11, 0]]]);\n * var triangles = turf.tesselate(poly);\n *\n * //addToMap\n * var addToMap = [poly, triangles]\n */\nfunction tesselate(poly) {\n    if (!poly.geometry || (poly.geometry.type !== 'Polygon' && poly.geometry.type !== 'MultiPolygon')) {\n        throw new Error('input must be a Polygon or MultiPolygon');\n    }\n\n    var fc = {type: 'FeatureCollection', features: []};\n\n    if (poly.geometry.type === 'Polygon') {\n        fc.features = processPolygon(poly.geometry.coordinates);\n    } else {\n        poly.geometry.coordinates.forEach(function (coordinates) {\n            fc.features = fc.features.concat(processPolygon(coordinates));\n        });\n    }\n\n    return fc;\n}\n\nfunction processPolygon(coordinates) {\n    var data = flattenCoords(coordinates);\n    var dim = 2;\n    var result = earcut_1(data.vertices, data.holes, dim);\n\n    var features = [];\n    var vertices = [];\n\n    result.forEach(function (vert, i) {\n        var index = result[i];\n        vertices.push([data.vertices[index * dim], data.vertices[index * dim + 1]]);\n    });\n\n    for (var i = 0; i < vertices.length; i += 3) {\n        var coords = vertices.slice(i, i + 3);\n        coords.push(vertices[i]);\n        features.push(polygon([coords]));\n    }\n\n    return features;\n}\n\nfunction flattenCoords(data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n\n    return result;\n}\n\n/**\n * Takes a reference {@link Point|point} and a FeatureCollection of Features\n * with Point geometries and returns the\n * point from the FeatureCollection closest to the reference. This calculation\n * is geodesic.\n *\n * @name nearestPoint\n * @param {Coord} targetPoint the reference point\n * @param {FeatureCollection<Point>} points against input point set\n * @returns {Feature<Point>} the closest point in the set to the reference point\n * @example\n * var targetPoint = turf.point([28.965797, 41.010086], {\"marker-color\": \"#0F0\"});\n * var points = turf.featureCollection([\n *     turf.point([28.973865, 41.011122]),\n *     turf.point([28.948459, 41.024204]),\n *     turf.point([28.938674, 41.013324])\n * ]);\n *\n * var nearest = turf.nearestPoint(targetPoint, points);\n *\n * //addToMap\n * var addToMap = [targetPoint, points, nearest];\n * nearest.properties['marker-color'] = '#F00';\n */\nfunction nearestPoint(targetPoint, points) {\n    // Input validation\n    if (!targetPoint) throw new Error('targetPoint is required');\n    if (!points) throw new Error('points is required');\n\n    var nearest;\n    var minDist = Infinity;\n    featureEach(points, function (pt, featureIndex) {\n        var distanceToPoint = distance(targetPoint, pt);\n        if (distanceToPoint < minDist) {\n            nearest = clone(pt);\n            nearest.properties.featureIndex = featureIndex;\n            nearest.properties.distanceToPoint = distanceToPoint;\n            minDist = distanceToPoint;\n        }\n\n    });\n    return nearest;\n}\n\nfunction quickselect$3(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare$2);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap$1(arr, left, k);\n        if (compare(arr[right], t) > 0) swap$1(arr, left, right);\n\n        while (i < j) {\n            swap$1(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap$1(arr, left, j);\n        else {\n            j++;\n            swap$1(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap$1(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare$2(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nfunction rbush$4(maxEntries, format) {\n    if (!(this instanceof rbush$4)) return new rbush$4(maxEntries, format);\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries || 9);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n    if (format) {\n        this._initFormat(format);\n    }\n\n    this.clear();\n}\n\nrbush$4.prototype = {\n\n    all: function () {\n        return this._all(this.data, []);\n    },\n\n    search: function (bbox) {\n\n        var node = this.data,\n            result = [],\n            toBBox = this.toBBox;\n\n        if (!intersects$4(bbox, node)) return result;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects$4(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains$1(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    },\n\n    collides: function (bbox) {\n\n        var node = this.data,\n            toBBox = this.toBBox;\n\n        if (!intersects$4(bbox, node)) return false;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects$4(bbox, childBBox)) {\n                    if (node.leaf || contains$1(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    },\n\n    load: function (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (var i = 0, len = data.length; i < len; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                var tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    },\n\n    insert: function (item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    },\n\n    clear: function () {\n        this.data = createNode$1([]);\n        return this;\n    },\n\n    remove: function (item, equalsFn) {\n        if (!item) return this;\n\n        var node = this.data,\n            bbox = this.toBBox(item),\n            path = [],\n            indexes = [],\n            i, parent, index, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                index = findItem$1(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains$1(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    },\n\n    toBBox: function (item) { return item; },\n\n    compareMinX: compareNodeMinX$1,\n    compareMinY: compareNodeMinY$1,\n\n    toJSON: function () { return this.data; },\n\n    fromJSON: function (data) {\n        this.data = data;\n        return this;\n    },\n\n    _all: function (node, result) {\n        var nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push.apply(result, node.children);\n            else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    },\n\n    _build: function (items, left, right, height) {\n\n        var N = right - left + 1,\n            M = this._maxEntries,\n            node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode$1(items.slice(left, right + 1));\n            calcBBox$1(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode$1([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        var N2 = Math.ceil(N / M),\n            N1 = N2 * Math.ceil(Math.sqrt(M)),\n            i, j, right2, right3;\n\n        multiSelect$1(items, left, right, N1, this.compareMinX);\n\n        for (i = left; i <= right; i += N1) {\n\n            right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect$1(items, i, right2, N2, this.compareMinY);\n\n            for (j = i; j <= right2; j += N2) {\n\n                right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox$1(node, this.toBBox);\n\n        return node;\n    },\n\n    _chooseSubtree: function (bbox, node, level, path) {\n\n        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            minArea = minEnlargement = Infinity;\n\n            for (i = 0, len = node.children.length; i < len; i++) {\n                child = node.children[i];\n                area = bboxArea$1(child);\n                enlargement = enlargedArea$1(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    },\n\n    _insert: function (item, level, isNode) {\n\n        var toBBox = this.toBBox,\n            bbox = isNode ? item : toBBox(item),\n            insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend$1(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    },\n\n    // split overflowed node into two\n    _split: function (insertPath, level) {\n\n        var node = insertPath[level],\n            M = node.children.length,\n            m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        var splitIndex = this._chooseSplitIndex(node, m, M);\n\n        var newNode = createNode$1(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox$1(node, this.toBBox);\n        calcBBox$1(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    },\n\n    _splitRoot: function (node, newNode) {\n        // split root node\n        this.data = createNode$1([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox$1(this.data, this.toBBox);\n    },\n\n    _chooseSplitIndex: function (node, m, M) {\n\n        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n        minOverlap = minArea = Infinity;\n\n        for (i = m; i <= M - m; i++) {\n            bbox1 = distBBox$1(node, 0, i, this.toBBox);\n            bbox2 = distBBox$1(node, i, M, this.toBBox);\n\n            overlap = intersectionArea$1(bbox1, bbox2);\n            area = bboxArea$1(bbox1) + bboxArea$1(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index;\n    },\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis: function (node, m, M) {\n\n        var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX$1,\n            compareMinY = node.leaf ? this.compareMinY : compareNodeMinY$1,\n            xMargin = this._allDistMargin(node, m, M, compareMinX),\n            yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    },\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin: function (node, m, M, compare) {\n\n        node.children.sort(compare);\n\n        var toBBox = this.toBBox,\n            leftBBox = distBBox$1(node, 0, m, toBBox),\n            rightBBox = distBBox$1(node, M - m, M, toBBox),\n            margin = bboxMargin$1(leftBBox) + bboxMargin$1(rightBBox),\n            i, child;\n\n        for (i = m; i < M - m; i++) {\n            child = node.children[i];\n            extend$1(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin$1(leftBBox);\n        }\n\n        for (i = M - m - 1; i >= m; i--) {\n            child = node.children[i];\n            extend$1(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin$1(rightBBox);\n        }\n\n        return margin;\n    },\n\n    _adjustParentBBoxes: function (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (var i = level; i >= 0; i--) {\n            extend$1(path[i], bbox);\n        }\n    },\n\n    _condense: function (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (var i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox$1(path[i], this.toBBox);\n        }\n    },\n\n    _initFormat: function (format) {\n        // data format (minX, minY, maxX, maxY accessors)\n\n        // uses eval-type function compilation instead of just accepting a toBBox function\n        // because the algorithms are very sensitive to sorting functions performance,\n        // so they should be dead simple and without inner calls\n\n        var compareArr = ['return a', ' - b', ';'];\n\n        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n        this.toBBox = new Function('a',\n            'return {minX: a' + format[0] +\n            ', minY: a' + format[1] +\n            ', maxX: a' + format[2] +\n            ', maxY: a' + format[3] + '};');\n    }\n};\n\nfunction findItem$1(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox$1(node, toBBox) {\n    distBBox$1(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox$1(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode$1(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k, child; i < p; i++) {\n        child = node.children[i];\n        extend$1(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend$1(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX$1(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY$1(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea$1(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin$1(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea$1(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea$1(a, b) {\n    var minX = Math.max(a.minX, b.minX),\n        minY = Math.max(a.minY, b.minY),\n        maxX = Math.min(a.maxX, b.maxX),\n        maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains$1(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects$4(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode$1(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect$1(arr, left, right, n, compare) {\n    var stack = [left, right],\n        mid;\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect$3(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n\n/**\n * GeoJSON implementation of [RBush](https://github.com/mourner/rbush#rbush) spatial index.\n *\n * @name rbush\n * @param {number} [maxEntries=9] defines the maximum number of entries in a tree node. 9 (used by default) is a\n * reasonable choice for most applications. Higher value means faster insertion and slower search, and vice versa.\n * @returns {RBush} GeoJSON RBush\n * @example\n * import geojsonRbush from 'geojson-rbush';\n * var tree = geojsonRbush();\n */\nfunction geojsonRbush(maxEntries) {\n    var tree = rbush$4(maxEntries);\n    /**\n     * [insert](https://github.com/mourner/rbush#data-format)\n     *\n     * @param {Feature<any>} feature insert single GeoJSON Feature\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.insert(polygon)\n     */\n    tree.insert = function (feature) {\n        if (Array.isArray(feature)) {\n            var bbox = feature;\n            feature = bboxPolygon$2(bbox);\n            feature.bbox = bbox;\n        } else {\n            feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        }\n        return rbush$4.prototype.insert.call(this, feature);\n    };\n\n    /**\n     * [load](https://github.com/mourner/rbush#bulk-inserting-data)\n     *\n     * @param {BBox[]|FeatureCollection<any>} features load entire GeoJSON FeatureCollection\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polygons = {\n     *   \"type\": \"FeatureCollection\",\n     *   \"features\": [\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"properties\": {},\n     *       \"geometry\": {\n     *         \"type\": \"Polygon\",\n     *         \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *       }\n     *     },\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"properties\": {},\n     *       \"geometry\": {\n     *         \"type\": \"Polygon\",\n     *         \"coordinates\": [[[-93, 32], [-83, 32], [-83, 39], [-93, 39], [-93, 32]]]\n     *       }\n     *     }\n     *   ]\n     * }\n     * tree.load(polygons)\n     */\n    tree.load = function (features) {\n        var load = [];\n        // Load an Array of BBox\n        if (Array.isArray(features)) {\n            features.forEach(function (bbox) {\n                var feature = bboxPolygon$2(bbox);\n                feature.bbox = bbox;\n                load.push(feature);\n            });\n        } else {\n            // Load FeatureCollection\n            featureEach(features, function (feature) {\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        }\n        return rbush$4.prototype.load.call(this, load);\n    };\n\n    /**\n     * [remove](https://github.com/mourner/rbush#removing-data)\n     *\n     * @param {BBox|Feature<any>} feature remove single GeoJSON Feature\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.remove(polygon)\n     */\n    tree.remove = function (feature) {\n        if (Array.isArray(feature)) {\n            var bbox = feature;\n            feature = bboxPolygon$2(bbox);\n            feature.bbox = bbox;\n        }\n        return rbush$4.prototype.remove.call(this, feature);\n    };\n\n    /**\n     * [clear](https://github.com/mourner/rbush#removing-data)\n     *\n     * @returns {RBush} GeoJSON Rbush\n     * @example\n     * tree.clear()\n     */\n    tree.clear = function () {\n        return rbush$4.prototype.clear.call(this);\n    };\n\n    /**\n     * [search](https://github.com/mourner/rbush#search)\n     *\n     * @param {BBox|FeatureCollection|Feature<any>} geojson search with GeoJSON\n     * @returns {FeatureCollection<any>} all features that intersects with the given GeoJSON.\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.search(polygon)\n     */\n    tree.search = function (geojson) {\n        var features = rbush$4.prototype.search.call(this, this.toBBox(geojson));\n        return {\n            type: 'FeatureCollection',\n            features: features\n        };\n    };\n\n    /**\n     * [collides](https://github.com/mourner/rbush#collisions)\n     *\n     * @param {BBox|FeatureCollection|Feature<any>} geojson collides with GeoJSON\n     * @returns {boolean} true if there are any items intersecting the given GeoJSON, otherwise false.\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.collides(polygon)\n     */\n    tree.collides = function (geojson) {\n        return rbush$4.prototype.collides.call(this, this.toBBox(geojson));\n    };\n\n    /**\n     * [all](https://github.com/mourner/rbush#search)\n     *\n     * @returns {FeatureCollection<any>} all the features in RBush\n     * @example\n     * tree.all()\n     * //=FeatureCollection\n     */\n    tree.all = function () {\n        var features = rbush$4.prototype.all.call(this);\n        return {\n            type: 'FeatureCollection',\n            features: features\n        };\n    };\n\n    /**\n     * [toJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @returns {any} export data as JSON object\n     * @example\n     * var exported = tree.toJSON()\n     * //=JSON object\n     */\n    tree.toJSON = function () {\n        return rbush$4.prototype.toJSON.call(this);\n    };\n\n    /**\n     * [fromJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @param {any} json import previously exported data\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var exported = {\n     *   \"children\": [\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"geometry\": {\n     *         \"type\": \"Point\",\n     *         \"coordinates\": [110, 50]\n     *       },\n     *       \"properties\": {},\n     *       \"bbox\": [110, 50, 110, 50]\n     *     }\n     *   ],\n     *   \"height\": 1,\n     *   \"leaf\": true,\n     *   \"minX\": 110,\n     *   \"minY\": 50,\n     *   \"maxX\": 110,\n     *   \"maxY\": 50\n     * }\n     * tree.fromJSON(exported)\n     */\n    tree.fromJSON = function (json) {\n        return rbush$4.prototype.fromJSON.call(this, json);\n    };\n\n    /**\n     * Converts GeoJSON to {minX, minY, maxX, maxY} schema\n     *\n     * @private\n     * @param {BBox|FeatureCollectio|Feature<any>} geojson feature(s) to retrieve BBox from\n     * @returns {Object} converted to {minX, minY, maxX, maxY}\n     */\n    tree.toBBox = function (geojson) {\n        var bbox;\n        if (geojson.bbox) bbox = geojson.bbox;\n        else if (Array.isArray(geojson) && geojson.length === 4) bbox = geojson;\n        else bbox = turfBBox(geojson);\n\n        return {\n            minX: bbox[0],\n            minY: bbox[1],\n            maxX: bbox[2],\n            maxY: bbox[3]\n        };\n    };\n    return tree;\n}\n\n/**\n * Takes a bbox and returns an equivalent {@link Polygon|polygon}.\n *\n * @private\n * @name bboxPolygon\n * @param {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @returns {Feature<Polygon>} a Polygon representation of the bounding box\n * @example\n * var bbox = [0, 0, 10, 10];\n *\n * var poly = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [poly]\n */\nfunction bboxPolygon$2(bbox) {\n    var lowLeft = [bbox[0], bbox[1]];\n    var topLeft = [bbox[0], bbox[3]];\n    var topRight = [bbox[2], bbox[3]];\n    var lowRight = [bbox[2], bbox[1]];\n    var coordinates = [[lowLeft, lowRight, topRight, topLeft, lowLeft]];\n\n    return {\n        type: 'Feature',\n        bbox: bbox,\n        properties: {},\n        geometry: {\n            type: 'Polygon',\n            coordinates: coordinates\n        }\n    };\n}\n\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @private\n * @name bbox\n * @param {FeatureCollection|Feature<any>} geojson input features\n * @returns {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction turfBBox(geojson) {\n    var bbox = [Infinity, Infinity, -Infinity, -Infinity];\n    coordEach(geojson, function (coord) {\n        if (bbox[0] > coord[0]) bbox[0] = coord[0];\n        if (bbox[1] > coord[1]) bbox[1] = coord[1];\n        if (bbox[2] < coord[0]) bbox[2] = coord[0];\n        if (bbox[3] < coord[1]) bbox[3] = coord[1];\n    });\n    return bbox;\n}\n\n/**\n * Creates a {@link FeatureCollection} of 2-vertex {@link LineString} segments from a {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon}.\n *\n * @name lineSegment\n * @param {Geometry|FeatureCollection|Feature<LineString|MultiLineString|MultiPolygon|Polygon>} geojson GeoJSON Polygon or LineString\n * @returns {FeatureCollection<LineString>} 2-vertex line segments\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n * var segments = turf.lineSegment(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, segments]\n */\nfunction lineSegment(geojson) {\n    if (!geojson) throw new Error('geojson is required');\n\n    var results = [];\n    flattenEach(geojson, function (feature$$1) {\n        lineSegmentFeature(feature$$1, results);\n    });\n    return featureCollection(results);\n}\n\n/**\n * Line Segment\n *\n * @private\n * @param {Feature<LineString|Polygon>} geojson Line or polygon feature\n * @param {Array} results push to results\n * @returns {void}\n */\nfunction lineSegmentFeature(geojson, results) {\n    var coords = [];\n    var geometry$$1 = geojson.geometry;\n    switch (geometry$$1.type) {\n    case 'Polygon':\n        coords = getCoords(geometry$$1);\n        break;\n    case 'LineString':\n        coords = [getCoords(geometry$$1)];\n    }\n    coords.forEach(function (coord) {\n        var segments = createSegments(coord, geojson.properties);\n        segments.forEach(function (segment) {\n            segment.id = results.length;\n            results.push(segment);\n        });\n    });\n}\n\n/**\n * Create Segments from LineString coordinates\n *\n * @private\n * @param {LineString} coords LineString coordinates\n * @param {*} properties GeoJSON properties\n * @returns {Array<Feature<LineString>>} line segments\n */\nfunction createSegments(coords, properties) {\n    var segments = [];\n    coords.reduce(function (previousCoords, currentCoords) {\n        var segment = lineString([previousCoords, currentCoords], properties);\n        segment.bbox = bbox$3(previousCoords, currentCoords);\n        segments.push(segment);\n        return currentCoords;\n    });\n    return segments;\n}\n\n/**\n * Create BBox between two coordinates (faster than @turf/bbox)\n *\n * @private\n * @param {Array<number>} coords1 Point coordinate\n * @param {Array<number>} coords2 Point coordinate\n * @returns {BBox} [west, south, east, north]\n */\nfunction bbox$3(coords1, coords2) {\n    var x1 = coords1[0];\n    var y1 = coords1[1];\n    var x2 = coords2[0];\n    var y2 = coords2[1];\n    var west = (x1 < x2) ? x1 : x2;\n    var south = (y1 < y2) ? y1 : y2;\n    var east = (x1 > x2) ? x1 : x2;\n    var north = (y1 > y2) ? y1 : y2;\n    return [west, south, east, north];\n}\n\n/**\n * Takes any LineString or Polygon GeoJSON and returns the intersecting point(s).\n *\n * @name lineIntersect\n * @param {Geometry|FeatureCollection|Feature<LineString|MultiLineString|Polygon|MultiPolygon>} line1 any LineString or Polygon\n * @param {Geometry|FeatureCollection|Feature<LineString|MultiLineString|Polygon|MultiPolygon>} line2 any LineString or Polygon\n * @returns {FeatureCollection<Point>} point(s) that intersect both\n * @example\n * var line1 = turf.lineString([[126, -11], [129, -21]]);\n * var line2 = turf.lineString([[123, -18], [131, -14]]);\n * var intersects = turf.lineIntersect(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, intersects]\n */\nfunction lineIntersect(line1, line2) {\n    var unique = {};\n    var results = [];\n\n    // First, normalize geometries to features\n    // Then, handle simple 2-vertex segments\n    if (line1.type === 'LineString') line1 = feature(line1);\n    if (line2.type === 'LineString') line2 = feature(line2);\n    if (line1.type === 'Feature' &&\n        line2.type === 'Feature' &&\n        line1.geometry.type === 'LineString' &&\n        line2.geometry.type === 'LineString' &&\n        line1.geometry.coordinates.length === 2 &&\n        line2.geometry.coordinates.length === 2) {\n        var intersect = intersects$3(line1, line2);\n        if (intersect) results.push(intersect);\n        return featureCollection(results);\n    }\n\n    // Handles complex GeoJSON Geometries\n    var tree = geojsonRbush();\n    tree.load(lineSegment(line2));\n    featureEach(lineSegment(line1), function (segment) {\n        featureEach(tree.search(segment), function (match) {\n            var intersect = intersects$3(segment, match);\n            if (intersect) {\n                // prevent duplicate points https://github.com/Turfjs/turf/issues/688\n                var key = getCoords(intersect).join(',');\n                if (!unique[key]) {\n                    unique[key] = true;\n                    results.push(intersect);\n                }\n            }\n        });\n    });\n    return featureCollection(results);\n}\n\n/**\n * Find a point that intersects LineStrings with two coordinates each\n *\n * @private\n * @param {Feature<LineString>} line1 GeoJSON LineString (Must only contain 2 coordinates)\n * @param {Feature<LineString>} line2 GeoJSON LineString (Must only contain 2 coordinates)\n * @returns {Feature<Point>} intersecting GeoJSON Point\n */\nfunction intersects$3(line1, line2) {\n    var coords1 = getCoords(line1);\n    var coords2 = getCoords(line2);\n    if (coords1.length !== 2) {\n        throw new Error('<intersects> line1 must only contain 2 coordinates');\n    }\n    if (coords2.length !== 2) {\n        throw new Error('<intersects> line2 must only contain 2 coordinates');\n    }\n    var x1 = coords1[0][0];\n    var y1 = coords1[0][1];\n    var x2 = coords1[1][0];\n    var y2 = coords1[1][1];\n    var x3 = coords2[0][0];\n    var y3 = coords2[0][1];\n    var x4 = coords2[1][0];\n    var y4 = coords2[1][1];\n    var denom = ((y4 - y3) * (x2 - x1)) - ((x4 - x3) * (y2 - y1));\n    var numeA = ((x4 - x3) * (y1 - y3)) - ((y4 - y3) * (x1 - x3));\n    var numeB = ((x2 - x1) * (y1 - y3)) - ((y2 - y1) * (x1 - x3));\n\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) {\n            return null;\n        }\n        return null;\n    }\n\n    var uA = numeA / denom;\n    var uB = numeB / denom;\n\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        var x = x1 + (uA * (x2 - x1));\n        var y = y1 + (uA * (y2 - y1));\n        return point([x, y]);\n    }\n    return null;\n}\n\n/**\n * Takes a {@link Point} and a {@link LineString} and calculates the closest Point on the (Multi)LineString.\n *\n * @name nearestPointOnLine\n * @param {Geometry|Feature<LineString|MultiLineString>} lines lines to snap to\n * @param {Geometry|Feature<Point>|number[]} pt point to snap from\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} closest point on the `line` to `point`. The properties object will contain three values: `index`: closest point was found on nth line part, `dist`: distance between pt and the closest point, `location`: distance along the line between start and the closest point.\n * @example\n * var line = turf.lineString([\n *     [-77.031669, 38.878605],\n *     [-77.029609, 38.881946],\n *     [-77.020339, 38.884084],\n *     [-77.025661, 38.885821],\n *     [-77.021884, 38.889563],\n *     [-77.019824, 38.892368]\n * ]);\n * var pt = turf.point([-77.037076, 38.884017]);\n *\n * var snapped = turf.nearestPointOnLine(line, pt, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line, pt, snapped];\n * snapped.properties['marker-color'] = '#00f';\n */\nfunction nearestPointOnLine(lines, pt, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n\n    // validation\n    var type = (lines.geometry) ? lines.geometry.type : lines.type;\n    if (type !== 'LineString' && type !== 'MultiLineString') {\n        throw new Error('lines must be LineString or MultiLineString');\n    }\n\n    var closestPt = point([Infinity, Infinity], {\n        dist: Infinity\n    });\n\n    var length = 0.0;\n    flattenEach(lines, function (line) {\n        var coords = getCoords(line);\n\n        for (var i = 0; i < coords.length - 1; i++) {\n            //start\n            var start = point(coords[i]);\n            start.properties.dist = distance(pt, start, options);\n            //stop\n            var stop = point(coords[i + 1]);\n            stop.properties.dist = distance(pt, stop, options);\n            // sectionLength\n            var sectionLength = distance(start, stop, options);\n            //perpendicular\n            var heightDistance = Math.max(start.properties.dist, stop.properties.dist);\n            var direction = bearing(start, stop);\n            var perpendicularPt1 = destination(pt, heightDistance, direction + 90, options);\n            var perpendicularPt2 = destination(pt, heightDistance, direction - 90, options);\n            var intersect = lineIntersect(\n                lineString([perpendicularPt1.geometry.coordinates, perpendicularPt2.geometry.coordinates]),\n                lineString([start.geometry.coordinates, stop.geometry.coordinates])\n            );\n            var intersectPt = null;\n            if (intersect.features.length > 0) {\n                intersectPt = intersect.features[0];\n                intersectPt.properties.dist = distance(pt, intersectPt, options);\n                intersectPt.properties.location = length + distance(start, intersectPt, options);\n            }\n\n            if (start.properties.dist < closestPt.properties.dist) {\n                closestPt = start;\n                closestPt.properties.index = i;\n                closestPt.properties.location = length;\n            }\n            if (stop.properties.dist < closestPt.properties.dist) {\n                closestPt = stop;\n                closestPt.properties.index = i + 1;\n                closestPt.properties.location = length + sectionLength;\n            }\n            if (intersectPt && intersectPt.properties.dist < closestPt.properties.dist) {\n                closestPt = intersectPt;\n                closestPt.properties.index = i;\n            }\n            // update length\n            length += sectionLength;\n        }\n\n    });\n\n    return closestPt;\n}\n\n// https://en.wikipedia.org/wiki/Rhumb_line\n/**\n * Takes two {@link Point|points} and finds the bearing angle between them along a Rhumb line\n * i.e. the angle measured in degrees start the north line (0 degrees)\n *\n * @name rhumbBearing\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @param {Object} [options] Optional parameters\n * @param {boolean} [options.final=false] calculates the final bearing if true\n * @returns {number} bearing from north in decimal degrees, between -180 and 180 degrees (positive clockwise)\n * @example\n * var point1 = turf.point([-75.343, 39.984], {\"marker-color\": \"#F00\"});\n * var point2 = turf.point([-75.534, 39.123], {\"marker-color\": \"#00F\"});\n *\n * var bearing = turf.rhumbBearing(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2];\n * point1.properties.bearing = bearing;\n * point2.properties.bearing = bearing;\n */\nfunction rhumbBearing(start, end, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var final = options.final;\n\n    // validation\n    if (!start) throw new Error('start point is required');\n    if (!end) throw new Error('end point is required');\n\n    var bear360;\n\n    if (final) bear360 = calculateRhumbBearing(getCoord(end), getCoord(start));\n    else bear360 = calculateRhumbBearing(getCoord(start), getCoord(end));\n\n    var bear180 = (bear360 > 180) ? -(360 - bear360) : bear360;\n\n    return bear180;\n}\n\n/**\n * Returns the bearing from this point to destination point along a rhumb line.\n * Adapted from Geodesy: https://github.com/chrisveness/geodesy/blob/master/latlon-spherical.js\n *\n * @private\n * @param   {Array<number>} from - origin point.\n * @param   {Array<number>} to - destination point.\n * @returns {number} Bearing in degrees from north.\n * @example\n * var p1 = new LatLon(51.127, 1.338);\n * var p2 = new LatLon(50.964, 1.853);\n * var d = p1.rhumbBearingTo(p2); // 116.7 m\n */\nfunction calculateRhumbBearing(from, to) {\n    //  => phi\n    //  => deltaLambda\n    //  => deltaPsi\n    //  => theta\n    var phi1 = degreesToRadians(from[1]);\n    var phi2 = degreesToRadians(to[1]);\n    var deltaLambda = degreesToRadians((to[0] - from[0]));\n    // if deltaLambdaon over 180 take shorter rhumb line across the anti-meridian:\n    if (deltaLambda > Math.PI) deltaLambda -= 2 * Math.PI;\n    if (deltaLambda < -Math.PI) deltaLambda += 2 * Math.PI;\n\n    var deltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n\n    var theta = Math.atan2(deltaLambda, deltaPsi);\n\n    return (radiansToDegrees(theta) + 360) % 360;\n}\n\n// https://en.wikipedia.org/wiki/Rhumb_line\n/**\n * Calculates the distance along a rhumb line between two {@link Point|points} in degrees, radians,\n * miles, or kilometers.\n *\n * @name rhumbDistance\n * @param {Coord} from origin point\n * @param {Coord} to destination point\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.rhumbDistance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction rhumbDistance(from, to, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n\n    // validation\n    if (!from) throw new Error('from point is required');\n    if (!to) throw new Error('to point is required');\n\n    var origin = getCoord(from);\n    var destination = getCoord(to);\n\n    // compensate the crossing of the 180th meridian (https://macwright.org/2016/09/26/the-180th-meridian.html)\n    // solution from https://github.com/mapbox/mapbox-gl-js/issues/3250#issuecomment-294887678\n    destination[0] += (destination[0] - origin[0] > 180) ? -360 : (origin[0] - destination[0] > 180) ? 360 : 0;\n    var distanceInMeters = calculateRhumbDistance(origin, destination);\n    var distance = convertLength(distanceInMeters, 'meters', units);\n    return distance;\n}\n\n/**\n * Returns the distance travelling from this point to destination point along a rhumb line.\n * Adapted from Geodesy: https://github.com/chrisveness/geodesy/blob/master/latlon-spherical.js\n *\n * @private\n * @param   {Array<number>} origin point.\n * @param   {Array<number>} destination point.\n * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).\n * @returns {number} Distance in km between this point and destination point (same units as radius).\n *\n * @example\n *     var p1 = new LatLon(51.127, 1.338);\n *     var p2 = new LatLon(50.964, 1.853);\n *     var d = p1.distanceTo(p2); // 40.31 km\n */\nfunction calculateRhumbDistance(origin, destination, radius) {\n    //  => phi\n    //  => lambda\n    //  => psi\n    //  => Delta\n    //  => delta\n    //  => theta\n\n    radius = (radius === undefined) ? earthRadius : Number(radius);\n    // see www.edwilliams.org/avform.htm#Rhumb\n\n    var R = radius;\n    var phi1 = origin[1] * Math.PI / 180;\n    var phi2 = destination[1] * Math.PI / 180;\n    var DeltaPhi = phi2 - phi1;\n    var DeltaLambda = Math.abs(destination[0] - origin[0]) * Math.PI / 180;\n    // if dLon over 180 take shorter rhumb line across the anti-meridian:\n    if (DeltaLambda > Math.PI) DeltaLambda -= 2 * Math.PI;\n\n    // on Mercator projection, longitude distances shrink by latitude; q is the 'stretch factor'\n    // q becomes ill-conditioned along E-W line (0/0); use empirical tolerance to avoid it\n    var DeltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    var q = Math.abs(DeltaPsi) > 10e-12 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n\n    // distance is pythagoras on 'stretched' Mercator projection\n    var delta = Math.sqrt(DeltaPhi * DeltaPhi + q * q * DeltaLambda * DeltaLambda); // angular distance in radians\n    var dist = delta * R;\n\n    return dist;\n}\n\n/**\n * Converts a WGS84 GeoJSON object into Mercator (EPSG:900913) projection\n *\n * @name toMercator\n * @param {GeoJSON|Position} geojson WGS84 GeoJSON object\n * @param {Object} [options] Optional parameters\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} true/false\n * @example\n * var pt = turf.point([-71,41]);\n * var converted = turf.toMercator(pt);\n *\n * //addToMap\n * var addToMap = [pt, converted];\n */\nfunction toMercator(geojson, options) {\n    return convert(geojson, 'mercator', options);\n}\n\n/**\n * Converts a Mercator (EPSG:900913) GeoJSON object into WGS84 projection\n *\n * @name toWgs84\n * @param {GeoJSON|Position} geojson Mercator GeoJSON object\n * @param {Object} [options] Optional parameters\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} true/false\n * @example\n * var pt = turf.point([-7903683.846322424, 5012341.663847514]);\n * var converted = turf.toWgs84(pt);\n *\n * //addToMap\n * var addToMap = [pt, converted];\n */\nfunction toWgs84(geojson, options) {\n    return convert(geojson, 'wgs84', options);\n}\n\n\n/**\n * Converts a GeoJSON coordinates to the defined `projection`\n *\n * @private\n * @param {GeoJSON} geojson GeoJSON Feature or Geometry\n * @param {string} projection defines the projection system to convert the coordinates to\n * @param {Object} [options] Optional parameters\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} true/false\n */\nfunction convert(geojson, projection, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var mutate = options.mutate;\n\n    // Validation\n    if (!geojson) throw new Error('geojson is required');\n\n    // Handle Position\n    if (Array.isArray(geojson) && isNumber(geojson[0])) geojson = (projection === 'mercator') ? convertToMercator(geojson) : convertToWgs84(geojson);\n\n    // Handle GeoJSON\n    else {\n        // Handle possible data mutation\n        if (mutate !== true) geojson = clone(geojson);\n\n        coordEach(geojson, function (coord) {\n            var newCoord = (projection === 'mercator') ? convertToMercator(coord) : convertToWgs84(coord);\n            coord[0] = newCoord[0];\n            coord[1] = newCoord[1];\n        });\n    }\n    return geojson;\n}\n\n/**\n * Convert lon/lat values to 900913 x/y.\n * (from https://github.com/mapbox/sphericalmercator)\n *\n * @private\n * @param {Array<number>} lonLat WGS84 point\n * @returns {Array<number>} Mercator [x, y] point\n */\nfunction convertToMercator(lonLat) {\n    var D2R = Math.PI / 180,\n        // 900913 properties\n        A = 6378137.0,\n        MAXEXTENT = 20037508.342789244;\n\n    // compensate longitudes passing the 180th meridian\n    // from https://github.com/proj4js/proj4js/blob/master/lib/common/adjust_lon.js\n    var adjusted = (Math.abs(lonLat[0]) <= 180) ? lonLat[0] : (lonLat[0] - (sign(lonLat[0]) * 360));\n    var xy = [\n        A * adjusted * D2R,\n        A * Math.log(Math.tan((Math.PI * 0.25) + (0.5 * lonLat[1] * D2R)))\n    ];\n\n    // if xy value is beyond maxextent (e.g. poles), return maxextent\n    if (xy[0] > MAXEXTENT) xy[0] = MAXEXTENT;\n    if (xy[0] < -MAXEXTENT) xy[0] = -MAXEXTENT;\n    if (xy[1] > MAXEXTENT) xy[1] = MAXEXTENT;\n    if (xy[1] < -MAXEXTENT) xy[1] = -MAXEXTENT;\n\n    return xy;\n}\n\n/**\n * Convert 900913 x/y values to lon/lat.\n * (from https://github.com/mapbox/sphericalmercator)\n *\n * @private\n * @param {Array<number>} xy Mercator [x, y] point\n * @returns {Array<number>} WGS84 [lon, lat] point\n */\nfunction convertToWgs84(xy) {\n    // 900913 properties.\n    var R2D = 180 / Math.PI;\n    var A = 6378137.0;\n\n    return [\n        (xy[0] * R2D / A),\n        ((Math.PI * 0.5) - 2.0 * Math.atan(Math.exp(-xy[1] / A))) * R2D\n    ];\n}\n\n/**\n * Returns the sign of the input, or zero\n *\n * @private\n * @param {number} x input\n * @returns {number} -1|0|1 output\n */\nfunction sign(x) {\n    return (x < 0) ? -1 : (x > 0) ? 1 : 0;\n}\n\n\n\n\nvar main_es$3 = Object.freeze({\n\ttoMercator: toMercator,\n\ttoWgs84: toWgs84\n});\n\n// (logic of computation inspired by:\n// https://stackoverflow.com/questions/32771458/distance-from-lat-lng-point-to-minor-arc-segment)\n\n/**\n * Returns the minimum distance between a {@link Point} and a {@link LineString}, being the distance from a line the\n * minimum distance between the point and any segment of the `LineString`.\n *\n * @name pointToLineDistance\n * @param {Coord} pt Feature or Geometry\n * @param {Feature<LineString>} line GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @param {boolean} [options.mercator=false] if distance should be on Mercator or WGS84 projection\n * @returns {number} distance between point and line\n * @example\n * var pt = turf.point([0, 0]);\n * var line = turf.lineString([[1, 1],[-1, 1]]);\n *\n * var distance = turf.pointToLineDistance(pt, line, {units: 'miles'});\n * //=69.11854715938406\n */\nfunction pointToLineDistance(pt, line, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n\n    // validation\n    if (!pt) throw new Error('pt is required');\n    if (Array.isArray(pt)) pt = point(pt);\n    else if (pt.type === 'Point') pt = feature(pt);\n    else featureOf(pt, 'Point', 'point');\n\n    if (!line) throw new Error('line is required');\n    if (Array.isArray(line)) line = lineString(line);\n    else if (line.type === 'LineString') line = feature(line);\n    else featureOf(line, 'LineString', 'line');\n\n    var distance$$1 = Infinity;\n    var p = pt.geometry.coordinates;\n    segmentEach(line, function (segment) {\n        var a = segment.geometry.coordinates[0];\n        var b = segment.geometry.coordinates[1];\n        var d = distanceToSegment(p, a, b, options);\n        if (distance$$1 > d) distance$$1 = d;\n    });\n    return distance$$1;\n}\n\n\n/**\n * Returns the distance between a point P on a segment AB.\n *\n * @private\n * @param {Array<number>} p external point\n * @param {Array<number>} a first segment point\n * @param {Array<number>} b second segment point\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @param {boolean} [options.mercator=false] if distance should be on Mercator or WGS84 projection\n * @returns {number} distance\n */\nfunction distanceToSegment(p, a, b, options) {\n    var mercator = options.mercator;\n    var distanceAP = (mercator !== true) ? distance(a, p, options) : euclideanDistance(a, p, options);\n    var azimuthAP = bearingToAzimuth((mercator !== true) ? bearing(a, p) : rhumbBearing(a, p));\n    var azimuthAB = bearingToAzimuth((mercator !== true) ? bearing(a, b) : rhumbBearing(a, b));\n    var angleA = Math.abs(azimuthAP - azimuthAB);\n    // if (angleA > 180) angleA = Math.abs(angleA - 360);\n    // if the angle PAB is obtuse its projection on the line extending the segment falls outside the segment\n    // thus return distance between P and the start point A\n    /*\n        P__\n        |\\ \\____\n        | \\     \\____\n        |  \\         \\____\n        |   \\_____________\\\n        H    A             B\n     */\n    if (angleA > 90) return distanceAP;\n\n    var azimuthBA = (azimuthAB + 180) % 360;\n    var azimuthBP = bearingToAzimuth((mercator !== true) ? bearing(b, p) : rhumbBearing(b, p));\n    var angleB = Math.abs(azimuthBP - azimuthBA);\n    if (angleB > 180) angleB = Math.abs(angleB - 360);\n    // also if the angle ABP is acute the projection of P falls outside the segment, on the other side\n    // so return the distance between P and the end point B\n    /*\n                        ____P\n                   ____/   /|\n              ____/       / |\n         ____/           /  |\n        /______________/    |\n       A               B    H\n    */\n    if (angleB > 90) return (mercator !== true) ? distance(p, b, options) : euclideanDistance(p, b, options);\n    // finally if the projection falls inside the segment\n    // return the distance between P and the segment\n    /*\n                     P\n                  __/|\\\n               __/   | \\\n            __/      |  \\\n         __/         |   \\\n        /____________|____\\\n       A             H     B\n    */\n    if (mercator !== true) return distanceAP * Math.sin(degreesToRadians(angleA));\n    return mercatorPH(a, b, p, options);\n}\n\n/**\n * Returns the distance between a point P on a segment AB, on Mercator projection\n *\n * @private\n * @param {Array<number>} a first segment point\n * @param {Array<number>} b second segment point\n * @param {Array<number>} p external point\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {number} distance\n */\nfunction mercatorPH(a, b, p, options) {\n    var delta = 0;\n    // translate points if any is crossing the 180th meridian\n    if (Math.abs(a[0]) >= 180 || Math.abs(b[0]) >= 180 || Math.abs(p[0]) >= 180) {\n        delta = (a[0] > 0 || b[0] > 0 || p[0] > 0) ? -180 : 180;\n    }\n\n    var origin = point(p);\n    var A = toMercator([a[0] + delta, a[1]]);\n    var B = toMercator([b[0] + delta, b[1]]);\n    var P = toMercator([p[0] + delta, p[1]]);\n    var h = toWgs84(euclideanIntersection(A, B, P));\n\n    if (delta !== 0) h[0] -= delta; // translate back to original position\n    var distancePH = rhumbDistance(origin, h, options);\n    return distancePH;\n}\n\n/**\n * Returns the point H projection of a point P on a segment AB, on the euclidean plain\n * from https://stackoverflow.com/questions/10301001/perpendicular-on-a-line-segment-from-a-given-point#answer-12499474\n *            P\n *           |\n *           |\n *  _________|____\n * A          H   B\n *\n * @private\n * @param {Array<number>} a first segment point\n * @param {Array<number>} b second segment point\n * @param {Array<number>} p external point\n * @returns {Array<number>} projected point\n */\nfunction euclideanIntersection(a, b, p) {\n    var x1 = a[0], y1 = a[1],\n        x2 = b[0], y2 = b[1],\n        x3 = p[0], y3 = p[1];\n    var px = x2 - x1, py = y2 - y1;\n    var dab = px * px + py * py;\n    var u = ((x3 - x1) * px + (y3 - y1) * py) / dab;\n    var x = x1 + u * px, y = y1 + u * py;\n    return [x, y]; // H\n}\n\n/**\n * Returns euclidean distance between two points\n *\n * @private\n * @param {Object} from first point\n * @param {Object} to second point\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {number} squared distance\n */\nfunction euclideanDistance(from, to, options) {\n    var units = options.units;\n    // translate points if any is crossing the 180th meridian\n    var delta = 0;\n    if (Math.abs(from[0]) >= 180) {\n        delta = (from[0] > 0) ? -180 : 180;\n    }\n    if (Math.abs(to[0]) >= 180) {\n        delta = (to[0] > 0) ? -180 : 180;\n    }\n    var p1 = toMercator([from[0] + delta, from[1]]);\n    var p2 = toMercator([to[0] + delta, to[1]]);\n\n    var sqr = function (n) { return n * n; };\n    var squareD = sqr(p1[0] - p2[0]) + sqr(p1[1] - p2[1]);\n    var d = Math.sqrt(squareD);\n    return convertLength(d, 'meters', units);\n}\n\n/**\n * Returns the closest {@link Point|point}, of a {@link FeatureCollection|collection} of points, to a {@link LineString|line}.\n * The returned point has a `dist` property indicating its distance to the line.\n *\n * @name nearestPointToLine\n * @param {FeatureCollection|GeometryCollection<Point>} points Point Collection\n * @param {Feature|Geometry<LineString>} line Line Feature\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units='kilometers'] unit of the output distance property, can be degrees, radians, miles, or kilometers\n * @param {Object} [options.properties={}] Translate Properties to Point\n * @returns {Feature<Point>} the closest point\n * @example\n * var pt1 = turf.point([0, 0]);\n * var pt2 = turf.point([0.5, 0.5]);\n * var points = turf.featureCollection([pt1, pt2]);\n * var line = turf.lineString([[1,1], [-1,1]]);\n *\n * var nearest = turf.nearestPointToLine(points, line);\n *\n * //addToMap\n * var addToMap = [nearest, line];\n */\nfunction nearestPointToLine(points$$1, line, options) {\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n    var properties = options.properties || {};\n\n    // validation\n    if (!points$$1) throw new Error('points is required');\n    points$$1 = normalize(points$$1);\n    if (!points$$1.features.length) throw new Error('points must contain features');\n\n    if (!line) throw new Error('line is required');\n    if (getType(line) !== 'LineString') throw new Error('line must be a LineString');\n\n    var dist = Infinity;\n    var pt = null;\n\n    featureEach(points$$1, function (point$$1) {\n        var d = pointToLineDistance(point$$1, line, { units: units });\n        if (d < dist) {\n            dist = d;\n            pt = point$$1;\n        }\n    });\n    /**\n     * Translate Properties to final Point, priorities:\n     * 1. options.properties\n     * 2. inherent Point properties\n     * 3. dist custom properties created by NearestPointToLine\n     */\n    if (pt) pt.properties = Object.assign({dist: dist}, pt.properties, properties);\n    return pt;\n}\n\n/**\n * Convert Collection to FeatureCollection\n *\n * @private\n * @param {FeatureCollection|GeometryCollection<Point>} points Points\n * @returns {FeatureCollection<Point>} points\n */\nfunction normalize(points$$1) {\n    var features = [];\n    var type = points$$1.geometry ? points$$1.geometry.type : points$$1.type;\n    switch (type) {\n    case 'GeometryCollection':\n        geomEach(points$$1, function (geom) {\n            if (geom.type === 'Point') features.push({type: 'Feature', properties: {}, geometry: geom});\n        });\n        return {type: 'FeatureCollection', features: features};\n    case 'FeatureCollection':\n        points$$1.features = points$$1.features.filter(function (feature$$1) {\n            return feature$$1.geometry.type === 'Point';\n        });\n        return points$$1;\n    default:\n        throw new Error('points must be a Point Collection');\n    }\n}\n\n/**\n * Takes a triangular plane as a {@link Polygon}\n * and a {@link Point} within that triangle and returns the z-value\n * at that point. The Polygon should have properties `a`, `b`, and `c`\n * that define the values at its three corners. Alternatively, the z-values\n * of each triangle point can be provided by their respective 3rd coordinate\n * if their values are not provided as properties.\n *\n * @name planepoint\n * @param {Coord} point the Point for which a z-value will be calculated\n * @param {Feature<Polygon>} triangle a Polygon feature with three vertices\n * @returns {number} the z-value for `interpolatedPoint`\n * @example\n * var point = turf.point([-75.3221, 39.529]);\n * // \"a\", \"b\", and \"c\" values represent the values of the coordinates in order.\n * var triangle = turf.polygon([[\n *   [-75.1221, 39.57],\n *   [-75.58, 39.18],\n *   [-75.97, 39.86],\n *   [-75.1221, 39.57]\n * ]], {\n *   \"a\": 11,\n *   \"b\": 122,\n *   \"c\": 44\n * });\n *\n * var zValue = turf.planepoint(point, triangle);\n * point.properties.zValue = zValue;\n *\n * //addToMap\n * var addToMap = [triangle, point];\n */\nfunction planepoint(point, triangle) {\n    // Normalize input\n    var coord = getCoord(point);\n    var geom = getGeom(triangle);\n    var coords = geom.coordinates;\n    var outer = coords[0];\n    if (outer.length < 4) throw new Error('OuterRing of a Polygon must have 4 or more Positions.');\n    var properties = triangle.properties || {};\n    var a = properties.a;\n    var b = properties.b;\n    var c = properties.c;\n\n    // Planepoint\n    var x = coord[0];\n    var y = coord[1];\n    var x1 = outer[0][0];\n    var y1 = outer[0][1];\n    var z1 = (a !== undefined ? a : outer[0][2]);\n    var x2 = outer[1][0];\n    var y2 = outer[1][1];\n    var z2 = (b !== undefined ? b : outer[1][2]);\n    var x3 = outer[2][0];\n    var y3 = outer[2][1];\n    var z3 = (c !== undefined ? c : outer[2][2]);\n    var z = (z3 * (x - x1) * (y - y2) + z1 * (x - x2) * (y - y3) + z2 * (x - x3) * (y - y1) -\n             z2 * (x - x1) * (y - y3) - z3 * (x - x2) * (y - y1) - z1 * (x - x3) * (y - y2)) /\n           ((x - x1) * (y - y2) + (x - x2) * (y - y3) + (x - x3) * (y - y1) -\n            (x - x1) * (y - y3) - (x - x2) * (y - y1) - (x - x3) * (y - y2));\n\n    return z;\n}\n\n/**\n * Takes a {@link LineString|linestring}, {@link MultiLineString|multi-linestring}, {@link MultiPolygon|multi-polygon}, or {@link Polygon|polygon} and returns {@link Point|points} at all self-intersections.\n *\n * @name kinks\n * @param {Feature<LineString|MultiLineString|MultiPolygon|Polygon>} featureIn input feature\n * @returns {FeatureCollection<Point>} self-intersections\n * @example\n * var poly = turf.polygon([[\n *   [-12.034835, 8.901183],\n *   [-12.060413, 8.899826],\n *   [-12.03638, 8.873199],\n *   [-12.059383, 8.871418],\n *   [-12.034835, 8.901183]\n * ]]);\n *\n * var kinks = turf.kinks(poly);\n *\n * //addToMap\n * var addToMap = [poly, kinks]\n */\nfunction kinks(featureIn) {\n    var coordinates;\n    var feature$$1;\n    var results = {\n        type: 'FeatureCollection',\n        features: []\n    };\n    if (featureIn.type === 'Feature') {\n        feature$$1 = featureIn.geometry;\n    } else {\n        feature$$1 = featureIn;\n    }\n    if (feature$$1.type === 'LineString') {\n        coordinates = [feature$$1.coordinates];\n    } else if (feature$$1.type === 'MultiLineString') {\n        coordinates = feature$$1.coordinates;\n    } else if (feature$$1.type === 'MultiPolygon') {\n        coordinates = [].concat.apply([], feature$$1.coordinates);\n    } else if (feature$$1.type === 'Polygon') {\n        coordinates = feature$$1.coordinates;\n    } else {\n        throw new Error('Input must be a LineString, MultiLineString, ' +\n            'Polygon, or MultiPolygon Feature or Geometry');\n    }\n    coordinates.forEach(function (line1) {\n        coordinates.forEach(function (line2) {\n            for (var i = 0; i < line1.length - 1; i++) {\n                // start iteration at i, intersections for k < i have already been checked in previous outer loop iterations\n                for (var k = i; k < line2.length - 1; k++) {\n                    if (line1 === line2) {\n                        // segments are adjacent and always share a vertex, not a kink\n                        if (Math.abs(i - k) === 1) {\n                            continue;\n                        }\n                        // first and last segment in a closed lineString or ring always share a vertex, not a kink\n                        if (\n                            // segments are first and last segment of lineString\n                            i === 0 &&\n                            k === line1.length - 2 &&\n                            // lineString is closed\n                            line1[i][0] === line1[line1.length - 1][0] &&\n                            line1[i][1] === line1[line1.length - 1][1]\n                        ) {\n                            continue;\n                        }\n                    }\n\n                    var intersection = lineIntersects(line1[i][0], line1[i][1], line1[i + 1][0], line1[i + 1][1],\n                        line2[k][0], line2[k][1], line2[k + 1][0], line2[k + 1][1]);\n                    if (intersection) {\n                        results.features.push(point([intersection[0], intersection[1]]));\n                    }\n                }\n            }\n        });\n    });\n    return results;\n}\n\n\n// modified from http://jsfiddle.net/justin_c_rounds/Gd2S2/light/\nfunction lineIntersects(line1StartX, line1StartY, line1EndX, line1EndY, line2StartX, line2StartY, line2EndX, line2EndY) {\n    // if the lines intersect, the result contains the x and y of the intersection (treating the lines as infinite) and booleans for whether line segment 1 or line segment 2 contain the point\n    var denominator, a, b, numerator1, numerator2,\n        result = {\n            x: null,\n            y: null,\n            onLine1: false,\n            onLine2: false\n        };\n    denominator = ((line2EndY - line2StartY) * (line1EndX - line1StartX)) - ((line2EndX - line2StartX) * (line1EndY - line1StartY));\n    if (denominator === 0) {\n        if (result.x !== null && result.y !== null) {\n            return result;\n        } else {\n            return false;\n        }\n    }\n    a = line1StartY - line2StartY;\n    b = line1StartX - line2StartX;\n    numerator1 = ((line2EndX - line2StartX) * a) - ((line2EndY - line2StartY) * b);\n    numerator2 = ((line1EndX - line1StartX) * a) - ((line1EndY - line1StartY) * b);\n    a = numerator1 / denominator;\n    b = numerator2 / denominator;\n\n    // if we cast these lines infinitely in both directions, they intersect here:\n    result.x = line1StartX + (a * (line1EndX - line1StartX));\n    result.y = line1StartY + (a * (line1EndY - line1StartY));\n\n    // if line1 is a segment and line2 is infinite, they intersect if:\n    if (a >= 0 && a <= 1) {\n        result.onLine1 = true;\n    }\n    // if line2 is a segment and line1 is infinite, they intersect if:\n    if (b >= 0 && b <= 1) {\n        result.onLine2 = true;\n    }\n    // if line1 and line2 are segments, they intersect if both of the above are true\n    if (result.onLine1 && result.onLine2) {\n        return [result.x, result.y];\n    } else {\n        return false;\n    }\n}\n\n/**\n * Takes a Feature or FeatureCollection and returns a {@link Point} guaranteed to be on the surface of the feature.\n *\n * * Given a {@link Polygon}, the point will be in the area of the polygon\n * * Given a {@link LineString}, the point will be along the string\n * * Given a {@link Point}, the point will the same as the input\n *\n * @name pointOnFeature\n * @param {GeoJSON} geojson any Feature or FeatureCollection\n * @returns {Feature<Point>} a point on the surface of `input`\n * @example\n * var polygon = turf.polygon([[\n *   [116, -36],\n *   [131, -32],\n *   [146, -43],\n *   [155, -25],\n *   [133, -9],\n *   [111, -22],\n *   [116, -36]\n * ]]);\n *\n * var pointOnPolygon = turf.pointOnFeature(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, pointOnPolygon];\n */\nfunction pointOnFeature(geojson) {\n    // normalize\n    var fc = normalize$1(geojson);\n\n    // get centroid\n    var cent = center(fc);\n\n    // check to see if centroid is on surface\n    var onSurface = false;\n    var i = 0;\n    while (!onSurface && i < fc.features.length) {\n        var geom = fc.features[i].geometry;\n        var x, y, x1, y1, x2, y2, k;\n        var onLine = false;\n        if (geom.type === 'Point') {\n            if (cent.geometry.coordinates[0] === geom.coordinates[0] &&\n                cent.geometry.coordinates[1] === geom.coordinates[1]) {\n                onSurface = true;\n            }\n        } else if (geom.type === 'MultiPoint') {\n            var onMultiPoint = false;\n            k = 0;\n            while (!onMultiPoint && k < geom.coordinates.length) {\n                if (cent.geometry.coordinates[0] === geom.coordinates[k][0] &&\n          cent.geometry.coordinates[1] === geom.coordinates[k][1]) {\n                    onSurface = true;\n                    onMultiPoint = true;\n                }\n                k++;\n            }\n        } else if (geom.type === 'LineString') {\n            k = 0;\n            while (!onLine && k < geom.coordinates.length - 1) {\n                x = cent.geometry.coordinates[0];\n                y = cent.geometry.coordinates[1];\n                x1 = geom.coordinates[k][0];\n                y1 = geom.coordinates[k][1];\n                x2 = geom.coordinates[k + 1][0];\n                y2 = geom.coordinates[k + 1][1];\n                if (pointOnSegment(x, y, x1, y1, x2, y2)) {\n                    onLine = true;\n                    onSurface = true;\n                }\n                k++;\n            }\n        } else if (geom.type === 'MultiLineString') {\n            var j = 0;\n            while (j < geom.coordinates.length) {\n                onLine = false;\n                k = 0;\n                var line = geom.coordinates[j];\n                while (!onLine && k < line.length - 1) {\n                    x = cent.geometry.coordinates[0];\n                    y = cent.geometry.coordinates[1];\n                    x1 = line[k][0];\n                    y1 = line[k][1];\n                    x2 = line[k + 1][0];\n                    y2 = line[k + 1][1];\n                    if (pointOnSegment(x, y, x1, y1, x2, y2)) {\n                        onLine = true;\n                        onSurface = true;\n                    }\n                    k++;\n                }\n                j++;\n            }\n        } else if (geom.type === 'Polygon' || geom.type === 'MultiPolygon') {\n            if (booleanPointInPolygon(cent, geom)) {\n                onSurface = true;\n            }\n        }\n        i++;\n    }\n    if (onSurface) {\n        return cent;\n    } else {\n        var vertices = featureCollection([]);\n        for (i = 0; i < fc.features.length; i++) {\n            vertices.features = vertices.features.concat(explode(fc.features[i]).features);\n        }\n        // Remove distanceToPoint properties from nearestPoint()\n        return point(nearestPoint(cent, vertices).geometry.coordinates);\n    }\n}\n\n/**\n * Normalizes any GeoJSON to a FeatureCollection\n *\n * @private\n * @name normalize\n * @param {GeoJSON} geojson Any GeoJSON\n * @returns {FeatureCollection} FeatureCollection\n */\nfunction normalize$1(geojson) {\n    if (geojson.type !== 'FeatureCollection') {\n        if (geojson.type !== 'Feature') {\n            return featureCollection([feature(geojson)]);\n        }\n        return featureCollection([geojson]);\n    }\n    return geojson;\n}\n\nfunction pointOnSegment(x, y, x1, y1, x2, y2) {\n    var ab = Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    var ap = Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n    var pb = Math.sqrt((x2 - x) * (x2 - x) + (y2 - y) * (y2 - y));\n    return ab === ap + pb;\n}\n\n/**\n * Takes one or more features and returns their area in square meters.\n *\n * @name area\n * @param {GeoJSON} geojson input GeoJSON feature(s)\n * @returns {number} area in square meters\n * @example\n * var polygon = turf.polygon([[[125, -15], [113, -22], [154, -27], [144, -15], [125, -15]]]);\n *\n * var area = turf.area(polygon);\n *\n * //addToMap\n * var addToMap = [polygon]\n * polygon.properties.area = area\n */\nfunction area$1(geojson) {\n    return geomReduce(geojson, function (value, geom) {\n        return value + calculateArea(geom);\n    }, 0);\n}\n\nvar RADIUS = 6378137;\n// var FLATTENING_DENOM = 298.257223563;\n// var FLATTENING = 1 / FLATTENING_DENOM;\n// var POLAR_RADIUS = RADIUS * (1 - FLATTENING);\n\n/**\n * Calculate Area\n *\n * @private\n * @param {GeoJSON} geojson GeoJSON\n * @returns {number} area\n */\nfunction calculateArea(geojson) {\n    var area = 0, i;\n    switch (geojson.type) {\n    case 'Polygon':\n        return polygonArea(geojson.coordinates);\n    case 'MultiPolygon':\n        for (i = 0; i < geojson.coordinates.length; i++) {\n            area += polygonArea(geojson.coordinates[i]);\n        }\n        return area;\n    case 'Point':\n    case 'MultiPoint':\n    case 'LineString':\n    case 'MultiLineString':\n        return 0;\n    case 'GeometryCollection':\n        for (i = 0; i < geojson.geometries.length; i++) {\n            area += calculateArea(geojson.geometries[i]);\n        }\n        return area;\n    }\n}\n\nfunction polygonArea(coords) {\n    var area = 0;\n    if (coords && coords.length > 0) {\n        area += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            area -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return area;\n}\n\n/**\n * @private\n * Calculate the approximate area of the polygon were it projected onto the earth.\n * Note that this area will be positive if ring is oriented clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for Polygons on a Sphere\", JPL Publication 07-03, Jet Propulsion\n * Laboratory, Pasadena, CA, June 2007 http://trs-new.jpl.nasa.gov/dspace/handle/2014/40409\n *\n * @param {Array<Array<number>>} coords Ring Coordinates\n * @returns {number} The approximate signed geodesic area of the polygon in square meters.\n */\nfunction ringArea(coords) {\n    var p1;\n    var p2;\n    var p3;\n    var lowerIndex;\n    var middleIndex;\n    var upperIndex;\n    var i;\n    var area = 0;\n    var coordsLength = coords.length;\n\n    if (coordsLength > 2) {\n        for (i = 0; i < coordsLength; i++) {\n            if (i === coordsLength - 2) { // i = N-2\n                lowerIndex = coordsLength - 2;\n                middleIndex = coordsLength - 1;\n                upperIndex = 0;\n            } else if (i === coordsLength - 1) { // i = N-1\n                lowerIndex = coordsLength - 1;\n                middleIndex = 0;\n                upperIndex = 1;\n            } else { // i = 0 to N-3\n                lowerIndex = i;\n                middleIndex = i + 1;\n                upperIndex = i + 2;\n            }\n            p1 = coords[lowerIndex];\n            p2 = coords[middleIndex];\n            p3 = coords[upperIndex];\n            area += (rad(p3[0]) - rad(p1[0])) * Math.sin(rad(p2[1]));\n        }\n\n        area = area * RADIUS * RADIUS / 2;\n    }\n\n    return area;\n}\n\nfunction rad(_) {\n    return _ * Math.PI / 180;\n}\n\n/**\n * Takes a {@link LineString} and returns a {@link Point} at a specified distance along the line.\n *\n * @name along\n * @param {Feature<LineString>} line input line\n * @param {number} distance distance along the line\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} Point `distance` `units` along the line\n * @example\n * var line = turf.lineString([[-83, 30], [-84, 36], [-78, 41]]);\n * var options = {units: 'miles'};\n *\n * var along = turf.along(line, 200, options);\n *\n * //addToMap\n * var addToMap = [along, line]\n */\nfunction along(line, distance$$1, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n\n    // Validation\n    var coords;\n    if (line.type === 'Feature') coords = line.geometry.coordinates;\n    else if (line.type === 'LineString') coords = line.coordinates;\n    else throw new Error('input must be a LineString Feature or Geometry');\n    if (!isNumber(distance$$1)) throw new Error('distance must be a number');\n\n    var travelled = 0;\n    for (var i = 0; i < coords.length; i++) {\n        if (distance$$1 >= travelled && i === coords.length - 1) break;\n        else if (travelled >= distance$$1) {\n            var overshot = distance$$1 - travelled;\n            if (!overshot) return point(coords[i]);\n            else {\n                var direction = bearing(coords[i], coords[i - 1]) - 180;\n                var interpolated = destination(coords[i], overshot, direction, options);\n                return interpolated;\n            }\n        } else {\n            travelled += distance(coords[i], coords[i + 1], options);\n        }\n    }\n    return point(coords[coords.length - 1]);\n}\n\n/**\n * Takes a {@link GeoJSON} and measures its length in the specified units, {@link (Multi)Point}'s distance are ignored.\n *\n * @name length\n * @param {GeoJSON} geojson GeoJSON to measure\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=kilometers] can be degrees, radians, miles, or kilometers\n * @returns {number} length of GeoJSON\n * @example\n * var line = turf.lineString([[115, -32], [131, -22], [143, -25], [150, -34]]);\n * var length = turf.length(line, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line];\n * line.properties.distance = length;\n */\nfunction length(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n\n    // Input Validation\n    if (!geojson) throw new Error('geojson is required');\n\n    // Calculate distance from 2-vertex line segements\n    return segmentReduce(geojson, function (previousValue, segment) {\n        var coords = segment.geometry.coordinates;\n        return previousValue + distance(coords[0], coords[1], options);\n    }, 0);\n}\n\n/**\n * Takes a {@link LineString|line}, a start {@link Point}, and a stop point\n * and returns a subsection of the line in-between those points.\n * The start & stop points don't need to fall exactly on the line.\n *\n * This can be useful for extracting only the part of a route between waypoints.\n *\n * @name lineSlice\n * @param {Coord} startPt starting point\n * @param {Coord} stopPt stopping point\n * @param {Feature<LineString>|LineString} line line to slice\n * @returns {Feature<LineString>} sliced line\n * @example\n * var line = turf.lineString([\n *     [-77.031669, 38.878605],\n *     [-77.029609, 38.881946],\n *     [-77.020339, 38.884084],\n *     [-77.025661, 38.885821],\n *     [-77.021884, 38.889563],\n *     [-77.019824, 38.892368]\n * ]);\n * var start = turf.point([-77.029609, 38.881946]);\n * var stop = turf.point([-77.021884, 38.889563]);\n *\n * var sliced = turf.lineSlice(start, stop, line);\n *\n * //addToMap\n * var addToMap = [start, stop, line]\n */\nfunction lineSlice(startPt, stopPt, line) {\n    // Validation\n    var coords = getCoords(line);\n    if (getType(line) !== 'LineString') throw new Error('line must be a LineString');\n\n    var startVertex = nearestPointOnLine(line, startPt);\n    var stopVertex = nearestPointOnLine(line, stopPt);\n    var ends;\n    if (startVertex.properties.index <= stopVertex.properties.index) {\n        ends = [startVertex, stopVertex];\n    } else {\n        ends = [stopVertex, startVertex];\n    }\n    var clipCoords = [ends[0].geometry.coordinates];\n    for (var i = ends[0].properties.index + 1; i < ends[1].properties.index + 1; i++) {\n        clipCoords.push(coords[i]);\n    }\n    clipCoords.push(ends[1].geometry.coordinates);\n    return lineString(clipCoords, line.properties);\n}\n\n/**\n * Takes a {@link LineString|line}, a specified distance along the line to a start {@link Point},\n * and a specified  distance along the line to a stop point\n * and returns a subsection of the line in-between those points.\n *\n * This can be useful for extracting only the part of a route between two distances.\n *\n * @name lineSliceAlong\n * @param {Feature<LineString>|LineString} line input line\n * @param {number} startDist distance along the line to starting point\n * @param {number} stopDist distance along the line to ending point\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {Feature<LineString>} sliced line\n * @example\n * var line = turf.lineString([[7, 45], [9, 45], [14, 40], [14, 41]]);\n * var start = 12.5;\n * var stop = 25;\n * var sliced = turf.lineSliceAlong(line, start, stop, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line, start, stop, sliced]\n */\nfunction lineSliceAlong(line, startDist, stopDist, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n\n    var coords;\n    var slice = [];\n\n    // Validation\n    if (line.type === 'Feature') coords = line.geometry.coordinates;\n    else if (line.type === 'LineString') coords = line.coordinates;\n    else throw new Error('input must be a LineString Feature or Geometry');\n\n    var travelled = 0;\n    var overshot, direction, interpolated;\n    for (var i = 0; i < coords.length; i++) {\n        if (startDist >= travelled && i === coords.length - 1) break;\n        else if (travelled > startDist && slice.length === 0) {\n            overshot = startDist - travelled;\n            if (!overshot) {\n                slice.push(coords[i]);\n                return lineString(slice);\n            }\n            direction = bearing(coords[i], coords[i - 1]) - 180;\n            interpolated = destination(coords[i], overshot, direction, options);\n            slice.push(interpolated.geometry.coordinates);\n        }\n\n        if (travelled >= stopDist) {\n            overshot = stopDist - travelled;\n            if (!overshot) {\n                slice.push(coords[i]);\n                return lineString(slice);\n            }\n            direction = bearing(coords[i], coords[i - 1]) - 180;\n            interpolated = destination(coords[i], overshot, direction, options);\n            slice.push(interpolated.geometry.coordinates);\n            return lineString(slice);\n        }\n\n        if (travelled >= startDist) {\n            slice.push(coords[i]);\n        }\n\n        if (i === coords.length - 1) {\n            return lineString(slice);\n        }\n\n        travelled += distance(coords[i], coords[i + 1], options);\n    }\n    return lineString(coords[coords.length - 1]);\n}\n\n/**\n * Returns true if a point is on a line. Accepts a optional parameter to ignore the start and end vertices of the linestring.\n *\n * @name booleanPointOnLine\n * @param {Coord} pt GeoJSON Point\n * @param {Feature<LineString>} line GeoJSON LineString\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreEndVertices=false] whether to ignore the start and end vertices.\n * @returns {boolean} true/false\n * @example\n * var pt = turf.point([0, 0]);\n * var line = turf.lineString([[-1, -1],[1, 1],[1.5, 2.2]]);\n * var isPointOnLine = turf.booleanPointOnLine(pt, line);\n * //=true\n */\nfunction booleanPointOnLine(pt, line, options) {\n    // Optional parameters\n    options = options || {};\n    var ignoreEndVertices = options.ignoreEndVertices;\n    if (!isObject(options)) throw new Error('invalid options');\n\n    // Validate input\n    if (!pt) throw new Error('pt is required');\n    if (!line) throw new Error('line is required');\n\n    // Normalize inputs\n    var ptCoords = getCoord(pt);\n    var lineCoords = getCoords(line);\n\n    // Main\n    for (var i = 0; i < lineCoords.length - 1; i++) {\n        var ignoreBoundary = false;\n        if (ignoreEndVertices) {\n            if (i === 0) ignoreBoundary = 'start';\n            if (i === lineCoords.length - 2) ignoreBoundary = 'end';\n            if (i === 0 && i + 1 === lineCoords.length - 1) ignoreBoundary = 'both';\n        }\n        if (isPointOnLineSegment$1(lineCoords[i], lineCoords[i + 1], ptCoords, ignoreBoundary)) return true;\n    }\n    return false;\n}\n\n// See http://stackoverflow.com/a/4833823/1979085\n/**\n * @private\n * @param {Position} lineSegmentStart coord pair of start of line\n * @param {Position} lineSegmentEnd coord pair of end of line\n * @param {Position} pt coord pair of point to check\n * @param {boolean|string} excludeBoundary whether the point is allowed to fall on the line ends. If true which end to ignore.\n * @returns {boolean} true/false\n */\nfunction isPointOnLineSegment$1(lineSegmentStart, lineSegmentEnd, pt, excludeBoundary) {\n    var x = pt[0];\n    var y = pt[1];\n    var x1 = lineSegmentStart[0];\n    var y1 = lineSegmentStart[1];\n    var x2 = lineSegmentEnd[0];\n    var y2 = lineSegmentEnd[1];\n    var dxc = pt[0] - x1;\n    var dyc = pt[1] - y1;\n    var dxl = x2 - x1;\n    var dyl = y2 - y1;\n    var cross = dxc * dyl - dyc * dxl;\n    if (cross !== 0) {\n        return false;\n    }\n    if (!excludeBoundary) {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 <= x && x <= x2 : x2 <= x && x <= x1;\n        }\n        return dyl > 0 ? y1 <= y && y <= y2 : y2 <= y && y <= y1;\n    } else if (excludeBoundary === 'start') {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 < x && x <= x2 : x2 <= x && x < x1;\n        }\n        return dyl > 0 ? y1 < y && y <= y2 : y2 <= y && y < y1;\n    } else if (excludeBoundary === 'end') {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 <= x && x < x2 : x2 < x && x <= x1;\n        }\n        return dyl > 0 ? y1 <= y && y < y2 : y2 < y && y <= y1;\n    } else if (excludeBoundary === 'both') {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 < x && x < x2 : x2 < x && x < x1;\n        }\n        return dyl > 0 ? y1 < y && y < y2 : y2 < y && y < y1;\n    }\n}\n\n/**\n * Boolean-within returns true if the first geometry is completely within the second geometry.\n * The interiors of both geometries must intersect and, the interior and boundary of the primary (geometry a)\n * must not intersect the exterior of the secondary (geometry b).\n * Boolean-within returns the exact opposite result of the `@turf/boolean-contains`.\n *\n * @name booleanWithin\n * @param {Geometry|Feature<any>} feature1 GeoJSON Feature or Geometry\n * @param {Geometry|Feature<any>} feature2 GeoJSON Feature or Geometry\n * @returns {boolean} true/false\n * @example\n * var line = turf.lineString([[1, 1], [1, 2], [1, 3], [1, 4]]);\n * var point = turf.point([1, 2]);\n *\n * turf.booleanWithin(point, line);\n * //=true\n */\nfunction booleanWithin(feature1, feature2) {\n    var type1 = getType(feature1);\n    var type2 = getType(feature2);\n    var geom1 = getGeom(feature1);\n    var geom2 = getGeom(feature2);\n\n    switch (type1) {\n    case 'Point':\n        switch (type2) {\n        case 'MultiPoint':\n            return isPointInMultiPoint(geom1, geom2);\n        case 'LineString':\n            return booleanPointOnLine(geom1, geom2, {ignoreEndVertices: true});\n        case 'Polygon':\n            return booleanPointInPolygon(geom1, geom2, {ignoreBoundary: true});\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'MultiPoint':\n        switch (type2) {\n        case 'MultiPoint':\n            return isMultiPointInMultiPoint(geom1, geom2);\n        case 'LineString':\n            return isMultiPointOnLine(geom1, geom2);\n        case 'Polygon':\n            return isMultiPointInPoly(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'LineString':\n        switch (type2) {\n        case 'LineString':\n            return isLineOnLine(geom1, geom2);\n        case 'Polygon':\n            return isLineInPoly(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'Polygon':\n        switch (type2) {\n        case 'Polygon':\n            return isPolyInPoly(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    default:\n        throw new Error('feature1 ' + type1 + ' geometry not supported');\n    }\n}\n\nfunction isPointInMultiPoint(point, multiPoint) {\n    var i;\n    var output = false;\n    for (i = 0; i < multiPoint.coordinates.length; i++) {\n        if (compareCoords(multiPoint.coordinates[i], point.coordinates)) {\n            output = true;\n            break;\n        }\n    }\n    return output;\n}\n\nfunction isMultiPointInMultiPoint(multiPoint1, multiPoint2) {\n    for (var i = 0; i < multiPoint1.coordinates.length; i++) {\n        var anyMatch = false;\n        for (var i2 = 0; i2 < multiPoint2.coordinates.length; i2++) {\n            if (compareCoords(multiPoint1.coordinates[i], multiPoint2.coordinates[i2])) {\n                anyMatch = true;\n            }\n        }\n        if (!anyMatch) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction isMultiPointOnLine(multiPoint, lineString) {\n    var foundInsidePoint = false;\n\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        if (!booleanPointOnLine(multiPoint.coordinates[i], lineString)) {\n            return false;\n        }\n        if (!foundInsidePoint) {\n            foundInsidePoint = booleanPointOnLine(multiPoint.coordinates[i], lineString, {ignoreEndVertices: true});\n        }\n    }\n    return foundInsidePoint;\n}\n\nfunction isMultiPointInPoly(multiPoint, polygon) {\n    var output = true;\n    var oneInside = false;\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        var isInside = booleanPointInPolygon(multiPoint.coordinates[1], polygon);\n        if (!isInside) {\n            output = false;\n            break;\n        }\n        if (!oneInside) {\n            isInside = booleanPointInPolygon(multiPoint.coordinates[1], polygon, {ignoreBoundary: true});\n        }\n    }\n    return output && isInside;\n}\n\nfunction isLineOnLine(lineString1, lineString2) {\n    for (var i = 0; i < lineString1.coordinates.length; i++) {\n        if (!booleanPointOnLine(lineString1.coordinates[i], lineString2)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction isLineInPoly(linestring, polygon) {\n    var polyBbox = bbox(polygon);\n    var lineBbox = bbox(linestring);\n    if (!doBBoxOverlap(polyBbox, lineBbox)) {\n        return false;\n    }\n    var foundInsidePoint = false;\n\n    for (var i = 0; i < linestring.coordinates.length - 1; i++) {\n        if (!booleanPointInPolygon(linestring.coordinates[i], polygon)) {\n            return false;\n        }\n        if (!foundInsidePoint) {\n            foundInsidePoint = booleanPointInPolygon(linestring.coordinates[i], polygon, {ignoreBoundary: true});\n        }\n        if (!foundInsidePoint) {\n            var midpoint = getMidpoint(linestring.coordinates[i], linestring.coordinates[i + 1]);\n            foundInsidePoint = booleanPointInPolygon(midpoint, polygon, {ignoreBoundary: true});\n\n        }\n    }\n    return foundInsidePoint;\n}\n\n/**\n * Is Polygon2 in Polygon1\n * Only takes into account outer rings\n *\n * @private\n * @param {Geometry|Feature<Polygon>} feature1 Polygon1\n * @param {Geometry|Feature<Polygon>} feature2 Polygon2\n * @returns {boolean} true/false\n */\nfunction isPolyInPoly(feature1, feature2) {\n    var poly1Bbox = bbox(feature1);\n    var poly2Bbox = bbox(feature2);\n    if (!doBBoxOverlap(poly2Bbox, poly1Bbox)) {\n        return false;\n    }\n    for (var i = 0; i < feature1.coordinates[0].length; i++) {\n        if (!booleanPointInPolygon(feature1.coordinates[0][i], feature2)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction doBBoxOverlap(bbox1, bbox2) {\n    if (bbox1[0] > bbox2[0]) return false;\n    if (bbox1[2] < bbox2[2]) return false;\n    if (bbox1[1] > bbox2[1]) return false;\n    if (bbox1[3] < bbox2[3]) return false;\n    return true;\n}\n\n/**\n * compareCoords\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {boolean} true/false if coord pairs match\n */\nfunction compareCoords(pair1, pair2) {\n    return pair1[0] === pair2[0] && pair1[1] === pair2[1];\n}\n\n/**\n * getMidpoint\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {Position} midpoint of pair1 and pair2\n */\nfunction getMidpoint(pair1, pair2) {\n    return [(pair1[0] + pair2[0]) / 2, (pair1[1] + pair2[1]) / 2];\n}\n\n/**\n * Creates a {@link Point} grid from a bounding box, {@link FeatureCollection} or {@link Feature}.\n *\n * @name pointGrid\n * @param {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @param {number} cellSide the distance between points, in units\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] used in calculating cellSide, can be degrees, radians, miles, or kilometers\n * @param {Feature<Polygon|MultiPolygon>} [options.mask] if passed a Polygon or MultiPolygon, the grid Points will be created only inside it\n * @param {Object} [options.properties={}] passed to each point of the grid\n * @returns {FeatureCollection<Point>} grid of points\n * @example\n * var extent = [-70.823364, -33.553984, -70.473175, -33.302986];\n * var cellSide = 3;\n * var options = {units: 'miles'};\n *\n * var grid = turf.pointGrid(extent, cellSide, options);\n *\n * //addToMap\n * var addToMap = [grid];\n */\nfunction pointGrid(bbox, cellSide, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    // var units = options.units;\n    var mask = options.mask;\n    var properties = options.properties;\n\n    // Containers\n    var results = [];\n\n    // Input Validation\n    if (cellSide === null || cellSide === undefined) throw new Error('cellSide is required');\n    if (!isNumber(cellSide)) throw new Error('cellSide is invalid');\n    if (!bbox) throw new Error('bbox is required');\n    if (!Array.isArray(bbox)) throw new Error('bbox must be array');\n    if (bbox.length !== 4) throw new Error('bbox must contain 4 numbers');\n    if (mask && ['Polygon', 'MultiPolygon'].indexOf(getType(mask)) === -1) throw new Error('options.mask must be a (Multi)Polygon');\n\n    var west = bbox[0];\n    var south = bbox[1];\n    var east = bbox[2];\n    var north = bbox[3];\n\n    var xFraction = cellSide / (distance([west, south], [east, south], options));\n    var cellWidth = xFraction * (east - west);\n    var yFraction = cellSide / (distance([west, south], [west, north], options));\n    var cellHeight = yFraction * (north - south);\n\n    var bboxWidth = (east - west);\n    var bboxHeight = (north - south);\n    var columns = Math.floor(bboxWidth / cellWidth);\n    var rows = Math.floor(bboxHeight / cellHeight);\n    // adjust origin of the grid\n    var deltaX = (bboxWidth - columns * cellWidth) / 2;\n    var deltaY = (bboxHeight - rows * cellHeight) / 2;\n\n    var currentX = west + deltaX;\n    while (currentX <= east) {\n        var currentY = south + deltaY;\n        while (currentY <= north) {\n            var cellPt = point([currentX, currentY], properties);\n            if (mask) {\n                if (booleanWithin(cellPt, mask)) results.push(cellPt);\n            } else {\n                results.push(cellPt);\n            }\n            currentY += cellHeight;\n        }\n        currentX += cellWidth;\n    }\n\n    return featureCollection(results);\n}\n\n/**\n * Takes a GeoJSON Feature or FeatureCollection and truncates the precision of the geometry.\n *\n * @name truncate\n * @param {GeoJSON} geojson any GeoJSON Feature, FeatureCollection, Geometry or GeometryCollection.\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.precision=6] coordinate decimal precision\n * @param {number} [options.coordinates=3] maximum number of coordinates (primarly used to remove z coordinates)\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} layer with truncated geometry\n * @example\n * var point = turf.point([\n *     70.46923055566859,\n *     58.11088890802906,\n *     1508\n * ]);\n * var options = {precision: 3, coordinates: 2};\n * var truncated = turf.truncate(point, options);\n * //=truncated.geometry.coordinates => [70.469, 58.111]\n *\n * //addToMap\n * var addToMap = [truncated];\n */\nfunction truncate(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var precision = options.precision;\n    var coordinates = options.coordinates;\n    var mutate = options.mutate;\n\n    // default params\n    precision = (precision === undefined || precision === null || isNaN(precision)) ? 6 : precision;\n    coordinates = (coordinates === undefined || coordinates === null || isNaN(coordinates)) ? 3 : coordinates;\n\n    // validation\n    if (!geojson) throw new Error('<geojson> is required');\n    if (typeof precision !== 'number') throw new Error('<precision> must be a number');\n    if (typeof coordinates !== 'number') throw new Error('<coordinates> must be a number');\n\n    // prevent input mutation\n    if (mutate === false || mutate === undefined) geojson = JSON.parse(JSON.stringify(geojson));\n\n    var factor = Math.pow(10, precision);\n\n    // Truncate Coordinates\n    coordEach(geojson, function (coords) {\n        truncateCoords(coords, factor, coordinates);\n    });\n    return geojson;\n}\n\n/**\n * Truncate Coordinates - Mutates coordinates in place\n *\n * @private\n * @param {Array<any>} coords Geometry Coordinates\n * @param {number} factor rounding factor for coordinate decimal precision\n * @param {number} coordinates maximum number of coordinates (primarly used to remove z coordinates)\n * @returns {Array<any>} mutated coordinates\n */\nfunction truncateCoords(coords, factor, coordinates) {\n    // Remove extra coordinates (usually elevation coordinates and more)\n    if (coords.length > coordinates) coords.splice(coordinates, coords.length);\n\n    // Truncate coordinate decimals\n    for (var i = 0; i < coords.length; i++) {\n        coords[i] = Math.round(coords[i] * factor) / factor;\n    }\n    return coords;\n}\n\n/**\n * Flattens any {@link GeoJSON} to a {@link FeatureCollection} inspired by [geojson-flatten](https://github.com/tmcw/geojson-flatten).\n *\n * @name flatten\n * @param {GeoJSON} geojson any valid GeoJSON Object\n * @returns {FeatureCollection<any>} all Multi-Geometries are flattened into single Features\n * @example\n * var multiGeometry = turf.multiPolygon([\n *   [[[102.0, 2.0], [103.0, 2.0], [103.0, 3.0], [102.0, 3.0], [102.0, 2.0]]],\n *   [[[100.0, 0.0], [101.0, 0.0], [101.0, 1.0], [100.0, 1.0], [100.0, 0.0]],\n *   [[100.2, 0.2], [100.8, 0.2], [100.8, 0.8], [100.2, 0.8], [100.2, 0.2]]]\n * ]);\n *\n * var flatten = turf.flatten(multiGeometry);\n *\n * //addToMap\n * var addToMap = [flatten]\n */\nfunction flatten(geojson) {\n    if (!geojson) throw new Error('geojson is required');\n\n    var results = [];\n    flattenEach(geojson, function (feature$$1) {\n        results.push(feature$$1);\n    });\n    return featureCollection(results);\n}\n\n/**\n * Divides a {@link LineString} into chunks of a specified length.\n * If the line is shorter than the segment length then the original line is returned.\n *\n * @name lineChunk\n * @param {FeatureCollection|Geometry|Feature<LineString|MultiLineString>} geojson the lines to split\n * @param {number} segmentLength how long to make each segment\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] units can be degrees, radians, miles, or kilometers\n * @param {boolean} [options.reverse=false] reverses coordinates to start the first chunked segment at the end\n * @returns {FeatureCollection<LineString>} collection of line segments\n * @example\n * var line = turf.lineString([[-95, 40], [-93, 45], [-85, 50]]);\n *\n * var chunk = turf.lineChunk(line, 15, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [chunk];\n */\nfunction lineChunk(geojson, segmentLength, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n    var reverse = options.reverse;\n\n    // Validation\n    if (!geojson) throw new Error('geojson is required');\n    if (segmentLength <= 0) throw new Error('segmentLength must be greater than 0');\n\n    // Container\n    var results = [];\n\n    // Flatten each feature to simple LineString\n    flattenEach(geojson, function (feature$$1) {\n        // reverses coordinates to start the first chunked segment at the end\n        if (reverse) feature$$1.geometry.coordinates = feature$$1.geometry.coordinates.reverse();\n\n        sliceLineSegments(feature$$1, segmentLength, units, function (segment) {\n            results.push(segment);\n        });\n    });\n    return featureCollection(results);\n}\n\n/**\n * Slice Line Segments\n *\n * @private\n * @param {Feature<LineString>} line GeoJSON LineString\n * @param {number} segmentLength how long to make each segment\n * @param {string}[units='kilometers'] units can be degrees, radians, miles, or kilometers\n * @param {Function} callback iterate over sliced line segments\n * @returns {void}\n */\nfunction sliceLineSegments(line, segmentLength, units, callback) {\n    var lineLength = length(line, {units: units});\n\n    // If the line is shorter than the segment length then the orginal line is returned.\n    if (lineLength <= segmentLength) return callback(line);\n\n    var numberOfSegments = lineLength / segmentLength;\n\n    // If numberOfSegments is integer, no need to plus 1\n    if (!Number.isInteger(numberOfSegments)) {\n        numberOfSegments = Math.floor(numberOfSegments) + 1;\n    }\n\n    for (var i = 0; i < numberOfSegments; i++) {\n        var outline = lineSliceAlong(line, segmentLength * i, segmentLength * (i + 1), {units: units});\n        callback(outline, i);\n    }\n}\n\n// Find self-intersections in geojson polygon (possibly with interior rings)\nvar isects = function (feature$$1, filterFn, useSpatialIndex) {\n    if (feature$$1.geometry.type !== 'Polygon') throw new Error('The input feature must be a Polygon');\n    if (useSpatialIndex === undefined) useSpatialIndex = 1;\n\n    var coord = feature$$1.geometry.coordinates;\n\n    var output = [];\n    var seen = {};\n\n    if (useSpatialIndex) {\n        var allEdgesAsRbushTreeItems = [];\n        for (var ring0 = 0; ring0 < coord.length; ring0++) {\n            for (var edge0 = 0; edge0 < coord[ring0].length - 1; edge0++) {\n                allEdgesAsRbushTreeItems.push(rbushTreeItem(ring0, edge0));\n            }\n        }\n        var tree = rbush_1();\n        tree.load(allEdgesAsRbushTreeItems);\n    }\n\n    for (var ringA = 0; ringA < coord.length; ringA++) {\n        for (var edgeA = 0; edgeA < coord[ringA].length - 1; edgeA++) {\n            if (useSpatialIndex) {\n                var bboxOverlaps = tree.search(rbushTreeItem(ringA, edgeA));\n                bboxOverlaps.forEach(function (bboxIsect) {\n                    var ring1 = bboxIsect.ring;\n                    var edge1 = bboxIsect.edge;\n                    ifIsectAddToOutput(ringA, edgeA, ring1, edge1);\n                });\n            } else {\n                for (var ring1 = 0; ring1 < coord.length; ring1++) {\n                    for (var edge1 = 0; edge1 < coord[ring1].length - 1; edge1++) {\n                        // TODO: speedup possible if only interested in unique: start last two loops at ringA and edgeA+1\n                        ifIsectAddToOutput(ringA, edgeA, ring1, edge1);\n                    }\n                }\n            }\n        }\n    }\n\n    if (!filterFn) output = {type: 'Feature', geometry: {type: 'MultiPoint', coordinates: output}};\n    return output;\n\n    // Function to check if two edges intersect and add the intersection to the output\n    function ifIsectAddToOutput(ring0, edge0, ring1, edge1) {\n        var start0 = coord[ring0][edge0];\n        var end0 = coord[ring0][edge0 + 1];\n        var start1 = coord[ring1][edge1];\n        var end1 = coord[ring1][edge1 + 1];\n\n        var isect = intersect(start0, end0, start1, end1);\n\n        if (isect === null) return; // discard parallels and coincidence\n        var frac0;\n        var frac1;\n        if (end0[0] !== start0[0]) {\n            frac0 = (isect[0] - start0[0]) / (end0[0] - start0[0]);\n        } else {\n            frac0 = (isect[1] - start0[1]) / (end0[1] - start0[1]);\n        }\n        if (end1[0] !== start1[0]) {\n            frac1 = (isect[0] - start1[0]) / (end1[0] - start1[0]);\n        } else {\n            frac1 = (isect[1] - start1[1]) / (end1[1] - start1[1]);\n        }\n        if (frac0 >= 1 || frac0 <= 0 || frac1 >= 1 || frac1 <= 0) return; // require segment intersection\n\n        var key = isect;\n        var unique = !seen[key];\n        if (unique) {\n            seen[key] = true;\n        }\n\n        if (filterFn) {\n            output.push(filterFn(isect, ring0, edge0, start0, end0, frac0, ring1, edge1, start1, end1, frac1, unique));\n        } else {\n            output.push(isect);\n        }\n    }\n\n    // Function to return a rbush tree item given an ring and edge number\n    function rbushTreeItem(ring, edge) {\n\n        var start = coord[ring][edge];\n        var end = coord[ring][edge + 1];\n        var minX;\n        var maxX;\n        var minY;\n        var maxY;\n        if (start[0] < end[0]) {\n            minX = start[0];\n            maxX = end[0];\n        } else {\n            minX = end[0];\n            maxX = start[0];\n        }\n        if (start[1] < end[1]) {\n            minY = start[1];\n            maxY = end[1];\n        } else {\n            minY = end[1];\n            maxY = start[1];\n        }\n        return {minX: minX, minY: minY, maxX: maxX, maxY: maxY, ring: ring, edge: edge};\n    }\n};\n\n// Function to compute where two lines (not segments) intersect. From https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection\nfunction intersect(start0, end0, start1, end1) {\n    if (equalArrays$1(start0, start1) || equalArrays$1(start0, end1) || equalArrays$1(end0, start1) || equalArrays$1(end1, start1)) return null;\n    var x0 = start0[0],\n        y0 = start0[1],\n        x1 = end0[0],\n        y1 = end0[1],\n        x2 = start1[0],\n        y2 = start1[1],\n        x3 = end1[0],\n        y3 = end1[1];\n    var denom = (x0 - x1) * (y2 - y3) - (y0 - y1) * (x2 - x3);\n    if (denom === 0) return null;\n    var x4 = ((x0 * y1 - y0 * x1) * (x2 - x3) - (x0 - x1) * (x2 * y3 - y2 * x3)) / denom;\n    var y4 = ((x0 * y1 - y0 * x1) * (y2 - y3) - (y0 - y1) * (x2 * y3 - y2 * x3)) / denom;\n    return [x4, y4];\n}\n\n// Function to compare Arrays of numbers. From http://stackoverflow.com/questions/7837456/how-to-compare-arrays-in-javascript\nfunction equalArrays$1(array1, array2) {\n    // if the other array is a falsy value, return\n    if (!array1 || !array2)\n        return false;\n\n    // compare lengths - can save a lot of time\n    if (array1.length !== array2.length)\n        return false;\n\n    for (var i = 0, l = array1.length; i < l; i++) {\n        // Check if we have nested arrays\n        if (array1[i] instanceof Array && array2[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!equalArrays$1(array1[i], array2[i]))\n                return false;\n        } else if (array1[i] !== array2[i]) {\n            // Warning - two different object instances will never be equal: {x:20} !== {x:20}\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n * Takes a complex (i.e. self-intersecting) geojson polygon, and breaks it down into its composite simple, non-self-intersecting one-ring polygons.\n *\n * @module simplepolygon\n * @param {Feature} feature Input polygon. This polygon may be unconform the {@link https://en.wikipedia.org/wiki/Simple_Features|Simple Features standard} in the sense that it's inner and outer rings may cross-intersect or self-intersect, that the outer ring must not contain the optional inner rings and that the winding number must not be positive for the outer and negative for the inner rings.\n * @return {FeatureCollection} Feature collection containing the simple, non-self-intersecting one-ring polygon features that the complex polygon is composed of. These simple polygons have properties such as their parent polygon, winding number and net winding number.\n *\n * @example\n * var poly = {\n *   \"type\": \"Feature\",\n *   \"geometry\": {\n *     \"type\": \"Polygon\",\n *     \"coordinates\": [[[0,0],[2,0],[0,2],[2,2],[0,0]]]\n *   }\n * };\n *\n * var result = simplepolygon(poly);\n *\n * // =result\n * // which will be a featureCollection of two polygons, one with coordinates [[[0,0],[2,0],[1,1],[0,0]]], parent -1, winding 1 and net winding 1, and one with coordinates [[[1,1],[0,2],[2,2],[1,1]]], parent -1, winding -1 and net winding -1\n */\nvar simplepolygon = function (feature$$1) {\n    // Check input\n    if (feature$$1.type != 'Feature') throw new Error('The input must a geojson object of type Feature');\n    if ((feature$$1.geometry === undefined) || (feature$$1.geometry == null)) throw new Error('The input must a geojson object with a non-empty geometry');\n    if (feature$$1.geometry.type != 'Polygon') throw new Error('The input must be a geojson Polygon');\n\n    // Process input\n    var numRings = feature$$1.geometry.coordinates.length;\n    var vertices = [];\n    for (var i = 0; i < numRings; i++) {\n        var ring = feature$$1.geometry.coordinates[i];\n        if (!equalArrays(ring[0], ring[ring.length - 1])) {\n            ring.push(ring[0]); // Close input ring if it is not\n        }\n        vertices.push.apply(vertices, ring.slice(0, ring.length - 1));\n    }\n    if (!isUnique(vertices)) throw new Error('The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)');\n    var numvertices = vertices.length; // number of input ring vertices, with the last closing vertices not counted\n\n    // Compute self-intersections\n    var selfIsectsData = isects(feature$$1, function filterFn(isect, ring0, edge0, start0, end0, frac0, ring1, edge1, start1, end1, frac1, unique) {\n        return [isect, ring0, edge0, start0, end0, frac0, ring1, edge1, start1, end1, frac1, unique];\n    });\n    var numSelfIsect = selfIsectsData.length;\n\n    // If no self-intersections are found, the input rings are the output rings. Hence, we must only compute their winding numbers, net winding numbers and (since ohers rings could lie outside the first ring) parents.\n    if (numSelfIsect == 0) {\n        var outputFeatureArray = [];\n        for (var i = 0; i < numRings; i++) {\n            outputFeatureArray.push(polygon([feature$$1.geometry.coordinates[i]], {parent: -1, winding: windingOfRing(feature$$1.geometry.coordinates[i])}));\n        }\n        var output = featureCollection(outputFeatureArray);\n        determineParents();\n        setNetWinding();\n\n        return output;\n    }\n\n    // If self-intersections are found, we will compute the output rings with the help of two intermediate variables\n    // First, we build the pseudo vertex list and intersection list\n    // The Pseudo vertex list is an array with for each ring an array with for each edge an array containing the pseudo-vertices (as made by their constructor) that have this ring and edge as ringAndEdgeIn, sorted for each edge by their fractional distance on this edge. It's length hence equals numRings.\n    var pseudoVtxListByRingAndEdge = [];\n    // The intersection list is an array containing intersections (as made by their constructor). First all numvertices ring-vertex-intersections, then all self-intersections (intra- and inter-ring). The order of the latter is not important but is permanent once given.\n    var isectList = [];\n    // Adding ring-pseudo-vertices to pseudoVtxListByRingAndEdge and ring-vertex-intersections to isectList\n    for (var i = 0; i < numRings; i++) {\n        pseudoVtxListByRingAndEdge.push([]);\n        for (var j = 0; j < feature$$1.geometry.coordinates[i].length - 1; j++) {\n            // Each edge will feature one ring-pseudo-vertex in its array, on the last position. i.e. edge j features the ring-pseudo-vertex of the ring vertex j+1, which has ringAndEdgeIn = [i,j], on the last position.\n            pseudoVtxListByRingAndEdge[i].push([new PseudoVtx(feature$$1.geometry.coordinates[i][(j + 1).modulo(feature$$1.geometry.coordinates[i].length - 1)], 1, [i, j], [i, (j + 1).modulo(feature$$1.geometry.coordinates[i].length - 1)], undefined)]);\n            // The first numvertices elements in isectList correspond to the ring-vertex-intersections\n            isectList.push(new Isect(feature$$1.geometry.coordinates[i][j], [i, (j - 1).modulo(feature$$1.geometry.coordinates[i].length - 1)], [i, j], undefined, undefined, false, true));\n        }\n    }\n    // Adding intersection-pseudo-vertices to pseudoVtxListByRingAndEdge and self-intersections to isectList\n    for (var i = 0; i < numSelfIsect; i++) {\n    // Adding intersection-pseudo-vertices made using selfIsectsData to pseudoVtxListByRingAndEdge's array corresponding to the incomming ring and edge\n        pseudoVtxListByRingAndEdge[selfIsectsData[i][1]][selfIsectsData[i][2]].push(new PseudoVtx(selfIsectsData[i][0], selfIsectsData[i][5], [selfIsectsData[i][1], selfIsectsData[i][2]], [selfIsectsData[i][6], selfIsectsData[i][7]], undefined));\n        // selfIsectsData contains double mentions of each intersection, but we only want to add them once to isectList\n        if (selfIsectsData[i][11]) isectList.push(new Isect(selfIsectsData[i][0], [selfIsectsData[i][1], selfIsectsData[i][2]], [selfIsectsData[i][6], selfIsectsData[i][7]], undefined, undefined, true, true));\n    }\n    var numIsect = isectList.length;\n    // Sort edge arrays of pseudoVtxListByRingAndEdge by the fractional distance 'param'\n    for (var i = 0; i < pseudoVtxListByRingAndEdge.length; i++) {\n        for (var j = 0; j < pseudoVtxListByRingAndEdge[i].length; j++) {\n            pseudoVtxListByRingAndEdge[i][j].sort(function (a, b) { return (a.param < b.param) ? -1 : 1; });\n        }\n    }\n\n    // Make a spatial index of intersections, in preperation for the following two steps\n    var allIsectsAsIsectRbushTreeItem = [];\n    for (var i = 0; i < numIsect; i++) {\n        allIsectsAsIsectRbushTreeItem.push({minX: isectList[i].coord[0], minY: isectList[i].coord[1], maxX: isectList[i].coord[0], maxY: isectList[i].coord[1], index: i}); // could pass isect: isectList[i], but not necessary\n    }\n    var isectRbushTree = rbush_1();\n    isectRbushTree.load(allIsectsAsIsectRbushTreeItem);\n\n    // Now we will teach each intersection in isectList which is the next intersection along both it's [ring, edge]'s, in two steps.\n    // First, we find the next intersection for each pseudo-vertex in pseudoVtxListByRingAndEdge:\n    // For each pseudovertex in pseudoVtxListByRingAndEdge (3 loops) look at the next pseudovertex on that edge and find the corresponding intersection by comparing coordinates\n    for (var i = 0; i < pseudoVtxListByRingAndEdge.length; i++) {\n        for (var j = 0; j < pseudoVtxListByRingAndEdge[i].length; j++) {\n            for (var k = 0; k < pseudoVtxListByRingAndEdge[i][j].length; k++) {\n                var coordToFind;\n                if (k == pseudoVtxListByRingAndEdge[i][j].length - 1) { // If it's the last pseudoVertex on that edge, then the next pseudoVertex is the first one on the next edge of that ring.\n                    coordToFind = pseudoVtxListByRingAndEdge[i][(j + 1).modulo(feature$$1.geometry.coordinates[i].length - 1)][0].coord;\n                } else {\n                    coordToFind = pseudoVtxListByRingAndEdge[i][j][k + 1].coord;\n                }\n                var IsectRbushTreeItemFound = isectRbushTree.search({minX: coordToFind[0], minY: coordToFind[1], maxX: coordToFind[0], maxY: coordToFind[1]})[0]; // We can take [0] of the result, because there is only one isect correponding to a pseudo-vertex\n                pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn = IsectRbushTreeItemFound.index;\n            }\n        }\n    }\n\n    // Second, we port this knowledge of the next intersection over to the intersections in isectList, by finding the intersection corresponding to each pseudo-vertex and copying the pseudo-vertex' knownledge of the next-intersection over to the intersection\n    for (var i = 0; i < pseudoVtxListByRingAndEdge.length; i++) {\n        for (var j = 0; j < pseudoVtxListByRingAndEdge[i].length; j++) {\n            for (var k = 0; k < pseudoVtxListByRingAndEdge[i][j].length; k++) {\n                var coordToFind = pseudoVtxListByRingAndEdge[i][j][k].coord;\n                var IsectRbushTreeItemFound = isectRbushTree.search({minX: coordToFind[0], minY: coordToFind[1], maxX: coordToFind[0], maxY: coordToFind[1]})[0]; // We can take [0] of the result, because there is only one isect correponding to a pseudo-vertex\n                var l = IsectRbushTreeItemFound.index;\n                if (l < numvertices) { // Special treatment at ring-vertices: we correct the misnaming that happened in the previous block, since ringAndEdgeOut = ringAndEdge2 for ring vertices.\n                    isectList[l].nxtIsectAlongRingAndEdge2 = pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn;\n                } else { // Port the knowledge of the next intersection from the pseudo-vertices to the intersections, depending on how the edges are labeled in the pseudo-vertex and intersection.\n                    if (equalArrays(isectList[l].ringAndEdge1, pseudoVtxListByRingAndEdge[i][j][k].ringAndEdgeIn)) {\n                        isectList[l].nxtIsectAlongRingAndEdge1 = pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn;\n                    } else {\n                        isectList[l].nxtIsectAlongRingAndEdge2 = pseudoVtxListByRingAndEdge[i][j][k].nxtIsectAlongEdgeIn;\n                    }\n                }\n            }\n        }\n    }\n    // This explains why, eventhough when we will walk away from an intersection, we will walk way from the corresponding pseudo-vertex along edgeOut, pseudo-vertices have the property 'nxtIsectAlongEdgeIn' in stead of some propery 'nxtPseudoVtxAlongEdgeOut'. This is because this property (which is easy to find out) is used in the above for nxtIsectAlongRingAndEdge1 and nxtIsectAlongRingAndEdge2!\n\n    // Before we start walking over the intersections to build the output rings, we prepare a queue that stores information on intersections we still have to deal with, and put at least one intersection in it.\n    // This queue will contain information on intersections where we can start walking from once the current walk is finished, and its parent output ring (the smallest output ring it lies within, -1 if no parent or parent unknown yet) and its winding number (which we can already determine).\n    var queue = [];\n    // For each output ring, add the ring-vertex-intersection with the smalles x-value (i.e. the left-most) as a start intersection. By choosing such an extremal intersections, we are sure to start at an intersection that is a convex vertex of its output ring. By adding them all to the queue, we are sure that no rings will be forgotten. If due to ring-intersections such an intersection will be encountered while walking, it will be removed from the queue.\n    var i = 0;\n    for (var j = 0; j < numRings; j++) {\n        var leftIsect = i;\n        for (var k = 0; k < feature$$1.geometry.coordinates[j].length - 1; k++) {\n            if (isectList[i].coord[0] < isectList[leftIsect].coord[0]) {\n                leftIsect = i;\n            }\n            i++;\n        }\n        // Compute winding at this left-most ring-vertex-intersection. We thus this by using our knowledge that this extremal vertex must be a convex vertex.\n        // We first find the intersection before and after it, and then use them to determine the winding number of the corresponding output ring, since we know that an extremal vertex of a simple, non-self-intersecting ring is always convex, so the only reason it would not be is because the winding number we use to compute it is wrong\n        var isectAfterLeftIsect = isectList[leftIsect].nxtIsectAlongRingAndEdge2;\n        for (var k = 0; k < isectList.length; k++) {\n            if ((isectList[k].nxtIsectAlongRingAndEdge1 == leftIsect) || (isectList[k].nxtIsectAlongRingAndEdge2 == leftIsect)) {\n                var isectBeforeLeftIsect = k;\n                break;\n            }\n        }\n        var windingAtIsect = isConvex([isectList[isectBeforeLeftIsect].coord, isectList[leftIsect].coord, isectList[isectAfterLeftIsect].coord], true) ? 1 : -1;\n\n        queue.push({isect: leftIsect, parent: -1, winding: windingAtIsect});\n    }\n    // Sort the queue by the same criterion used to find the leftIsect: the left-most leftIsect must be last in the queue, such that it will be popped first, such that we will work from out to in regarding input rings. This assumtion is used when predicting the winding number and parent of a new queue member.\n    queue.sort(function (a, b) { return (isectList[a.isect].coord > isectList[b.isect].coord) ? -1 : 1; });\n\n    // Initialise output\n    var outputFeatureArray = [];\n\n    // While the queue is not empty, take the last object (i.e. its intersection) out and start making an output ring by walking in the direction that has not been walked away over yet.\n    while (queue.length > 0) {\n    // Get the last object out of the queue\n        var popped = queue.pop();\n        var startIsect = popped.isect;\n        var currentOutputRingParent = popped.parent;\n        var currentOutputRingWinding = popped.winding;\n        // Make new output ring and add vertex from starting intersection\n        var currentOutputRing = outputFeatureArray.length;\n        var currentOutputRingCoords = [isectList[startIsect].coord];\n        // Set up the variables used while walking over intersections: 'currentIsect', 'nxtIsect' and 'walkingRingAndEdge'\n        var currentIsect = startIsect;\n        if (isectList[startIsect].ringAndEdge1Walkable) {\n            var walkingRingAndEdge = isectList[startIsect].ringAndEdge1;\n            var nxtIsect = isectList[startIsect].nxtIsectAlongRingAndEdge1;\n        } else {\n            var walkingRingAndEdge = isectList[startIsect].ringAndEdge2;\n            var nxtIsect = isectList[startIsect].nxtIsectAlongRingAndEdge2;\n        }\n        // While we have not arrived back at the same intersection, keep walking\n        while (!equalArrays(isectList[startIsect].coord, isectList[nxtIsect].coord)) {\n            currentOutputRingCoords.push(isectList[nxtIsect].coord);\n            // If the next intersection is queued, we can remove it, because we will go there now.\n            var nxtIsectInQueue = undefined;\n            for (var i = 0; i < queue.length; i++) { if (queue[i].isect == nxtIsect) { nxtIsectInQueue = i; break; } }\n            if (nxtIsectInQueue != undefined) {\n                queue.splice(nxtIsectInQueue, 1);\n            }\n            // Arriving at this new intersection, we know which will be our next walking ring and edge (if we came from 1 we will walk away from 2 and vice versa),\n            // So we can set it as our new walking ring and intersection and remember that we (will) have walked over it\n            // If we have never walked away from this new intersection along the other ring and edge then we will soon do, add the intersection (and the parent wand winding number) to the queue\n            // (We can predict the winding number and parent as follows: if the edge is convex, the other output ring started from there will have the alternate winding and lie outside of the current one, and thus have the same parent ring as the current ring. Otherwise, it will have the same winding number and lie inside of the current ring. We are, however, only sure of this of an output ring started from there does not enclose the current ring. This is why the initial queue's intersections must be sorted such that outer ones come out first.)\n            // We then update the other two walking variables.\n            if (equalArrays(walkingRingAndEdge, isectList[nxtIsect].ringAndEdge1)) {\n                walkingRingAndEdge = isectList[nxtIsect].ringAndEdge2;\n                isectList[nxtIsect].ringAndEdge2Walkable = false;\n                if (isectList[nxtIsect].ringAndEdge1Walkable) {\n                    var pushing = {isect: nxtIsect};\n                    if (isConvex([isectList[currentIsect].coord, isectList[nxtIsect].coord, isectList[isectList[nxtIsect].nxtIsectAlongRingAndEdge2].coord], currentOutputRingWinding == 1)) {\n                        pushing.parent = currentOutputRingParent;\n                        pushing.winding = -currentOutputRingWinding;\n                    } else {\n                        pushing.parent = currentOutputRing;\n                        pushing.winding = currentOutputRingWinding;\n                    }\n                    queue.push(pushing);\n                }\n                currentIsect = nxtIsect;\n                nxtIsect = isectList[nxtIsect].nxtIsectAlongRingAndEdge2;\n            } else {\n                walkingRingAndEdge = isectList[nxtIsect].ringAndEdge1;\n                isectList[nxtIsect].ringAndEdge1Walkable = false;\n                if (isectList[nxtIsect].ringAndEdge2Walkable) {\n                    var pushing = {isect: nxtIsect};\n                    if (isConvex([isectList[currentIsect].coord, isectList[nxtIsect].coord, isectList[isectList[nxtIsect].nxtIsectAlongRingAndEdge1].coord], currentOutputRingWinding == 1)) {\n                        pushing.parent = currentOutputRingParent;\n                        pushing.winding = -currentOutputRingWinding;\n                    } else {\n                        pushing.parent = currentOutputRing;\n                        pushing.winding = currentOutputRingWinding;\n                    }\n                    queue.push(pushing);\n                }\n                currentIsect = nxtIsect;\n                nxtIsect = isectList[nxtIsect].nxtIsectAlongRingAndEdge1;\n            }\n        }\n        // Close output ring\n        currentOutputRingCoords.push(isectList[nxtIsect].coord);\n        // Push output ring to output\n        outputFeatureArray.push(polygon([currentOutputRingCoords], {index: currentOutputRing, parent: currentOutputRingParent, winding: currentOutputRingWinding, netWinding: undefined}));\n    }\n\n    var output = featureCollection(outputFeatureArray);\n\n    determineParents();\n\n    setNetWinding();\n\n    // These functions are also used if no intersections are found\n    function determineParents() {\n        var featuresWithoutParent = [];\n        for (var i = 0; i < output.features.length; i++) {\n            if (output.features[i].properties.parent == -1) featuresWithoutParent.push(i);\n        }\n        if (featuresWithoutParent.length > 1) {\n            for (var i = 0; i < featuresWithoutParent.length; i++) {\n                var parent = -1;\n                var parentArea = Infinity;\n                for (var j = 0; j < output.features.length; j++) {\n                    if (featuresWithoutParent[i] == j) continue;\n                    if (booleanPointInPolygon(output.features[featuresWithoutParent[i]].geometry.coordinates[0][0], output.features[j], {ignoreBoundary: true})) {\n                        if (area$1(output.features[j]) < parentArea) {\n                            parent = j;\n                        }\n                    }\n                }\n                output.features[featuresWithoutParent[i]].properties.parent = parent;\n            }\n        }\n    }\n\n    function setNetWinding() {\n        for (var i = 0; i < output.features.length; i++) {\n            if (output.features[i].properties.parent == -1) {\n                var netWinding = output.features[i].properties.winding;\n                output.features[i].properties.netWinding = netWinding;\n                setNetWindingOfChildren(i, netWinding);\n            }\n        }\n    }\n\n    function setNetWindingOfChildren(parent, ParentNetWinding) {\n        for (var i = 0; i < output.features.length; i++) {\n            if (output.features[i].properties.parent == parent) {\n                var netWinding = ParentNetWinding + output.features[i].properties.winding;\n                output.features[i].properties.netWinding = netWinding;\n                setNetWindingOfChildren(i, netWinding);\n            }\n        }\n    }\n\n\n    return output;\n};\n\n\n\n// Constructor for (ring- or intersection-) pseudo-vertices.\nvar PseudoVtx = function (coord, param, ringAndEdgeIn, ringAndEdgeOut, nxtIsectAlongEdgeIn) {\n    this.coord = coord; // [x,y] of this pseudo-vertex\n    this.param = param; // fractional distance of this intersection on incomming edge\n    this.ringAndEdgeIn = ringAndEdgeIn; // [ring index, edge index] of incomming edge\n    this.ringAndEdgeOut = ringAndEdgeOut; // [ring index, edge index] of outgoing edge\n    this.nxtIsectAlongEdgeIn = nxtIsectAlongEdgeIn; // The next intersection when following the incomming edge (so not when following ringAndEdgeOut!)\n};\n\n// Constructor for an intersection. There are two intersection-pseudo-vertices per self-intersection and one ring-pseudo-vertex per ring-vertex-intersection. Their labels 1 and 2 are not assigned a particular meaning but are permanent once given.\nvar Isect = function (coord, ringAndEdge1, ringAndEdge2, nxtIsectAlongRingAndEdge1, nxtIsectAlongRingAndEdge2, ringAndEdge1Walkable, ringAndEdge2Walkable) {\n    this.coord = coord; // [x,y] of this intersection\n    this.ringAndEdge1 = ringAndEdge1; // first edge of this intersection\n    this.ringAndEdge2 = ringAndEdge2; // second edge of this intersection\n    this.nxtIsectAlongRingAndEdge1 = nxtIsectAlongRingAndEdge1; // the next intersection when following ringAndEdge1\n    this.nxtIsectAlongRingAndEdge2 = nxtIsectAlongRingAndEdge2; // the next intersection when following ringAndEdge2\n    this.ringAndEdge1Walkable = ringAndEdge1Walkable; // May we (still) walk away from this intersection over ringAndEdge1?\n    this.ringAndEdge2Walkable = ringAndEdge2Walkable; // May we (still) walk away from this intersection over ringAndEdge2?\n};\n\n// Function to determine if three consecutive points of a simple, non-self-intersecting ring make up a convex vertex, assuming the ring is right- or lefthanded\nfunction isConvex(pts, righthanded) {\n    // 'pts' is an [x,y] pair\n    // 'righthanded' is a boolean\n    if (typeof (righthanded) === 'undefined') righthanded = true;\n    if (pts.length != 3) throw new Error('This function requires an array of three points [x,y]');\n    var d = (pts[1][0] - pts[0][0]) * (pts[2][1] - pts[0][1]) - (pts[1][1] - pts[0][1]) * (pts[2][0] - pts[0][0]);\n    return (d >= 0) == righthanded;\n}\n\n// Function to compute winding of simple, non-self-intersecting ring\nfunction windingOfRing(ring) {\n    // 'ring' is an array of [x,y] pairs with the last equal to the first\n    // Compute the winding number based on the vertex with the smallest x-value, it precessor and successor. An extremal vertex of a simple, non-self-intersecting ring is always convex, so the only reason it is not is because the winding number we use to compute it is wrong\n    var leftVtx = 0;\n    for (var i = 0; i < ring.length - 1; i++) { if (ring[i][0] < ring[leftVtx][0]) leftVtx = i; }\n    if (isConvex([ring[(leftVtx - 1).modulo(ring.length - 1)], ring[leftVtx], ring[(leftVtx + 1).modulo(ring.length - 1)]], true)) {\n        var winding = 1;\n    } else {\n        var winding = -1;\n    }\n    return winding;\n}\n\n// Function to compare Arrays of numbers. From http://stackoverflow.com/questions/7837456/how-to-compare-arrays-in-javascript\nfunction equalArrays(array1, array2) {\n    // if the other array is a falsy value, return\n    if (!array1 || !array2)\n        return false;\n\n    // compare lengths - can save a lot of time\n    if (array1.length != array2.length)\n        return false;\n\n    for (var i = 0, l = array1.length; i < l; i++) {\n        // Check if we have nested arrays\n        if (array1[i] instanceof Array && array2[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!equalArrays(array1[i], array2[i]))\n                return false;\n        } else if (array1[i] != array2[i]) {\n            // Warning - two different object instances will never be equal: {x:20} != {x:20}\n            return false;\n        }\n    }\n    return true;\n}\n\n// Fix Javascript modulo for negative number. From http://stackoverflow.com/questions/4467539/javascript-modulo-not-behaving\nNumber.prototype.modulo = function (n) {\n    return ((this % n) + n) % n;\n};\n\n// Function to check if array is unique (i.e. all unique elements, i.e. no duplicate elements)\nfunction isUnique(array) {\n    var u = {};\n    var isUnique = 1;\n    for (var i = 0, l = array.length; i < l; ++i) {\n        if (u.hasOwnProperty(array[i])) {\n            isUnique = 0;\n            break;\n        }\n        u[array[i]] = 1;\n    }\n    return isUnique;\n}\n\n/**\n * Takes a kinked polygon and returns a feature collection of polygons that have no kinks.\n * Uses [simplepolygon](https://github.com/mclaeysb/simplepolygon) internally.\n *\n * @name unkinkPolygon\n * @param {FeatureCollection|Feature<Polygon|MultiPolygon>} geojson GeoJSON Polygon or MultiPolygon\n * @returns {FeatureCollection<Polygon>} Unkinked polygons\n * @example\n * var poly = turf.polygon([[[0, 0], [2, 0], [0, 2], [2, 2], [0, 0]]]);\n *\n * var result = turf.unkinkPolygon(poly);\n *\n * //addToMap\n * var addToMap = [poly, result]\n */\nfunction unkinkPolygon(geojson) {\n    var features = [];\n    flattenEach(geojson, function (feature$$1) {\n        if (feature$$1.geometry.type !== 'Polygon') return;\n        featureEach(simplepolygon(feature$$1), function (poly) {\n            features.push(polygon(poly.geometry.coordinates, feature$$1.properties));\n        });\n    });\n    return featureCollection(features);\n}\n\nvar D2R = Math.PI / 180;\nvar R2D = 180 / Math.PI;\n\nvar Coord = function (lon, lat) {\n    this.lon = lon;\n    this.lat = lat;\n    this.x = D2R * lon;\n    this.y = D2R * lat;\n};\n\nCoord.prototype.view = function () {\n    return String(this.lon).slice(0, 4) + ',' + String(this.lat).slice(0, 4);\n};\n\nCoord.prototype.antipode = function () {\n    var anti_lat = -1 * this.lat;\n    var anti_lon = (this.lon < 0) ? 180 + this.lon : (180 - this.lon) * -1;\n    return new Coord(anti_lon, anti_lat);\n};\n\nvar LineString = function () {\n    this.coords = [];\n    this.length = 0;\n};\n\nLineString.prototype.move_to = function (coord) {\n    this.length++;\n    this.coords.push(coord);\n};\n\nvar Arc = function (properties) {\n    this.properties = properties || {};\n    this.geometries = [];\n};\n\nArc.prototype.json = function () {\n    if (this.geometries.length <= 0) {\n        return {'geometry': { 'type': 'LineString', 'coordinates': null },\n            'type': 'Feature', 'properties': this.properties\n        };\n    } else if (this.geometries.length === 1) {\n        return {'geometry': { 'type': 'LineString', 'coordinates': this.geometries[0].coords },\n            'type': 'Feature', 'properties': this.properties\n        };\n    } else {\n        var multiline = [];\n        for (var i = 0; i < this.geometries.length; i++) {\n            multiline.push(this.geometries[i].coords);\n        }\n        return {'geometry': { 'type': 'MultiLineString', 'coordinates': multiline },\n            'type': 'Feature', 'properties': this.properties\n        };\n    }\n};\n\n// TODO - output proper multilinestring\nArc.prototype.wkt = function () {\n    var wkt_string = '';\n    var wkt = 'LINESTRING(';\n    var collect = function (c) { wkt += c[0] + ' ' + c[1] + ','; };\n    for (var i = 0; i < this.geometries.length; i++) {\n        if (this.geometries[i].coords.length === 0) {\n            return 'LINESTRING(empty)';\n        } else {\n            var coords = this.geometries[i].coords;\n            coords.forEach(collect);\n            wkt_string += wkt.substring(0, wkt.length - 1) + ')';\n        }\n    }\n    return wkt_string;\n};\n\n/*\n * http://en.wikipedia.org/wiki/Great-circle_distance\n *\n */\nvar GreatCircle = function (start, end, properties) {\n    if (!start || start.x === undefined || start.y === undefined) {\n        throw new Error('GreatCircle constructor expects two args: start and end objects with x and y properties');\n    }\n    if (!end || end.x === undefined || end.y === undefined) {\n        throw new Error('GreatCircle constructor expects two args: start and end objects with x and y properties');\n    }\n    this.start = new Coord(start.x, start.y);\n    this.end = new Coord(end.x, end.y);\n    this.properties = properties || {};\n\n    var w = this.start.x - this.end.x;\n    var h = this.start.y - this.end.y;\n    var z = Math.pow(Math.sin(h / 2.0), 2) +\n                Math.cos(this.start.y) *\n                   Math.cos(this.end.y) *\n                     Math.pow(Math.sin(w / 2.0), 2);\n    this.g = 2.0 * Math.asin(Math.sqrt(z));\n\n    if (this.g === Math.PI) {\n        throw new Error('it appears ' + start.view() + ' and ' + end.view() + ' are \\'antipodal\\', e.g diametrically opposite, thus there is no single route but rather infinite');\n    } else if (isNaN(this.g)) {\n        throw new Error('could not calculate great circle between ' + start + ' and ' + end);\n    }\n};\n\n/*\n * http://williams.best.vwh.net/avform.htm#Intermediate\n */\nGreatCircle.prototype.interpolate = function (f) {\n    var A = Math.sin((1 - f) * this.g) / Math.sin(this.g);\n    var B = Math.sin(f * this.g) / Math.sin(this.g);\n    var x = A * Math.cos(this.start.y) * Math.cos(this.start.x) + B * Math.cos(this.end.y) * Math.cos(this.end.x);\n    var y = A * Math.cos(this.start.y) * Math.sin(this.start.x) + B * Math.cos(this.end.y) * Math.sin(this.end.x);\n    var z = A * Math.sin(this.start.y) + B * Math.sin(this.end.y);\n    var lat = R2D * Math.atan2(z, Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2)));\n    var lon = R2D * Math.atan2(y, x);\n    return [lon, lat];\n};\n\n\n\n/*\n * Generate points along the great circle\n */\nGreatCircle.prototype.Arc = function (npoints, options) {\n    var first_pass = [];\n    if (!npoints || npoints <= 2) {\n        first_pass.push([this.start.lon, this.start.lat]);\n        first_pass.push([this.end.lon, this.end.lat]);\n    } else {\n        var delta = 1.0 / (npoints - 1);\n        for (var i = 0; i < npoints; ++i) {\n            var step = delta * i;\n            var pair = this.interpolate(step);\n            first_pass.push(pair);\n        }\n    }\n    /* partial port of dateline handling from:\n      gdal/ogr/ogrgeometryfactory.cpp\n\n      TODO - does not handle all wrapping scenarios yet\n    */\n    var bHasBigDiff = false;\n    var dfMaxSmallDiffLong = 0;\n    // from http://www.gdal.org/ogr2ogr.html\n    // -datelineoffset:\n    // (starting with GDAL 1.10) offset from dateline in degrees (default long. = +/- 10deg, geometries within 170deg to -170deg will be splited)\n    var dfDateLineOffset = options && options.offset ? options.offset : 10;\n    var dfLeftBorderX = 180 - dfDateLineOffset;\n    var dfRightBorderX = -180 + dfDateLineOffset;\n    var dfDiffSpace = 360 - dfDateLineOffset;\n\n    // https://github.com/OSGeo/gdal/blob/7bfb9c452a59aac958bff0c8386b891edf8154ca/gdal/ogr/ogrgeometryfactory.cpp#L2342\n    for (var j = 1; j < first_pass.length; ++j) {\n        var dfPrevX = first_pass[j - 1][0];\n        var dfX = first_pass[j][0];\n        var dfDiffLong = Math.abs(dfX - dfPrevX);\n        if (dfDiffLong > dfDiffSpace &&\n            ((dfX > dfLeftBorderX && dfPrevX < dfRightBorderX) || (dfPrevX > dfLeftBorderX && dfX < dfRightBorderX))) {\n            bHasBigDiff = true;\n        } else if (dfDiffLong > dfMaxSmallDiffLong) {\n            dfMaxSmallDiffLong = dfDiffLong;\n        }\n    }\n\n    var poMulti = [];\n    if (bHasBigDiff && dfMaxSmallDiffLong < dfDateLineOffset) {\n        var poNewLS = [];\n        poMulti.push(poNewLS);\n        for (var k = 0; k < first_pass.length; ++k) {\n            var dfX0 = parseFloat(first_pass[k][0]);\n            if (k > 0 &&  Math.abs(dfX0 - first_pass[k - 1][0]) > dfDiffSpace) {\n                var dfX1 = parseFloat(first_pass[k - 1][0]);\n                var dfY1 = parseFloat(first_pass[k - 1][1]);\n                var dfX2 = parseFloat(first_pass[k][0]);\n                var dfY2 = parseFloat(first_pass[k][1]);\n                if (dfX1 > -180 && dfX1 < dfRightBorderX && dfX2 === 180 &&\n                    k + 1 < first_pass.length &&\n                   first_pass[k - 1][0] > -180 && first_pass[k - 1][0] < dfRightBorderX) {\n                    poNewLS.push([-180, first_pass[k][1]]);\n                    k++;\n                    poNewLS.push([first_pass[k][0], first_pass[k][1]]);\n                    continue;\n                } else if (dfX1 > dfLeftBorderX && dfX1 < 180 && dfX2 === -180 &&\n                     k + 1 < first_pass.length &&\n                     first_pass[k - 1][0] > dfLeftBorderX && first_pass[k - 1][0] < 180) {\n                    poNewLS.push([180, first_pass[k][1]]);\n                    k++;\n                    poNewLS.push([first_pass[k][0], first_pass[k][1]]);\n                    continue;\n                }\n\n                if (dfX1 < dfRightBorderX && dfX2 > dfLeftBorderX) {\n                    // swap dfX1, dfX2\n                    var tmpX = dfX1;\n                    dfX1 = dfX2;\n                    dfX2 = tmpX;\n                    // swap dfY1, dfY2\n                    var tmpY = dfY1;\n                    dfY1 = dfY2;\n                    dfY2 = tmpY;\n                }\n                if (dfX1 > dfLeftBorderX && dfX2 < dfRightBorderX) {\n                    dfX2 += 360;\n                }\n\n                if (dfX1 <= 180 && dfX2 >= 180 && dfX1 < dfX2) {\n                    var dfRatio = (180 - dfX1) / (dfX2 - dfX1);\n                    var dfY = dfRatio * dfY2 + (1 - dfRatio) * dfY1;\n                    poNewLS.push([first_pass[k - 1][0] > dfLeftBorderX ? 180 : -180, dfY]);\n                    poNewLS = [];\n                    poNewLS.push([first_pass[k - 1][0] > dfLeftBorderX ? -180 : 180, dfY]);\n                    poMulti.push(poNewLS);\n                } else {\n                    poNewLS = [];\n                    poMulti.push(poNewLS);\n                }\n                poNewLS.push([dfX0, first_pass[k][1]]);\n            } else {\n                poNewLS.push([first_pass[k][0], first_pass[k][1]]);\n            }\n        }\n    } else {\n        // add normally\n        var poNewLS0 = [];\n        poMulti.push(poNewLS0);\n        for (var l = 0; l < first_pass.length; ++l) {\n            poNewLS0.push([first_pass[l][0], first_pass[l][1]]);\n        }\n    }\n\n    var arc = new Arc(this.properties);\n    for (var m = 0; m < poMulti.length; ++m) {\n        var line = new LineString();\n        arc.geometries.push(line);\n        var points = poMulti[m];\n        for (var j0 = 0; j0 < points.length; ++j0) {\n            line.move_to(points[j0]);\n        }\n    }\n    return arc;\n};\n\n/**\n * Calculate great circles routes as {@link LineString}\n *\n * @name greatCircle\n * @param {Coord} start source point feature\n * @param {Coord} end destination point feature\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] line feature properties\n * @param {number} [options.npoints=100] number of points\n * @param {number} [options.offset=10] offset controls the likelyhood that lines will\n * be split which cross the dateline. The higher the number the more likely.\n * @returns {Feature<LineString>} great circle line feature\n * @example\n * var start = turf.point([-122, 48]);\n * var end = turf.point([-77, 39]);\n *\n * var greatCircle = turf.greatCircle(start, end, {'name': 'Seattle to DC'});\n *\n * //addToMap\n * var addToMap = [start, end, greatCircle]\n */\nfunction greatCircle(start, end, options) {\n    // Optional parameters\n    options = options || {};\n    if (typeof options !== 'object') throw new Error('options is invalid');\n    var properties = options.properties;\n    var npoints = options.npoints;\n    var offset = options.offset;\n\n    start = getCoord(start);\n    end = getCoord(end);\n    properties = properties || {};\n    npoints = npoints || 100;\n    offset = offset || 10;\n\n    var generator = new GreatCircle({x: start[0], y: start[1]}, {x: end[0], y: end[1]}, properties);\n\n    /* eslint-disable */\n    var line = generator.Arc(npoints, {offset: offset});\n    /* eslint-enable */\n\n    return line.json();\n}\n\n/**\n * Split a LineString by another GeoJSON Feature.\n *\n * @name lineSplit\n * @param {Feature<LineString>} line LineString Feature to split\n * @param {Feature<any>} splitter Feature used to split line\n * @returns {FeatureCollection<LineString>} Split LineStrings\n * @example\n * var line = turf.lineString([[120, -25], [145, -25]]);\n * var splitter = turf.lineString([[130, -15], [130, -35]]);\n *\n * var split = turf.lineSplit(line, splitter);\n *\n * //addToMap\n * var addToMap = [line, splitter]\n */\nfunction lineSplit(line, splitter) {\n    if (!line) throw new Error('line is required');\n    if (!splitter) throw new Error('splitter is required');\n\n    var lineType = getType(line);\n    var splitterType = getType(splitter);\n\n    if (lineType !== 'LineString') throw new Error('line must be LineString');\n    if (splitterType === 'FeatureCollection') throw new Error('splitter cannot be a FeatureCollection');\n    if (splitterType === 'GeometryCollection') throw new Error('splitter cannot be a GeometryCollection');\n\n    // remove excessive decimals from splitter\n    // to avoid possible approximation issues in rbush\n    var truncatedSplitter = truncate(splitter, {precision: 7});\n\n    switch (splitterType) {\n    case 'Point':\n        return splitLineWithPoint(line, truncatedSplitter);\n    case 'MultiPoint':\n        return splitLineWithPoints(line, truncatedSplitter);\n    case 'LineString':\n    case 'MultiLineString':\n    case 'Polygon':\n    case 'MultiPolygon':\n        return splitLineWithPoints(line, lineIntersect(line, truncatedSplitter));\n    }\n}\n\n/**\n * Split LineString with MultiPoint\n *\n * @private\n * @param {Feature<LineString>} line LineString\n * @param {FeatureCollection<Point>} splitter Point\n * @returns {FeatureCollection<LineString>} split LineStrings\n */\nfunction splitLineWithPoints(line, splitter) {\n    var results = [];\n    var tree = geojsonRbush();\n\n    flattenEach(splitter, function (point$$1) {\n        // Add index/id to features (needed for filter)\n        results.forEach(function (feature$$1, index) {\n            feature$$1.id = index;\n        });\n        // First Point - doesn't need to handle any previous line results\n        if (!results.length) {\n            results = splitLineWithPoint(line, point$$1).features;\n\n            // Add Square BBox to each feature for GeoJSON-RBush\n            results.forEach(function (feature$$1) {\n                if (!feature$$1.bbox) feature$$1.bbox = square(bbox(feature$$1));\n            });\n            tree.load(featureCollection(results));\n        // Split with remaining points - lines might needed to be split multiple times\n        } else {\n            // Find all lines that are within the splitter's bbox\n            var search = tree.search(point$$1);\n\n            if (search.features.length) {\n                // RBush might return multiple lines - only process the closest line to splitter\n                var closestLine = findClosestFeature(point$$1, search);\n\n                // Remove closest line from results since this will be split into two lines\n                // This removes any duplicates inside the results & index\n                results = results.filter(function (feature$$1) { return feature$$1.id !== closestLine.id; });\n                tree.remove(closestLine);\n\n                // Append the two newly split lines into the results\n                featureEach(splitLineWithPoint(closestLine, point$$1), function (line) {\n                    results.push(line);\n                    tree.insert(line);\n                });\n            }\n        }\n    });\n    return featureCollection(results);\n}\n\n/**\n * Split LineString with Point\n *\n * @private\n * @param {Feature<LineString>} line LineString\n * @param {Feature<Point>} splitter Point\n * @returns {FeatureCollection<LineString>} split LineStrings\n */\nfunction splitLineWithPoint(line, splitter) {\n    var results = [];\n\n    // handle endpoints\n    var startPoint = getCoords(line)[0];\n    var endPoint = getCoords(line)[line.geometry.coordinates.length - 1];\n    if (pointsEquals(startPoint, getCoord(splitter)) ||\n        pointsEquals(endPoint, getCoord(splitter))) return featureCollection([line]);\n\n    // Create spatial index\n    var tree = geojsonRbush();\n    var segments = lineSegment(line);\n    tree.load(segments);\n\n    // Find all segments that are within bbox of splitter\n    var search = tree.search(splitter);\n\n    // Return itself if point is not within spatial index\n    if (!search.features.length) return featureCollection([line]);\n\n    // RBush might return multiple lines - only process the closest line to splitter\n    var closestSegment = findClosestFeature(splitter, search);\n\n    // Initial value is the first point of the first segments (beginning of line)\n    var initialValue = [startPoint];\n    var lastCoords = featureReduce(segments, function (previous, current, index) {\n        var currentCoords = getCoords(current)[1];\n        var splitterCoords = getCoord(splitter);\n\n        // Location where segment intersects with line\n        if (index === closestSegment.id) {\n            previous.push(splitterCoords);\n            results.push(lineString(previous));\n            // Don't duplicate splitter coordinate (Issue #688)\n            if (pointsEquals(splitterCoords, currentCoords)) return [splitterCoords];\n            return [splitterCoords, currentCoords];\n\n        // Keep iterating over coords until finished or intersection is found\n        } else {\n            previous.push(currentCoords);\n            return previous;\n        }\n    }, initialValue);\n    // Append last line to final split results\n    if (lastCoords.length > 1) {\n        results.push(lineString(lastCoords));\n    }\n    return featureCollection(results);\n}\n\n\n/**\n * Find Closest Feature\n *\n * @private\n * @param {Feature<Point>} point Feature must be closest to this point\n * @param {FeatureCollection<LineString>} lines Collection of Features\n * @returns {Feature<LineString>} closest LineString\n */\nfunction findClosestFeature(point$$1, lines) {\n    if (!lines.features.length) throw new Error('lines must contain features');\n    // Filter to one segment that is the closest to the line\n    if (lines.features.length === 1) return lines.features[0];\n\n    var closestFeature;\n    var closestDistance = Infinity;\n    featureEach(lines, function (segment) {\n        var pt = nearestPointOnLine(segment, point$$1);\n        var dist = pt.properties.dist;\n        if (dist < closestDistance) {\n            closestFeature = segment;\n            closestDistance = dist;\n        }\n    });\n    return closestFeature;\n}\n\n/**\n * Compares two points and returns if they are equals\n *\n * @private\n * @param {Array<number>} pt1 point\n * @param {Array<number>} pt2 point\n * @returns {boolean} true if they are equals\n */\nfunction pointsEquals(pt1, pt2) {\n    return pt1[0] === pt2[0] && pt1[1] === pt2[1];\n}\n\n/**\n * Creates a circular arc, of a circle of the given radius and center point, between bearing1 and bearing2;\n * 0 bearing is North of center point, positive clockwise.\n *\n * @name lineArc\n * @param {Coord} center center point\n * @param {number} radius radius of the circle\n * @param {number} bearing1 angle, in decimal degrees, of the first radius of the arc\n * @param {number} bearing2 angle, in decimal degrees, of the second radius of the arc\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @returns {Feature<LineString>} line arc\n * @example\n * var center = turf.point([-75, 40]);\n * var radius = 5;\n * var bearing1 = 25;\n * var bearing2 = 47;\n *\n * var arc = turf.lineArc(center, radius, bearing1, bearing2);\n *\n * //addToMap\n * var addToMap = [center, arc]\n */\nfunction lineArc(center, radius, bearing1, bearing2, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var steps = options.steps;\n    var units = options.units;\n\n    // validation\n    if (!center) throw new Error('center is required');\n    if (!radius) throw new Error('radius is required');\n    if (bearing1 === undefined || bearing1 === null) throw new Error('bearing1 is required');\n    if (bearing2 === undefined || bearing2 === null) throw new Error('bearing2 is required');\n    if (typeof options !== 'object') throw new Error('options must be an object');\n\n    // default params\n    steps = steps || 64;\n\n    var angle1 = convertAngleTo360(bearing1);\n    var angle2 = convertAngleTo360(bearing2);\n    var properties = center.properties;\n\n    // handle angle parameters\n    if (angle1 === angle2) {\n        return lineString(circle(center, radius, options).geometry.coordinates[0], properties);\n    }\n    var arcStartDegree = angle1;\n    var arcEndDegree = (angle1 < angle2) ? angle2 : angle2 + 360;\n\n    var alfa = arcStartDegree;\n    var coordinates = [];\n    var i = 0;\n\n    while (alfa < arcEndDegree) {\n        coordinates.push(destination(center, radius, alfa, units).geometry.coordinates);\n        i++;\n        alfa = arcStartDegree + i * 360 / steps;\n    }\n    if (alfa > arcEndDegree) {\n        coordinates.push(destination(center, radius, arcEndDegree, units).geometry.coordinates);\n    }\n    return lineString(coordinates, properties);\n}\n\n\n/**\n * Takes any angle in  degrees\n * and returns a valid angle between 0-360 degrees\n *\n * @private\n * @param {number} alfa angle between -180-180 degrees\n * @returns {number} angle between 0-360 degrees\n */\nfunction convertAngleTo360(alfa) {\n    var beta = alfa % 360;\n    if (beta < 0) {\n        beta += 360;\n    }\n    return beta;\n}\n\n/**\n * Converts a {@link Polygon} to {@link LineString|(Multi)LineString} or {@link MultiPolygon} to a {@link FeatureCollection} of {@link LineString|(Multi)LineString}.\n *\n * @name polygonToLine\n * @param {Feature<Polygon|MultiPolygon>} polygon Feature to convert\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] translates GeoJSON properties to Feature\n * @returns {FeatureCollection|Feature<LineString|MultiLinestring>} converted (Multi)Polygon to (Multi)LineString\n * @example\n * var poly = turf.polygon([[[125, -30], [145, -30], [145, -20], [125, -20], [125, -30]]]);\n *\n * var line = turf.polygonToLine(poly);\n *\n * //addToMap\n * var addToMap = [line];\n */\nfunction polygonToLine(polygon$$1, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var properties = options.properties;\n\n    // Variables\n    var geom = getType(polygon$$1);\n    var coords = getCoords(polygon$$1);\n    properties = properties || polygon$$1.properties || {};\n\n    if (!coords.length) throw new Error('polygon must contain coordinates');\n\n    switch (geom) {\n    case 'Polygon':\n        return coordsToLine(coords, properties);\n    case 'MultiPolygon':\n        var lines = [];\n        coords.forEach(function (coord) {\n            lines.push(coordsToLine(coord, properties));\n        });\n        return featureCollection(lines);\n    default:\n        throw new Error('geom ' + geom + ' not supported');\n    }\n}\n\nfunction coordsToLine(coords, properties) {\n    if (coords.length > 1) return multiLineString(coords, properties);\n    return lineString(coords[0], properties);\n}\n\n/**\n * Converts (Multi)LineString(s) to Polygon(s).\n *\n * @name lineToPolygon\n * @param {FeatureCollection|Feature<LineString|MultiLineString>} lines Features to convert\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] translates GeoJSON properties to Feature\n * @param {boolean} [options.autoComplete=true] auto complete linestrings (matches first & last coordinates)\n * @param {boolean} [options.orderCoords=true] sorts linestrings to place outer ring at the first position of the coordinates\n * @returns {Feature<Polygon|MultiPolygon>} converted to Polygons\n * @example\n * var line = turf.lineString([[125, -30], [145, -30], [145, -20], [125, -20], [125, -30]]);\n *\n * var polygon = turf.lineToPolygon(line);\n *\n * //addToMap\n * var addToMap = [polygon];\n */\nfunction lineToPolygon(lines, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var properties = options.properties;\n    var autoComplete = options.autoComplete;\n    var orderCoords = options.orderCoords;\n\n    // validation\n    if (!lines) throw new Error('lines is required');\n\n    // default params\n    autoComplete = (autoComplete !== undefined) ? autoComplete : true;\n    orderCoords = (orderCoords !== undefined) ? orderCoords : true;\n    var type = getType(lines);\n\n    switch (type) {\n    case 'FeatureCollection':\n    case 'GeometryCollection':\n        var coords = [];\n        var features = (lines.features) ? lines.features : lines.geometries;\n        features.forEach(function (line) {\n            coords.push(getCoords(lineStringToPolygon(line, {}, autoComplete, orderCoords)));\n        });\n        return multiPolygon(coords, properties);\n    }\n    return lineStringToPolygon(lines, properties, autoComplete, orderCoords);\n}\n\n/**\n * LineString to Polygon\n *\n * @private\n * @param {Feature<LineString|MultiLineString>} line line\n * @param {Object} [properties] translates GeoJSON properties to Feature\n * @param {boolean} [autoComplete=true] auto complete linestrings\n * @param {boolean} [orderCoords=true] sorts linestrings to place outer ring at the first position of the coordinates\n * @returns {Feature<Polygon>} line converted to Polygon\n */\nfunction lineStringToPolygon(line, properties, autoComplete, orderCoords) {\n    properties = properties || line.properties || {};\n    var coords = getCoords(line);\n    var type = getType(line);\n\n    if (!coords.length) throw new Error('line must contain coordinates');\n\n    switch (type) {\n    case 'LineString':\n        if (autoComplete) coords = autoCompleteCoords(coords);\n        return polygon([coords], properties);\n    case 'MultiLineString':\n        var multiCoords = [];\n        var largestArea = 0;\n\n        coords.forEach(function (coord) {\n            if (autoComplete) coord = autoCompleteCoords(coord);\n\n            // Largest LineString to be placed in the first position of the coordinates array\n            if (orderCoords) {\n                var area = calculateArea$1(bbox(lineString(coord)));\n                if (area > largestArea) {\n                    multiCoords.unshift(coord);\n                    largestArea = area;\n                } else multiCoords.push(coord);\n            } else {\n                multiCoords.push(coord);\n            }\n        });\n        return polygon(multiCoords, properties);\n    default:\n        throw new Error('geometry type ' + type + ' is not supported');\n    }\n}\n\n/**\n * Auto Complete Coords - matches first & last coordinates\n *\n * @private\n * @param {Array<Array<number>>} coords Coordinates\n * @returns {Array<Array<number>>} auto completed coordinates\n */\nfunction autoCompleteCoords(coords) {\n    var first = coords[0];\n    var x1 = first[0];\n    var y1 = first[1];\n    var last = coords[coords.length - 1];\n    var x2 = last[0];\n    var y2 = last[1];\n    if (x1 !== x2 || y1 !== y2) {\n        coords.push(first);\n    }\n    return coords;\n}\n\n/**\n * area - quick approximate area calculation (used to sort)\n *\n * @private\n * @param {Array<number>} bbox BBox [west, south, east, north]\n * @returns {number} very quick area calculation\n */\nfunction calculateArea$1(bbox$$1) {\n    var west = bbox$$1[0];\n    var south = bbox$$1[1];\n    var east = bbox$$1[2];\n    var north = bbox$$1[3];\n    return Math.abs(west - east) * Math.abs(south - north);\n}\n\nvar lineclip_1 = lineclip;\n\nlineclip.polyline = lineclip;\nlineclip.polygon = polygonclip;\n\n\n// Cohen-Sutherland line clippign algorithm, adapted to efficiently\n// handle polylines rather than just segments\n\nfunction lineclip(points, bbox, result) {\n\n    var len = points.length,\n        codeA = bitCode(points[0], bbox),\n        part = [],\n        i, a, b, codeB, lastCode;\n\n    if (!result) result = [];\n\n    for (i = 1; i < len; i++) {\n        a = points[i - 1];\n        b = points[i];\n        codeB = lastCode = bitCode(b, bbox);\n\n        while (true) {\n\n            if (!(codeA | codeB)) { // accept\n                part.push(a);\n\n                if (codeB !== lastCode) { // segment went outside\n                    part.push(b);\n\n                    if (i < len - 1) { // start a new line\n                        result.push(part);\n                        part = [];\n                    }\n                } else if (i === len - 1) {\n                    part.push(b);\n                }\n                break;\n\n            } else if (codeA & codeB) { // trivial reject\n                break;\n\n            } else if (codeA) { // a outside, intersect with clip edge\n                a = intersect$1(a, b, codeA, bbox);\n                codeA = bitCode(a, bbox);\n\n            } else { // b outside\n                b = intersect$1(a, b, codeB, bbox);\n                codeB = bitCode(b, bbox);\n            }\n        }\n\n        codeA = lastCode;\n    }\n\n    if (part.length) result.push(part);\n\n    return result;\n}\n\n// Sutherland-Hodgeman polygon clipping algorithm\n\nfunction polygonclip(points, bbox) {\n\n    var result, edge, prev, prevInside, i, p, inside;\n\n    // clip against each side of the clip rectangle\n    for (edge = 1; edge <= 8; edge *= 2) {\n        result = [];\n        prev = points[points.length - 1];\n        prevInside = !(bitCode(prev, bbox) & edge);\n\n        for (i = 0; i < points.length; i++) {\n            p = points[i];\n            inside = !(bitCode(p, bbox) & edge);\n\n            // if segment goes through the clip window, add an intersection\n            if (inside !== prevInside) result.push(intersect$1(prev, p, edge, bbox));\n\n            if (inside) result.push(p); // add a point if it's inside\n\n            prev = p;\n            prevInside = inside;\n        }\n\n        points = result;\n\n        if (!points.length) break;\n    }\n\n    return result;\n}\n\n// intersect a segment against one of the 4 lines that make up the bbox\n\nfunction intersect$1(a, b, edge, bbox) {\n    return edge & 8 ? [a[0] + (b[0] - a[0]) * (bbox[3] - a[1]) / (b[1] - a[1]), bbox[3]] : // top\n           edge & 4 ? [a[0] + (b[0] - a[0]) * (bbox[1] - a[1]) / (b[1] - a[1]), bbox[1]] : // bottom\n           edge & 2 ? [bbox[2], a[1] + (b[1] - a[1]) * (bbox[2] - a[0]) / (b[0] - a[0])] : // right\n           edge & 1 ? [bbox[0], a[1] + (b[1] - a[1]) * (bbox[0] - a[0]) / (b[0] - a[0])] : // left\n           null;\n}\n\n// bit code reflects the point position relative to the bbox:\n\n//         left  mid  right\n//    top  1001  1000  1010\n//    mid  0001  0000  0010\n// bottom  0101  0100  0110\n\nfunction bitCode(p, bbox) {\n    var code = 0;\n\n    if (p[0] < bbox[0]) code |= 1; // left\n    else if (p[0] > bbox[2]) code |= 2; // right\n\n    if (p[1] < bbox[1]) code |= 4; // bottom\n    else if (p[1] > bbox[3]) code |= 8; // top\n\n    return code;\n}\n\n/**\n * Takes a {@link Feature} and a bbox and clips the feature to the bbox using [lineclip](https://github.com/mapbox/lineclip).\n * May result in degenerate edges when clipping Polygons.\n *\n * @name bboxClip\n * @param {Feature<LineString|MultiLineString|Polygon|MultiPolygon>} feature feature to clip to the bbox\n * @param {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @returns {Feature<LineString|MultiLineString|Polygon|MultiPolygon>} clipped Feature\n * @example\n * var bbox = [0, 0, 10, 10];\n * var poly = turf.polygon([[[2, 2], [8, 4], [12, 8], [3, 7], [2, 2]]]);\n *\n * var clipped = turf.bboxClip(poly, bbox);\n *\n * //addToMap\n * var addToMap = [bbox, poly, clipped]\n */\nfunction bboxClip(feature$$1, bbox) {\n    var geom = getGeom$1(feature$$1);\n    var coords = getCoords(feature$$1);\n    var properties = feature$$1.properties;\n\n    switch (geom) {\n    case 'LineString':\n    case 'MultiLineString':\n        var lines = [];\n        if (geom === 'LineString') coords = [coords];\n        coords.forEach(function (line) {\n            lineclip_1(line, bbox, lines);\n        });\n        if (lines.length === 1) return lineString(lines[0], properties);\n        return multiLineString(lines, properties);\n    case 'Polygon':\n        return polygon(clipPolygon(coords, bbox), properties);\n    case 'MultiPolygon':\n        return multiPolygon(coords.map(function (polygon$$1) {\n            return clipPolygon(polygon$$1, bbox);\n        }), properties);\n    default:\n        throw new Error('geometry ' + geom + ' not supported');\n    }\n}\n\nfunction clipPolygon(rings, bbox) {\n    var outRings = [];\n    for (var i = 0; i < rings.length; i++) {\n        var clipped = lineclip_1.polygon(rings[i], bbox);\n        if (clipped.length > 0) {\n            if (clipped[0][0] !== clipped[clipped.length - 1][0] || clipped[0][1] !== clipped[clipped.length - 1][1]) {\n                clipped.push(clipped[0]);\n            }\n            if (clipped.length >= 4) {\n                outRings.push(clipped);\n            }\n        }\n    }\n    return outRings;\n}\n\nfunction getGeom$1(feature$$1) {\n    return (feature$$1.geometry) ? feature$$1.geometry.type : feature$$1.type;\n}\n\nvar pSlice = Array.prototype.slice;\n\nfunction isArguments(object) {\n    return Object.prototype.toString.call(object) === '[object Arguments]';\n}\n\nfunction deepEqual(actual, expected, opts) {\n    if (!opts) opts = {};\n    // 7.1. All identical values are equivalent, as determined by ===.\n    if (actual === expected) {\n        return true;\n\n    } else if (actual instanceof Date && expected instanceof Date) {\n        return actual.getTime() === expected.getTime();\n\n        // 7.3. Other pairs that do not both pass typeof value == 'object',\n        // equivalence is determined by ==.\n    } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n        return opts.strict ? actual === expected : actual === expected;\n\n        // 7.4. For all other Object pairs, including Array objects, equivalence is\n        // determined by having the same number of owned properties (as verified\n        // with Object.prototype.hasOwnProperty.call), the same set of keys\n        // (although not necessarily the same order), equivalent values for every\n        // corresponding key, and an identical 'prototype' property. Note: this\n        // accounts for both named and indexed properties on Arrays.\n    } else {\n        return objEquiv(actual, expected, opts);\n    }\n}\n\nfunction isUndefinedOrNull(value) {\n    return value === null || value === undefined;\n}\n\nfunction isBuffer(x) {\n    if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n    if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n        return false;\n    }\n    if (x.length > 0 && typeof x[0] !== 'number') return false;\n    return true;\n}\n\nfunction objEquiv(a, b, opts) {\n    var i, key;\n    if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n        return false;\n    // an identical 'prototype' property.\n    if (a.prototype !== b.prototype) return false;\n    //~~~I've managed to break Object.keys through screwy arguments passing.\n    //   Converting to array solves the problem.\n    if (isArguments(a)) {\n        if (!isArguments(b)) {\n            return false;\n        }\n        a = pSlice.call(a);\n        b = pSlice.call(b);\n        return deepEqual(a, b, opts);\n    }\n    if (isBuffer(a)) {\n        if (!isBuffer(b)) {\n            return false;\n        }\n        if (a.length !== b.length) return false;\n        for (i = 0; i < a.length; i++) {\n            if (a[i] !== b[i]) return false;\n        }\n        return true;\n    }\n    try {\n        var ka = Object.keys(a),\n            kb = Object.keys(b);\n    } catch (e) { //happens when one is a string literal and the other isn't\n        return false;\n    }\n    // having the same number of owned properties (keys incorporates\n    // hasOwnProperty)\n    if (ka.length !== kb.length)\n        return false;\n    //the same set of keys (although not necessarily the same order),\n    ka.sort();\n    kb.sort();\n    //~~~cheap key test\n    for (i = ka.length - 1; i >= 0; i--) {\n        if (ka[i] !== kb[i])\n            return false;\n    }\n    //equivalent values for every corresponding key, and\n    //~~~possibly expensive deep test\n    for (i = ka.length - 1; i >= 0; i--) {\n        key = ka[i];\n        if (!deepEqual(a[key], b[key], opts)) return false;\n    }\n    return typeof a === typeof b;\n}\n\n/**\n * Takes any LineString or Polygon and returns the overlapping lines between both features.\n *\n * @name lineOverlap\n * @param {Geometry|Feature<LineString|MultiLineString|Polygon|MultiPolygon>} line1 any LineString or Polygon\n * @param {Geometry|Feature<LineString|MultiLineString|Polygon|MultiPolygon>} line2 any LineString or Polygon\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.tolerance=0] Tolerance distance to match overlapping line segments (in kilometers)\n * @returns {FeatureCollection<LineString>} lines(s) that are overlapping between both features\n * @example\n * var line1 = turf.lineString([[115, -35], [125, -30], [135, -30], [145, -35]]);\n * var line2 = turf.lineString([[115, -25], [125, -30], [135, -30], [145, -25]]);\n *\n * var overlapping = turf.lineOverlap(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, overlapping]\n */\nfunction lineOverlap(line1, line2, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var tolerance = options.tolerance || 0;\n\n    // Containers\n    var features = [];\n\n    // Create Spatial Index\n    var tree = geojsonRbush();\n    tree.load(lineSegment(line1));\n    var overlapSegment;\n\n    // Line Intersection\n\n    // Iterate over line segments\n    segmentEach(line2, function (segment) {\n        var doesOverlaps = false;\n\n        // Iterate over each segments which falls within the same bounds\n        featureEach(tree.search(segment), function (match) {\n            if (doesOverlaps === false) {\n                var coordsSegment = getCoords(segment).sort();\n                var coordsMatch = getCoords(match).sort();\n\n                // Segment overlaps feature\n                if (deepEqual(coordsSegment, coordsMatch)) {\n                    doesOverlaps = true;\n                    // Overlaps already exists - only append last coordinate of segment\n                    if (overlapSegment) overlapSegment = concatSegment(overlapSegment, segment);\n                    else overlapSegment = segment;\n                // Match segments which don't share nodes (Issue #901)\n                } else if (\n                    (tolerance === 0) ?\n                        booleanPointOnLine(coordsSegment[0], match) && booleanPointOnLine(coordsSegment[1], match) :\n                        nearestPointOnLine(match, coordsSegment[0]).properties.dist <= tolerance &&\n                        nearestPointOnLine(match, coordsSegment[1]).properties.dist <= tolerance) {\n                    doesOverlaps = true;\n                    if (overlapSegment) overlapSegment = concatSegment(overlapSegment, segment);\n                    else overlapSegment = segment;\n                } else if (\n                    (tolerance === 0) ?\n                        booleanPointOnLine(coordsMatch[0], segment) && booleanPointOnLine(coordsMatch[1], segment) :\n                        nearestPointOnLine(segment, coordsMatch[0]).properties.dist <= tolerance &&\n                        nearestPointOnLine(segment, coordsMatch[1]).properties.dist <= tolerance) {\n                    // Do not define (doesOverlap = true) since more matches can occur within the same segment\n                    // doesOverlaps = true;\n                    if (overlapSegment) overlapSegment = concatSegment(overlapSegment, match);\n                    else overlapSegment = match;\n                }\n            }\n        });\n\n        // Segment doesn't overlap - add overlaps to results & reset\n        if (doesOverlaps === false && overlapSegment) {\n            features.push(overlapSegment);\n            overlapSegment = undefined;\n        }\n    });\n    // Add last segment if exists\n    if (overlapSegment) features.push(overlapSegment);\n\n    return featureCollection(features);\n}\n\n\n/**\n * Concat Segment\n *\n * @private\n * @param {Feature<LineString>} line LineString\n * @param {Feature<LineString>} segment 2-vertex LineString\n * @returns {Feature<LineString>} concat linestring\n */\nfunction concatSegment(line, segment) {\n    var coords = getCoords(segment);\n    var lineCoords = getCoords(line);\n    var start = lineCoords[0];\n    var end = lineCoords[lineCoords.length - 1];\n    var geom = line.geometry.coordinates;\n\n    if (deepEqual(coords[0], start)) geom.unshift(coords[1]);\n    else if (deepEqual(coords[0], end)) geom.push(coords[1]);\n    else if (deepEqual(coords[1], start)) geom.unshift(coords[0]);\n    else if (deepEqual(coords[1], end)) geom.push(coords[0]);\n    return line;\n}\n\n/**\n * Creates a circular sector of a circle of given radius and center {@link Point},\n * between (clockwise) bearing1 and bearing2; 0 bearing is North of center point, positive clockwise.\n *\n * @name sector\n * @param {Coord} center center point\n * @param {number} radius radius of the circle\n * @param {number} bearing1 angle, in decimal degrees, of the first radius of the sector\n * @param {number} bearing2 angle, in decimal degrees, of the second radius of the sector\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {number} [options.steps=64] number of steps\n * @returns {Feature<Polygon>} sector polygon\n * @example\n * var center = turf.point([-75, 40]);\n * var radius = 5;\n * var bearing1 = 25;\n * var bearing2 = 45;\n *\n * var sector = turf.sector(center, radius, bearing1, bearing2);\n *\n * //addToMap\n * var addToMap = [center, sector];\n */\nfunction sector(center, radius, bearing1, bearing2, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n\n    // validation\n    if (!center) throw new Error('center is required');\n    if (bearing1 === undefined || bearing1 === null) throw new Error('bearing1 is required');\n    if (bearing2 === undefined || bearing2 === null) throw new Error('bearing2 is required');\n    if (!radius) throw new Error('radius is required');\n    if (typeof options !== 'object') throw new Error('options must be an object');\n\n    if (convertAngleTo360$1(bearing1) === convertAngleTo360$1(bearing2)) {\n        return circle(center, radius, options);\n    }\n    var coords = getCoords(center);\n    var arc = lineArc(center, radius, bearing1, bearing2, options);\n    var sliceCoords = [[coords]];\n    coordEach(arc, function (currentCoords) {\n        sliceCoords[0].push(currentCoords);\n    });\n    sliceCoords[0].push(coords);\n\n    return polygon(sliceCoords);\n}\n\n/**\n * Takes any angle in degrees\n * and returns a valid angle between 0-360 degrees\n *\n * @private\n * @param {number} alfa angle between -180-180 degrees\n * @returns {number} angle between 0-360 degrees\n */\nfunction convertAngleTo360$1(alfa) {\n    var beta = alfa % 360;\n    if (beta < 0) beta += 360;\n    return beta;\n}\n\n// https://en.wikipedia.org/wiki/Rhumb_line\n/**\n * Returns the destination {@link Point} having travelled the given distance along a Rhumb line from the\n * origin Point with the (varant) given bearing.\n *\n * @name rhumbDestination\n * @param {Coord} origin starting point\n * @param {number} distance distance from the starting point\n * @param {number} bearing varant bearing angle ranging from -180 to 180 degrees from north\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @param {Object} [options.properties={}] translate properties to destination point\n * @returns {Feature<Point>} Destination point.\n * @example\n * var pt = turf.point([-75.343, 39.984], {\"marker-color\": \"F00\"});\n * var distance = 50;\n * var bearing = 90;\n * var options = {units: 'miles'};\n *\n * var destination = turf.rhumbDestination(pt, distance, bearing, options);\n *\n * //addToMap\n * var addToMap = [pt, destination]\n * destination.properties['marker-color'] = '#00F';\n */\nfunction rhumbDestination(origin, distance, bearing, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n    var properties = options.properties;\n\n    // validation\n    if (!origin) throw new Error('origin is required');\n    if (distance === undefined || distance === null) throw new Error('distance is required');\n    if (bearing === undefined || bearing === null) throw new Error('bearing is required');\n    if (!(distance >= 0)) throw new Error('distance must be greater than 0');\n\n    var distanceInMeters = convertLength(distance, units, 'meters');\n    var coords = getCoord(origin);\n    var destination = calculateRhumbDestination(coords, distanceInMeters, bearing);\n\n    // compensate the crossing of the 180th meridian (https://macwright.org/2016/09/26/the-180th-meridian.html)\n    // solution from https://github.com/mapbox/mapbox-gl-js/issues/3250#issuecomment-294887678\n    destination[0] += (destination[0] - coords[0] > 180) ? -360 : (coords[0] - destination[0] > 180) ? 360 : 0;\n    return point(destination, properties);\n}\n\n/**\n * Returns the destination point having travelled along a rhumb line from origin point the given\n * distance on the  given bearing.\n * Adapted from Geodesy: http://www.movable-type.co.uk/scripts/latlong.html#rhumblines\n *\n * @private\n * @param   {Array<number>} origin - point\n * @param   {number} distance - Distance travelled, in same units as earth radius (default: metres).\n * @param   {number} bearing - Bearing in degrees from north.\n * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).\n * @returns {Array<number>} Destination point.\n */\nfunction calculateRhumbDestination(origin, distance, bearing, radius) {\n    //  => phi\n    //  => lambda\n    //  => psi\n    //  => Delta\n    //  => delta\n    //  => theta\n\n    radius = (radius === undefined) ? earthRadius : Number(radius);\n\n    var delta = distance / radius; // angular distance in radians\n    var lambda1 = origin[0] * Math.PI / 180; // to radians, but without normalize to \n    var phi1 = degreesToRadians(origin[1]);\n    var theta = degreesToRadians(bearing);\n\n    var DeltaPhi = delta * Math.cos(theta);\n    var phi2 = phi1 + DeltaPhi;\n\n    // check for some daft bugger going past the pole, normalise latitude if so\n    if (Math.abs(phi2) > Math.PI / 2) phi2 = phi2 > 0 ? Math.PI - phi2 : -Math.PI - phi2;\n\n    var DeltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    var q = Math.abs(DeltaPsi) > 10e-12 ? DeltaPhi / DeltaPsi : Math.cos(phi1); // E-W course becomes ill-conditioned with 0/0\n\n    var DeltaLambda = delta * Math.sin(theta) / q;\n    var lambda2 = lambda1 + DeltaLambda;\n\n    return [((lambda2 * 180 / Math.PI) + 540) % 360 - 180, phi2 * 180 / Math.PI]; // normalise to 180..+180\n}\n\n/**\n * Finds the tangents of a {@link Polygon|(Multi)Polygon} from a {@link Point}.\n *\n * @name polygonTangents\n * @param {Coord} pt to calculate the tangent points from\n * @param {Feature<Polygon|MultiPolygon>} polygon to get tangents from\n * @returns {FeatureCollection<Point>} Feature Collection containing the two tangent points\n * @example\n * var polygon = turf.polygon([[[11, 0], [22, 4], [31, 0], [31, 11], [21, 15], [11, 11], [11, 0]]]);\n * var point = turf.point([61, 5]);\n *\n * var tangents = turf.polygonTangents(point, polygon)\n *\n * //addToMap\n * var addToMap = [tangents, point, polygon];\n */\nfunction polygonTangents(pt, polygon$$1) {\n    var pointCoords = getCoords(pt);\n    var polyCoords = getCoords(polygon$$1);\n\n    var rtan;\n    var ltan;\n    var enext;\n    var eprev;\n\n    var type = getType(polygon$$1);\n    switch (type) {\n    case 'Polygon':\n        rtan = polyCoords[0][0];\n        ltan = polyCoords[0][0];\n        eprev = isLeft(polyCoords[0][0], polyCoords[0][polyCoords[0].length - 1], pointCoords);\n        var out = processPolygon$1(polyCoords[0], pointCoords, eprev, enext, rtan, ltan);\n        rtan = out[0];\n        ltan = out[1];\n        break;\n    case 'MultiPolygon':\n        rtan = polyCoords[0][0][0];\n        ltan = polyCoords[0][0][0];\n        eprev = isLeft(polyCoords[0][0][0], polyCoords[0][0][polyCoords[0][0].length - 1], pointCoords);\n        polyCoords.forEach(function (ring) {\n            var out = processPolygon$1(ring[0], pointCoords, eprev, enext, rtan, ltan);\n            rtan = out[0];\n            ltan = out[1];\n        });\n        break;\n    }\n    return featureCollection([point(rtan), point(ltan)]);\n}\n\nfunction processPolygon$1(polygonCoords, ptCoords, eprev, enext, rtan, ltan) {\n    for (var i = 0; i < polygonCoords.length; i++) {\n        var currentCoords = polygonCoords[i];\n        var nextCoordPair = polygonCoords[i + 1];\n        if (i === polygonCoords.length - 1) {\n            nextCoordPair = polygonCoords[0];\n        }\n        enext = isLeft(currentCoords, nextCoordPair, ptCoords);\n        if (eprev <= 0 && enext > 0) {\n            if (!isBelow(ptCoords, currentCoords, rtan)) {\n                rtan = currentCoords;\n            }\n        } else if (eprev > 0 && enext <= 0) {\n            if (!isAbove(ptCoords, currentCoords, ltan)) {\n                ltan = currentCoords;\n            }\n        }\n        eprev = enext;\n    }\n    return [rtan, ltan];\n}\n\nfunction isAbove(point1, point2, point3) {\n    return isLeft(point1, point2, point3) > 0;\n}\n\nfunction isBelow(point1, point2, point3) {\n    return isLeft(point1, point2, point3) < 0;\n}\n\nfunction isLeft(point1, point2, point3) {\n    return (point2[0] - point1[0]) * (point3[1] - point1[1]) - (point3[0] - point1[0]) * (point2[1] - point1[1]);\n}\n\n/**\n * Takes a ring and return true or false whether or not the ring is clockwise or counter-clockwise.\n *\n * @name booleanClockwise\n * @param {Feature<LineString>} line to be evaluated\n * @returns {boolean} true/false\n * @example\n * var clockwiseRing = turf.lineString([[0,0],[1,1],[1,0],[0,0]]);\n * var counterClockwiseRing = turf.lineString([[0,0],[1,0],[1,1],[0,0]]);\n *\n * turf.booleanClockwise(clockwiseRing)\n * //=true\n * turf.booleanClockwise(counterClockwiseRing)\n * //=false\n */\nfunction booleanClockwise(line) {\n    // validation\n    if (!line) throw new Error('line is required');\n    var type = (line.geometry) ? line.geometry.type : line.type;\n    if (!Array.isArray(line) && type !== 'LineString') throw new Error('geometry must be a LineString');\n\n    var ring = getCoords(line);\n    var sum = 0;\n    var i = 1;\n    var prev, cur;\n    while (i < ring.length) {\n        prev = cur || ring[0];\n        cur = ring[i];\n        sum += ((cur[0] - prev[0]) * (cur[1] + prev[1]));\n        i++;\n    }\n    return sum > 0;\n}\n\n/**\n * Rewind {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon} outer ring counterclockwise and inner rings clockwise (Uses {@link http://en.wikipedia.org/wiki/Shoelace_formula|Shoelace Formula}).\n *\n * @name rewind\n * @param {GeoJSON} geojson input GeoJSON Polygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.reverse=false] enable reverse winding\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} rewind Polygon\n * @example\n * var polygon = turf.polygon([[[121, -29], [138, -29], [138, -18], [121, -18], [121, -29]]]);\n *\n * var rewind = turf.rewind(polygon);\n *\n * //addToMap\n * var addToMap = [rewind];\n */\nfunction rewind(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var reverse = options.reverse || false;\n    var mutate = options.mutate || false;\n\n    // validation\n    if (!geojson) throw new Error('<geojson> is required');\n    if (typeof reverse !== 'boolean') throw new Error('<reverse> must be a boolean');\n    if (typeof mutate !== 'boolean') throw new Error('<mutate> must be a boolean');\n\n    // prevent input mutation\n    if (mutate === false) geojson = clone(geojson);\n\n    // Support Feature Collection or Geometry Collection\n    var results = [];\n    switch (geojson.type) {\n    case 'GeometryCollection':\n        geomEach(geojson, function (geometry$$1) {\n            rewindFeature(geometry$$1, reverse);\n        });\n        return geojson;\n    case 'FeatureCollection':\n        featureEach(geojson, function (feature$$1) {\n            featureEach(rewindFeature(feature$$1, reverse), function (result) {\n                results.push(result);\n            });\n        });\n        return featureCollection(results);\n    }\n    // Support Feature or Geometry Objects\n    return rewindFeature(geojson, reverse);\n}\n\n/**\n * Rewind\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Geometry or Feature\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {Geometry|Feature<any>} rewind Geometry or Feature\n */\nfunction rewindFeature(geojson, reverse) {\n    var type = (geojson.type === 'Feature') ? geojson.geometry.type : geojson.type;\n\n    // Support all GeoJSON Geometry Objects\n    switch (type) {\n    case 'GeometryCollection':\n        geomEach(geojson, function (geometry$$1) {\n            rewindFeature(geometry$$1, reverse);\n        });\n        return geojson;\n    case 'LineString':\n        rewindLineString(getCoords(geojson), reverse);\n        return geojson;\n    case 'Polygon':\n        rewindPolygon(getCoords(geojson), reverse);\n        return geojson;\n    case 'MultiLineString':\n        getCoords(geojson).forEach(function (lineCoords) {\n            rewindLineString(lineCoords, reverse);\n        });\n        return geojson;\n    case 'MultiPolygon':\n        getCoords(geojson).forEach(function (lineCoords) {\n            rewindPolygon(lineCoords, reverse);\n        });\n        return geojson;\n    case 'Point':\n    case 'MultiPoint':\n        return geojson;\n    }\n}\n\n/**\n * Rewind LineString - outer ring clockwise\n *\n * @private\n * @param {Array<Array<number>>} coords GeoJSON LineString geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindLineString(coords, reverse) {\n    if (booleanClockwise(coords) === reverse) coords.reverse();\n}\n\n/**\n * Rewind Polygon - outer ring counterclockwise and inner rings clockwise.\n *\n * @private\n * @param {Array<Array<Array<number>>>} coords GeoJSON Polygon geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindPolygon(coords, reverse) {\n    // outer ring\n    if (booleanClockwise(coords[0]) !== reverse) {\n        coords[0].reverse();\n    }\n    // inner rings\n    for (var i = 1; i < coords.length; i++) {\n        if (booleanClockwise(coords[i]) === reverse) {\n            coords[i].reverse();\n        }\n    }\n}\n\n/**\n * Takes a {@link Point} grid and returns a correspondent matrix {Array<Array<number>>}\n * of the 'property' values\n *\n * @name gridToMatrix\n * @param {FeatureCollection<Point>} grid of points\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.zProperty='elevation'] the property name in `points` from which z-values will be pulled\n * @param {boolean} [options.flip=false] returns the matrix upside-down\n * @param {boolean} [options.flags=false] flags, adding a `matrixPosition` array field ([row, column]) to its properties,\n * the grid points with coordinates on the matrix\n * @returns {Array<Array<number>>} matrix of property values\n * @example\n *   var extent = [-70.823364, -33.553984, -70.473175, -33.302986];\n *   var cellSize = 3;\n *   var grid = turf.pointGrid(extent, cellSize);\n *   // add a random property to each point between 0 and 60\n *   for (var i = 0; i < grid.features.length; i++) {\n *     grid.features[i].properties.elevation = (Math.random() * 60);\n *   }\n *   gridToMatrix(grid);\n *   //= [\n *     [ 1, 13, 10,  9, 10, 13, 18],\n *     [34,  8,  5,  4,  5,  8, 13],\n *     [10,  5,  2,  1,  2,  5,  4],\n *     [ 0,  4, 56, 19,  1,  4,  9],\n *     [10,  5,  2,  1,  2,  5, 10],\n *     [57,  8,  5,  4,  5,  0, 57],\n *     [ 3, 13, 10,  9,  5, 13, 18],\n *     [18, 13, 10,  9, 78, 13, 18]\n *   ]\n */\nfunction gridToMatrix$1(grid, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var zProperty = options.zProperty || 'elevation';\n    var flip = options.flip;\n    var flags = options.flags;\n\n    // validation\n    collectionOf(grid, 'Point', 'input must contain Points');\n\n    var pointsMatrix = sortPointsByLatLng$1(grid, flip);\n\n    var matrix = [];\n    // create property matrix from sorted points\n    // looping order matters here\n    for (var r = 0; r < pointsMatrix.length; r++) {\n        var pointRow = pointsMatrix[r];\n        var row = [];\n        for (var c = 0; c < pointRow.length; c++) {\n            var point$$1 = pointRow[c];\n            // Check if zProperty exist\n            if (point$$1.properties[zProperty]) row.push(point$$1.properties[zProperty]);\n            else row.push(0);\n            // add flags\n            if (flags === true) point$$1.properties.matrixPosition = [r, c];\n        }\n        matrix.push(row);\n    }\n\n    return matrix;\n}\n\n/**\n * Sorts points by latitude and longitude, creating a 2-dimensional array of points\n *\n * @private\n * @param {FeatureCollection<Point>} points GeoJSON Point features\n * @param {boolean} [flip=false] returns the matrix upside-down\n * @returns {Array<Array<Point>>} points ordered by latitude and longitude\n */\nfunction sortPointsByLatLng$1(points$$1, flip) {\n    var pointsByLatitude = {};\n\n    // divide points by rows with the same latitude\n    featureEach(points$$1, function (point$$1) {\n        var lat = getCoords(point$$1)[1];\n        if (!pointsByLatitude[lat]) pointsByLatitude[lat] = [];\n        pointsByLatitude[lat].push(point$$1);\n    });\n\n    // sort points (with the same latitude) by longitude\n    var orderedRowsByLatitude = Object.keys(pointsByLatitude).map(function (lat) {\n        var row = pointsByLatitude[lat];\n        var rowOrderedByLongitude = row.sort(function (a, b) {\n            return getCoords(a)[0] - getCoords(b)[0];\n        });\n        return rowOrderedByLongitude;\n    });\n\n    // sort rows (of points with the same latitude) by latitude\n    var pointMatrix = orderedRowsByLatitude.sort(function (a, b) {\n        if (flip) return getCoords(a[0])[1] - getCoords(b[0])[1];\n        else return getCoords(b[0])[1] - getCoords(a[0])[1];\n    });\n\n    return pointMatrix;\n}\n\n/*!\n* @license GNU Affero General Public License.\n* Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>\n* v. 1.2.0\n* https://github.com/RaumZeit/MarchingSquares.js\n*/\n\nvar defaultSettings$1 = {\n    successCallback: null,\n    verbose: false,\n    polygons: false\n};\n\nvar settings$1 = {};\n\n/*\n  Compute isobands(s) of a scalar 2D field given a certain\n  threshold and a bandwidth by applying the Marching Squares\n  Algorithm. The function returns a list of path coordinates\n  either for individual polygons within each grid cell, or the\n  outline of connected polygons.\n*/\nfunction isoBands(data, minV, bandwidth, options) {\n    /* process options */\n    options = options ? options : {};\n\n    var optionKeys = Object.keys(defaultSettings$1);\n\n    for (var i = 0; i < optionKeys.length; i++) {\n        var key = optionKeys[i];\n        var val = options[key];\n        val = ((typeof val !== 'undefined') && (val !== null)) ? val : defaultSettings$1[key];\n\n        settings$1[key] = val;\n    }\n\n    if (settings$1.verbose)\n        console.log('MarchingSquaresJS-isoBands: computing isobands for [' + minV + ':' + (minV + bandwidth) + ']');\n\n    var grid = computeBandGrid(data, minV, bandwidth);\n\n    var ret;\n    if (settings$1.polygons) {\n        if (settings$1.verbose)\n            console.log('MarchingSquaresJS-isoBands: returning single polygons for each grid cell');\n        ret = BandGrid2Areas(grid);\n    } else {\n        if (settings$1.verbose)\n            console.log('MarchingSquaresJS-isoBands: returning polygon paths for entire data grid');\n        ret = BandGrid2AreaPaths(grid);\n    }\n\n    if (typeof settings$1.successCallback === 'function')\n        settings$1.successCallback(ret);\n\n    return ret;\n}\n\n/*\n  Thats all for the public interface, below follows the actual\n  implementation\n*/\n\n/* Some private variables */\nvar Node0 = 64;\nvar Node1 = 16;\nvar Node2 = 4;\nvar Node3 = 1;\n\n/*\n  The look-up tables for tracing back the contour path\n  of isoBands\n*/\n\nvar isoBandNextXTL = [];\nvar isoBandNextYTL = [];\nvar isoBandNextOTL = [];\n\nvar isoBandNextXTR = [];\nvar isoBandNextYTR = [];\nvar isoBandNextOTR = [];\n\nvar isoBandNextXRT = [];\nvar isoBandNextYRT = [];\nvar isoBandNextORT = [];\n\nvar isoBandNextXRB = [];\nvar isoBandNextYRB = [];\nvar isoBandNextORB = [];\n\nvar isoBandNextXBL = [];\nvar isoBandNextYBL = [];\nvar isoBandNextOBL = [];\n\nvar isoBandNextXBR = [];\nvar isoBandNextYBR = [];\nvar isoBandNextOBR = [];\n\nvar isoBandNextXLT = [];\nvar isoBandNextYLT = [];\nvar isoBandNextOLT = [];\n\nvar isoBandNextXLB = [];\nvar isoBandNextYLB = [];\nvar isoBandNextOLB = [];\n\nisoBandNextXRT[85] = isoBandNextXRB[85] = -1;\nisoBandNextYRT[85] = isoBandNextYRB[85] = 0;\nisoBandNextORT[85] = isoBandNextORB[85] = 1;\nisoBandNextXLT[85] = isoBandNextXLB[85] = 1;\nisoBandNextYLT[85] = isoBandNextYLB[85] = 0;\nisoBandNextOLT[85] = isoBandNextOLB[85] = 1;\n\nisoBandNextXTL[85] = isoBandNextXTR[85] = 0;\nisoBandNextYTL[85] = isoBandNextYTR[85] = -1;\nisoBandNextOTL[85] = isoBandNextOBL[85] = 0;\nisoBandNextXBR[85] = isoBandNextXBL[85] = 0;\nisoBandNextYBR[85] = isoBandNextYBL[85] = 1;\nisoBandNextOTR[85] = isoBandNextOBR[85] = 1;\n\n\n/* triangle cases */\nisoBandNextXLB[1] = isoBandNextXLB[169] = 0;\nisoBandNextYLB[1] = isoBandNextYLB[169] = -1;\nisoBandNextOLB[1] = isoBandNextOLB[169] = 0;\nisoBandNextXBL[1] = isoBandNextXBL[169] = -1;\nisoBandNextYBL[1] = isoBandNextYBL[169] = 0;\nisoBandNextOBL[1] = isoBandNextOBL[169] = 0;\n\nisoBandNextXRB[4] = isoBandNextXRB[166] = 0;\nisoBandNextYRB[4] = isoBandNextYRB[166] = -1;\nisoBandNextORB[4] = isoBandNextORB[166] = 1;\nisoBandNextXBR[4] = isoBandNextXBR[166] = 1;\nisoBandNextYBR[4] = isoBandNextYBR[166] = 0;\nisoBandNextOBR[4] = isoBandNextOBR[166] = 0;\n\nisoBandNextXRT[16] = isoBandNextXRT[154] = 0;\nisoBandNextYRT[16] = isoBandNextYRT[154] = 1;\nisoBandNextORT[16] = isoBandNextORT[154] = 1;\nisoBandNextXTR[16] = isoBandNextXTR[154] = 1;\nisoBandNextYTR[16] = isoBandNextYTR[154] = 0;\nisoBandNextOTR[16] = isoBandNextOTR[154] = 1;\n\nisoBandNextXLT[64] = isoBandNextXLT[106] = 0;\nisoBandNextYLT[64] = isoBandNextYLT[106] = 1;\nisoBandNextOLT[64] = isoBandNextOLT[106] = 0;\nisoBandNextXTL[64] = isoBandNextXTL[106] = -1;\nisoBandNextYTL[64] = isoBandNextYTL[106] = 0;\nisoBandNextOTL[64] = isoBandNextOTL[106] = 1;\n\n/* single trapezoid cases */\nisoBandNextXLT[2] = isoBandNextXLT[168] = 0;\nisoBandNextYLT[2] = isoBandNextYLT[168] = -1;\nisoBandNextOLT[2] = isoBandNextOLT[168] = 1;\nisoBandNextXLB[2] = isoBandNextXLB[168] = 0;\nisoBandNextYLB[2] = isoBandNextYLB[168] = -1;\nisoBandNextOLB[2] = isoBandNextOLB[168] = 0;\nisoBandNextXBL[2] = isoBandNextXBL[168] = -1;\nisoBandNextYBL[2] = isoBandNextYBL[168] = 0;\nisoBandNextOBL[2] = isoBandNextOBL[168] = 0;\nisoBandNextXBR[2] = isoBandNextXBR[168] = -1;\nisoBandNextYBR[2] = isoBandNextYBR[168] = 0;\nisoBandNextOBR[2] = isoBandNextOBR[168] = 1;\n\nisoBandNextXRT[8] = isoBandNextXRT[162] = 0;\nisoBandNextYRT[8] = isoBandNextYRT[162] = -1;\nisoBandNextORT[8] = isoBandNextORT[162] = 0;\nisoBandNextXRB[8] = isoBandNextXRB[162] = 0;\nisoBandNextYRB[8] = isoBandNextYRB[162] = -1;\nisoBandNextORB[8] = isoBandNextORB[162] = 1;\nisoBandNextXBL[8] = isoBandNextXBL[162] = 1;\nisoBandNextYBL[8] = isoBandNextYBL[162] = 0;\nisoBandNextOBL[8] = isoBandNextOBL[162] = 1;\nisoBandNextXBR[8] = isoBandNextXBR[162] = 1;\nisoBandNextYBR[8] = isoBandNextYBR[162] = 0;\nisoBandNextOBR[8] = isoBandNextOBR[162] = 0;\n\nisoBandNextXRT[32] = isoBandNextXRT[138] = 0;\nisoBandNextYRT[32] = isoBandNextYRT[138] = 1;\nisoBandNextORT[32] = isoBandNextORT[138] = 1;\nisoBandNextXRB[32] = isoBandNextXRB[138] = 0;\nisoBandNextYRB[32] = isoBandNextYRB[138] = 1;\nisoBandNextORB[32] = isoBandNextORB[138] = 0;\nisoBandNextXTL[32] = isoBandNextXTL[138] = 1;\nisoBandNextYTL[32] = isoBandNextYTL[138] = 0;\nisoBandNextOTL[32] = isoBandNextOTL[138] = 0;\nisoBandNextXTR[32] = isoBandNextXTR[138] = 1;\nisoBandNextYTR[32] = isoBandNextYTR[138] = 0;\nisoBandNextOTR[32] = isoBandNextOTR[138] = 1;\n\nisoBandNextXLB[128] = isoBandNextXLB[42] = 0;\nisoBandNextYLB[128] = isoBandNextYLB[42] = 1;\nisoBandNextOLB[128] = isoBandNextOLB[42] = 1;\nisoBandNextXLT[128] = isoBandNextXLT[42] = 0;\nisoBandNextYLT[128] = isoBandNextYLT[42] = 1;\nisoBandNextOLT[128] = isoBandNextOLT[42] = 0;\nisoBandNextXTL[128] = isoBandNextXTL[42] = -1;\nisoBandNextYTL[128] = isoBandNextYTL[42] = 0;\nisoBandNextOTL[128] = isoBandNextOTL[42] = 1;\nisoBandNextXTR[128] = isoBandNextXTR[42] = -1;\nisoBandNextYTR[128] = isoBandNextYTR[42] = 0;\nisoBandNextOTR[128] = isoBandNextOTR[42] = 0;\n\n/* single rectangle cases */\nisoBandNextXRB[5] = isoBandNextXRB[165] = -1;\nisoBandNextYRB[5] = isoBandNextYRB[165] = 0;\nisoBandNextORB[5] = isoBandNextORB[165] = 0;\nisoBandNextXLB[5] = isoBandNextXLB[165] = 1;\nisoBandNextYLB[5] = isoBandNextYLB[165] = 0;\nisoBandNextOLB[5] = isoBandNextOLB[165] = 0;\n\nisoBandNextXBR[20] = isoBandNextXBR[150] = 0;\nisoBandNextYBR[20] = isoBandNextYBR[150] = 1;\nisoBandNextOBR[20] = isoBandNextOBR[150] = 1;\nisoBandNextXTR[20] = isoBandNextXTR[150] = 0;\nisoBandNextYTR[20] = isoBandNextYTR[150] = -1;\nisoBandNextOTR[20] = isoBandNextOTR[150] = 1;\n\nisoBandNextXRT[80] = isoBandNextXRT[90] = -1;\nisoBandNextYRT[80] = isoBandNextYRT[90] = 0;\nisoBandNextORT[80] = isoBandNextORT[90] = 1;\nisoBandNextXLT[80] = isoBandNextXLT[90] = 1;\nisoBandNextYLT[80] = isoBandNextYLT[90] = 0;\nisoBandNextOLT[80] = isoBandNextOLT[90] = 1;\n\nisoBandNextXBL[65] = isoBandNextXBL[105] = 0;\nisoBandNextYBL[65] = isoBandNextYBL[105] = 1;\nisoBandNextOBL[65] = isoBandNextOBL[105] = 0;\nisoBandNextXTL[65] = isoBandNextXTL[105] = 0;\nisoBandNextYTL[65] = isoBandNextYTL[105] = -1;\nisoBandNextOTL[65] = isoBandNextOTL[105] = 0;\n\nisoBandNextXRT[160] = isoBandNextXRT[10] = -1;\nisoBandNextYRT[160] = isoBandNextYRT[10] = 0;\nisoBandNextORT[160] = isoBandNextORT[10] = 1;\nisoBandNextXRB[160] = isoBandNextXRB[10] = -1;\nisoBandNextYRB[160] = isoBandNextYRB[10] = 0;\nisoBandNextORB[160] = isoBandNextORB[10] = 0;\nisoBandNextXLB[160] = isoBandNextXLB[10] = 1;\nisoBandNextYLB[160] = isoBandNextYLB[10] = 0;\nisoBandNextOLB[160] = isoBandNextOLB[10] = 0;\nisoBandNextXLT[160] = isoBandNextXLT[10] = 1;\nisoBandNextYLT[160] = isoBandNextYLT[10] = 0;\nisoBandNextOLT[160] = isoBandNextOLT[10] = 1;\n\nisoBandNextXBR[130] = isoBandNextXBR[40] = 0;\nisoBandNextYBR[130] = isoBandNextYBR[40] = 1;\nisoBandNextOBR[130] = isoBandNextOBR[40] = 1;\nisoBandNextXBL[130] = isoBandNextXBL[40] = 0;\nisoBandNextYBL[130] = isoBandNextYBL[40] = 1;\nisoBandNextOBL[130] = isoBandNextOBL[40] = 0;\nisoBandNextXTL[130] = isoBandNextXTL[40] = 0;\nisoBandNextYTL[130] = isoBandNextYTL[40] = -1;\nisoBandNextOTL[130] = isoBandNextOTL[40] = 0;\nisoBandNextXTR[130] = isoBandNextXTR[40] = 0;\nisoBandNextYTR[130] = isoBandNextYTR[40] = -1;\nisoBandNextOTR[130] = isoBandNextOTR[40] = 1;\n\n/* single hexagon cases */\nisoBandNextXRB[37] = isoBandNextXRB[133] = 0;\nisoBandNextYRB[37] = isoBandNextYRB[133] = 1;\nisoBandNextORB[37] = isoBandNextORB[133] = 1;\nisoBandNextXLB[37] = isoBandNextXLB[133] = 0;\nisoBandNextYLB[37] = isoBandNextYLB[133] = 1;\nisoBandNextOLB[37] = isoBandNextOLB[133] = 0;\nisoBandNextXTL[37] = isoBandNextXTL[133] = -1;\nisoBandNextYTL[37] = isoBandNextYTL[133] = 0;\nisoBandNextOTL[37] = isoBandNextOTL[133] = 0;\nisoBandNextXTR[37] = isoBandNextXTR[133] = 1;\nisoBandNextYTR[37] = isoBandNextYTR[133] = 0;\nisoBandNextOTR[37] = isoBandNextOTR[133] = 0;\n\nisoBandNextXBR[148] = isoBandNextXBR[22] = -1;\nisoBandNextYBR[148] = isoBandNextYBR[22] = 0;\nisoBandNextOBR[148] = isoBandNextOBR[22] = 0;\nisoBandNextXLB[148] = isoBandNextXLB[22] = 0;\nisoBandNextYLB[148] = isoBandNextYLB[22] = -1;\nisoBandNextOLB[148] = isoBandNextOLB[22] = 1;\nisoBandNextXLT[148] = isoBandNextXLT[22] = 0;\nisoBandNextYLT[148] = isoBandNextYLT[22] = 1;\nisoBandNextOLT[148] = isoBandNextOLT[22] = 1;\nisoBandNextXTR[148] = isoBandNextXTR[22] = -1;\nisoBandNextYTR[148] = isoBandNextYTR[22] = 0;\nisoBandNextOTR[148] = isoBandNextOTR[22] = 1;\n\nisoBandNextXRT[82] = isoBandNextXRT[88] = 0;\nisoBandNextYRT[82] = isoBandNextYRT[88] = -1;\nisoBandNextORT[82] = isoBandNextORT[88] = 1;\nisoBandNextXBR[82] = isoBandNextXBR[88] = 1;\nisoBandNextYBR[82] = isoBandNextYBR[88] = 0;\nisoBandNextOBR[82] = isoBandNextOBR[88] = 1;\nisoBandNextXBL[82] = isoBandNextXBL[88] = -1;\nisoBandNextYBL[82] = isoBandNextYBL[88] = 0;\nisoBandNextOBL[82] = isoBandNextOBL[88] = 1;\nisoBandNextXLT[82] = isoBandNextXLT[88] = 0;\nisoBandNextYLT[82] = isoBandNextYLT[88] = -1;\nisoBandNextOLT[82] = isoBandNextOLT[88] = 0;\n\nisoBandNextXRT[73] = isoBandNextXRT[97] = 0;\nisoBandNextYRT[73] = isoBandNextYRT[97] = 1;\nisoBandNextORT[73] = isoBandNextORT[97] = 0;\nisoBandNextXRB[73] = isoBandNextXRB[97] = 0;\nisoBandNextYRB[73] = isoBandNextYRB[97] = -1;\nisoBandNextORB[73] = isoBandNextORB[97] = 0;\nisoBandNextXBL[73] = isoBandNextXBL[97] = 1;\nisoBandNextYBL[73] = isoBandNextYBL[97] = 0;\nisoBandNextOBL[73] = isoBandNextOBL[97] = 0;\nisoBandNextXTL[73] = isoBandNextXTL[97] = 1;\nisoBandNextYTL[73] = isoBandNextYTL[97] = 0;\nisoBandNextOTL[73] = isoBandNextOTL[97] = 1;\n\nisoBandNextXRT[145] = isoBandNextXRT[25] = 0;\nisoBandNextYRT[145] = isoBandNextYRT[25] = -1;\nisoBandNextORT[145] = isoBandNextORT[25] = 0;\nisoBandNextXBL[145] = isoBandNextXBL[25] = 1;\nisoBandNextYBL[145] = isoBandNextYBL[25] = 0;\nisoBandNextOBL[145] = isoBandNextOBL[25] = 1;\nisoBandNextXLB[145] = isoBandNextXLB[25] = 0;\nisoBandNextYLB[145] = isoBandNextYLB[25] = 1;\nisoBandNextOLB[145] = isoBandNextOLB[25] = 1;\nisoBandNextXTR[145] = isoBandNextXTR[25] = -1;\nisoBandNextYTR[145] = isoBandNextYTR[25] = 0;\nisoBandNextOTR[145] = isoBandNextOTR[25] = 0;\n\nisoBandNextXRB[70] = isoBandNextXRB[100] = 0;\nisoBandNextYRB[70] = isoBandNextYRB[100] = 1;\nisoBandNextORB[70] = isoBandNextORB[100] = 0;\nisoBandNextXBR[70] = isoBandNextXBR[100] = -1;\nisoBandNextYBR[70] = isoBandNextYBR[100] = 0;\nisoBandNextOBR[70] = isoBandNextOBR[100] = 1;\nisoBandNextXLT[70] = isoBandNextXLT[100] = 0;\nisoBandNextYLT[70] = isoBandNextYLT[100] = -1;\nisoBandNextOLT[70] = isoBandNextOLT[100] = 1;\nisoBandNextXTL[70] = isoBandNextXTL[100] = 1;\nisoBandNextYTL[70] = isoBandNextYTL[100] = 0;\nisoBandNextOTL[70] = isoBandNextOTL[100] = 0;\n\n/* single pentagon cases */\nisoBandNextXRB[101] = isoBandNextXRB[69] = 0;\nisoBandNextYRB[101] = isoBandNextYRB[69] = 1;\nisoBandNextORB[101] = isoBandNextORB[69] = 0;\nisoBandNextXTL[101] = isoBandNextXTL[69] = 1;\nisoBandNextYTL[101] = isoBandNextYTL[69] = 0;\nisoBandNextOTL[101] = isoBandNextOTL[69] = 0;\n\nisoBandNextXLB[149] = isoBandNextXLB[21] = 0;\nisoBandNextYLB[149] = isoBandNextYLB[21] = 1;\nisoBandNextOLB[149] = isoBandNextOLB[21] = 1;\nisoBandNextXTR[149] = isoBandNextXTR[21] = -1;\nisoBandNextYTR[149] = isoBandNextYTR[21] = 0;\nisoBandNextOTR[149] = isoBandNextOTR[21] = 0;\n\nisoBandNextXBR[86] = isoBandNextXBR[84] = -1;\nisoBandNextYBR[86] = isoBandNextYBR[84] = 0;\nisoBandNextOBR[86] = isoBandNextOBR[84] = 1;\nisoBandNextXLT[86] = isoBandNextXLT[84] = 0;\nisoBandNextYLT[86] = isoBandNextYLT[84] = -1;\nisoBandNextOLT[86] = isoBandNextOLT[84] = 1;\n\nisoBandNextXRT[89] = isoBandNextXRT[81] = 0;\nisoBandNextYRT[89] = isoBandNextYRT[81] = -1;\nisoBandNextORT[89] = isoBandNextORT[81] = 0;\nisoBandNextXBL[89] = isoBandNextXBL[81] = 1;\nisoBandNextYBL[89] = isoBandNextYBL[81] = 0;\nisoBandNextOBL[89] = isoBandNextOBL[81] = 1;\n\nisoBandNextXRT[96] = isoBandNextXRT[74] = 0;\nisoBandNextYRT[96] = isoBandNextYRT[74] = 1;\nisoBandNextORT[96] = isoBandNextORT[74] = 0;\nisoBandNextXRB[96] = isoBandNextXRB[74] = -1;\nisoBandNextYRB[96] = isoBandNextYRB[74] = 0;\nisoBandNextORB[96] = isoBandNextORB[74] = 1;\nisoBandNextXLT[96] = isoBandNextXLT[74] = 1;\nisoBandNextYLT[96] = isoBandNextYLT[74] = 0;\nisoBandNextOLT[96] = isoBandNextOLT[74] = 0;\nisoBandNextXTL[96] = isoBandNextXTL[74] = 1;\nisoBandNextYTL[96] = isoBandNextYTL[74] = 0;\nisoBandNextOTL[96] = isoBandNextOTL[74] = 1;\n\nisoBandNextXRT[24] = isoBandNextXRT[146] = 0;\nisoBandNextYRT[24] = isoBandNextYRT[146] = -1;\nisoBandNextORT[24] = isoBandNextORT[146] = 1;\nisoBandNextXBR[24] = isoBandNextXBR[146] = 1;\nisoBandNextYBR[24] = isoBandNextYBR[146] = 0;\nisoBandNextOBR[24] = isoBandNextOBR[146] = 1;\nisoBandNextXBL[24] = isoBandNextXBL[146] = 0;\nisoBandNextYBL[24] = isoBandNextYBL[146] = 1;\nisoBandNextOBL[24] = isoBandNextOBL[146] = 1;\nisoBandNextXTR[24] = isoBandNextXTR[146] = 0;\nisoBandNextYTR[24] = isoBandNextYTR[146] = -1;\nisoBandNextOTR[24] = isoBandNextOTR[146] = 0;\n\nisoBandNextXRB[6] = isoBandNextXRB[164] = -1;\nisoBandNextYRB[6] = isoBandNextYRB[164] = 0;\nisoBandNextORB[6] = isoBandNextORB[164] = 1;\nisoBandNextXBR[6] = isoBandNextXBR[164] = -1;\nisoBandNextYBR[6] = isoBandNextYBR[164] = 0;\nisoBandNextOBR[6] = isoBandNextOBR[164] = 0;\nisoBandNextXLB[6] = isoBandNextXLB[164] = 0;\nisoBandNextYLB[6] = isoBandNextYLB[164] = -1;\nisoBandNextOLB[6] = isoBandNextOLB[164] = 1;\nisoBandNextXLT[6] = isoBandNextXLT[164] = 1;\nisoBandNextYLT[6] = isoBandNextYLT[164] = 0;\nisoBandNextOLT[6] = isoBandNextOLT[164] = 0;\n\nisoBandNextXBL[129] = isoBandNextXBL[41] = 0;\nisoBandNextYBL[129] = isoBandNextYBL[41] = 1;\nisoBandNextOBL[129] = isoBandNextOBL[41] = 1;\nisoBandNextXLB[129] = isoBandNextXLB[41] = 0;\nisoBandNextYLB[129] = isoBandNextYLB[41] = 1;\nisoBandNextOLB[129] = isoBandNextOLB[41] = 0;\nisoBandNextXTL[129] = isoBandNextXTL[41] = -1;\nisoBandNextYTL[129] = isoBandNextYTL[41] = 0;\nisoBandNextOTL[129] = isoBandNextOTL[41] = 0;\nisoBandNextXTR[129] = isoBandNextXTR[41] = 0;\nisoBandNextYTR[129] = isoBandNextYTR[41] = -1;\nisoBandNextOTR[129] = isoBandNextOTR[41] = 0;\n\nisoBandNextXBR[66] = isoBandNextXBR[104] = 0;\nisoBandNextYBR[66] = isoBandNextYBR[104] = 1;\nisoBandNextOBR[66] = isoBandNextOBR[104] = 0;\nisoBandNextXBL[66] = isoBandNextXBL[104] = -1;\nisoBandNextYBL[66] = isoBandNextYBL[104] = 0;\nisoBandNextOBL[66] = isoBandNextOBL[104] = 1;\nisoBandNextXLT[66] = isoBandNextXLT[104] = 0;\nisoBandNextYLT[66] = isoBandNextYLT[104] = -1;\nisoBandNextOLT[66] = isoBandNextOLT[104] = 0;\nisoBandNextXTL[66] = isoBandNextXTL[104] = 0;\nisoBandNextYTL[66] = isoBandNextYTL[104] = -1;\nisoBandNextOTL[66] = isoBandNextOTL[104] = 1;\n\nisoBandNextXRT[144] = isoBandNextXRT[26] = -1;\nisoBandNextYRT[144] = isoBandNextYRT[26] = 0;\nisoBandNextORT[144] = isoBandNextORT[26] = 0;\nisoBandNextXLB[144] = isoBandNextXLB[26] = 1;\nisoBandNextYLB[144] = isoBandNextYLB[26] = 0;\nisoBandNextOLB[144] = isoBandNextOLB[26] = 1;\nisoBandNextXLT[144] = isoBandNextXLT[26] = 0;\nisoBandNextYLT[144] = isoBandNextYLT[26] = 1;\nisoBandNextOLT[144] = isoBandNextOLT[26] = 1;\nisoBandNextXTR[144] = isoBandNextXTR[26] = -1;\nisoBandNextYTR[144] = isoBandNextYTR[26] = 0;\nisoBandNextOTR[144] = isoBandNextOTR[26] = 1;\n\nisoBandNextXRB[36] = isoBandNextXRB[134] = 0;\nisoBandNextYRB[36] = isoBandNextYRB[134] = 1;\nisoBandNextORB[36] = isoBandNextORB[134] = 1;\nisoBandNextXBR[36] = isoBandNextXBR[134] = 0;\nisoBandNextYBR[36] = isoBandNextYBR[134] = 1;\nisoBandNextOBR[36] = isoBandNextOBR[134] = 0;\nisoBandNextXTL[36] = isoBandNextXTL[134] = 0;\nisoBandNextYTL[36] = isoBandNextYTL[134] = -1;\nisoBandNextOTL[36] = isoBandNextOTL[134] = 1;\nisoBandNextXTR[36] = isoBandNextXTR[134] = 1;\nisoBandNextYTR[36] = isoBandNextYTR[134] = 0;\nisoBandNextOTR[36] = isoBandNextOTR[134] = 0;\n\nisoBandNextXRT[9] = isoBandNextXRT[161] = -1;\nisoBandNextYRT[9] = isoBandNextYRT[161] = 0;\nisoBandNextORT[9] = isoBandNextORT[161] = 0;\nisoBandNextXRB[9] = isoBandNextXRB[161] = 0;\nisoBandNextYRB[9] = isoBandNextYRB[161] = -1;\nisoBandNextORB[9] = isoBandNextORB[161] = 0;\nisoBandNextXBL[9] = isoBandNextXBL[161] = 1;\nisoBandNextYBL[9] = isoBandNextYBL[161] = 0;\nisoBandNextOBL[9] = isoBandNextOBL[161] = 0;\nisoBandNextXLB[9] = isoBandNextXLB[161] = 1;\nisoBandNextYLB[9] = isoBandNextYLB[161] = 0;\nisoBandNextOLB[9] = isoBandNextOLB[161] = 1;\n\n/* 8-sided cases */\nisoBandNextXRT[136] = 0;\nisoBandNextYRT[136] = 1;\nisoBandNextORT[136] = 1;\nisoBandNextXRB[136] = 0;\nisoBandNextYRB[136] = 1;\nisoBandNextORB[136] = 0;\nisoBandNextXBR[136] = -1;\nisoBandNextYBR[136] = 0;\nisoBandNextOBR[136] = 1;\nisoBandNextXBL[136] = -1;\nisoBandNextYBL[136] = 0;\nisoBandNextOBL[136] = 0;\nisoBandNextXLB[136] = 0;\nisoBandNextYLB[136] = -1;\nisoBandNextOLB[136] = 0;\nisoBandNextXLT[136] = 0;\nisoBandNextYLT[136] = -1;\nisoBandNextOLT[136] = 1;\nisoBandNextXTL[136] = 1;\nisoBandNextYTL[136] = 0;\nisoBandNextOTL[136] = 0;\nisoBandNextXTR[136] = 1;\nisoBandNextYTR[136] = 0;\nisoBandNextOTR[136] = 1;\n\nisoBandNextXRT[34] = 0;\nisoBandNextYRT[34] = -1;\nisoBandNextORT[34] = 0;\nisoBandNextXRB[34] = 0;\nisoBandNextYRB[34] = -1;\nisoBandNextORB[34] = 1;\nisoBandNextXBR[34] = 1;\nisoBandNextYBR[34] = 0;\nisoBandNextOBR[34] = 0;\nisoBandNextXBL[34] = 1;\nisoBandNextYBL[34] = 0;\nisoBandNextOBL[34] = 1;\nisoBandNextXLB[34] = 0;\nisoBandNextYLB[34] = 1;\nisoBandNextOLB[34] = 1;\nisoBandNextXLT[34] = 0;\nisoBandNextYLT[34] = 1;\nisoBandNextOLT[34] = 0;\nisoBandNextXTL[34] = -1;\nisoBandNextYTL[34] = 0;\nisoBandNextOTL[34] = 1;\nisoBandNextXTR[34] = -1;\nisoBandNextYTR[34] = 0;\nisoBandNextOTR[34] = 0;\n\nisoBandNextXRT[35] = 0;\nisoBandNextYRT[35] = 1;\nisoBandNextORT[35] = 1;\nisoBandNextXRB[35] = 0;\nisoBandNextYRB[35] = -1;\nisoBandNextORB[35] = 1;\nisoBandNextXBR[35] = 1;\nisoBandNextYBR[35] = 0;\nisoBandNextOBR[35] = 0;\nisoBandNextXBL[35] = -1;\nisoBandNextYBL[35] = 0;\nisoBandNextOBL[35] = 0;\nisoBandNextXLB[35] = 0;\nisoBandNextYLB[35] = -1;\nisoBandNextOLB[35] = 0;\nisoBandNextXLT[35] = 0;\nisoBandNextYLT[35] = 1;\nisoBandNextOLT[35] = 0;\nisoBandNextXTL[35] = -1;\nisoBandNextYTL[35] = 0;\nisoBandNextOTL[35] = 1;\nisoBandNextXTR[35] = 1;\nisoBandNextYTR[35] = 0;\nisoBandNextOTR[35] = 1;\n\n/* 6-sided cases */\nisoBandNextXRT[153] = 0;\nisoBandNextYRT[153] = 1;\nisoBandNextORT[153] = 1;\nisoBandNextXBL[153] = -1;\nisoBandNextYBL[153] = 0;\nisoBandNextOBL[153] = 0;\nisoBandNextXLB[153] = 0;\nisoBandNextYLB[153] = -1;\nisoBandNextOLB[153] = 0;\nisoBandNextXTR[153] = 1;\nisoBandNextYTR[153] = 0;\nisoBandNextOTR[153] = 1;\n\nisoBandNextXRB[102] = 0;\nisoBandNextYRB[102] = -1;\nisoBandNextORB[102] = 1;\nisoBandNextXBR[102] = 1;\nisoBandNextYBR[102] = 0;\nisoBandNextOBR[102] = 0;\nisoBandNextXLT[102] = 0;\nisoBandNextYLT[102] = 1;\nisoBandNextOLT[102] = 0;\nisoBandNextXTL[102] = -1;\nisoBandNextYTL[102] = 0;\nisoBandNextOTL[102] = 1;\n\nisoBandNextXRT[155] = 0;\nisoBandNextYRT[155] = -1;\nisoBandNextORT[155] = 0;\nisoBandNextXBL[155] = 1;\nisoBandNextYBL[155] = 0;\nisoBandNextOBL[155] = 1;\nisoBandNextXLB[155] = 0;\nisoBandNextYLB[155] = 1;\nisoBandNextOLB[155] = 1;\nisoBandNextXTR[155] = -1;\nisoBandNextYTR[155] = 0;\nisoBandNextOTR[155] = 0;\n\nisoBandNextXRB[103] = 0;\nisoBandNextYRB[103] = 1;\nisoBandNextORB[103] = 0;\nisoBandNextXBR[103] = -1;\nisoBandNextYBR[103] = 0;\nisoBandNextOBR[103] = 1;\nisoBandNextXLT[103] = 0;\nisoBandNextYLT[103] = -1;\nisoBandNextOLT[103] = 1;\nisoBandNextXTL[103] = 1;\nisoBandNextYTL[103] = 0;\nisoBandNextOTL[103] = 0;\n\n/* 7-sided cases */\nisoBandNextXRT[152] = 0;\nisoBandNextYRT[152] = 1;\nisoBandNextORT[152] = 1;\nisoBandNextXBR[152] = -1;\nisoBandNextYBR[152] = 0;\nisoBandNextOBR[152] = 1;\nisoBandNextXBL[152] = -1;\nisoBandNextYBL[152] = 0;\nisoBandNextOBL[152] = 0;\nisoBandNextXLB[152] = 0;\nisoBandNextYLB[152] = -1;\nisoBandNextOLB[152] = 0;\nisoBandNextXLT[152] = 0;\nisoBandNextYLT[152] = -1;\nisoBandNextOLT[152] = 1;\nisoBandNextXTR[152] = 1;\nisoBandNextYTR[152] = 0;\nisoBandNextOTR[152] = 1;\n\nisoBandNextXRT[156] = 0;\nisoBandNextYRT[156] = -1;\nisoBandNextORT[156] = 1;\nisoBandNextXBR[156] = 1;\nisoBandNextYBR[156] = 0;\nisoBandNextOBR[156] = 1;\nisoBandNextXBL[156] = -1;\nisoBandNextYBL[156] = 0;\nisoBandNextOBL[156] = 0;\nisoBandNextXLB[156] = 0;\nisoBandNextYLB[156] = -1;\nisoBandNextOLB[156] = 0;\nisoBandNextXLT[156] = 0;\nisoBandNextYLT[156] = 1;\nisoBandNextOLT[156] = 1;\nisoBandNextXTR[156] = -1;\nisoBandNextYTR[156] = 0;\nisoBandNextOTR[156] = 1;\n\nisoBandNextXRT[137] = 0;\nisoBandNextYRT[137] = 1;\nisoBandNextORT[137] = 1;\nisoBandNextXRB[137] = 0;\nisoBandNextYRB[137] = 1;\nisoBandNextORB[137] = 0;\nisoBandNextXBL[137] = -1;\nisoBandNextYBL[137] = 0;\nisoBandNextOBL[137] = 0;\nisoBandNextXLB[137] = 0;\nisoBandNextYLB[137] = -1;\nisoBandNextOLB[137] = 0;\nisoBandNextXTL[137] = 1;\nisoBandNextYTL[137] = 0;\nisoBandNextOTL[137] = 0;\nisoBandNextXTR[137] = 1;\nisoBandNextYTR[137] = 0;\nisoBandNextOTR[137] = 1;\n\nisoBandNextXRT[139] = 0;\nisoBandNextYRT[139] = 1;\nisoBandNextORT[139] = 1;\nisoBandNextXRB[139] = 0;\nisoBandNextYRB[139] = -1;\nisoBandNextORB[139] = 0;\nisoBandNextXBL[139] = 1;\nisoBandNextYBL[139] = 0;\nisoBandNextOBL[139] = 0;\nisoBandNextXLB[139] = 0;\nisoBandNextYLB[139] = 1;\nisoBandNextOLB[139] = 0;\nisoBandNextXTL[139] = -1;\nisoBandNextYTL[139] = 0;\nisoBandNextOTL[139] = 0;\nisoBandNextXTR[139] = 1;\nisoBandNextYTR[139] = 0;\nisoBandNextOTR[139] = 1;\n\nisoBandNextXRT[98] = 0;\nisoBandNextYRT[98] = -1;\nisoBandNextORT[98] = 0;\nisoBandNextXRB[98] = 0;\nisoBandNextYRB[98] = -1;\nisoBandNextORB[98] = 1;\nisoBandNextXBR[98] = 1;\nisoBandNextYBR[98] = 0;\nisoBandNextOBR[98] = 0;\nisoBandNextXBL[98] = 1;\nisoBandNextYBL[98] = 0;\nisoBandNextOBL[98] = 1;\nisoBandNextXLT[98] = 0;\nisoBandNextYLT[98] = 1;\nisoBandNextOLT[98] = 0;\nisoBandNextXTL[98] = -1;\nisoBandNextYTL[98] = 0;\nisoBandNextOTL[98] = 1;\n\nisoBandNextXRT[99] = 0;\nisoBandNextYRT[99] = 1;\nisoBandNextORT[99] = 0;\nisoBandNextXRB[99] = 0;\nisoBandNextYRB[99] = -1;\nisoBandNextORB[99] = 1;\nisoBandNextXBR[99] = 1;\nisoBandNextYBR[99] = 0;\nisoBandNextOBR[99] = 0;\nisoBandNextXBL[99] = -1;\nisoBandNextYBL[99] = 0;\nisoBandNextOBL[99] = 1;\nisoBandNextXLT[99] = 0;\nisoBandNextYLT[99] = -1;\nisoBandNextOLT[99] = 0;\nisoBandNextXTL[99] = 1;\nisoBandNextYTL[99] = 0;\nisoBandNextOTL[99] = 1;\n\nisoBandNextXRB[38] = 0;\nisoBandNextYRB[38] = -1;\nisoBandNextORB[38] = 1;\nisoBandNextXBR[38] = 1;\nisoBandNextYBR[38] = 0;\nisoBandNextOBR[38] = 0;\nisoBandNextXLB[38] = 0;\nisoBandNextYLB[38] = 1;\nisoBandNextOLB[38] = 1;\nisoBandNextXLT[38] = 0;\nisoBandNextYLT[38] = 1;\nisoBandNextOLT[38] = 0;\nisoBandNextXTL[38] = -1;\nisoBandNextYTL[38] = 0;\nisoBandNextOTL[38] = 1;\nisoBandNextXTR[38] = -1;\nisoBandNextYTR[38] = 0;\nisoBandNextOTR[38] = 0;\n\nisoBandNextXRB[39] = 0;\nisoBandNextYRB[39] = 1;\nisoBandNextORB[39] = 1;\nisoBandNextXBR[39] = -1;\nisoBandNextYBR[39] = 0;\nisoBandNextOBR[39] = 0;\nisoBandNextXLB[39] = 0;\nisoBandNextYLB[39] = -1;\nisoBandNextOLB[39] = 1;\nisoBandNextXLT[39] = 0;\nisoBandNextYLT[39] = 1;\nisoBandNextOLT[39] = 0;\nisoBandNextXTL[39] = -1;\nisoBandNextYTL[39] = 0;\nisoBandNextOTL[39] = 1;\nisoBandNextXTR[39] = 1;\nisoBandNextYTR[39] = 0;\nisoBandNextOTR[39] = 0;\n\n\n/*\n  Define helper functions for the polygon_table\n  */\n\n/* triangle cases */\nvar p00 = function (cell) {\n    return [[cell.bottomleft, 0], [0, 0], [0, cell.leftbottom]];\n};\nvar p01 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [cell.bottomright, 0]];\n};\nvar p02 = function (cell) {\n    return [[cell.topright, 1], [1, 1], [1, cell.righttop]];\n};\nvar p03 = function (cell) {\n    return [[0, cell.lefttop], [0, 1], [cell.topleft, 1]];\n};\n/* trapezoid cases */\nvar p04 = function (cell) {\n    return [[cell.bottomright, 0], [cell.bottomleft, 0], [0, cell.leftbottom], [0, cell.lefttop]];\n};\nvar p05 = function (cell) {\n    return [[cell.bottomright, 0], [cell.bottomleft, 0], [1, cell.righttop], [1, cell.rightbottom]];\n};\nvar p06 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [cell.topleft, 1], [cell.topright, 1]];\n};\nvar p07 = function (cell) {\n    return [[0, cell.leftbottom], [0, cell.lefttop], [cell.topleft, 1], [cell.topright, 1]];\n};\n/* rectangle cases */\nvar p08 = function (cell) {\n    return [[0, 0], [0, cell.leftbottom], [1, cell.rightbottom], [1, 0]];\n};\nvar p09 = function (cell) {\n    return [[1, 0], [cell.bottomright, 0], [cell.topright, 1], [1, 1]];\n};\nvar p10 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [0, cell.lefttop], [0, 1]];\n};\nvar p11 = function (cell) {\n    return [[cell.bottomleft, 0], [0, 0], [0, 1], [cell.topleft, 1]];\n};\nvar p12 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [0, cell.leftbottom], [0, cell.lefttop]];\n};\nvar p13 = function (cell) {\n    return [[cell.topleft, 1], [cell.topright, 1], [cell.bottomright, 0], [cell.bottomleft, 0]];\n};\n/* square case */\nvar p14 = function () {\n    return [[0, 0], [0, 1], [1, 1], [1, 0]];\n};\n/* pentagon cases */\nvar p15 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [0, 0], [0, 1], [cell.topleft, 1]];\n};\n/* 1211 || 1011 */\nvar p16 = function (cell) {\n    return [[cell.topright, 1], [1, 1], [1, 0], [0, 0], [0, cell.leftbottom]];\n};\n/* 2111 || 0111 */\nvar p17 = function (cell) {\n    return [[1, 0], [cell.bottomright, 0], [0, cell.lefttop], [0, 1], [1, 1]];\n};\n/* 1112 || 1110 */\nvar p18 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [cell.bottomleft, 0], [0, 0], [0, 1]];\n};\n/* 1121 || 1101 */\nvar p19 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [0, cell.lefttop], [0, 1], [cell.topleft, 1]];\n};\n/* 1200 || 1022 */\nvar p20 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [cell.bottomright, 0], [cell.bottomleft, 0], [cell.topright, 1]];\n};\n/* 0120 || 2102 */\nvar p21 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [cell.bottomright, 0], [0, cell.leftbottom], [0, cell.lefttop]];\n};\n/* 0012 || 2210 */\nvar p22 = function (cell) {\n    return [[cell.topright, 1], [cell.bottomleft, 0], [0, 0], [0, cell.leftbottom], [cell.topleft, 1]];\n};\n/* 2001 || 0221 */\nvar p23 = function (cell) {\n    return [[cell.bottomright, 0], [cell.bottomleft, 0], [0, cell.lefttop], [0, 1], [cell.topleft, 1]];\n};\n/* 1002 || 1220 */\nvar p24 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [0, cell.leftbottom], [0, cell.lefttop], [cell.topright, 1]];\n};\n/* 2100 || 0122 */\nvar p25 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [cell.bottomright, 0], [cell.topleft, 1], [cell.topright, 1]];\n};\n/* 0210 || 2012 */\nvar p26 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [cell.bottomleft, 0], [0, 0], [0, cell.leftbottom]];\n};\n/* 0021 || 2201 */\n/*hexagon cases */\nvar p27 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [0, 0], [0, cell.leftbottom], [cell.topleft, 1], [cell.topright, 1]];\n};\n/* 0211 || 2011 */\nvar p28 = function (cell) {\n    return [[1, 1], [1, 0], [cell.bottomright, 0], [0, cell.leftbottom], [0, cell.lefttop], [cell.topright, 1]];\n};\n/* 2110 || 0112 */\nvar p29 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [cell.bottomright, 0], [cell.bottomleft, 0], [0, cell.lefttop], [0, 1]];\n};\n/* 1102 || 1120 */\nvar p30 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [cell.bottomleft, 0], [0, 0], [0, 1], [cell.topleft, 1]];\n};\n/* 1021 || 1201 */\nvar p31 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [cell.bottomleft, 0], [0, 0], [0, cell.leftbottom], [cell.topright, 1]];\n};\n/* 2101 || 0121 */\nvar p32 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [cell.bottomright, 0], [0, cell.lefttop], [0, 1], [cell.topleft, 1]];\n};\n/* 1012 || 1210 */\n/* 8-sided cases */\nvar p33 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [cell.bottomright, 0], [cell.bottomleft, 0], [0, cell.leftbottom], [0, cell.lefttop], [cell.topleft, 1], [cell.topright, 1]];\n};\n/* flipped == 1 state for 0202 and 2020 */\n/* 6-sided cases */\nvar p34 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [cell.bottomleft, 0], [0, 0], [0, cell.leftbottom], [cell.topright, 1]];\n};\n/* 0101 with flipped == 1 || 2121 with flipped == 1 */\nvar p35 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [cell.bottomright, 0], [0, cell.lefttop], [0, 1], [cell.topleft, 1]];\n};\n/* 1010 with flipped == 1 || 1212 with flipped == 1 */\n/* 7-sided cases */\nvar p36 = function (cell) {\n    return [[1, 1], [1, cell.righttop], [cell.bottomright, 0], [cell.bottomleft, 0], [0, cell.leftbottom], [0, cell.lefttop], [cell.topright, 1]];\n};\n/* 2120 with flipped == 1 || 0102 with flipped == 1 */\nvar p37 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [cell.bottomleft, 0], [0, 0], [0, cell.leftbottom], [cell.topleft, 1], [cell.topright, 1]];\n};\n/* 2021 with flipped == 1 || 0201 with flipped == 1 */\nvar p38 = function (cell) {\n    return [[1, cell.righttop], [1, cell.rightbottom], [cell.bottomright, 0], [cell.bottomleft, 0], [0, cell.lefttop], [0, 1], [cell.topleft, 1]];\n};\n/* 1202 with flipped == 1 || 1020 with flipped == 1 */\nvar p39 = function (cell) {\n    return [[1, cell.rightbottom], [1, 0], [cell.bottomright, 0], [0, cell.leftbottom], [0, cell.lefttop], [cell.topleft, 1], [cell.topright, 1]];\n};\n/* 0212 with flipped == 1 || 2010 with flipped == 1 */\n\n\n\n/*\n  The lookup tables for edge number given the polygon\n  is entered at a specific location\n*/\n\nvar isoBandEdgeRT = [];\nvar isoBandEdgeRB = [];\nvar isoBandEdgeBR = [];\nvar isoBandEdgeBL = [];\nvar isoBandEdgeLB = [];\nvar isoBandEdgeLT = [];\nvar isoBandEdgeTL = [];\nvar isoBandEdgeTR = [];\n\n/* triangle cases */\nisoBandEdgeBL[1]    = isoBandEdgeLB[1]    = 18;\nisoBandEdgeBL[169]  = isoBandEdgeLB[169]  = 18;\nisoBandEdgeBR[4]    = isoBandEdgeRB[4]    = 12;\nisoBandEdgeBR[166]  = isoBandEdgeRB[166]  = 12;\nisoBandEdgeRT[16]   = isoBandEdgeTR[16]   = 4;\nisoBandEdgeRT[154]  = isoBandEdgeTR[154]  = 4;\nisoBandEdgeLT[64]   = isoBandEdgeTL[64]   = 22;\nisoBandEdgeLT[106]  = isoBandEdgeTL[106]  = 22;\n\n/* trapezoid cases */\nisoBandEdgeBR[2]    = isoBandEdgeLT[2]    = 17;\nisoBandEdgeBL[2]    = isoBandEdgeLB[2]    = 18;\nisoBandEdgeBR[168]  = isoBandEdgeLT[168]  = 17;\nisoBandEdgeBL[168]  = isoBandEdgeLB[168]  = 18;\nisoBandEdgeRT[8]    = isoBandEdgeBL[8]    = 9;\nisoBandEdgeRB[8]    = isoBandEdgeBR[8]    = 12;\nisoBandEdgeRT[162]  = isoBandEdgeBL[162]  = 9;\nisoBandEdgeRB[162]  = isoBandEdgeBR[162]  = 12;\nisoBandEdgeRT[32]   = isoBandEdgeTR[32]   = 4;\nisoBandEdgeRB[32]   = isoBandEdgeTL[32]   = 1;\nisoBandEdgeRT[138]  = isoBandEdgeTR[138]  = 4;\nisoBandEdgeRB[138]  = isoBandEdgeTL[138]  = 1;\nisoBandEdgeLB[128]  = isoBandEdgeTR[128]  = 21;\nisoBandEdgeLT[128]  = isoBandEdgeTL[128]  = 22;\nisoBandEdgeLB[42]   = isoBandEdgeTR[42]   = 21;\nisoBandEdgeLT[42]   = isoBandEdgeTL[42]   = 22;\n\n/* rectangle cases */\nisoBandEdgeRB[5] = isoBandEdgeLB[5] = 14;\nisoBandEdgeRB[165] = isoBandEdgeLB[165] = 14;\nisoBandEdgeBR[20] = isoBandEdgeTR[20] = 6;\nisoBandEdgeBR[150] = isoBandEdgeTR[150] = 6;\nisoBandEdgeRT[80] = isoBandEdgeLT[80] = 11;\nisoBandEdgeRT[90] = isoBandEdgeLT[90] = 11;\nisoBandEdgeBL[65] = isoBandEdgeTL[65] = 3;\nisoBandEdgeBL[105] = isoBandEdgeTL[105] = 3;\nisoBandEdgeRT[160] = isoBandEdgeLT[160] = 11;\nisoBandEdgeRB[160] = isoBandEdgeLB[160] = 14;\nisoBandEdgeRT[10] = isoBandEdgeLT[10] = 11;\nisoBandEdgeRB[10] = isoBandEdgeLB[10] = 14;\nisoBandEdgeBR[130] = isoBandEdgeTR[130] = 6;\nisoBandEdgeBL[130] = isoBandEdgeTL[130] = 3;\nisoBandEdgeBR[40] = isoBandEdgeTR[40] = 6;\nisoBandEdgeBL[40] = isoBandEdgeTL[40] = 3;\n\n/* pentagon cases */\nisoBandEdgeRB[101] = isoBandEdgeTL[101] = 1;\nisoBandEdgeRB[69] = isoBandEdgeTL[69] = 1;\nisoBandEdgeLB[149] = isoBandEdgeTR[149] = 21;\nisoBandEdgeLB[21] = isoBandEdgeTR[21] = 21;\nisoBandEdgeBR[86] = isoBandEdgeLT[86] = 17;\nisoBandEdgeBR[84] = isoBandEdgeLT[84] = 17;\nisoBandEdgeRT[89] = isoBandEdgeBL[89] = 9;\nisoBandEdgeRT[81] = isoBandEdgeBL[81] = 9;\nisoBandEdgeRT[96] = isoBandEdgeTL[96] = 0;\nisoBandEdgeRB[96] = isoBandEdgeLT[96] = 15;\nisoBandEdgeRT[74] = isoBandEdgeTL[74] = 0;\nisoBandEdgeRB[74] = isoBandEdgeLT[74] = 15;\nisoBandEdgeRT[24] = isoBandEdgeBR[24] = 8;\nisoBandEdgeBL[24] = isoBandEdgeTR[24] = 7;\nisoBandEdgeRT[146] = isoBandEdgeBR[146] = 8;\nisoBandEdgeBL[146] = isoBandEdgeTR[146] = 7;\nisoBandEdgeRB[6] = isoBandEdgeLT[6] = 15;\nisoBandEdgeBR[6] = isoBandEdgeLB[6] = 16;\nisoBandEdgeRB[164] = isoBandEdgeLT[164] = 15;\nisoBandEdgeBR[164] = isoBandEdgeLB[164] = 16;\nisoBandEdgeBL[129] = isoBandEdgeTR[129] = 7;\nisoBandEdgeLB[129] = isoBandEdgeTL[129] = 20;\nisoBandEdgeBL[41] = isoBandEdgeTR[41] = 7;\nisoBandEdgeLB[41] = isoBandEdgeTL[41] = 20;\nisoBandEdgeBR[66] = isoBandEdgeTL[66] = 2;\nisoBandEdgeBL[66] = isoBandEdgeLT[66] = 19;\nisoBandEdgeBR[104] = isoBandEdgeTL[104] = 2;\nisoBandEdgeBL[104] = isoBandEdgeLT[104] = 19;\nisoBandEdgeRT[144] = isoBandEdgeLB[144] = 10;\nisoBandEdgeLT[144] = isoBandEdgeTR[144] = 23;\nisoBandEdgeRT[26] = isoBandEdgeLB[26] = 10;\nisoBandEdgeLT[26] = isoBandEdgeTR[26] = 23;\nisoBandEdgeRB[36] = isoBandEdgeTR[36] = 5;\nisoBandEdgeBR[36] = isoBandEdgeTL[36] = 2;\nisoBandEdgeRB[134] = isoBandEdgeTR[134] = 5;\nisoBandEdgeBR[134] = isoBandEdgeTL[134] = 2;\nisoBandEdgeRT[9] = isoBandEdgeLB[9] = 10;\nisoBandEdgeRB[9] = isoBandEdgeBL[9] = 13;\nisoBandEdgeRT[161] = isoBandEdgeLB[161] = 10;\nisoBandEdgeRB[161] = isoBandEdgeBL[161] = 13;\n\n/* hexagon cases */\nisoBandEdgeRB[37] = isoBandEdgeTR[37] = 5;\nisoBandEdgeLB[37] = isoBandEdgeTL[37] = 20;\nisoBandEdgeRB[133] = isoBandEdgeTR[133] = 5;\nisoBandEdgeLB[133] = isoBandEdgeTL[133] = 20;\nisoBandEdgeBR[148] = isoBandEdgeLB[148] = 16;\nisoBandEdgeLT[148] = isoBandEdgeTR[148] = 23;\nisoBandEdgeBR[22] = isoBandEdgeLB[22] = 16;\nisoBandEdgeLT[22] = isoBandEdgeTR[22] = 23;\nisoBandEdgeRT[82] = isoBandEdgeBR[82] = 8;\nisoBandEdgeBL[82] = isoBandEdgeLT[82] = 19;\nisoBandEdgeRT[88] = isoBandEdgeBR[88] = 8;\nisoBandEdgeBL[88] = isoBandEdgeLT[88] = 19;\nisoBandEdgeRT[73] = isoBandEdgeTL[73] = 0;\nisoBandEdgeRB[73] = isoBandEdgeBL[73] = 13;\nisoBandEdgeRT[97] = isoBandEdgeTL[97] = 0;\nisoBandEdgeRB[97] = isoBandEdgeBL[97] = 13;\nisoBandEdgeRT[145] = isoBandEdgeBL[145] = 9;\nisoBandEdgeLB[145] = isoBandEdgeTR[145] = 21;\nisoBandEdgeRT[25] = isoBandEdgeBL[25] = 9;\nisoBandEdgeLB[25] = isoBandEdgeTR[25] = 21;\nisoBandEdgeRB[70] = isoBandEdgeTL[70] = 1;\nisoBandEdgeBR[70] = isoBandEdgeLT[70] = 17;\nisoBandEdgeRB[100] = isoBandEdgeTL[100] = 1;\nisoBandEdgeBR[100] = isoBandEdgeLT[100] = 17;\n\n/* 8-sided cases */\nisoBandEdgeRT[34] = isoBandEdgeBL[34] = 9;\nisoBandEdgeRB[34] = isoBandEdgeBR[34] = 12;\nisoBandEdgeLB[34] = isoBandEdgeTR[34] = 21;\nisoBandEdgeLT[34] = isoBandEdgeTL[34] = 22;\nisoBandEdgeRT[136] = isoBandEdgeTR[136] = 4;\nisoBandEdgeRB[136] = isoBandEdgeTL[136] = 1;\nisoBandEdgeBR[136] = isoBandEdgeLT[136] = 17;\nisoBandEdgeBL[136] = isoBandEdgeLB[136] = 18;\nisoBandEdgeRT[35] = isoBandEdgeTR[35] = 4;\nisoBandEdgeRB[35] = isoBandEdgeBR[35] = 12;\nisoBandEdgeBL[35] = isoBandEdgeLB[35] = 18;\nisoBandEdgeLT[35] = isoBandEdgeTL[35] = 22;\n\n/* 6-sided cases */\nisoBandEdgeRT[153] = isoBandEdgeTR[153] = 4;\nisoBandEdgeBL[153] = isoBandEdgeLB[153] = 18;\nisoBandEdgeRB[102] = isoBandEdgeBR[102] = 12;\nisoBandEdgeLT[102] = isoBandEdgeTL[102] = 22;\nisoBandEdgeRT[155] = isoBandEdgeBL[155] = 9;\nisoBandEdgeLB[155] = isoBandEdgeTR[155] = 23;\nisoBandEdgeRB[103] = isoBandEdgeTL[103] = 1;\nisoBandEdgeBR[103] = isoBandEdgeLT[103] = 17;\n\n/* 7-sided cases */\nisoBandEdgeRT[152] = isoBandEdgeTR[152] = 4;\nisoBandEdgeBR[152] = isoBandEdgeLT[152] = 17;\nisoBandEdgeBL[152] = isoBandEdgeLB[152] = 18;\nisoBandEdgeRT[156] = isoBandEdgeBR[156] = 8;\nisoBandEdgeBL[156] = isoBandEdgeLB[156] = 18;\nisoBandEdgeLT[156] = isoBandEdgeTR[156] = 23;\nisoBandEdgeRT[137] = isoBandEdgeTR[137] = 4;\nisoBandEdgeRB[137] = isoBandEdgeTL[137] = 1;\nisoBandEdgeBL[137] = isoBandEdgeLB[137] = 18;\nisoBandEdgeRT[139] = isoBandEdgeTR[139] = 4;\nisoBandEdgeRB[139] = isoBandEdgeBL[139] = 13;\nisoBandEdgeLB[139] = isoBandEdgeTL[139] = 20;\nisoBandEdgeRT[98] = isoBandEdgeBL[98] = 9;\nisoBandEdgeRB[98] = isoBandEdgeBR[98] = 12;\nisoBandEdgeLT[98] = isoBandEdgeTL[98] = 22;\nisoBandEdgeRT[99] = isoBandEdgeTL[99] = 0;\nisoBandEdgeRB[99] = isoBandEdgeBR[99] = 12;\nisoBandEdgeBL[99] = isoBandEdgeLT[99] = 19;\nisoBandEdgeRB[38] = isoBandEdgeBR[38] = 12;\nisoBandEdgeLB[38] = isoBandEdgeTR[38] = 21;\nisoBandEdgeLT[38] = isoBandEdgeTL[38] = 22;\nisoBandEdgeRB[39] = isoBandEdgeTR[39] = 5;\nisoBandEdgeBR[39] = isoBandEdgeLB[39] = 16;\nisoBandEdgeLT[39] = isoBandEdgeTL[39] = 22;\n\n/*\n  The lookup tables for all different polygons that\n  may appear within a grid cell\n*/\n\nvar polygon_table = [];\n\n/* triangle cases */\npolygon_table[1] = polygon_table[169] = p00; /* 2221 || 0001 */\npolygon_table[4] = polygon_table[166] = p01; /* 2212 || 0010 */\npolygon_table[16] = polygon_table[154] = p02; /* 2122 || 0100 */\npolygon_table[64] = polygon_table[106] = p03; /* 1222 || 1000 */\n\n/* trapezoid cases */\npolygon_table[168] = polygon_table[2] = p04; /* 2220 || 0002 */\npolygon_table[162] = polygon_table[8] = p05; /* 2202 || 0020 */\npolygon_table[138] = polygon_table[32] = p06; /* 2022 || 0200 */\npolygon_table[42] = polygon_table[128] = p07; /* 0222 || 2000 */\n\n/* rectangle cases */\npolygon_table[5] = polygon_table[165] = p08; /* 0011 || 2211 */\npolygon_table[20] = polygon_table[150] = p09; /* 0110 || 2112 */\npolygon_table[80] = polygon_table[90] = p10; /* 1100 || 1122 */\npolygon_table[65] = polygon_table[105] = p11; /* 1001 || 1221 */\npolygon_table[160] = polygon_table[10] = p12; /* 2200 || 0022 */\npolygon_table[130] = polygon_table[40] = p13; /* 2002 || 0220 */\n\n/* square case */\npolygon_table[85] = p14; /* 1111 */\n\n/* pentagon cases */\npolygon_table[101] = polygon_table[69] = p15; /* 1211 || 1011 */\npolygon_table[149] = polygon_table[21] = p16; /* 2111 || 0111 */\npolygon_table[86] = polygon_table[84] = p17; /* 1112 || 1110 */\npolygon_table[89] = polygon_table[81] = p18; /* 1121 || 1101 */\npolygon_table[96] = polygon_table[74] = p19; /* 1200 || 1022 */\npolygon_table[24] = polygon_table[146] = p20; /* 0120 || 2102 */\npolygon_table[6] = polygon_table[164] = p21; /* 0012 || 2210 */\npolygon_table[129] = polygon_table[41] = p22; /* 2001 || 0221 */\npolygon_table[66] = polygon_table[104] = p23; /* 1002 || 1220 */\npolygon_table[144] = polygon_table[26] = p24; /* 2100 || 0122 */\npolygon_table[36] = polygon_table[134] = p25; /* 0210 || 2012 */\npolygon_table[9] = polygon_table[161] = p26; /* 0021 || 2201 */\n\n/* hexagon cases */\npolygon_table[37] = polygon_table[133] = p27; /* 0211 || 2011 */\npolygon_table[148] = polygon_table[22] = p28; /* 2110 || 0112 */\npolygon_table[82] = polygon_table[88] = p29; /* 1102 || 1120 */\npolygon_table[73] = polygon_table[97] = p30; /* 1021 || 1201 */\npolygon_table[145] = polygon_table[25] = p31; /* 2101 || 0121 */\npolygon_table[70] = polygon_table[100] = p32; /* 1012 || 1210 */\n\n/* 8-sided cases */\npolygon_table[34] = function (c) { return [p07(c), p05(c)]; }; /* 0202 || 2020 with flipped == 0 */\npolygon_table[35] = p33; /* flipped == 1 state for 0202 and 2020 */\npolygon_table[136] = function (c) { return [p06(c), p04(c)]; }; /* 2020 || 0202 with flipped == 0 */\n\n/* 6-sided cases */\npolygon_table[153] = function (c) { return [p02(c), p00(c)]; }; /* 0101 with flipped == 0 || 2121 with flipped == 2 */\npolygon_table[102] = function (c) { return [p01(c), p03(c)]; }; /* 1010 with flipped == 0 || 1212 with flipped == 2 */\npolygon_table[155] = p34; /* 0101 with flipped == 1 || 2121 with flipped == 1 */\npolygon_table[103] = p35; /* 1010 with flipped == 1 || 1212 with flipped == 1 */\n\n/* 7-sided cases */\npolygon_table[152] = function (c) { return [p02(c), p04(c)]; }; /* 2120 with flipped == 2 || 0102 with flipped == 0 */\npolygon_table[156] = p36; /* 2120 with flipped == 1 || 0102 with flipped == 1 */\npolygon_table[137] = function (c) { return [p06(c), p00(c)]; }; /* 2021 with flipped == 2 || 0201 with flipped == 0 */\npolygon_table[139] = p37; /* 2021 with flipped == 1 || 0201 with flipped == 1 */\npolygon_table[98] = function (c) { return [p05(c), p03(c)]; }; /* 1202 with flipped == 2 || 1020 with flipped == 0 */\npolygon_table[99] = p38; /* 1202 with flipped == 1 || 1020 with flipped == 1 */\npolygon_table[38] = function (c) { return [p01(c), p07(c)]; }; /* 0212 with flipped == 2 || 2010 with flipped == 0 */\npolygon_table[39] = p39; /* 0212 with flipped == 1 || 2010 with flipped == 1 */\n\n\n/*\n####################################\nSome small helper functions\n####################################\n*/\n\n/* assume that x1 == 1 &&  x0 == 0 */\nfunction interpolateX$1(y, y0, y1) {\n    return (y - y0) / (y1 - y0);\n}\n\nfunction isArray(myArray) {\n    return myArray.constructor.toString().indexOf('Array') > -1;\n}\n\n/*\n####################################\nBelow is the actual Marching Squares implementation\n####################################\n*/\n\nfunction computeBandGrid(data, minV, bandwidth) {\n    var rows = data.length - 1;\n    var cols = data[0].length - 1;\n    var BandGrid = { rows: rows, cols: cols, cells: [] };\n\n    var maxV = minV + Math.abs(bandwidth);\n\n    for (var j = 0; j < rows; ++j) {\n        BandGrid.cells[j] = [];\n        for (var i = 0; i < cols; ++i) {\n            /*  compose the 4-trit corner representation */\n            var cval = 0;\n\n            var tl = data[j + 1][i];\n            var tr = data[j + 1][i + 1];\n            var br = data[j][i + 1];\n            var bl = data[j][i];\n\n            if (isNaN(tl) || isNaN(tr) || isNaN(br) || isNaN(bl)) {\n                continue;\n            }\n\n            cval |= (tl < minV) ? 0 : (tl > maxV) ? 128 : 64;\n            cval |= (tr < minV) ? 0 : (tr > maxV) ? 32 : 16;\n            cval |= (br < minV) ? 0 : (br > maxV) ? 8 : 4;\n            cval |= (bl < minV) ? 0 : (bl > maxV) ? 2 : 1;\n\n            var cval_real = +cval;\n\n            /* resolve ambiguity via averaging */\n            var flipped = 0;\n            if ((cval === 17)  || /* 0101 */\n          (cval === 18)  || /* 0102 */\n          (cval === 33)  || /* 0201 */\n          (cval === 34)  || /* 0202 */\n          (cval === 38)  || /* 0212 */\n          (cval === 68)  || /* 1010 */\n          (cval === 72)  || /* 1020 */\n          (cval === 98)  || /* 1202 */\n          (cval === 102)  || /* 1212 */\n          (cval === 132)  || /* 2010 */\n          (cval === 136)  || /* 2020 */\n          (cval === 137)  || /* 2021 */\n          (cval === 152)  || /* 2120 */\n          (cval === 153) /* 2121 */\n            ) {\n                var average = (tl + tr + br + bl) / 4;\n                /* set flipped state */\n                flipped = (average > maxV) ? 2 : (average < minV) ? 0 : 1;\n\n                /* adjust cval for flipped cases */\n\n                /* 8-sided cases */\n                if (cval === 34) {\n                    if (flipped === 1) {\n                        cval = 35;\n                    } else if (flipped === 0) {\n                        cval = 136;\n                    }\n                } else if (cval === 136) {\n                    if (flipped === 1) {\n                        cval = 35;\n                        flipped = 4;\n                    } else if (flipped === 0) {\n                        cval = 34;\n                    }\n                }\n\n                /* 6-sided polygon cases */\n                else if (cval === 17) {\n                    if (flipped === 1) {\n                        cval = 155;\n                        flipped = 4;\n                    } else if (flipped === 0) {\n                        cval = 153;\n                    }\n                } else if (cval === 68) {\n                    if (flipped === 1) {\n                        cval = 103;\n                        flipped = 4;\n                    } else if (flipped === 0) {\n                        cval = 102;\n                    }\n                } else if (cval === 153) {\n                    if (flipped === 1)\n                        cval = 155;\n                } else if (cval === 102) {\n                    if (flipped === 1)\n                        cval = 103;\n                }\n\n                /* 7-sided polygon cases */\n                else if (cval === 152) {\n                    if (flipped < 2) {\n                        cval    = 156;\n                        flipped = 1;\n                    }\n                } else if (cval === 137) {\n                    if (flipped < 2) {\n                        cval = 139;\n                        flipped = 1;\n                    }\n                } else if (cval === 98) {\n                    if (flipped < 2) {\n                        cval    = 99;\n                        flipped = 1;\n                    }\n                } else if (cval === 38) {\n                    if (flipped < 2) {\n                        cval    = 39;\n                        flipped = 1;\n                    }\n                } else if (cval === 18) {\n                    if (flipped > 0) {\n                        cval = 156;\n                        flipped = 4;\n                    } else {\n                        cval = 152;\n                    }\n                } else if (cval === 33) {\n                    if (flipped > 0) {\n                        cval = 139;\n                        flipped = 4;\n                    } else {\n                        cval = 137;\n                    }\n                } else if (cval === 72) {\n                    if (flipped > 0) {\n                        cval = 99;\n                        flipped = 4;\n                    } else {\n                        cval = 98;\n                    }\n                } else if (cval === 132) {\n                    if (flipped > 0) {\n                        cval = 39;\n                        flipped = 4;\n                    } else {\n                        cval = 38;\n                    }\n                }\n            }\n\n            /* add cell to BandGrid if it contains at least one polygon-side */\n            if ((cval != 0) && (cval != 170)) {\n                var topleft, topright, bottomleft, bottomright,\n                    righttop, rightbottom, lefttop, leftbottom;\n\n                topleft = topright = bottomleft = bottomright = righttop =\n                rightbottom = lefttop = leftbottom = 0.5;\n\n                var edges = [];\n\n                /* do interpolation here */\n                /* 1st Triangles */\n                if (cval === 1) { /* 0001 */\n                    bottomleft = 1 - interpolateX$1(minV, br, bl);\n                    leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 169) { /* 2221 */\n                    bottomleft = interpolateX$1(maxV, bl, br);\n                    leftbottom = interpolateX$1(maxV, bl, tl);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 4) { /* 0010 */\n                    rightbottom = 1 - interpolateX$1(minV, tr, br);\n                    bottomright = interpolateX$1(minV, bl, br);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 166) { /* 2212 */\n                    rightbottom = interpolateX$1(maxV, br, tr);\n                    bottomright = 1 - interpolateX$1(maxV, br, bl);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 16) { /* 0100 */\n                    righttop = interpolateX$1(minV, br, tr);\n                    topright = interpolateX$1(minV, tl, tr);\n                    edges.push(isoBandEdgeRT[cval]);\n                } else if (cval === 154) { /* 2122 */\n                    righttop = 1 - interpolateX$1(maxV, tr, br);\n                    topright = 1 - interpolateX$1(maxV, tr, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                } else if (cval === 64) { /* 1000 */\n                    lefttop = interpolateX$1(minV, bl, tl);\n                    topleft = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 106) { /* 1222 */\n                    lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                    topleft = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeLT[cval]);\n                }\n                /* 2nd Trapezoids */\n                else if (cval === 168) { /* 2220 */\n                    bottomright = interpolateX$1(maxV, bl, br);\n                    bottomleft = interpolateX$1(minV, bl, br);\n                    leftbottom = interpolateX$1(minV, bl, tl);\n                    lefttop = interpolateX$1(maxV, bl, tl);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 2) { /* 0002 */\n                    bottomright = 1 - interpolateX$1(minV, br, bl);\n                    bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                    leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                    lefttop = 1 - interpolateX$1(minV, tl, bl);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 162) { /* 2202 */\n                    righttop = interpolateX$1(maxV, br, tr);\n                    rightbottom = interpolateX$1(minV, br, tr);\n                    bottomright = 1 - interpolateX$1(minV, br, bl);\n                    bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 8) { /* 0020 */\n                    righttop = 1 - interpolateX$1(minV, tr, br);\n                    rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                    bottomright = interpolateX$1(maxV, bl, br);\n                    bottomleft = interpolateX$1(minV, bl, br);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 138) { /* 2022 */\n                    righttop = 1 - interpolateX$1(minV, tr, br);\n                    rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                    topleft = 1 - interpolateX$1(maxV, tr, tl);\n                    topright = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 32) { /* 0200 */\n                    righttop = interpolateX$1(maxV, br, tr);\n                    rightbottom = interpolateX$1(minV, br, tr);\n                    topleft = interpolateX$1(minV, tl, tr);\n                    topright = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 42) { /* 0222 */\n                    leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                    lefttop = 1 - interpolateX$1(minV, tl, bl);\n                    topleft = interpolateX$1(minV, tl, tr);\n                    topright = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeLB[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 128) { /* 2000 */\n                    leftbottom = interpolateX$1(minV, bl, tl);\n                    lefttop = interpolateX$1(maxV, bl, tl);\n                    topleft = 1 - interpolateX$1(maxV, tr, tl);\n                    topright = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeLB[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                }\n\n                /* 3rd rectangle cases */\n                if (cval === 5) { /* 0011 */\n                    rightbottom = 1 - interpolateX$1(minV, tr, br);\n                    leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 165) { /* 2211 */\n                    rightbottom = interpolateX$1(maxV, br, tr);\n                    leftbottom = interpolateX$1(maxV, bl, tl);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 20) { /* 0110 */\n                    bottomright = interpolateX$1(minV, bl, br);\n                    topright = interpolateX$1(minV, tl, tr);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 150) { /* 2112 */\n                    bottomright = 1 - interpolateX$1(maxV, br, bl);\n                    topright = 1 - interpolateX$1(maxV, tr, tl);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 80) { /* 1100 */\n                    righttop = interpolateX$1(minV, br, tr);\n                    lefttop = interpolateX$1(minV, bl, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                } else if (cval === 90) { /* 1122 */\n                    righttop = 1 - interpolateX$1(maxV, tr, br);\n                    lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                    edges.push(isoBandEdgeRT[cval]);\n                } else if (cval === 65) { /* 1001 */\n                    bottomleft = 1 - interpolateX$1(minV, br, bl);\n                    topleft = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 105) { /* 1221 */\n                    bottomleft = interpolateX$1(maxV, bl, br);\n                    topleft = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 160) { /* 2200 */\n                    righttop = interpolateX$1(maxV, br, tr);\n                    rightbottom = interpolateX$1(minV, br, tr);\n                    leftbottom = interpolateX$1(minV, bl, tl);\n                    lefttop = interpolateX$1(maxV, bl, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 10) { /* 0022 */\n                    righttop = 1 - interpolateX$1(minV, tr, br);\n                    rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                    leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                    lefttop = 1 - interpolateX$1(minV, tl, bl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 130) { /* 2002 */\n                    bottomright = 1 - interpolateX$1(minV, br, bl);\n                    bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                    topleft = 1 - interpolateX$1(maxV, tr, tl);\n                    topright = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 40) { /* 0220 */\n                    bottomright = interpolateX$1(maxV, bl, br);\n                    bottomleft = interpolateX$1(minV, bl, br);\n                    topleft = interpolateX$1(minV, tl, tr);\n                    topright = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                }\n\n                /* 4th single pentagon cases */\n                else if (cval === 101) { /* 1211 */\n                    rightbottom = interpolateX$1(maxV, br, tr);\n                    topleft = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 69) { /* 1011 */\n                    rightbottom = 1 - interpolateX$1(minV, tr, br);\n                    topleft = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 149) { /* 2111 */\n                    leftbottom = interpolateX$1(maxV, bl, tl);\n                    topright = 1 - interpolateX$1(maxV, tr, tl);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 21) { /* 0111 */\n                    leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                    topright = interpolateX$1(minV, tl, tr);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 86) { /* 1112 */\n                    bottomright = 1 - interpolateX$1(maxV, br, bl);\n                    lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 84) { /* 1110 */\n                    bottomright = interpolateX$1(minV, bl, br);\n                    lefttop = interpolateX$1(minV, bl, tl);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 89) { /* 1121 */\n                    righttop = 1 - interpolateX$1(maxV, tr, br);\n                    bottomleft = interpolateX$1(maxV, bl, br);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 81) { /* 1101 */\n                    righttop = interpolateX$1(minV, br, tr);\n                    bottomleft = 1 - interpolateX$1(minV, br, bl);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 96) { /* 1200 */\n                    righttop = interpolateX$1(maxV, br, tr);\n                    rightbottom = interpolateX$1(minV, br, tr);\n                    lefttop = interpolateX$1(minV, bl, tl);\n                    topleft = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 74) { /* 1022 */\n                    righttop = 1 - interpolateX$1(minV, tr, br);\n                    rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                    lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                    topleft = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 24) { /* 0120 */\n                    righttop = 1 - interpolateX$1(maxV, tr, br);\n                    bottomright = interpolateX$1(maxV, bl, br);\n                    bottomleft = interpolateX$1(minV, bl, br);\n                    topright = interpolateX$1(minV, tl, tr);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 146) { /* 2102 */\n                    righttop = interpolateX$1(minV, br, tr);\n                    bottomright = 1 - interpolateX$1(minV, br, bl);\n                    bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                    topright = 1 - interpolateX$1(maxV, tr, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 6) { /* 0012 */\n                    rightbottom = 1 - interpolateX$1(minV, tr, br);\n                    bottomright = 1 - interpolateX$1(maxV, br, bl);\n                    leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                    lefttop = 1 - interpolateX$1(minV, tl, bl);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 164) { /* 2210 */\n                    rightbottom = interpolateX$1(maxV, br, tr);\n                    bottomright = interpolateX$1(minV, bl, br);\n                    leftbottom = interpolateX$1(minV, bl, tl);\n                    lefttop = interpolateX$1(maxV, bl, tl);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 129) { /* 2001 */\n                    bottomleft = 1 - interpolateX$1(minV, br, bl);\n                    leftbottom = interpolateX$1(maxV, bl, tl);\n                    topleft = 1 - interpolateX$1(maxV, tr, tl);\n                    topright = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeBL[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 41) { /* 0221 */\n                    bottomleft = interpolateX$1(maxV, bl, br);\n                    leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                    topleft = interpolateX$1(minV, tl, tr);\n                    topright = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeBL[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 66) { /* 1002 */\n                    bottomright = 1 - interpolateX$1(minV, br, bl);\n                    bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                    lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                    topleft = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 104) { /* 1220 */\n                    bottomright = interpolateX$1(maxV, bl, br);\n                    bottomleft = interpolateX$1(minV, bl, br);\n                    lefttop = interpolateX$1(minV, bl, tl);\n                    topleft = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeBL[cval]);\n                    edges.push(isoBandEdgeTL[cval]);\n                } else if (cval === 144) { /* 2100 */\n                    righttop = interpolateX$1(minV, br, tr);\n                    leftbottom = interpolateX$1(minV, bl, tl);\n                    lefttop = interpolateX$1(maxV, bl, tl);\n                    topright = 1 - interpolateX$1(maxV, tr, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 26) { /* 0122 */\n                    righttop = 1 - interpolateX$1(maxV, tr, br);\n                    leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                    lefttop = 1 - interpolateX$1(minV, tl, bl);\n                    topright = interpolateX$1(minV, tl, tr);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 36) { /* 0210 */\n                    rightbottom = interpolateX$1(maxV, br, tr);\n                    bottomright = interpolateX$1(minV, bl, br);\n                    topleft = interpolateX$1(minV, tl, tr);\n                    topright = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 134) { /* 2012 */\n                    rightbottom = 1 - interpolateX$1(minV, tr, br);\n                    bottomright = 1 - interpolateX$1(maxV, br, bl);\n                    topleft = 1 - interpolateX$1(maxV, tr, tl);\n                    topright = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 9) { /* 0021 */\n                    righttop = 1 - interpolateX$1(minV, tr, br);\n                    rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                    bottomleft = interpolateX$1(maxV, bl, br);\n                    leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 161) { /* 2201 */\n                    righttop = interpolateX$1(maxV, br, tr);\n                    rightbottom = interpolateX$1(minV, br, tr);\n                    bottomleft = 1 - interpolateX$1(minV, br, bl);\n                    leftbottom = interpolateX$1(maxV, bl, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                }\n\n                /* 5th single hexagon cases */\n                else if (cval === 37) { /* 0211 */\n                    rightbottom = interpolateX$1(maxV, br, tr);\n                    leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                    topleft = interpolateX$1(minV, tl, tr);\n                    topright = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 133) { /* 2011 */\n                    rightbottom = 1 - interpolateX$1(minV, tr, br);\n                    leftbottom = interpolateX$1(maxV, bl, tl);\n                    topleft = 1 - interpolateX$1(maxV, tr, tl);\n                    topright = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 148) { /* 2110 */\n                    bottomright = interpolateX$1(minV, bl, br);\n                    leftbottom = interpolateX$1(minV, bl, tl);\n                    lefttop = interpolateX$1(maxV, bl, tl);\n                    topright = 1 - interpolateX$1(maxV, tr, tl);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 22) { /* 0112 */\n                    bottomright = 1 - interpolateX$1(maxV, br, bl);\n                    leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                    lefttop = 1 - interpolateX$1(minV, tl, bl);\n                    topright = interpolateX$1(minV, tl, tr);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 82) { /* 1102 */\n                    righttop = interpolateX$1(minV, br, tr);\n                    bottomright = 1 - interpolateX$1(minV, br, bl);\n                    bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                    lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 88) { /* 1120 */\n                    righttop = 1 - interpolateX$1(maxV, tr, br);\n                    bottomright = interpolateX$1(maxV, bl, br);\n                    bottomleft = interpolateX$1(minV, bl, br);\n                    lefttop = interpolateX$1(minV, bl, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 73) { /* 1021 */\n                    righttop = 1 - interpolateX$1(minV, tr, br);\n                    rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                    bottomleft = interpolateX$1(maxV, bl, br);\n                    topleft = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 97) { /* 1201 */\n                    righttop = interpolateX$1(maxV, br, tr);\n                    rightbottom = interpolateX$1(minV, br, tr);\n                    bottomleft = 1 - interpolateX$1(minV, br, bl);\n                    topleft = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                } else if (cval === 145) { /* 2101 */\n                    righttop = interpolateX$1(minV, br, tr);\n                    bottomleft = 1 - interpolateX$1(minV, br, bl);\n                    leftbottom = interpolateX$1(maxV, bl, tl);\n                    topright = 1 - interpolateX$1(maxV, tr, tl);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 25) { /* 0121 */\n                    righttop = 1 - interpolateX$1(maxV, tr, br);\n                    bottomleft = interpolateX$1(maxV, bl, br);\n                    leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                    topright = interpolateX$1(minV, tl, tr);\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 70) { /* 1012 */\n                    rightbottom = 1 - interpolateX$1(minV, tr, br);\n                    bottomright = 1 - interpolateX$1(maxV, br, bl);\n                    lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                    topleft = 1 - interpolateX$1(minV, tr, tl);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                } else if (cval === 100) { /* 1210 */\n                    rightbottom = interpolateX$1(maxV, br, tr);\n                    bottomright = interpolateX$1(minV, bl, br);\n                    lefttop = interpolateX$1(minV, bl, tl);\n                    topleft = interpolateX$1(maxV, tl, tr);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                }\n\n                /* 8-sided cases */\n                else if (cval === 34) { /* 0202 || 2020 with flipped == 0 */\n                    if (flipped === 0) {\n                        righttop = 1 - interpolateX$1(minV, tr, br);\n                        rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                        bottomright = interpolateX$1(maxV, bl, br);\n                        bottomleft = interpolateX$1(minV, bl, br);\n                        leftbottom = interpolateX$1(minV, bl, tl);\n                        lefttop = interpolateX$1(maxV, bl, tl);\n                        topleft = 1 - interpolateX$1(maxV, tr, tl);\n                        topright = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        righttop = interpolateX$1(maxV, br, tr);\n                        rightbottom = interpolateX$1(minV, br, tr);\n                        bottomright = 1 - interpolateX$1(minV, br, bl);\n                        bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                        leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                        lefttop = 1 - interpolateX$1(minV, tl, bl);\n                        topleft = interpolateX$1(minV, tl, tr);\n                        topright = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 35) { /* flipped == 1 state for 0202, and 2020 with flipped == 4*/\n                    if (flipped === 4) {\n                        righttop = 1 - interpolateX$1(minV, tr, br);\n                        rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                        bottomright = interpolateX$1(maxV, bl, br);\n                        bottomleft = interpolateX$1(minV, bl, br);\n                        leftbottom = interpolateX$1(minV, bl, tl);\n                        lefttop = interpolateX$1(maxV, bl, tl);\n                        topleft = 1 - interpolateX$1(maxV, tr, tl);\n                        topright = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        righttop = interpolateX$1(maxV, br, tr);\n                        rightbottom = interpolateX$1(minV, br, tr);\n                        bottomright = 1 - interpolateX$1(minV, br, bl);\n                        bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                        leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                        lefttop = 1 - interpolateX$1(minV, tl, bl);\n                        topleft = interpolateX$1(minV, tl, tr);\n                        topright = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 136) { /* 2020 || 0202 with flipped == 0 */\n                    if (flipped === 0) {\n                        righttop = interpolateX$1(maxV, br, tr);\n                        rightbottom = interpolateX$1(minV, br, tr);\n                        bottomright = 1 - interpolateX$1(minV, br, bl);\n                        bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                        leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                        lefttop = 1 - interpolateX$1(minV, tl, bl);\n                        topleft = interpolateX$1(minV, tl, tr);\n                        topright = interpolateX$1(maxV, tl, tr);\n                    } else {\n                        righttop = 1 - interpolateX$1(minV, tr, br);\n                        rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                        bottomright = interpolateX$1(maxV, bl, br);\n                        bottomleft = interpolateX$1(minV, bl, br);\n                        leftbottom = interpolateX$1(minV, bl, tl);\n                        lefttop = interpolateX$1(maxV, bl, tl);\n                        topleft = 1 - interpolateX$1(maxV, tr, tl);\n                        topright = 1 - interpolateX$1(minV, tr, tl);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                }\n\n                /* 6-sided polygon cases */\n                else if (cval === 153) { /* 0101 with flipped == 0 || 2121 with flipped == 2 */\n                    if (flipped === 0) {\n                        righttop = interpolateX$1(minV, br, tr);\n                        bottomleft = 1 - interpolateX$1(minV, br, bl);\n                        leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                        topright = interpolateX$1(minV, tl, tr);\n                    } else {\n                        righttop = 1 - interpolateX$1(maxV, tr, br);\n                        bottomleft = interpolateX$1(maxV, bl, br);\n                        leftbottom = interpolateX$1(maxV, bl, tl);\n                        topright = 1 - interpolateX$1(maxV, tr, tl);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 102) { /* 1010 with flipped == 0 || 1212 with flipped == 2 */\n                    if (flipped === 0) {\n                        rightbottom = 1 - interpolateX$1(minV, tr, br);\n                        bottomright = interpolateX$1(minV, bl, br);\n                        lefttop = interpolateX$1(minV, bl, tl);\n                        topleft = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        rightbottom = interpolateX$1(maxV, br, tr);\n                        bottomright = 1 - interpolateX$1(maxV, br, bl);\n                        lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                        topleft = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 155) { /* 0101 with flipped == 4 || 2121 with flipped == 1 */\n                    if (flipped === 4) {\n                        righttop = interpolateX$1(minV, br, tr);\n                        bottomleft = 1 - interpolateX$1(minV, br, bl);\n                        leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                        topright = interpolateX$1(minV, tl, tr);\n                    } else {\n                        righttop = 1 - interpolateX$1(maxV, tr, br);\n                        bottomleft = interpolateX$1(maxV, bl, br);\n                        leftbottom = interpolateX$1(maxV, bl, tl);\n                        topright = 1 - interpolateX$1(maxV, tr, tl);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 103) { /* 1010 with flipped == 4 || 1212 with flipped == 1 */\n                    if (flipped === 4) {\n                        rightbottom = 1 - interpolateX$1(minV, tr, br);\n                        bottomright = interpolateX$1(minV, bl, br);\n                        lefttop = interpolateX$1(minV, bl, tl);\n                        topleft = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        rightbottom = interpolateX$1(maxV, br, tr);\n                        bottomright = 1 - interpolateX$1(maxV, br, bl);\n                        lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                        topleft = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                }\n\n                /* 7-sided polygon cases */\n                else if (cval === 152) { /* 2120 with flipped == 2 || 0102 with flipped == 0 */\n                    if (flipped === 0) {\n                        righttop = interpolateX$1(minV, br, tr);\n                        bottomright = 1 - interpolateX$1(minV, br, bl);\n                        bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                        leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                        lefttop = 1 - interpolateX$1(minV, tl, bl);\n                        topright = interpolateX$1(minV, tl, tr);\n                    } else {\n                        righttop = 1 - interpolateX$1(maxV, tr, br);\n                        bottomright = interpolateX$1(maxV, bl, br);\n                        bottomleft = interpolateX$1(minV, bl, br);\n                        leftbottom = interpolateX$1(minV, bl, tl);\n                        lefttop = interpolateX$1(maxV, bl, tl);\n                        topright = 1 - interpolateX$1(maxV, tr, tl);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 156) { /* 2120 with flipped == 1 || 0102 with flipped == 4 */\n                    if (flipped === 4) {\n                        righttop = interpolateX$1(minV, br, tr);\n                        bottomright = 1 - interpolateX$1(minV, br, bl);\n                        bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                        leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                        lefttop = 1 - interpolateX$1(minV, tl, bl);\n                        topright = interpolateX$1(minV, tl, tr);\n                    } else {\n                        righttop = 1 - interpolateX$1(maxV, tr, br);\n                        bottomright = interpolateX$1(maxV, bl, br);\n                        bottomleft = interpolateX$1(minV, bl, br);\n                        leftbottom = interpolateX$1(minV, bl, tl);\n                        lefttop = interpolateX$1(maxV, bl, tl);\n                        topright = 1 - interpolateX$1(maxV, tr, tl);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 137) { /* 2021 with flipped == 2 || 0201 with flipped == 0 */\n                    if (flipped === 0) {\n                        righttop = interpolateX$1(maxV, br, tr);\n                        rightbottom = interpolateX$1(minV, br, tr);\n                        bottomleft = 1 - interpolateX$1(minV, br, bl);\n                        leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                        topleft = interpolateX$1(minV, tl, tr);\n                        topright = interpolateX$1(maxV, tl, tr);\n                    } else {\n                        righttop = 1 - interpolateX$1(minV, tr, br);\n                        rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                        bottomleft = interpolateX$1(maxV, bl, br);\n                        leftbottom = interpolateX$1(maxV, bl, tl);\n                        topleft = 1 - interpolateX$1(maxV, tr, tl);\n                        topright = 1 - interpolateX$1(minV, tr, tl);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 139) { /* 2021 with flipped == 1 || 0201 with flipped == 4 */\n                    if (flipped === 4) {\n                        righttop = interpolateX$1(maxV, br, tr);\n                        rightbottom = interpolateX$1(minV, br, tr);\n                        bottomleft = 1 - interpolateX$1(minV, br, bl);\n                        leftbottom = 1 - interpolateX$1(minV, tl, bl);\n                        topleft = interpolateX$1(minV, tl, tr);\n                        topright = interpolateX$1(maxV, tl, tr);\n                    } else {\n                        righttop = 1 - interpolateX$1(minV, tr, br);\n                        rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                        bottomleft = interpolateX$1(maxV, bl, br);\n                        leftbottom = interpolateX$1(maxV, bl, tl);\n                        topleft = 1 - interpolateX$1(maxV, tr, tl);\n                        topright = 1 - interpolateX$1(minV, tr, tl);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                } else if (cval === 98) { /* 1202 with flipped == 2 || 1020 with flipped == 0 */\n                    if (flipped === 0) {\n                        righttop = 1 - interpolateX$1(minV, tr, br);\n                        rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                        bottomright = interpolateX$1(maxV, bl, br);\n                        bottomleft = interpolateX$1(minV, bl, br);\n                        lefttop = interpolateX$1(minV, bl, tl);\n                        topleft = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        righttop = interpolateX$1(maxV, br, tr);\n                        rightbottom = interpolateX$1(minV, br, tr);\n                        bottomright = 1 - interpolateX$1(minV, br, bl);\n                        bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                        lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                        topleft = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 99) { /* 1202 with flipped == 1 || 1020 with flipped == 4 */\n                    if (flipped === 4) {\n                        righttop = 1 - interpolateX$1(minV, tr, br);\n                        rightbottom = 1 - interpolateX$1(maxV, tr, br);\n                        bottomright = interpolateX$1(maxV, bl, br);\n                        bottomleft = interpolateX$1(minV, bl, br);\n                        lefttop = interpolateX$1(minV, bl, tl);\n                        topleft = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        righttop = interpolateX$1(maxV, br, tr);\n                        rightbottom = interpolateX$1(minV, br, tr);\n                        bottomright = 1 - interpolateX$1(minV, br, bl);\n                        bottomleft = 1 - interpolateX$1(maxV, br, bl);\n                        lefttop = 1 - interpolateX$1(maxV, tl, bl);\n                        topleft = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRT[cval]);\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBL[cval]);\n                } else if (cval === 38) { /* 0212 with flipped == 2 || 2010 with flipped == 0 */\n                    if (flipped === 0) {\n                        rightbottom = 1 - interpolateX$1(minV, tr, br);\n                        bottomright = interpolateX$1(minV, bl, br);\n                        leftbottom = interpolateX$1(minV, bl, tl);\n                        lefttop = interpolateX$1(maxV, bl, tl);\n                        topleft = 1 - interpolateX$1(maxV, tr, tl);\n                        topright = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        rightbottom = interpolateX$1(maxV, br, tr);\n                        bottomright = 1 - interpolateX$1(maxV, br, bl);\n                        leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                        lefttop = 1 - interpolateX$1(minV, tl, bl);\n                        topleft = interpolateX$1(minV, tl, tr);\n                        topright = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeLB[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 39) { /* 0212 with flipped == 1 || 2010 with flipped == 4 */\n                    if (flipped === 4) {\n                        rightbottom = 1 - interpolateX$1(minV, tr, br);\n                        bottomright = interpolateX$1(minV, bl, br);\n                        leftbottom = interpolateX$1(minV, bl, tl);\n                        lefttop = interpolateX$1(maxV, bl, tl);\n                        topleft = 1 - interpolateX$1(maxV, tr, tl);\n                        topright = 1 - interpolateX$1(minV, tr, tl);\n                    } else {\n                        rightbottom = interpolateX$1(maxV, br, tr);\n                        bottomright = 1 - interpolateX$1(maxV, br, bl);\n                        leftbottom = 1 - interpolateX$1(maxV, tl, bl);\n                        lefttop = 1 - interpolateX$1(minV, tl, bl);\n                        topleft = interpolateX$1(minV, tl, tr);\n                        topright = interpolateX$1(maxV, tl, tr);\n                    }\n                    edges.push(isoBandEdgeRB[cval]);\n                    edges.push(isoBandEdgeBR[cval]);\n                    edges.push(isoBandEdgeLT[cval]);\n                } else if (cval === 85) {\n                    righttop = 1;\n                    rightbottom = 0;\n                    bottomright = 1;\n                    bottomleft = 0;\n                    leftbottom = 0;\n                    lefttop = 1;\n                    topleft = 0;\n                    topright = 1;\n                }\n\n                if (topleft < 0 || topleft > 1 || topright < 0 || topright > 1 || righttop < 0 || righttop > 1 || bottomright < 0 || bottomright > 1 || leftbottom < 0 || leftbottom > 1 || lefttop < 0 || lefttop > 1) {\n                    console.log('MarchingSquaresJS-isoBands: ' + cval + ' ' + cval_real + ' ' + tl + ',' + tr + ',' + br + ',' + bl + ' ' + flipped + ' ' + topleft + ' ' + topright + ' ' + righttop + ' ' + rightbottom + ' ' + bottomright + ' ' + bottomleft + ' ' + leftbottom + ' ' + lefttop);\n                }\n\n                BandGrid.cells[j][i] = {\n                    cval: cval,\n                    cval_real: cval_real,\n                    flipped: flipped,\n                    topleft: topleft,\n                    topright: topright,\n                    righttop: righttop,\n                    rightbottom: rightbottom,\n                    bottomright: bottomright,\n                    bottomleft: bottomleft,\n                    leftbottom: leftbottom,\n                    lefttop: lefttop,\n                    edges: edges\n                };\n            }\n        }\n    }\n\n    return BandGrid;\n}\n\nfunction BandGrid2AreaPaths(grid) {\n    var areas = [];\n    var rows = grid.rows;\n    var cols = grid.cols;\n    var currentPolygon = [];\n\n    for (var j = 0; j < rows; j++) {\n        for (var i = 0; i < cols; i++) {\n            if ((typeof grid.cells[j][i] !== 'undefined') && (grid.cells[j][i].edges.length > 0)) {\n                /* trace back polygon path starting from this cell */\n\n                var cell = grid.cells[j][i];\n\n                /* get start coordinates */\n\n                var prev  = getStartXY(cell),\n                    next  = null,\n                    p     = i,\n                    q     = j;\n\n                if (prev !== null) {\n                    currentPolygon.push([prev.p[0] + p, prev.p[1] + q]);\n                    //console.log(cell);\n                    //console.log(\"coords: \" + (prev.p[0] + p) + \" \" + (prev.p[1] + q));\n                }\n\n                do {\n                    //console.log(p + \",\" + q);\n                    //console.log(grid.cells[q][p]);\n                    //console.log(grid.cells[q][p].edges);\n                    //console.log(\"from : \" + prev.x + \" \" + prev.y + \" \" + prev.o);\n\n                    next = getExitXY(grid.cells[q][p], prev.x, prev.y, prev.o);\n                    if (next !== null) {\n                        //console.log(\"coords: \" + (next.p[0] + p) + \" \" + (next.p[1] + q));\n                        currentPolygon.push([next.p[0] + p, next.p[1] + q]);\n                        p += next.x;\n                        q += next.y;\n                        prev = next;\n                    } else {\n                        //console.log(\"getExitXY() returned null!\");\n                        break;\n                    }\n                    //console.log(\"to : \" + next.x + \" \" + next.y + \" \" + next.o);\n                    /* special case, where we've reached the grid boundaries */\n                    if ((q < 0) || (q >= rows) || (p < 0) || (p >= cols) || (typeof grid.cells[q][p] === 'undefined')) {\n                        /* to create a closed path, we need to trace our way\n                arround the missing data, until we find an entry\n                point again\n            */\n\n                        /* set back coordinates of current cell */\n                        p -= next.x;\n                        q -= next.y;\n\n                        //console.log(\"reached boundary at \" + p + \" \" + q);\n\n                        var missing = traceOutOfGridPath(grid, p, q, next.x, next.y, next.o);\n                        if (missing !== null) {\n                            missing.path.forEach(function (pp) {\n                                //console.log(\"coords: \" + (pp[0]) + \" \" + (pp[1]));\n                                currentPolygon.push(pp);\n                            });\n                            p = missing.i;\n                            q = missing.j;\n                            prev = missing;\n                        } else {\n                            break;\n                        }\n                        //console.log(grid.cells[q][p]);\n                    }\n                } while ((typeof grid.cells[q][p] !== 'undefined') &&\n                  (grid.cells[q][p].edges.length > 0));\n\n                areas.push(currentPolygon);\n                //console.log(\"next polygon\");\n                //console.log(currentPolygon);\n                currentPolygon = [];\n                if (grid.cells[j][i].edges.length > 0)\n                    i--;\n            }\n        }\n    }\n    return areas;\n}\n\nfunction traceOutOfGridPath(grid, i, j, d_x, d_y, d_o) {\n    var cell = grid.cells[j][i];\n    var cval = cell.cval_real;\n    var p = i + d_x,\n        q = j + d_y;\n    var path = [];\n    var closed = false;\n\n    while (!closed) {\n    //console.log(\"processing cell \" + p + \",\" + q + \" \" + d_x + \" \" + d_y + \" \" + d_o);\n        if ((typeof grid.cells[q] === 'undefined') || (typeof grid.cells[q][p] === 'undefined')) {\n            //console.log(\"which is undefined\");\n            /* we can't move on, so we have to change direction to proceed further */\n\n            /* go back to previous cell */\n            q -= d_y;\n            p -= d_x;\n            cell = grid.cells[q][p];\n            cval = cell.cval_real;\n\n            /* check where we've left defined cells of the grid... */\n            if (d_y === -1) { /* we came from top */\n                if (d_o === 0) {  /* exit left */\n                    if (cval & Node3) { /* lower left node is within range, so we move left */\n                        path.push([p, q]);\n                        d_x = -1;\n                        d_y = 0;\n                        d_o = 0;\n                    } else if (cval & Node2) { /* lower right node is within range, so we move right */\n                        path.push([p + 1, q]);\n                        d_x = 1;\n                        d_y = 0;\n                        d_o = 0;\n                    } else { /* close the path */\n                        path.push([p + cell.bottomright, q]);\n                        d_x = 0;\n                        d_y = 1;\n                        d_o = 1;\n                        closed = true;\n                        break;\n                    }\n                } else if (cval & Node3) {\n                    path.push([p, q]);\n                    d_x = -1;\n                    d_y = 0;\n                    d_o = 0;\n                } else if (cval & Node2) {\n                    path.push([p + cell.bottomright, q]);\n                    d_x = 0;\n                    d_y = 1;\n                    d_o = 1;\n                    closed = true;\n                    break;\n                } else {\n                    path.push([p + cell.bottomleft, q]);\n                    d_x = 0;\n                    d_y = 1;\n                    d_o = 0;\n                    closed = true;\n                    break;\n                }\n            } else if (d_y === 1) { /* we came from bottom */\n                //console.log(\"we came from bottom and hit a non-existing cell \" + (p + d_x) + \",\" + (q + d_y) + \"!\");\n                if (d_o === 0) { /* exit left */\n                    if (cval & Node1) { /* top right node is within range, so we move right */\n                        path.push([p + 1, q + 1]);\n                        d_x = 1;\n                        d_y = 0;\n                        d_o = 1;\n                    } else if (!(cval & Node0)) { /* found entry within same cell */\n                        path.push([p + cell.topright, q + 1]);\n                        d_x = 0;\n                        d_y = -1;\n                        d_o = 1;\n                        closed = true;\n                        //console.log(\"found entry from bottom at \" + p + \",\" + q);\n                        break;\n                    } else {\n                        path.push([p + cell.topleft, q + 1]);\n                        d_x = 0;\n                        d_y = -1;\n                        d_o = 0;\n                        closed = true;\n                        break;\n                    }\n                } else if (cval & Node1) {\n                    path.push([p + 1, q + 1]);\n                    d_x = 1;\n                    d_y = 0;\n                    d_o = 1;\n                } else { /* move right */\n                    path.push([p + 1, q + 1]);\n                    d_x = 1;\n                    d_y = 0;\n                    d_o = 1;\n                    //console.log(\"wtf\");\n                    //break;\n                }\n            } else if (d_x === -1) { /* we came from right */\n                //console.log(\"we came from right and hit a non-existing cell at \" + (p + d_x) + \",\" + (q + d_y) + \"!\");\n                if (d_o === 0) {\n                    //console.log(\"continue at bottom\");\n                    if (cval & Node0) {\n                        path.push([p, q + 1]);\n                        d_x = 0;\n                        d_y = 1;\n                        d_o = 0;\n                        //console.log(\"moving upwards to \" + (p + d_x) + \",\" + (q + d_y) + \"!\");\n                    } else if (!(cval & Node3)) { /* there has to be an entry into the regular grid again! */\n                        //console.log(\"exiting top\");\n                        path.push([p, q + cell.lefttop]);\n                        d_x = 1;\n                        d_y = 0;\n                        d_o = 1;\n                        closed = true;\n                        break;\n                    } else {\n                        //console.log(\"exiting bottom\");\n                        path.push([p, q + cell.leftbottom]);\n                        d_x = 1;\n                        d_y = 0;\n                        d_o = 0;\n                        closed = true;\n                        break;\n                    }\n                } else {\n                    //console.log(\"continue at top\");\n                    if (cval & Node0) {\n                        path.push([p, q + 1]);\n                        d_x = 0;\n                        d_y = 1;\n                        d_o = 0;\n                        //console.log(\"moving upwards to \" + (p + d_x) + \",\" + (q + d_y) + \"!\");\n                    } else { /* */\n                        console.log('MarchingSquaresJS-isoBands: wtf');\n                        break;\n                    }\n                }\n            } else if (d_x === 1) { /* we came from left */\n                //console.log(\"we came from left and hit a non-existing cell \" + (p + d_x) + \",\" + (q + d_y) + \"!\");\n                if (d_o === 0) { /* exit bottom */\n                    if (cval & Node2) {\n                        path.push([p + 1, q]);\n                        d_x = 0;\n                        d_y = -1;\n                        d_o = 1;\n                    } else {\n                        path.push([p + 1, q + cell.rightbottom]);\n                        d_x = -1;\n                        d_y = 0;\n                        d_o = 0;\n                        closed = true;\n                        break;\n                    }\n                } else { /* exit top */\n                    if (cval & Node2) {\n                        path.push([p + 1, q]);\n                        d_x = 0;\n                        d_y = -1;\n                        d_o = 1;\n                    } else if (!(cval & Node1)) {\n                        path.push([p + 1, q + cell.rightbottom]);\n                        d_x = -1;\n                        d_y = 0;\n                        d_o = 0;\n                        closed = true;\n                        break;\n                    } else {\n                        path.push([p + 1, q + cell.righttop]);\n                        d_x = -1;\n                        d_y = 0;\n                        d_o = 1;\n                        break;\n                    }\n                }\n            } else { /* we came from the same cell */\n                console.log('MarchingSquaresJS-isoBands: we came from nowhere!');\n                break;\n            }\n\n        } else { /* try to find an entry into the regular grid again! */\n            cell = grid.cells[q][p];\n            cval = cell.cval_real;\n            //console.log(\"which is defined\");\n\n            if (d_x === -1) {\n                if (d_o === 0) {\n                    /* try to go downwards */\n                    if ((typeof grid.cells[q - 1] !== 'undefined') && (typeof grid.cells[q - 1][p] !== 'undefined')) {\n                        d_x = 0;\n                        d_y = -1;\n                        d_o = 1;\n                    } else if (cval & Node3) { /* proceed searching in x-direction */\n                        //console.log(\"proceeding in x-direction!\");\n                        path.push([p, q]);\n                    } else { /* we must have found an entry into the regular grid */\n                        path.push([p + cell.bottomright, q]);\n                        d_x = 0;\n                        d_y = 1;\n                        d_o = 1;\n                        closed = true;\n                        //console.log(\"found entry from bottom at \" + p + \",\" + q);\n                        break;\n                    }\n                } else if (cval & Node0) { /* proceed searchin in x-direction */\n                    console.log('MarchingSquaresJS-isoBands: proceeding in x-direction!');\n                } else { /* we must have found an entry into the regular grid */\n                    console.log('MarchingSquaresJS-isoBands: found entry from top at ' + p + ',' + q);\n                    break;\n                }\n            } else if (d_x === 1) {\n                if (d_o === 0) {\n                    console.log('MarchingSquaresJS-isoBands: wtf');\n                    break;\n                } else {\n                    /* try to go upwards */\n                    if ((typeof grid.cells[q + 1] !== 'undefined') && (typeof grid.cells[q + 1][p] !== 'undefined')) {\n                        d_x = 0;\n                        d_y = 1;\n                        d_o = 0;\n                    } else if (cval & Node1) {\n                        path.push([p + 1, q + 1]);\n                        d_x = 1;\n                        d_y = 0;\n                        d_o = 1;\n                    } else { /* found an entry point into regular grid! */\n                        path.push([p + cell.topleft, q + 1]);\n                        d_x = 0;\n                        d_y = -1;\n                        d_o = 0;\n                        closed = true;\n                        //console.log(\"found entry from bottom at \" + p + \",\" + q);\n                        break;\n                    }\n                }\n            } else if (d_y === -1) {\n                if (d_o === 1) {\n                    /* try to go right */\n                    if (typeof grid.cells[q][p + 1] !== 'undefined') {\n                        d_x = 1;\n                        d_y = 0;\n                        d_o = 1;\n                    } else if (cval & Node2) {\n                        path.push([p + 1, q]);\n                        d_x = 0;\n                        d_y = -1;\n                        d_o = 1;\n                    } else { /* found entry into regular grid! */\n                        path.push([p + 1, q + cell.righttop]);\n                        d_x = -1;\n                        d_y = 0;\n                        d_o = 1;\n                        closed = true;\n                        //console.log(\"found entry from top at \" + p + \",\" + q);\n                        break;\n                    }\n                } else {\n                    console.log('MarchingSquaresJS-isoBands: wtf');\n                    break;\n                }\n            } else if (d_y === 1) {\n                if (d_o === 0) {\n                    //console.log(\"we came from bottom left and proceed to the left\");\n                    /* try to go left */\n                    if (typeof grid.cells[q][p - 1] !== 'undefined') {\n                        d_x = -1;\n                        d_y = 0;\n                        d_o = 0;\n                    } else if (cval & Node0) {\n                        path.push([p, q + 1]);\n                        d_x = 0;\n                        d_y = 1;\n                        d_o = 0;\n                    } else { /* found an entry point into regular grid! */\n                        path.push([p, q + cell.leftbottom]);\n                        d_x = 1;\n                        d_y = 0;\n                        d_o = 0;\n                        closed = true;\n                        //console.log(\"found entry from bottom at \" + p + \",\" + q);\n                        break;\n                    }\n                } else {\n                    //console.log(\"we came from bottom right and proceed to the right\");\n                    console.log('MarchingSquaresJS-isoBands: wtf');\n                    break;\n                }\n            } else {\n                console.log('MarchingSquaresJS-isoBands: where did we came from???');\n                break;\n            }\n\n        }\n\n        p += d_x;\n        q += d_y;\n        //console.log(\"going on to  \" + p + \",\" + q + \" via \" + d_x + \" \" + d_y + \" \" + d_o);\n\n        if ((p === i) && (q === j)) { /* bail out, once we've closed a circle path */\n            break;\n        }\n\n    }\n\n    //console.log(\"exit with \" + p + \",\" + q + \" \" + d_x + \" \" + d_y + \" \" + d_o);\n    return { path: path, i: p, j: q, x: d_x, y: d_y, o: d_o };\n}\n\nfunction deleteEdge(cell, edgeIdx) {\n    delete cell.edges[edgeIdx];\n    for (var k = edgeIdx + 1; k < cell.edges.length; k++) {\n        cell.edges[k - 1] = cell.edges[k];\n    }\n    cell.edges.pop();\n}\n\nfunction getStartXY(cell) {\n\n    if (cell.edges.length > 0) {\n        var e = cell.edges[cell.edges.length - 1];\n        //console.log(\"starting with edge \" + e);\n        var cval = cell.cval_real;\n        switch (e) {\n        case 0:   if (cval & Node1) { /* node 1 within range */\n            return {p: [1, cell.righttop], x: -1, y: 0, o: 1};\n        } else { /* node 1 below or above threshold */\n            return {p: [cell.topleft, 1], x: 0, y: -1, o: 0};\n        }\n        case 1:   if (cval & Node2) {\n            return {p: [cell.topleft, 1], x: 0, y: -1, o: 0};\n        } else {\n            return {p: [1, cell.rightbottom], x: -1, y: 0, o: 0};\n        }\n        case 2:   if (cval & Node2) {\n            return {p: [cell.bottomright, 0], x: 0, y: 1, o: 1};\n        } else {\n            return {p: [cell.topleft, 1], x: 0, y: -1, o: 0};\n        }\n        case 3:   if (cval & Node3) {\n            return {p: [cell.topleft, 1], x: 0, y: -1, o: 0};\n        } else {\n            return {p: [cell.bottomleft, 0], x: 0, y: 1, o: 0};\n        }\n        case 4:   if (cval & Node1) {\n            return {p: [1, cell.righttop], x: -1, y: 0, o: 1};\n        } else {\n            return {p: [cell.topright, 1], x: 0, y: -1, o: 1};\n        }\n        case 5:   if (cval & Node2) {\n            return {p: [cell.topright, 1], x: 0, y: -1, o: 1};\n        } else {\n            return {p: [1, cell.rightbottom], x: -1, y: 0, o: 0};\n        }\n        case 6:   if (cval & Node2) {\n            return {p: [cell.bottomright, 0], x: 0, y: 1, o: 1};\n        } else {\n            return {p: [cell.topright, 1], x: 0, y: -1, o: 1};\n        }\n        case 7:   if (cval & Node3) {\n            return {p: [cell.topright, 1], x: 0, y: -1, o: 1};\n        } else {\n            return {p: [cell.bottomleft, 0], x: 0, y: 1, o: 0};\n        }\n        case 8:   if (cval & Node2) {\n            return {p: [cell.bottomright, 0], x: 0, y: 1, o: 1};\n        } else {\n            return {p: [1, cell.righttop], x: -1, y: 0, o: 1};\n        }\n        case 9:   if (cval & Node3) {\n            return {p: [1, cell.righttop], x: -1, y: 0, o: 1};\n        } else {\n            return {p: [cell.bottomleft, 0], x: 0, y: 1, o: 0};\n        }\n        case 10:  if (cval & Node3) {\n            return {p: [0, cell.leftbottom], x: 1, y: 0, o: 0};\n        } else {\n            return {p: [1, cell.righttop], x: -1, y: 0, o: 1};\n        }\n        case 11:  if (cval & Node0) {\n            return {p: [1, cell.righttop], x: -1, y: 0, o: 1};\n        } else {\n            return {p: [0, cell.lefttop], x: 1, y: 0, o: 1};\n        }\n        case 12:  if (cval & Node2) {\n            return {p: [cell.bottomright, 0], x: 0, y: 1, o: 1};\n        } else {\n            return {p: [1, cell.rightbottom], x: -1, y: 0, o: 0};\n        }\n        case 13:  if (cval & Node3) {\n            return {p: [1, cell.rightbottom], x: -1, y: 0, o: 0};\n        } else {\n            return {p: [cell.bottomleft, 0], x: 0, y: 1, o: 0};\n        }\n        case 14:  if (cval & Node3) {\n            return {p: [0, cell.leftbottom], x: 1, y: 0, o: 0};\n        } else {\n            return {p: [1, cell.rightbottom], x: -1, y: 0, o: 0};\n        }\n        case 15:  if (cval & Node0) {\n            return {p: [1, cell.rightbottom], x: -1, y: 0, o: 0};\n        } else {\n            return {p: [0, cell.lefttop], x: 1, y: 0, o: 1};\n        }\n        case 16:  if (cval & Node2) {\n            return {p: [cell.bottomright, 0], x: 0, y: 1, o: 1};\n        } else {\n            return {p: [0, cell.leftbottom], x: 1, y: 0, o: 0};\n        }\n        case 17:  if (cval & Node0) {\n            return {p: [cell.bottomright, 0], x: 0, y: 1, o: 1};\n        } else {\n            return {p: [0, cell.lefttop], x: 1, y: 0, o: 1};\n        }\n        case 18:  if (cval & Node3) {\n            return {p: [0, cell.leftbottom], x: 1, y: 0, o: 0};\n        } else {\n            return {p: [cell.bottomleft, 0], x: 0, y: 1, o: 0};\n        }\n        case 19:  if (cval & Node0) {\n            return {p: [cell.bottomleft, 0], x: 0, y: 1, o: 0};\n        } else {\n            return {p: [0, cell.lefttop], x: 1, y: 0, o: 1};\n        }\n        case 20:  if (cval & Node0) {\n            return {p: [cell.topleft, 1], x: 0, y: -1, o: 0};\n        } else {\n            return {p: [0, cell.leftbottom], x: 1, y: 0, o: 0};\n        }\n        case 21:  if (cval & Node1) {\n            return {p: [0, cell.leftbottom], x: 1, y: 0, o: 0};\n        } else {\n            return {p: [cell.topright, 1], x: 0, y: -1, o: 1};\n        }\n        case 22:  if (cval & Node0) {\n            return {p: [cell.topleft, 1], x: 0, y: -1, o: 0};\n        } else {\n            return {p: [0, cell.lefttop], x: 1, y: 0, o: 1};\n        }\n        case 23:  if (cval & Node1) {\n            return {p: [0, cell.lefttop], x: 1, y: 0, o: 1};\n        } else {\n            return {p: [cell.topright, 1], x: 0, y: -1, o: 1};\n        }\n        default:  console.log('MarchingSquaresJS-isoBands: edge index out of range!');\n            console.log(cell);\n            break;\n        }\n    }\n\n    return null;\n}\n\nfunction getExitXY(cell, x, y, o) {\n\n    var e, id_x, d_x, d_y, cval = cell.cval;\n    var d_o;\n\n    switch (x) {\n    case -1:  switch (o) {\n    case 0:   e = isoBandEdgeRB[cval];\n        d_x = isoBandNextXRB[cval];\n        d_y = isoBandNextYRB[cval];\n        d_o = isoBandNextORB[cval];\n        break;\n    default:  e = isoBandEdgeRT[cval];\n        d_x = isoBandNextXRT[cval];\n        d_y = isoBandNextYRT[cval];\n        d_o = isoBandNextORT[cval];\n        break;\n        }\n        break;\n    case 1:   switch (o) {\n    case 0:   e = isoBandEdgeLB[cval];\n        d_x = isoBandNextXLB[cval];\n        d_y = isoBandNextYLB[cval];\n        d_o = isoBandNextOLB[cval];\n        break;\n    default:  e = isoBandEdgeLT[cval];\n        d_x = isoBandNextXLT[cval];\n        d_y = isoBandNextYLT[cval];\n        d_o = isoBandNextOLT[cval];\n        break;\n        }\n        break;\n    default:  switch (y) {\n    case -1:  switch (o) {\n    case 0:   e = isoBandEdgeTL[cval];\n        d_x = isoBandNextXTL[cval];\n        d_y = isoBandNextYTL[cval];\n        d_o = isoBandNextOTL[cval];\n        break;\n    default:  e = isoBandEdgeTR[cval];\n        d_x = isoBandNextXTR[cval];\n        d_y = isoBandNextYTR[cval];\n        d_o = isoBandNextOTR[cval];\n        break;\n        }\n        break;\n    case 1:   switch (o) {\n    case 0:   e = isoBandEdgeBL[cval];\n        d_x = isoBandNextXBL[cval];\n        d_y = isoBandNextYBL[cval];\n        d_o = isoBandNextOBL[cval];\n        break;\n    default:  e = isoBandEdgeBR[cval];\n        d_x = isoBandNextXBR[cval];\n        d_y = isoBandNextYBR[cval];\n        d_o = isoBandNextOBR[cval];\n        break;\n        }\n        break;\n    default:  break;\n        }\n        break;\n    }\n\n    id_x = cell.edges.indexOf(e);\n    if (typeof cell.edges[id_x] !== 'undefined') {\n        deleteEdge(cell, id_x);\n    } else {\n    //console.log(\"wrong edges...\");\n    //console.log(x + \" \" + y + \" \" + o);\n    //console.log(cell);\n        return null;\n    }\n\n    cval = cell.cval_real;\n\n    switch (e) {\n    case 0:   if (cval & Node1) { /* node 1 within range */\n        x = cell.topleft;\n        y = 1;\n    } else { /* node 1 below or above threshold */\n        x = 1;\n        y = cell.righttop;\n    }\n        break;\n    case 1:   if (cval & Node2) {\n        x = 1;\n        y = cell.rightbottom;\n    } else {\n        x = cell.topleft;\n        y = 1;\n    }\n        break;\n    case 2:   if (cval & Node2) {\n        x = cell.topleft;\n        y = 1;\n    } else {\n        x = cell.bottomright;\n        y = 0;\n    }\n        break;\n    case 3:   if (cval & Node3) {\n        x = cell.bottomleft;\n        y = 0;\n    } else {\n        x = cell.topleft;\n        y = 1;\n    }\n        break;\n    case 4:   if (cval & Node1) {\n        x = cell.topright;\n        y = 1;\n    } else {\n        x = 1;\n        y = cell.righttop;\n    }\n        break;\n    case 5:   if (cval & Node2) {\n        x = 1;\n        y = cell.rightbottom;\n    } else {\n        x = cell.topright;\n        y = 1;\n    }\n        break;\n    case 6:   if (cval & Node2) {\n        x = cell.topright;\n        y = 1;\n    } else {\n        x = cell.bottomright;\n        y = 0;\n    }\n        break;\n    case 7:   if (cval & Node3) {\n        x = cell.bottomleft;\n        y = 0;\n    } else {\n        x = cell.topright;\n        y = 1;\n    }\n        break;\n    case 8:   if (cval & Node2) {\n        x = 1;\n        y = cell.righttop;\n    } else {\n        x = cell.bottomright;\n        y = 0;\n    }\n        break;\n    case 9:   if (cval & Node3) {\n        x = cell.bottomleft;\n        y = 0;\n    } else {\n        x = 1;\n        y = cell.righttop;\n    }\n        break;\n    case 10:  if (cval & Node3) {\n        x = 1;\n        y = cell.righttop;\n    } else {\n        x = 0;\n        y = cell.leftbottom;\n    }\n        break;\n    case 11:  if (cval & Node0) {\n        x = 0;\n        y = cell.lefttop;\n    } else {\n        x = 1;\n        y = cell.righttop;\n    }\n        break;\n    case 12:  if (cval & Node2) {\n        x = 1;\n        y = cell.rightbottom;\n    } else {\n        x = cell.bottomright;\n        y = 0;\n    }\n        break;\n    case 13:  if (cval & Node3) {\n        x = cell.bottomleft;\n        y = 0;\n    } else {\n        x = 1;\n        y = cell.rightbottom;\n    }\n        break;\n    case 14:  if (cval & Node3) {\n        x = 1;\n        y = cell.rightbottom;\n    } else {\n        x = 0;\n        y = cell.leftbottom;\n    }\n        break;\n    case 15:  if (cval & Node0) {\n        x = 0;\n        y = cell.lefttop;\n    } else {\n        x = 1;\n        y = cell.rightbottom;\n    }\n        break;\n    case 16:  if (cval & Node2) {\n        x = 0;\n        y = cell.leftbottom;\n    } else {\n        x = cell.bottomright;\n        y = 0;\n    }\n        break;\n    case 17:  if (cval & Node0) {\n        x = 0;\n        y = cell.lefttop;\n    } else {\n        x = cell.bottomright;\n        y = 0;\n    }\n        break;\n    case 18:  if (cval & Node3) {\n        x = cell.bottomleft;\n        y = 0;\n    } else {\n        x = 0;\n        y = cell.leftbottom;\n    }\n        break;\n    case 19:  if (cval & Node0) {\n        x = 0;\n        y = cell.lefttop;\n    } else {\n        x = cell.bottomleft;\n        y = 0;\n    }\n        break;\n    case 20:  if (cval & Node0) {\n        x = 0;\n        y = cell.leftbottom;\n    } else {\n        x = cell.topleft;\n        y = 1;\n    }\n        break;\n    case 21:  if (cval & Node1) {\n        x = cell.topright;\n        y = 1;\n    } else {\n        x = 0;\n        y = cell.leftbottom;\n    }\n        break;\n    case 22:  if (cval & Node0) {\n        x = 0;\n        y = cell.lefttop;\n    } else {\n        x = cell.topleft;\n        y = 1;\n    }\n        break;\n    case 23:  if (cval & Node1) {\n        x = cell.topright;\n        y = 1;\n    } else {\n        x = 0;\n        y = cell.lefttop;\n    }\n        break;\n    default:  console.log('MarchingSquaresJS-isoBands: edge index out of range!');\n        console.log(cell);\n        return null;\n    }\n\n    if ((typeof x === 'undefined') || (typeof y === 'undefined') ||\n      (typeof d_x === 'undefined') || (typeof d_y === 'undefined') ||\n      (typeof d_o === 'undefined')) {\n        console.log('MarchingSquaresJS-isoBands: undefined value!');\n        console.log(cell);\n        console.log(x + ' ' + y + ' ' + d_x + ' ' + d_y + ' ' + d_o);\n    }\n    return {p: [x, y], x: d_x, y: d_y, o: d_o};\n}\n\nfunction BandGrid2Areas(grid) {\n    var areas = [];\n    var area_idx = 0;\n\n    grid.cells.forEach(function (g, j) {\n        g.forEach(function (gg, i) {\n            if (typeof gg !== 'undefined') {\n                var a = polygon_table[gg.cval](gg);\n                if ((typeof a === 'object') && isArray(a)) {\n                    if ((typeof a[0] === 'object') && isArray(a[0])) {\n                        if ((typeof a[0][0] === 'object') && isArray(a[0][0])) {\n                            a.forEach(function (aa) {\n                                aa.forEach(function (aaa) {\n                                    aaa[0] += i;\n                                    aaa[1] += j;\n                                });\n                                areas[area_idx++] = aa;\n                            });\n                        } else {\n                            a.forEach(function (aa) {\n                                aa[0] += i;\n                                aa[1] += j;\n                            });\n                            areas[area_idx++] = a;\n                        }\n                    } else {\n                        console.log('MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates');\n                    }\n                } else {\n                    console.log('MarchingSquaresJS-isoBands: bandcell polygon with null coordinates');\n                }\n            }\n        });\n    });\n\n    return areas;\n}\n\n/**\n * Takes a grid {@link FeatureCollection} of {@link Point} features with z-values and an array of\n * value breaks and generates filled contour isobands.\n *\n * @name isobands\n * @param {FeatureCollection<Point>} pointGrid input points\n * @param {Array<number>} breaks where to draw contours\n * @param {Object} [options={}] options on output\n * @param {string} [options.zProperty='elevation'] the property name in `points` from which z-values will be pulled\n * @param {Object} [options.commonProperties={}] GeoJSON properties passed to ALL isobands\n * @param {Array<Object>} [options.breaksProperties=[]] GeoJSON properties passed, in order, to the correspondent isoband (order defined by breaks)\n * @returns {FeatureCollection<MultiPolygon>} a FeatureCollection of {@link MultiPolygon} features representing isobands\n */\nfunction isobands(pointGrid, breaks, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var zProperty = options.zProperty || 'elevation';\n    var commonProperties = options.commonProperties || {};\n    var breaksProperties = options.breaksProperties || [];\n\n    // Validation\n    collectionOf(pointGrid, 'Point', 'Input must contain Points');\n    if (!breaks) throw new Error('breaks is required');\n    if (!Array.isArray(breaks)) throw new Error('breaks is not an Array');\n    if (!isObject(commonProperties)) throw new Error('commonProperties is not an Object');\n    if (!Array.isArray(breaksProperties)) throw new Error('breaksProperties is not an Array');\n\n    // Isoband methods\n    var matrix = gridToMatrix$1(pointGrid, {zProperty: zProperty, flip: true});\n    var contours = createContourLines(matrix, breaks, zProperty);\n    contours = rescaleContours(contours, matrix, pointGrid);\n\n    var multipolygons = contours.map(function (contour, index) {\n        if (breaksProperties[index] && !isObject(breaksProperties[index])) {\n            throw new Error('Each mappedProperty is required to be an Object');\n        }\n        // collect all properties\n        var contourProperties = Object.assign(\n            {},\n            commonProperties,\n            breaksProperties[index]\n        );\n        contourProperties[zProperty] = contour[zProperty];\n        var multiP = multiPolygon(contour.groupedRings, contourProperties);\n        return multiP;\n    });\n\n    return featureCollection(multipolygons);\n}\n\n/**\n * Creates the contours lines (featuresCollection of polygon features) from the 2D data grid\n *\n * Marchingsquares process the grid data as a 3D representation of a function on a 2D plane, therefore it\n * assumes the points (x-y coordinates) are one 'unit' distance. The result of the IsoBands function needs to be\n * rescaled, with turfjs, to the original area and proportions on the map\n *\n * @private\n * @param {Array<Array<number>>} matrix Grid Data\n * @param {Array<number>} breaks Breaks\n * @param {string} [property='elevation'] Property\n * @returns {Array<any>} contours\n */\nfunction createContourLines(matrix, breaks, property) {\n\n    var contours = [];\n    for (var i = 1; i < breaks.length; i++) {\n        var lowerBand = +breaks[i - 1]; // make sure the breaks value is a number\n        var upperBand = +breaks[i];\n\n        var isobandsCoords = isoBands(matrix, lowerBand, upperBand - lowerBand);\n        // as per GeoJson rules for creating a Polygon, make sure the first element\n        // in the array of LinearRings represents the exterior ring (i.e. biggest area),\n        // and any subsequent elements represent interior rings (i.e. smaller area);\n        // this avoids rendering issues of the MultiPolygons on the map\n        var nestedRings = orderByArea(isobandsCoords);\n        var groupedRings = groupNestedRings(nestedRings);\n        var obj = {};\n        obj['groupedRings'] = groupedRings;\n        obj[property] = lowerBand + '-' + upperBand;\n        contours.push(obj);\n    }\n    return contours;\n}\n\n/**\n * Transform isobands of 2D grid to polygons for the map\n *\n * @private\n * @param {Array<any>} contours Contours\n * @param {Array<Array<number>>} matrix Grid Data\n * @param {Object} points Points by Latitude\n * @returns {Array<any>} contours\n */\nfunction rescaleContours(contours, matrix, points$$1) {\n\n    // get dimensions (on the map) of the original grid\n    var gridBbox = bbox(points$$1); // [ minX, minY, maxX, maxY ]\n    var originalWidth = gridBbox[2] - gridBbox[0];\n    var originalHeigth = gridBbox[3] - gridBbox[1];\n\n    // get origin, which is the first point of the last row on the rectangular data on the map\n    var x0 = gridBbox[0];\n    var y0 = gridBbox[1];\n    // get number of cells per side\n    var matrixWidth = matrix[0].length - 1;\n    var matrixHeight = matrix.length - 1;\n    // calculate the scaling factor between matrix and rectangular grid on the map\n    var scaleX = originalWidth / matrixWidth;\n    var scaleY = originalHeigth / matrixHeight;\n\n    var resize = function (point$$1) {\n        point$$1[0] = point$$1[0] * scaleX + x0;\n        point$$1[1] = point$$1[1] * scaleY + y0;\n    };\n\n    // resize and shift each point/line of the isobands\n    contours.forEach(function (contour) {\n        contour.groupedRings.forEach(function (lineRingSet) {\n            lineRingSet.forEach(function (lineRing) {\n                lineRing.forEach(resize);\n            });\n        });\n    });\n    return contours;\n}\n\n\n/*  utility functions */\n\n\n/**\n * Returns an array of coordinates (of LinearRings) in descending order by area\n *\n * @private\n * @param {Array<LineString>} ringsCoords array of closed LineString\n * @returns {Array} array of the input LineString ordered by area\n */\nfunction orderByArea(ringsCoords) {\n    var ringsWithArea = [];\n    var areas = [];\n    ringsCoords.forEach(function (coords) {\n        // var poly = polygon([points]);\n        var ringArea = area$1(polygon([coords]));\n        // create an array of areas value\n        areas.push(ringArea);\n        // associate each lineRing with its area\n        ringsWithArea.push({ring: coords, area: ringArea});\n    });\n    areas.sort(function (a, b) { // bigger --> smaller\n        return b - a;\n    });\n    // create a new array of linearRings coordinates ordered by their area\n    var orderedByArea = [];\n    areas.forEach(function (area$$1) {\n        for (var lr = 0; lr < ringsWithArea.length; lr++) {\n            if (ringsWithArea[lr].area === area$$1) {\n                orderedByArea.push(ringsWithArea[lr].ring);\n                ringsWithArea.splice(lr, 1);\n                break;\n            }\n        }\n    });\n    return orderedByArea;\n}\n\n/**\n * Returns an array of arrays of coordinates, each representing\n * a set of (coordinates of) nested LinearRings,\n * i.e. the first ring contains all the others\n *\n * @private\n * @param {Array} orderedLinearRings array of coordinates (of LinearRings) in descending order by area\n * @returns {Array<Array>} Array of coordinates of nested LinearRings\n */\nfunction groupNestedRings(orderedLinearRings) {\n    // create a list of the (coordinates of) LinearRings\n    var lrList = orderedLinearRings.map(function (lr) {\n        return {lrCoordinates: lr, grouped: false};\n    });\n    var groupedLinearRingsCoords = [];\n    while (!allGrouped(lrList)) {\n        for (var i = 0; i < lrList.length; i++) {\n            if (!lrList[i].grouped) {\n                // create new group starting with the larger not already grouped ring\n                var group = [];\n                group.push(lrList[i].lrCoordinates);\n                lrList[i].grouped = true;\n                var outerMostPoly = polygon([lrList[i].lrCoordinates]);\n                // group all the rings contained by the outermost ring\n                for (var j = i + 1; j < lrList.length; j++) {\n                    if (!lrList[j].grouped) {\n                        var lrPoly = polygon([lrList[j].lrCoordinates]);\n                        if (isInside(lrPoly, outerMostPoly)) {\n                            group.push(lrList[j].lrCoordinates);\n                            lrList[j].grouped = true;\n                        }\n                    }\n                }\n                // insert the new group\n                groupedLinearRingsCoords.push(group);\n            }\n        }\n    }\n    return groupedLinearRingsCoords;\n}\n\n/**\n * @private\n * @param {Polygon} testPolygon polygon of interest\n * @param {Polygon} targetPolygon polygon you want to compare with\n * @returns {boolean} true if test-Polygon is inside target-Polygon\n */\nfunction isInside(testPolygon, targetPolygon) {\n    var points$$1 = explode(testPolygon);\n    for (var i = 0; i < points$$1.features.length; i++) {\n        if (!booleanPointInPolygon(points$$1.features[i], targetPolygon)) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n * @private\n * @param {Array<Object>} list list of objects which might contain the 'group' attribute\n * @returns {boolean} true if all the objects in the list are marked as grouped\n */\nfunction allGrouped(list) {\n    for (var i = 0; i < list.length; i++) {\n        if (list[i].grouped === false) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/**\n * Rotates any geojson Feature or Geometry of a specified angle, around its `centroid` or a given `pivot` point;\n * all rotations follow the right-hand rule: https://en.wikipedia.org/wiki/Right-hand_rule\n *\n * @name transformRotate\n * @param {GeoJSON} geojson object to be rotated\n * @param {number} angle of rotation (along the vertical axis), from North in decimal degrees, negative clockwise\n * @param {Object} [options={}] Optional parameters\n * @param {Coord} [options.pivot='centroid'] point around which the rotation will be performed\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} the rotated GeoJSON feature\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var options = {pivot: [0, 25]};\n * var rotatedPoly = turf.transformRotate(poly, 10, options);\n *\n * //addToMap\n * var addToMap = [poly, rotatedPoly];\n * rotatedPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformRotate(geojson, angle, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var pivot = options.pivot;\n    var mutate = options.mutate;\n\n    // Input validation\n    if (!geojson) throw new Error('geojson is required');\n    if (angle === undefined || angle === null || isNaN(angle)) throw new Error('angle is required');\n\n    // Shortcut no-rotation\n    if (angle === 0) return geojson;\n\n    // Use centroid of GeoJSON if pivot is not provided\n    if (!pivot) pivot = centroid(geojson);\n\n    // Clone geojson to avoid side effects\n    if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n    // Rotate each coordinate\n    coordEach(geojson, function (pointCoords) {\n        var initialAngle = rhumbBearing(pivot, pointCoords);\n        var finalAngle = initialAngle + angle;\n        var distance = rhumbDistance(pivot, pointCoords);\n        var newCoords = getCoords(rhumbDestination(pivot, distance, finalAngle));\n        pointCoords[0] = newCoords[0];\n        pointCoords[1] = newCoords[1];\n    });\n    return geojson;\n}\n\n/**\n * Scale a GeoJSON from a given point by a factor of scaling (ex: factor=2 would make the GeoJSON 200% larger).\n * If a FeatureCollection is provided, the origin point will be calculated based on each individual Feature.\n *\n * @name transformScale\n * @param {GeoJSON} geojson GeoJSON to be scaled\n * @param {number} factor of scaling, positive or negative values greater than 0\n * @param {Object} [options={}] Optional parameters\n * @param {string|Coord} [options.origin='centroid'] Point from which the scaling will occur (string options: sw/se/nw/ne/center/centroid)\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} scaled GeoJSON\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var scaledPoly = turf.transformScale(poly, 3);\n *\n * //addToMap\n * var addToMap = [poly, scaledPoly];\n * scaledPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformScale(geojson, factor, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var origin = options.origin;\n    var mutate = options.mutate;\n\n    // Input validation\n    if (!geojson) throw new Error('geojson required');\n    if (typeof factor !== 'number' || factor === 0) throw new Error('invalid factor');\n    var originIsPoint = Array.isArray(origin) || typeof origin === 'object';\n\n    // Clone geojson to avoid side effects\n    if (mutate !== true) geojson = clone(geojson);\n\n    // Scale each Feature separately\n    if (geojson.type === 'FeatureCollection' && !originIsPoint) {\n        featureEach(geojson, function (feature$$1, index) {\n            geojson.features[index] = scale(feature$$1, factor, origin);\n        });\n        return geojson;\n    }\n    // Scale Feature/Geometry\n    return scale(geojson, factor, origin);\n}\n\n/**\n * Scale Feature/Geometry\n *\n * @private\n * @param {Feature|Geometry} feature GeoJSON Feature/Geometry\n * @param {number} factor of scaling, positive or negative values greater than 0\n * @param {string|Coord} [origin=\"centroid\"] Point from which the scaling will occur (string options: sw/se/nw/ne/center/centroid)\n * @returns {Feature|Geometry} scaled GeoJSON Feature/Geometry\n */\nfunction scale(feature$$1, factor, origin) {\n    // Default params\n    var isPoint = getType(feature$$1) === 'Point';\n    origin = defineOrigin(feature$$1, origin);\n\n    // Shortcut no-scaling\n    if (factor === 1 || isPoint) return feature$$1;\n\n    // Scale each coordinate\n    coordEach(feature$$1, function (coord) {\n        var originalDistance = rhumbDistance(origin, coord);\n        var bearing = rhumbBearing(origin, coord);\n        var newDistance = originalDistance * factor;\n        var newCoord = getCoords(rhumbDestination(origin, newDistance, bearing));\n        coord[0] = newCoord[0];\n        coord[1] = newCoord[1];\n        if (coord.length === 3) coord[2] *= factor;\n    });\n\n    return feature$$1;\n}\n\n/**\n * Define Origin\n *\n * @private\n * @param {GeoJSON} geojson GeoJSON\n * @param {string|Coord} origin sw/se/nw/ne/center/centroid\n * @returns {Feature<Point>} Point origin\n */\nfunction defineOrigin(geojson, origin) {\n    // Default params\n    if (origin === undefined || origin === null) origin = 'centroid';\n\n    // Input Coord\n    if (Array.isArray(origin) || typeof origin === 'object') return getCoord(origin);\n\n    // Define BBox\n    var bbox$$1 = (geojson.bbox) ? geojson.bbox : bbox(geojson);\n    var west = bbox$$1[0];\n    var south = bbox$$1[1];\n    var east = bbox$$1[2];\n    var north = bbox$$1[3];\n\n    switch (origin) {\n    case 'sw':\n    case 'southwest':\n    case 'westsouth':\n    case 'bottomleft':\n        return point([west, south]);\n    case 'se':\n    case 'southeast':\n    case 'eastsouth':\n    case 'bottomright':\n        return point([east, south]);\n    case 'nw':\n    case 'northwest':\n    case 'westnorth':\n    case 'topleft':\n        return point([west, north]);\n    case 'ne':\n    case 'northeast':\n    case 'eastnorth':\n    case 'topright':\n        return point([east, north]);\n    case 'center':\n        return center(geojson);\n    case undefined:\n    case null:\n    case 'centroid':\n        return centroid(geojson);\n    default:\n        throw new Error('invalid origin');\n    }\n}\n\n/**\n * Moves any geojson Feature or Geometry of a specified distance along a Rhumb Line\n * on the provided direction angle.\n *\n * @name transformTranslate\n * @param {GeoJSON} geojson object to be translated\n * @param {number} distance length of the motion; negative values determine motion in opposite direction\n * @param {number} direction of the motion; angle from North in decimal degrees, positive clockwise\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] in which `distance` will be express; miles, kilometers, degrees, or radians\n * @param {number} [options.zTranslation=0] length of the vertical motion, same unit of distance\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} the translated GeoJSON object\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var translatedPoly = turf.transformTranslate(poly, 100, 35);\n *\n * //addToMap\n * var addToMap = [poly, translatedPoly];\n * translatedPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformTranslate(geojson, distance, direction, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n    var zTranslation = options.zTranslation;\n    var mutate = options.mutate;\n\n    // Input validation\n    if (!geojson) throw new Error('geojson is required');\n    if (distance === undefined || distance === null || isNaN(distance)) throw new Error('distance is required');\n    if (zTranslation && typeof zTranslation !== 'number' && isNaN(zTranslation)) throw new Error('zTranslation is not a number');\n\n    // Shortcut no-motion\n    zTranslation = (zTranslation !== undefined) ? zTranslation : 0;\n    if (distance === 0 && zTranslation === 0) return geojson;\n\n    if (direction === undefined || direction === null || isNaN(direction)) throw new Error('direction is required');\n\n    // Invert with negative distances\n    if (distance < 0) {\n        distance = -distance;\n        direction = -direction;\n    }\n\n    // Clone geojson to avoid side effects\n    if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n    // Translate each coordinate\n    coordEach(geojson, function (pointCoords) {\n        var newCoords = getCoords(rhumbDestination(pointCoords, distance, direction, {units: units}));\n        pointCoords[0] = newCoords[0];\n        pointCoords[1] = newCoords[1];\n        if (zTranslation && pointCoords.length === 3) pointCoords[2] += zTranslation;\n    });\n    return geojson;\n}\n\n/**\n * https://github.com/rook2pawn/node-intersection\n *\n * Author @rook2pawn\n */\n\n/**\n * AB\n *\n * @private\n * @param {Array<Array<number>>} segment - 2 vertex line segment\n * @returns {Array<number>} coordinates [x, y]\n */\nfunction ab(segment) {\n    var start = segment[0];\n    var end = segment[1];\n    return [end[0] - start[0], end[1] - start[1]];\n}\n\n/**\n * Cross Product\n *\n * @private\n * @param {Array<number>} v1 coordinates [x, y]\n * @param {Array<number>} v2 coordinates [x, y]\n * @returns {Array<number>} Cross Product\n */\nfunction crossProduct(v1, v2) {\n    return (v1[0] * v2[1]) - (v2[0] * v1[1]);\n}\n\n/**\n * Add\n *\n * @private\n * @param {Array<number>} v1 coordinates [x, y]\n * @param {Array<number>} v2 coordinates [x, y]\n * @returns {Array<number>} Add\n */\nfunction add(v1, v2) {\n    return [v1[0] + v2[0], v1[1] + v2[1]];\n}\n\n/**\n * Sub\n *\n * @private\n * @param {Array<number>} v1 coordinates [x, y]\n * @param {Array<number>} v2 coordinates [x, y]\n * @returns {Array<number>} Sub\n */\nfunction sub(v1, v2) {\n    return [v1[0] - v2[0], v1[1] - v2[1]];\n}\n\n/**\n * scalarMult\n *\n * @private\n * @param {number} s scalar\n * @param {Array<number>} v coordinates [x, y]\n * @returns {Array<number>} scalarMult\n */\nfunction scalarMult(s, v) {\n    return [s * v[0], s * v[1]];\n}\n\n/**\n * Intersect Segments\n *\n * @private\n * @param {Array<number>} a coordinates [x, y]\n * @param {Array<number>} b coordinates [x, y]\n * @returns {Array<number>} intersection\n */\nfunction intersectSegments(a, b) {\n    var p = a[0];\n    var r = ab(a);\n    var q = b[0];\n    var s = ab(b);\n\n    var cross = crossProduct(r, s);\n    var qmp = sub(q, p);\n    var numerator = crossProduct(qmp, s);\n    var t = numerator / cross;\n    var intersection = add(p, scalarMult(t, r));\n    return intersection;\n}\n\n/**\n * Is Parallel\n *\n * @private\n * @param {Array<number>} a coordinates [x, y]\n * @param {Array<number>} b coordinates [x, y]\n * @returns {boolean} true if a and b are parallel (or co-linear)\n */\nfunction isParallel(a, b) {\n    var r = ab(a);\n    var s = ab(b);\n    return (crossProduct(r, s) === 0);\n}\n\n/**\n * Intersection\n *\n * @private\n * @param {Array<number>} a coordinates [x, y]\n * @param {Array<number>} b coordinates [x, y]\n * @returns {Array<number>|boolean} true if a and b are parallel (or co-linear)\n */\nfunction intersection(a, b) {\n    if (isParallel(a, b)) return false;\n    return intersectSegments(a, b);\n}\n\n/**\n * Takes a {@link LineString|line} and returns a {@link LineString|line} at offset by the specified distance.\n *\n * @name lineOffset\n * @param {Geometry|Feature<LineString|MultiLineString>} geojson input GeoJSON\n * @param {number} distance distance to offset the line (can be of negative value)\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, kilometers, inches, yards, meters\n * @returns {Feature<LineString|MultiLineString>} Line offset from the input line\n * @example\n * var line = turf.lineString([[-83, 30], [-84, 36], [-78, 41]], { \"stroke\": \"#F00\" });\n *\n * var offsetLine = turf.lineOffset(line, 2, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [offsetLine, line]\n * offsetLine.properties.stroke = \"#00F\"\n */\nfunction lineOffset(geojson, distance, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var units = options.units;\n\n    // Valdiation\n    if (!geojson) throw new Error('geojson is required');\n    if (distance === undefined || distance === null || isNaN(distance)) throw new Error('distance is required');\n\n    var type = getType(geojson);\n    var properties = geojson.properties;\n\n    switch (type) {\n    case 'LineString':\n        return lineOffsetFeature(geojson, distance, units);\n    case 'MultiLineString':\n        var coords = [];\n        flattenEach(geojson, function (feature$$1) {\n            coords.push(lineOffsetFeature(feature$$1, distance, units).geometry.coordinates);\n        });\n        return multiLineString(coords, properties);\n    default:\n        throw new Error('geometry ' + type + ' is not supported');\n    }\n}\n\n/**\n * Line Offset\n *\n * @private\n * @param {Geometry|Feature<LineString>} line input line\n * @param {number} distance distance to offset the line (can be of negative value)\n * @param {string} [units=kilometers] units\n * @returns {Feature<LineString>} Line offset from the input line\n */\nfunction lineOffsetFeature(line, distance, units) {\n    var segments = [];\n    var offsetDegrees = lengthToDegrees(distance, units);\n    var coords = getCoords(line);\n    var finalCoords = [];\n    coords.forEach(function (currentCoords, index) {\n        if (index !== coords.length - 1) {\n            var segment = processSegment(currentCoords, coords[index + 1], offsetDegrees);\n            segments.push(segment);\n            if (index > 0) {\n                var seg2Coords = segments[index - 1];\n                var intersects = intersection(segment, seg2Coords);\n\n                // Handling for line segments that aren't straight\n                if (intersects !== false) {\n                    seg2Coords[1] = intersects;\n                    segment[0] = intersects;\n                }\n\n                finalCoords.push(seg2Coords[0]);\n                if (index === coords.length - 2) {\n                    finalCoords.push(segment[0]);\n                    finalCoords.push(segment[1]);\n                }\n            }\n            // Handling for lines that only have 1 segment\n            if (coords.length === 2) {\n                finalCoords.push(segment[0]);\n                finalCoords.push(segment[1]);\n            }\n        }\n    });\n    return lineString(finalCoords, line.properties);\n}\n\n/**\n * Process Segment\n * Inspiration taken from http://stackoverflow.com/questions/2825412/draw-a-parallel-line\n *\n * @private\n * @param {Array<number>} point1 Point coordinates\n * @param {Array<number>} point2 Point coordinates\n * @param {number} offset Offset\n * @returns {Array<Array<number>>} offset points\n */\nfunction processSegment(point1, point2, offset) {\n    var L = Math.sqrt((point1[0] - point2[0]) * (point1[0] - point2[0]) + (point1[1] - point2[1]) * (point1[1] - point2[1]));\n\n    var out1x = point1[0] + offset * (point2[1] - point1[1]) / L;\n    var out2x = point2[0] + offset * (point2[1] - point1[1]) / L;\n    var out1y = point1[1] + offset * (point1[0] - point2[0]) / L;\n    var out2y = point2[1] + offset * (point1[0] - point2[0]) / L;\n    return [[out1x, out1y], [out2x, out2y]];\n}\n\n/**\n * Returns the direction of the point q relative to the vector p1 -> p2.\n *\n * Implementation of geos::algorithm::CGAlgorithm::orientationIndex()\n * (same as geos::algorithm::CGAlgorithm::computeOrientation())\n *\n * @param {number[]} p1 - the origin point of the vector\n * @param {number[]} p2 - the final point of the vector\n * @param {number[]} q - the point to compute the direction to\n *\n * @returns {number} - 1 if q is ccw (left) from p1->p2,\n *    -1 if q is cw (right) from p1->p2,\n *     0 if q is colinear with p1->p2\n */\nfunction orientationIndex(p1, p2, q) {\n    var dx1 = p2[0] - p1[0],\n        dy1 = p2[1] - p1[1],\n        dx2 = q[0] - p2[0],\n        dy2 = q[1] - p2[1];\n\n    return Math.sign(dx1 * dy2 - dx2 * dy1);\n}\n\n/**\n * Checks if two envelopes are equal.\n *\n * The function assumes that the arguments are envelopes, i.e.: Rectangular polygon\n *\n * @param {Feature<Polygon>} env1 - Envelope\n * @param {Feature<Polygon>} env2 - Envelope\n * @returns {boolean} - True if the envelopes are equal\n */\nfunction envelopeIsEqual(env1, env2) {\n    var envX1 = env1.geometry.coordinates.map(function (c) { return c[0]; }),\n        envY1 = env1.geometry.coordinates.map(function (c) { return c[1]; }),\n        envX2 = env2.geometry.coordinates.map(function (c) { return c[0]; }),\n        envY2 = env2.geometry.coordinates.map(function (c) { return c[1]; });\n\n    return Math.max(null, envX1) === Math.max(null, envX2) &&\n    Math.max(null, envY1) === Math.max(null, envY2) &&\n    Math.min(null, envX1) === Math.min(null, envX2) &&\n    Math.min(null, envY1) === Math.min(null, envY2);\n}\n\n/**\n * Check if a envelope is contained in other one.\n *\n * The function assumes that the arguments are envelopes, i.e.: Convex polygon\n * XXX: Envelopes are rectangular, checking if a point is inside a rectangule is something easy,\n * this could be further improved.\n *\n * @param {Feature<Polygon>} self - Envelope\n * @param {Feature<Polygon>} env - Envelope\n * @returns {boolean} - True if env is contained in self\n */\nfunction envelopeContains(self, env) {\n    return env.geometry.coordinates[0].every(function (c) { return booleanPointInPolygon(point(c), self); });\n}\n\n/**\n * Checks if two coordinates are equal.\n *\n * @param {number[]} coord1 - First coordinate\n * @param {number[]} coord2 - Second coordinate\n * @returns {boolean} - True if coordinates are equal\n */\nfunction coordinatesEqual(coord1, coord2) {\n    return coord1[0] === coord2[0] && coord1[1] === coord2[1];\n}\n\n/**\n * Node\n */\nvar Node$1 = function Node(coordinates) {\n    this.id = Node.buildId(coordinates);\n    this.coordinates = coordinates; //< {Number[]}\n    this.innerEdges = []; //< {Edge[]}\n\n    // We wil store to (out) edges in an CCW order as geos::planargraph::DirectedEdgeStar does\n    this.outerEdges = []; //< {Edge[]}\n    this.outerEdgesSorted = false; //< {Boolean} flag that stores if the outer Edges had been sorted\n};\n\nNode$1.buildId = function buildId (coordinates) {\n    return coordinates.join(',');\n};\n\nNode$1.prototype.removeInnerEdge = function removeInnerEdge (edge) {\n    this.innerEdges = this.innerEdges.filter(function (e) { return e.from.id !== edge.from.id; });\n};\n\nNode$1.prototype.removeOuterEdge = function removeOuterEdge (edge) {\n    this.outerEdges = this.outerEdges.filter(function (e) { return e.to.id !== edge.to.id; });\n};\n\n/**\n * Outer edges are stored CCW order.\n *\n * @memberof Node\n * @param {Edge} edge - Edge to add as an outerEdge.\n */\nNode$1.prototype.addOuterEdge = function addOuterEdge (edge) {\n    this.outerEdges.push(edge);\n    this.outerEdgesSorted = false;\n};\n\n/**\n * Sorts outer edges in CCW way.\n *\n * @memberof Node\n * @private\n */\nNode$1.prototype.sortOuterEdges = function sortOuterEdges () {\n        var this$1 = this;\n\n    if (!this.outerEdgesSorted) {\n        //this.outerEdges.sort((a, b) => a.compareTo(b));\n        // Using this comparator in order to be deterministic\n        this.outerEdges.sort(function (a, b) {\n            var aNode = a.to,\n                bNode = b.to;\n\n            if (aNode.coordinates[0] - this$1.coordinates[0] >= 0 && bNode.coordinates[0] - this$1.coordinates[0] < 0)\n                { return 1; }\n            if (aNode.coordinates[0] - this$1.coordinates[0] < 0 && bNode.coordinates[0] - this$1.coordinates[0] >= 0)\n                { return -1; }\n\n            if (aNode.coordinates[0] - this$1.coordinates[0] === 0 && bNode.coordinates[0] - this$1.coordinates[0] === 0) {\n                if (aNode.coordinates[1] - this$1.coordinates[1] >= 0 || bNode.coordinates[1] - this$1.coordinates[1] >= 0)\n                    { return aNode.coordinates[1] - bNode.coordinates[1]; }\n                return bNode.coordinates[1] - aNode.coordinates[1];\n            }\n\n            var det = orientationIndex(this$1.coordinates, aNode.coordinates, bNode.coordinates);\n            if (det < 0)\n                { return 1; }\n            if (det > 0)\n                { return -1; }\n\n            var d1 = Math.pow(aNode.coordinates[0] - this$1.coordinates[0], 2) + Math.pow(aNode.coordinates[1] - this$1.coordinates[1], 2),\n                d2 = Math.pow(bNode.coordinates[0] - this$1.coordinates[0], 2) + Math.pow(bNode.coordinates[1] - this$1.coordinates[1], 2);\n\n            return d1 - d2;\n        });\n        this.outerEdgesSorted = true;\n    }\n};\n\n/**\n * Retrieves outer edges.\n *\n * They are sorted if they aren't in the CCW order.\n *\n * @memberof Node\n * @returns {Edge[]} - List of outer edges sorted in a CCW order.\n */\nNode$1.prototype.getOuterEdges = function getOuterEdges () {\n    this.sortOuterEdges();\n    return this.outerEdges;\n};\n\nNode$1.prototype.getOuterEdge = function getOuterEdge (i) {\n    this.sortOuterEdges();\n    return this.outerEdges[i];\n};\n\nNode$1.prototype.addInnerEdge = function addInnerEdge (edge) {\n    this.innerEdges.push(edge);\n};\n\n/**\n * This class is inspired by GEOS's geos::operation::polygonize::PolygonizeDirectedEdge\n */\nvar Edge = function Edge(from, to) {\n    this.from = from; //< start\n    this.to = to; //< End\n\n    this.next = undefined; //< The edge to be computed after\n    this.label = undefined; //< Used in order to detect Cut Edges (Bridges)\n    this.symetric = undefined; //< The symetric edge of this\n    this.ring = undefined; //< EdgeRing in which the Edge is\n\n    this.from.addOuterEdge(this);\n    this.to.addInnerEdge(this);\n};\n\n/**\n * Removes edge from from and to nodes.\n */\nEdge.prototype.getSymetric = function getSymetric () {\n    if (!this.symetric) {\n        this.symetric = new Edge(this.to, this.from);\n        this.symetric.symetric = this;\n    }\n\n    return this.symetric;\n};\n\nEdge.prototype.deleteEdge = function deleteEdge () {\n    this.from.removeOuterEdge(this);\n    this.to.removeInnerEdge(this);\n};\n\n/**\n * Compares Edge equallity.\n *\n * An edge is equal to another, if the from and to nodes are the same.\n *\n * @param {Edge} edge - Another Edge\n * @returns {boolean} - True if Edges are equal, False otherwise\n */\nEdge.prototype.isEqual = function isEqual (edge) {\n    return this.from.id === edge.from.id && this.to.id === edge.to.id;\n};\n\nEdge.prototype.toString = function toString () {\n    return (\"Edge { \" + (this.from.id) + \" -> \" + (this.to.id) + \" }\");\n};\n\n/**\n * Returns a LineString representation of the Edge\n *\n * @returns {Feature<LineString>} - LineString representation of the Edge\n */\nEdge.prototype.toLineString = function toLineString () {\n    return lineString([this.from.coordinates, this.to.coordinates]);\n};\n\n/**\n * Comparator of two edges.\n *\n * Implementation of geos::planargraph::DirectedEdge::compareTo.\n *\n * @param {Edge} edge - Another edge to compare with this one\n * @returns {number} -1 if this Edge has a greater angle with the positive x-axis than b,\n *      0 if the Edges are colinear,\n *      1 otherwise\n */\nEdge.prototype.compareTo = function compareTo (edge) {\n    return orientationIndex(edge.from.coordinates, edge.to.coordinates, this.to.coordinates);\n};\n\n/**\n * Ring of edges which form a polygon.\n *\n * The ring may be either an outer shell or a hole.\n *\n * This class is inspired in GEOS's geos::operation::polygonize::EdgeRing\n */\nvar EdgeRing = function EdgeRing() {\n    this.edges = [];\n    this.polygon = undefined; //< Caches Polygon representation\n    this.envelope = undefined; //< Caches Envelope representation\n};\n\nvar prototypeAccessors = { length: { configurable: true } };\n\n/**\n * Add an edge to the ring, inserting it in the last position.\n *\n * @memberof EdgeRing\n * @param {Edge} edge - Edge to be inserted\n */\nEdgeRing.prototype.push = function push (edge) {\n// Emulate Array getter ([]) behaviour\n    this[this.edges.length] = edge;\n    this.edges.push(edge);\n    this.polygon = this.envelope = undefined;\n};\n\n/**\n * Get Edge.\n *\n * @memberof EdgeRing\n * @param {number} i - Index\n * @returns {Edge} - Edge in the i position\n */\nEdgeRing.prototype.get = function get (i) {\n    return this.edges[i];\n};\n\n/**\n * Getter of length property.\n *\n * @memberof EdgeRing\n * @returns {number} - Length of the edge ring.\n */\nprototypeAccessors.length.get = function () {\n    return this.edges.length;\n};\n\n/**\n * Similar to Array.prototype.forEach for the list of Edges in the EdgeRing.\n *\n * @memberof EdgeRing\n * @param {Function} f - The same function to be passed to Array.prototype.forEach\n */\nEdgeRing.prototype.forEach = function forEach (f) {\n    this.edges.forEach(f);\n};\n\n/**\n * Similar to Array.prototype.map for the list of Edges in the EdgeRing.\n *\n * @memberof EdgeRing\n * @param {Function} f - The same function to be passed to Array.prototype.map\n * @returns {Array} - The mapped values in the function\n */\nEdgeRing.prototype.map = function map (f) {\n    return this.edges.map(f);\n};\n\n/**\n * Similar to Array.prototype.some for the list of Edges in the EdgeRing.\n *\n * @memberof EdgeRing\n * @param {Function} f - The same function to be passed to Array.prototype.some\n * @returns {boolean} - True if an Edge check the condition\n */\nEdgeRing.prototype.some = function some (f) {\n    return this.edges.some(f);\n};\n\n/**\n * Check if the ring is valid in geomtry terms.\n *\n * A ring must have either 0 or 4 or more points. The first and the last must be\n * equal (in 2D)\n * geos::geom::LinearRing::validateConstruction\n *\n * @memberof EdgeRing\n * @returns {boolean} - Validity of the EdgeRing\n */\nEdgeRing.prototype.isValid = function isValid () {\n// TODO: stub\n    return true;\n};\n\n/**\n * Tests whether this ring is a hole.\n *\n * A ring is a hole if it is oriented counter-clockwise.\n * Similar implementation of geos::algorithm::CGAlgorithms::isCCW\n *\n * @memberof EdgeRing\n * @returns {boolean} - true: if it is a hole\n */\nEdgeRing.prototype.isHole = function isHole () {\n        var this$1 = this;\n\n// XXX: Assuming Ring is valid\n// Find highest point\n    var hiIndex = this.edges.reduce(function (high, edge, i) {\n            if (edge.from.coordinates[1] > this$1.edges[high].from.coordinates[1])\n                { high = i; }\n            return high;\n        }, 0),\n        iPrev = (hiIndex === 0 ? this.length : hiIndex) - 1,\n        iNext = (hiIndex + 1) % this.length,\n        disc = orientationIndex(this.edges[iPrev].from.coordinates, this.edges[hiIndex].from.coordinates, this.edges[iNext].from.coordinates);\n\n    if (disc === 0)\n        { return this.edges[iPrev].from.coordinates[0] > this.edges[iNext].from.coordinates[0]; }\n    return disc > 0;\n};\n\n/**\n * Creates a MultiPoint representing the EdgeRing (discarts edges directions).\n *\n * @memberof EdgeRing\n * @returns {Feature<MultiPoint>} - Multipoint representation of the EdgeRing\n */\nEdgeRing.prototype.toMultiPoint = function toMultiPoint () {\n    return multiPoint(this.edges.map(function (edge) { return edge.from.coordinates; }));\n};\n\n/**\n * Creates a Polygon representing the EdgeRing.\n *\n * @memberof EdgeRing\n * @returns {Feature<Polygon>} - Polygon representation of the Edge Ring\n */\nEdgeRing.prototype.toPolygon = function toPolygon () {\n    if (this.polygon)\n        { return this.polygon; }\n    var coordinates = this.edges.map(function (edge) { return edge.from.coordinates; });\n    coordinates.push(this.edges[0].from.coordinates);\n    return (this.polygon = polygon([coordinates]));\n};\n\n/**\n * Calculates the envelope of the EdgeRing.\n *\n * @memberof EdgeRing\n * @returns {Feature<Polygon>} - envelope\n */\nEdgeRing.prototype.getEnvelope = function getEnvelope () {\n    if (this.envelope)\n        { return this.envelope; }\n    return (this.envelope = envelope(this.toPolygon()));\n};\n\n/**\n * `geos::operation::polygonize::EdgeRing::findEdgeRingContaining`\n *\n * @param {EdgeRing} testEdgeRing - EdgeRing to look in the list\n * @param {EdgeRing[]} shellList - List of EdgeRing in which to search\n *\n * @returns {EdgeRing} - EdgeRing which contains the testEdgeRing\n */\nEdgeRing.findEdgeRingContaining = function findEdgeRingContaining (testEdgeRing, shellList) {\n    var testEnvelope = testEdgeRing.getEnvelope();\n\n    var minEnvelope,\n        minShell;\n    shellList.forEach(function (shell) {\n        var tryEnvelope = shell.getEnvelope();\n\n        if (minShell)\n            { minEnvelope = minShell.getEnvelope(); }\n\n        // the hole envelope cannot equal the shell envelope\n        if (envelopeIsEqual(tryEnvelope, testEnvelope))\n            { return; }\n\n        if (envelopeContains(tryEnvelope, testEnvelope)) {\n            var testPoint = testEdgeRing.map(function (edge) { return edge.from.coordinates; })\n                .find(function (pt) { return !shell.some(function (edge) { return coordinatesEqual(pt, edge.from.coordinates); }); });\n\n            if (testPoint && shell.inside(point(testPoint))) {\n                if (!minShell || envelopeContains(minEnvelope, tryEnvelope))\n                    { minShell = shell; }\n            }\n        }\n    });\n\n    return minShell;\n};\n\n/**\n * Checks if the point is inside the edgeRing\n *\n * @param {Feature<Point>} pt - Point to check if it is inside the edgeRing\n * @returns {boolean} - True if it is inside, False otherwise\n */\nEdgeRing.prototype.inside = function inside (pt) {\n    return booleanPointInPolygon(pt, this.toPolygon());\n};\n\nObject.defineProperties( EdgeRing.prototype, prototypeAccessors );\n\n/**\n * Validates the geoJson.\n *\n * @param {GeoJSON} geoJson - input geoJson.\n * @throws {Error} if geoJson is invalid.\n */\nfunction validateGeoJson(geoJson) {\n    if (!geoJson)\n        { throw new Error('No geojson passed'); }\n\n    if (geoJson.type !== 'FeatureCollection' &&\n    geoJson.type !== 'GeometryCollection' &&\n    geoJson.type !== 'MultiLineString' &&\n    geoJson.type !== 'LineString' &&\n    geoJson.type !== 'Feature'\n    )\n        { throw new Error((\"Invalid input type '\" + (geoJson.type) + \"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature\")); }\n}\n\n/**\n * Represents a planar graph of edges and nodes that can be used to compute a polygonization.\n *\n * Although, this class is inspired by GEOS's `geos::operation::polygonize::PolygonizeGraph`,\n * it isn't a rewrite. As regards algorithm, this class implements the same logic, but it\n * isn't a javascript transcription of the C++ source.\n *\n * This graph is directed (both directions are created)\n */\nvar Graph = function Graph() {\n    this.edges = []; //< {Edge[]} dirEdges\n\n    // The key is the `id` of the Node (ie: coordinates.join(','))\n    this.nodes = {};\n};\n\n/**\n * Removes Dangle Nodes (nodes with grade 1).\n */\nGraph.fromGeoJson = function fromGeoJson (geoJson) {\n    validateGeoJson(geoJson);\n\n    var graph = new Graph();\n    flattenEach(geoJson, function (feature$$1) {\n        featureOf(feature$$1, 'LineString', 'Graph::fromGeoJson');\n        // When a LineString if formed by many segments, split them\n        coordReduce(feature$$1, function (prev, cur) {\n            if (prev) {\n                var start = graph.getNode(prev),\n                    end = graph.getNode(cur);\n\n                graph.addEdge(start, end);\n            }\n            return cur;\n        });\n    });\n\n    return graph;\n};\n\n/**\n * Creates or get a Node.\n *\n * @param {number[]} coordinates - Coordinates of the node\n * @returns {Node} - The created or stored node\n */\nGraph.prototype.getNode = function getNode (coordinates) {\n    var id = Node$1.buildId(coordinates);\n    var node = this.nodes[id];\n    if (!node)\n        { node = this.nodes[id] = new Node$1(coordinates); }\n\n    return node;\n};\n\n/**\n * Adds an Edge and its symetricall.\n *\n * Edges are added symetrically, i.e.: we also add its symetric\n *\n * @param {Node} from - Node which starts the Edge\n * @param {Node} to - Node which ends the Edge\n */\nGraph.prototype.addEdge = function addEdge (from, to) {\n    var edge = new Edge(from, to),\n        symetricEdge = edge.getSymetric();\n\n    this.edges.push(edge);\n    this.edges.push(symetricEdge);\n};\n\nGraph.prototype.deleteDangles = function deleteDangles () {\n        var this$1 = this;\n\n    Object.keys(this.nodes)\n        .map(function (id) { return this$1.nodes[id]; })\n        .forEach(function (node) { return this$1._removeIfDangle(node); });\n};\n\n/**\n * Check if node is dangle, if so, remove it.\n *\n * It calls itself recursively, removing a dangling node might cause another dangling node\n *\n * @param {Node} node - Node to check if it's a dangle\n */\nGraph.prototype._removeIfDangle = function _removeIfDangle (node) {\n        var this$1 = this;\n\n// As edges are directed and symetrical, we count only innerEdges\n    if (node.innerEdges.length <= 1) {\n        var outerNodes = node.getOuterEdges().map(function (e) { return e.to; });\n        this.removeNode(node);\n        outerNodes.forEach(function (n) { return this$1._removeIfDangle(n); });\n    }\n};\n\n/**\n * Delete cut-edges (bridge edges).\n *\n * The graph will be traversed, all the edges will be labeled according the ring\n * in which they are. (The label is a number incremented by 1). Edges with the same\n * label are cut-edges.\n */\nGraph.prototype.deleteCutEdges = function deleteCutEdges () {\n        var this$1 = this;\n\n    this._computeNextCWEdges();\n    this._findLabeledEdgeRings();\n\n    // Cut-edges (bridges) are edges where both edges have the same label\n    this.edges.forEach(function (edge) {\n        if (edge.label === edge.symetric.label) {\n            this$1.removeEdge(edge.symetric);\n            this$1.removeEdge(edge);\n        }\n    });\n};\n\n/**\n * Set the `next` property of each Edge.\n *\n * The graph will be transversed in a CW form, so, we set the next of the symetrical edge as the previous one.\n * OuterEdges are sorted CCW.\n *\n * @param {Node} [node] - If no node is passed, the function calls itself for every node in the Graph\n */\nGraph.prototype._computeNextCWEdges = function _computeNextCWEdges (node) {\n        var this$1 = this;\n\n    if (typeof node === 'undefined') {\n        Object.keys(this.nodes)\n            .forEach(function (id) { return this$1._computeNextCWEdges(this$1.nodes[id]); });\n    } else {\n        node.getOuterEdges().forEach(function (edge, i) {\n            node.getOuterEdge((i === 0 ? node.getOuterEdges().length : i) - 1).symetric.next = edge;\n        });\n    }\n};\n\n/**\n * Computes the next edge pointers going CCW around the given node, for the given edgering label.\n *\n * This algorithm has the effect of converting maximal edgerings into minimal edgerings\n *\n * XXX: method literally transcribed from `geos::operation::polygonize::PolygonizeGraph::computeNextCCWEdges`,\n * could be written in a more javascript way.\n *\n * @param {Node} node - Node\n * @param {number} label - Ring's label\n */\nGraph.prototype._computeNextCCWEdges = function _computeNextCCWEdges (node, label) {\n    var edges = node.getOuterEdges();\n    var firstOutDE,\n        prevInDE;\n\n    for (var i = edges.length - 1; i >= 0; --i) {\n        var de = edges[i],\n            sym = de.symetric,\n            outDE = (void 0),\n            inDE = (void 0);\n\n        if (de.label === label)\n            { outDE = de; }\n\n        if (sym.label === label)\n            { inDE = sym; }\n\n        if (!outDE || !inDE) // This edge is not in edgering\n            { continue; }\n\n        if (inDE)\n            { prevInDE = inDE; }\n\n        if (outDE) {\n            if (prevInDE) {\n                prevInDE.next = outDE;\n                prevInDE = undefined;\n            }\n\n            if (!firstOutDE)\n                { firstOutDE = outDE; }\n        }\n    }\n\n    if (prevInDE)\n        { prevInDE.next = firstOutDE; }\n};\n\n\n/**\n * Finds rings and labels edges according to which rings are.\n *\n * The label is a number which is increased for each ring.\n *\n * @returns {Edge[]} edges that start rings\n */\nGraph.prototype._findLabeledEdgeRings = function _findLabeledEdgeRings () {\n    var edgeRingStarts = [];\n    var label = 0;\n    this.edges.forEach(function (edge) {\n        if (edge.label >= 0)\n            { return; }\n\n        edgeRingStarts.push(edge);\n\n        var e = edge;\n        do {\n            e.label = label;\n            e = e.next;\n        } while (!edge.isEqual(e));\n\n        label++;\n    });\n\n    return edgeRingStarts;\n};\n\n/**\n * Computes the EdgeRings formed by the edges in this graph.\n *\n * @returns {EdgeRing[]} - A list of all the EdgeRings in the graph.\n */\nGraph.prototype.getEdgeRings = function getEdgeRings () {\n        var this$1 = this;\n\n    this._computeNextCWEdges();\n\n    // Clear labels\n    this.edges.forEach(function (edge) {\n        edge.label = undefined;\n    });\n\n    this._findLabeledEdgeRings().forEach(function (edge) {\n        // convertMaximalToMinimalEdgeRings\n        this$1._findIntersectionNodes(edge).forEach(function (node) {\n            this$1._computeNextCCWEdges(node, edge.label);\n        });\n    });\n\n    var edgeRingList = [];\n\n    // find all edgerings\n    this.edges.forEach(function (edge) {\n        if (edge.ring)\n            { return; }\n        edgeRingList.push(this$1._findEdgeRing(edge));\n    });\n\n    return edgeRingList;\n};\n\n/**\n * Find all nodes in a Maxima EdgeRing which are self-intersection nodes.\n *\n * @param {Node} startEdge - Start Edge of the Ring\n * @returns {Node[]} - intersection nodes\n */\nGraph.prototype._findIntersectionNodes = function _findIntersectionNodes (startEdge) {\n    var intersectionNodes = [];\n    var edge = startEdge;\n    var loop = function () {\n        // getDegree\n        var degree = 0;\n        edge.from.getOuterEdges().forEach(function (e) {\n            if (e.label === startEdge.label)\n                { ++degree; }\n        });\n\n        if (degree > 1)\n            { intersectionNodes.push(edge.from); }\n\n        edge = edge.next;\n    };\n\n        do {\n            loop();\n        } while (!startEdge.isEqual(edge));\n\n    return intersectionNodes;\n};\n\n/**\n * Get the edge-ring which starts from the provided Edge.\n *\n * @param {Edge} startEdge - starting edge of the edge ring\n * @returns {EdgeRing} - EdgeRing which start Edge is the provided one.\n */\nGraph.prototype._findEdgeRing = function _findEdgeRing (startEdge) {\n    var edge = startEdge;\n    var edgeRing = new EdgeRing();\n\n    do {\n        edgeRing.push(edge);\n        edge.ring = edgeRing;\n        edge = edge.next;\n    } while (!startEdge.isEqual(edge));\n\n    return edgeRing;\n};\n\n/**\n * Removes a node from the Graph.\n *\n * It also removes edges asociated to that node\n * @param {Node} node - Node to be removed\n */\nGraph.prototype.removeNode = function removeNode (node) {\n        var this$1 = this;\n\n    node.getOuterEdges().forEach(function (edge) { return this$1.removeEdge(edge); });\n    node.innerEdges.forEach(function (edge) { return this$1.removeEdge(edge); });\n    delete this.nodes[node.id];\n};\n\n/**\n * Remove edge from the graph and deletes the edge.\n *\n * @param {Edge} edge - Edge to be removed\n */\nGraph.prototype.removeEdge = function removeEdge (edge) {\n    this.edges = this.edges.filter(function (e) { return !e.isEqual(edge); });\n    edge.deleteEdge();\n};\n\n/**\n * Polygonizes {@link LineString|(Multi)LineString(s)} into {@link Polygons}.\n *\n * Implementation of GEOSPolygonize function (`geos::operation::polygonize::Polygonizer`).\n *\n * Polygonizes a set of lines that represents edges in a planar graph. Edges must be correctly\n * noded, i.e., they must only meet at their endpoints.\n *\n * The implementation correctly handles:\n *\n * - Dangles: edges which have one or both ends which are not incident on another edge endpoint.\n * - Cut Edges (bridges): edges that are connected at both ends but which do not form part of a polygon.\n *\n * @name polygonize\n * @param {FeatureCollection|Geometry|Feature<LineString|MultiLineString>} geoJson Lines in order to polygonize\n * @returns {FeatureCollection<Polygon>} Polygons created\n * @throws {Error} if geoJson is invalid.\n */\nfunction polygonize$1(geoJson) {\n    var graph = Graph.fromGeoJson(geoJson);\n\n    // 1. Remove dangle node\n    graph.deleteDangles();\n\n    // 2. Remove cut-edges (bridge edges)\n    graph.deleteCutEdges();\n\n    // 3. Get all holes and shells\n    var holes = [],\n        shells = [];\n\n    graph.getEdgeRings()\n        .filter(function (edgeRing) { return edgeRing.isValid(); })\n        .forEach(function (edgeRing) {\n            if (edgeRing.isHole())\n                { holes.push(edgeRing); }\n            else\n                { shells.push(edgeRing); }\n        });\n\n    // 4. Assign Holes to Shells\n    holes.forEach(function (hole) {\n        if (EdgeRing.findEdgeRingContaining(hole, shells))\n            { shells.push(hole); }\n    });\n\n    // 5. EdgeRings to Polygons\n    return featureCollection(shells.map(function (shell) { return shell.toPolygon(); }));\n}\n\n/**\n * Boolean-disjoint returns (TRUE) if the intersection of the two geometries is an empty set.\n *\n * @name booleanDisjoint\n * @param {Geometry|Feature<any>} feature1 GeoJSON Feature or Geometry\n * @param {Geometry|Feature<any>} feature2 GeoJSON Feature or Geometry\n * @returns {boolean} true/false\n * @example\n * var point = turf.point([2, 2]);\n * var line = turf.lineString([[1, 1], [1, 2], [1, 3], [1, 4]]);\n *\n * turf.booleanDisjoint(line, point);\n * //=true\n */\nfunction booleanDisjoint(feature1, feature2) {\n    var boolean;\n    flattenEach(feature1, function (flatten1) {\n        flattenEach(feature2, function (flatten2) {\n            if (boolean === false) return false;\n            boolean = disjoint(flatten1.geometry, flatten2.geometry);\n        });\n    });\n    return boolean;\n}\n\n/**\n * Disjoint operation for simple Geometries (Point/LineString/Polygon)\n *\n * @private\n * @param {Geometry<any>} geom1 GeoJSON Geometry\n * @param {Geometry<any>} geom2 GeoJSON Geometry\n * @returns {boolean} true/false\n */\nfunction disjoint(geom1, geom2) {\n    switch (geom1.type) {\n    case 'Point':\n        switch (geom2.type) {\n        case 'Point':\n            return !compareCoords$1(geom1.coordinates, geom2.coordinates);\n        case 'LineString':\n            return !isPointOnLine$1(geom2, geom1);\n        case 'Polygon':\n            return !booleanPointInPolygon(geom1, geom2);\n        }\n        /* istanbul ignore next */\n        break;\n    case 'LineString':\n        switch (geom2.type) {\n        case 'Point':\n            return !isPointOnLine$1(geom1, geom2);\n        case 'LineString':\n            return !isLineOnLine$1(geom1, geom2);\n        case 'Polygon':\n            return !isLineInPoly$1(geom2, geom1);\n        }\n        /* istanbul ignore next */\n        break;\n    case 'Polygon':\n        switch (geom2.type) {\n        case 'Point':\n            return !booleanPointInPolygon(geom2, geom1);\n        case 'LineString':\n            return !isLineInPoly$1(geom1, geom2);\n        case 'Polygon':\n            return !isPolyInPoly$1(geom2, geom1);\n        }\n    }\n}\n\n// http://stackoverflow.com/a/11908158/1979085\nfunction isPointOnLine$1(lineString, point) {\n    for (var i = 0; i < lineString.coordinates.length - 1; i++) {\n        if (isPointOnLineSegment$2(lineString.coordinates[i], lineString.coordinates[i + 1], point.coordinates)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction isLineOnLine$1(lineString1, lineString2) {\n    var doLinesIntersect = lineIntersect(lineString1, lineString2);\n    if (doLinesIntersect.features.length > 0) {\n        return true;\n    }\n    return false;\n}\n\nfunction isLineInPoly$1(polygon, lineString) {\n    var doLinesIntersect = lineIntersect(lineString, polygonToLine(polygon));\n    if (doLinesIntersect.features.length > 0) {\n        return true;\n    }\n    return false;\n}\n\n/**\n * Is Polygon (geom1) in Polygon (geom2)\n * Only takes into account outer rings\n * See http://stackoverflow.com/a/4833823/1979085\n *\n * @private\n * @param {Geometry|Feature<Polygon>} feature1 Polygon1\n * @param {Geometry|Feature<Polygon>} feature2 Polygon2\n * @returns {boolean} true/false\n */\nfunction isPolyInPoly$1(feature1, feature2) {\n    for (var i = 0; i < feature1.coordinates[0].length; i++) {\n        if (booleanPointInPolygon(feature1.coordinates[0][i], feature2)) {\n            return true;\n        }\n    }\n    for (var i2 = 0; i2 < feature2.coordinates[0].length; i2++) {\n        if (booleanPointInPolygon(feature2.coordinates[0][i2], feature1)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction isPointOnLineSegment$2(LineSegmentStart, LineSegmentEnd, Point) {\n    var dxc = Point[0] - LineSegmentStart[0];\n    var dyc = Point[1] - LineSegmentStart[1];\n    var dxl = LineSegmentEnd[0] - LineSegmentStart[0];\n    var dyl = LineSegmentEnd[1] - LineSegmentStart[1];\n    var cross = dxc * dyl - dyc * dxl;\n    if (cross !== 0) {\n        return false;\n    }\n    if (Math.abs(dxl) >= Math.abs(dyl)) {\n        if (dxl > 0) {\n            return LineSegmentStart[0] <= Point[0] && Point[0] <= LineSegmentEnd[0];\n        } else {\n            return LineSegmentEnd[0] <= Point[0] && Point[0] <= LineSegmentStart[0];\n        }\n    } else if (dyl > 0) {\n        return LineSegmentStart[1] <= Point[1] && Point[1] <= LineSegmentEnd[1];\n    } else {\n        return LineSegmentEnd[1] <= Point[1] && Point[1] <= LineSegmentStart[1];\n    }\n}\n\n/**\n * compareCoords\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {boolean} true/false if coord pairs match\n */\nfunction compareCoords$1(pair1, pair2) {\n    return pair1[0] === pair2[0] && pair1[1] === pair2[1];\n}\n\n/**\n * Boolean-contains returns True if the second geometry is completely contained by the first geometry.\n * The interiors of both geometries must intersect and, the interior and boundary of the secondary (geometry b)\n * must not intersect the exterior of the primary (geometry a).\n * Boolean-contains returns the exact opposite result of the `@turf/boolean-within`.\n *\n * @name booleanContains\n * @param {Geometry|Feature<any>} feature1 GeoJSON Feature or Geometry\n * @param {Geometry|Feature<any>} feature2 GeoJSON Feature or Geometry\n * @returns {boolean} true/false\n * @example\n * var line = turf.lineString([[1, 1], [1, 2], [1, 3], [1, 4]]);\n * var point = turf.point([1, 2]);\n *\n * turf.booleanContains(line, point);\n * //=true\n */\nfunction booleanContains(feature1, feature2) {\n    var type1 = getType(feature1);\n    var type2 = getType(feature2);\n    var geom1 = getGeom(feature1);\n    var geom2 = getGeom(feature2);\n    var coords1 = getCoords(feature1);\n    var coords2 = getCoords(feature2);\n\n    switch (type1) {\n    case 'Point':\n        switch (type2) {\n        case 'Point':\n            return compareCoords$2(coords1, coords2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'MultiPoint':\n        switch (type2) {\n        case 'Point':\n            return isPointInMultiPoint$1(geom1, geom2);\n        case 'MultiPoint':\n            return isMultiPointInMultiPoint$1(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'LineString':\n        switch (type2) {\n        case 'Point':\n            return booleanPointOnLine(geom2, geom1, {ignoreEndVertices: true});\n        case 'LineString':\n            return isLineOnLine$2(geom1, geom2);\n        case 'MultiPoint':\n            return isMultiPointOnLine$1(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'Polygon':\n        switch (type2) {\n        case 'Point':\n            return booleanPointInPolygon(geom2, geom1, {ignoreBoundary: true});\n        case 'LineString':\n            return isLineInPoly$2(geom1, geom2);\n        case 'Polygon':\n            return isPolyInPoly$2(geom1, geom2);\n        case 'MultiPoint':\n            return isMultiPointInPoly$1(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    default:\n        throw new Error('feature1 ' + type1 + ' geometry not supported');\n    }\n}\n\nfunction isPointInMultiPoint$1(multiPoint, point) {\n    var i;\n    var output = false;\n    for (i = 0; i < multiPoint.coordinates.length; i++) {\n        if (compareCoords$2(multiPoint.coordinates[i], point.coordinates)) {\n            output = true;\n            break;\n        }\n    }\n    return output;\n}\n\nfunction isMultiPointInMultiPoint$1(multiPoint1, multiPoint2) {\n    for (var i = 0; i < multiPoint2.coordinates.length; i++) {\n        var matchFound = false;\n        for (var i2 = 0; i2 < multiPoint1.coordinates.length; i2++) {\n            if (compareCoords$2(multiPoint2.coordinates[i], multiPoint1.coordinates[i2])) {\n                matchFound = true;\n                break;\n            }\n        }\n        if (!matchFound) {\n            return false;\n        }\n    }\n    return true;\n}\n\n\nfunction isMultiPointOnLine$1(lineString, multiPoint) {\n    var haveFoundInteriorPoint = false;\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        if (booleanPointOnLine(multiPoint.coordinates[i], lineString, {ignoreEndVertices: true})) {\n            haveFoundInteriorPoint = true;\n        }\n        if (!booleanPointOnLine(multiPoint.coordinates[i], lineString)) {\n            return false;\n        }\n    }\n    if (haveFoundInteriorPoint) {\n        return true;\n    }\n    return false;\n}\n\nfunction isMultiPointInPoly$1(polygon, multiPoint) {\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        if (!booleanPointInPolygon(multiPoint.coordinates[i], polygon, {ignoreBoundary: true})) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction isLineOnLine$2(lineString1, lineString2) {\n    var haveFoundInteriorPoint = false;\n    for (var i = 0; i < lineString2.coordinates.length; i++) {\n        if (booleanPointOnLine({type: 'Point', coordinates: lineString2.coordinates[i]}, lineString1, { ignoreEndVertices: true })) {\n            haveFoundInteriorPoint = true;\n        }\n        if (!booleanPointOnLine({type: 'Point', coordinates: lineString2.coordinates[i]}, lineString1, {ignoreEndVertices: false })) {\n            return false;\n        }\n    }\n    return haveFoundInteriorPoint;\n}\n\nfunction isLineInPoly$2(polygon, linestring) {\n    var output = false;\n    var i = 0;\n\n    var polyBbox = bbox(polygon);\n    var lineBbox = bbox(linestring);\n    if (!doBBoxOverlap$1(polyBbox, lineBbox)) {\n        return false;\n    }\n    for (i; i < linestring.coordinates.length - 1; i++) {\n        var midPoint = getMidpoint$1(linestring.coordinates[i], linestring.coordinates[i + 1]);\n        if (booleanPointInPolygon({type: 'Point', coordinates: midPoint}, polygon, { ignoreBoundary: true })) {\n            output = true;\n            break;\n        }\n    }\n    return output;\n}\n\n/**\n * Is Polygon2 in Polygon1\n * Only takes into account outer rings\n *\n * @private\n * @param {Geometry|Feature<Polygon>} feature1 Polygon1\n * @param {Geometry|Feature<Polygon>} feature2 Polygon2\n * @returns {boolean} true/false\n */\nfunction isPolyInPoly$2(feature1, feature2) {\n    var poly1Bbox = bbox(feature1);\n    var poly2Bbox = bbox(feature2);\n    if (!doBBoxOverlap$1(poly1Bbox, poly2Bbox)) {\n        return false;\n    }\n    for (var i = 0; i < feature2.coordinates[0].length; i++) {\n        if (!booleanPointInPolygon(feature2.coordinates[0][i], feature1)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction doBBoxOverlap$1(bbox1, bbox2) {\n    if (bbox1[0] > bbox2[0]) return false;\n    if (bbox1[2] < bbox2[2]) return false;\n    if (bbox1[1] > bbox2[1]) return false;\n    if (bbox1[3] < bbox2[3]) return false;\n    return true;\n}\n\n/**\n * compareCoords\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {boolean} true/false if coord pairs match\n */\nfunction compareCoords$2(pair1, pair2) {\n    return pair1[0] === pair2[0] && pair1[1] === pair2[1];\n}\n\nfunction getMidpoint$1(pair1, pair2) {\n    return [(pair1[0] + pair2[0]) / 2, (pair1[1] + pair2[1]) / 2];\n}\n\n/**\n * Boolean-Crosses returns True if the intersection results in a geometry whose dimension is one less than\n * the maximum dimension of the two source geometries and the intersection set is interior to\n * both source geometries.\n *\n * Boolean-Crosses returns t (TRUE) for only multipoint/polygon, multipoint/linestring, linestring/linestring, linestring/polygon, and linestring/multipolygon comparisons.\n *\n * @name booleanCrosses\n * @param {Geometry|Feature<any>} feature1 GeoJSON Feature or Geometry\n * @param {Geometry|Feature<any>} feature2 GeoJSON Feature or Geometry\n * @returns {boolean} true/false\n * @example\n * var line1 = turf.lineString([[-2, 2], [4, 2]]);\n * var line2 = turf.lineString([[1, 1], [1, 2], [1, 3], [1, 4]]);\n *\n * var cross = turf.booleanCrosses(line1, line2);\n * //=true\n */\nfunction booleanCrosses(feature1, feature2) {\n    var type1 = getType(feature1);\n    var type2 = getType(feature2);\n    var geom1 = getGeom(feature1);\n    var geom2 = getGeom(feature2);\n\n    switch (type1) {\n    case 'MultiPoint':\n        switch (type2) {\n        case 'LineString':\n            return doMultiPointAndLineStringCross(geom1, geom2);\n        case 'Polygon':\n            return doesMultiPointCrossPoly(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'LineString':\n        switch (type2) {\n        case 'MultiPoint': // An inverse operation\n            return doMultiPointAndLineStringCross(geom2, geom1);\n        case 'LineString':\n            return doLineStringsCross(geom1, geom2);\n        case 'Polygon':\n            return doLineStringAndPolygonCross(geom1, geom2);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    case 'Polygon':\n        switch (type2) {\n        case 'MultiPoint': // An inverse operation\n            return doesMultiPointCrossPoly(geom2, geom1);\n        case 'LineString': // An inverse operation\n            return doLineStringAndPolygonCross(geom2, geom1);\n        default:\n            throw new Error('feature2 ' + type2 + ' geometry not supported');\n        }\n    default:\n        throw new Error('feature1 ' + type1 + ' geometry not supported');\n    }\n}\n\nfunction doMultiPointAndLineStringCross(multiPoint$$1, lineString$$1) {\n    var foundIntPoint = false;\n    var foundExtPoint = false;\n    var pointLength = multiPoint$$1.coordinates.length;\n    var i = 0;\n    while (i < pointLength && !foundIntPoint && !foundExtPoint) {\n        for (var i2 = 0; i2 < lineString$$1.coordinates.length - 1; i2++) {\n            var incEndVertices = true;\n            if (i2 === 0 || i2 === lineString$$1.coordinates.length - 2) {\n                incEndVertices = false;\n            }\n            if (isPointOnLineSegment$3(lineString$$1.coordinates[i2], lineString$$1.coordinates[i2 + 1], multiPoint$$1.coordinates[i], incEndVertices)) {\n                foundIntPoint = true;\n            } else {\n                foundExtPoint = true;\n            }\n        }\n        i++;\n    }\n    return foundIntPoint && foundExtPoint;\n}\n\nfunction doLineStringsCross(lineString1, lineString2) {\n    var doLinesIntersect = lineIntersect(lineString1, lineString2);\n    if (doLinesIntersect.features.length > 0) {\n        for (var i = 0; i < lineString1.coordinates.length - 1; i++) {\n            for (var i2 = 0; i2 < lineString2.coordinates.length - 1; i2++) {\n                var incEndVertices = true;\n                if (i2 === 0 || i2 === lineString2.coordinates.length - 2) {\n                    incEndVertices = false;\n                }\n                if (isPointOnLineSegment$3(lineString1.coordinates[i], lineString1.coordinates[i + 1], lineString2.coordinates[i2], incEndVertices)) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n\nfunction doLineStringAndPolygonCross(lineString$$1, polygon$$1) {\n    var doLinesIntersect = lineIntersect(lineString$$1, polygonToLine(polygon$$1));\n    if (doLinesIntersect.features.length > 0) {\n        return true;\n    }\n    return false;\n}\n\nfunction doesMultiPointCrossPoly(multiPoint$$1, polygon$$1) {\n    var foundIntPoint = false;\n    var foundExtPoint = false;\n    var pointLength = multiPoint$$1.coordinates[0].length;\n    var i = 0;\n    while (i < pointLength && foundIntPoint && foundExtPoint) {\n        if (booleanPointInPolygon(point(multiPoint$$1.coordinates[0][i]), polygon$$1)) {\n            foundIntPoint = true;\n        } else {\n            foundExtPoint = true;\n        }\n        i++;\n    }\n\n    return foundExtPoint && foundExtPoint;\n}\n\n/**\n * Is a point on a line segment\n * Only takes into account outer rings\n * See http://stackoverflow.com/a/4833823/1979085\n *\n * @private\n * @param {number[]} lineSegmentStart coord pair of start of line\n * @param {number[]} lineSegmentEnd coord pair of end of line\n * @param {number[]} pt coord pair of point to check\n * @param {boolean} incEnd whether the point is allowed to fall on the line ends\n * @returns {boolean} true/false\n */\nfunction isPointOnLineSegment$3(lineSegmentStart, lineSegmentEnd, pt, incEnd) {\n    var dxc = pt[0] - lineSegmentStart[0];\n    var dyc = pt[1] - lineSegmentStart[1];\n    var dxl = lineSegmentEnd[0] - lineSegmentStart[0];\n    var dyl = lineSegmentEnd[1] - lineSegmentStart[1];\n    var cross = dxc * dyl - dyc * dxl;\n    if (cross !== 0) {\n        return false;\n    }\n    if (incEnd) {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? lineSegmentStart[0] <= pt[0] && pt[0] <= lineSegmentEnd[0] : lineSegmentEnd[0] <= pt[0] && pt[0] <= lineSegmentStart[0];\n        }\n        return dyl > 0 ? lineSegmentStart[1] <= pt[1] && pt[1] <= lineSegmentEnd[1] : lineSegmentEnd[1] <= pt[1] && pt[1] <= lineSegmentStart[1];\n    } else {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? lineSegmentStart[0] < pt[0] && pt[0] < lineSegmentEnd[0] : lineSegmentEnd[0] < pt[0] && pt[0] < lineSegmentStart[0];\n        }\n        return dyl > 0 ? lineSegmentStart[1] < pt[1] && pt[1] < lineSegmentEnd[1] : lineSegmentEnd[1] < pt[1] && pt[1] < lineSegmentStart[1];\n    }\n}\n\nvar keys = createCommonjsModule(function (module, exports) {\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n});\n\nvar keys_1 = keys.shim;\n\nvar is_arguments = createCommonjsModule(function (module, exports) {\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n}\n});\n\nvar is_arguments_1 = is_arguments.supported;\nvar is_arguments_2 = is_arguments.unsupported;\n\nvar deepEqual_1 = createCommonjsModule(function (module) {\nvar pSlice = Array.prototype.slice;\n\n\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n};\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (is_arguments(a)) {\n    if (!is_arguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = keys(a),\n        kb = keys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n});\n\n//index.js\n\n\nvar Equality = function(opt) {\n  this.precision = opt && opt.precision ? opt.precision : 17;\n  this.direction = opt && opt.direction ? opt.direction : false;\n  this.pseudoNode = opt && opt.pseudoNode ? opt.pseudoNode : false;\n  this.objectComparator = opt && opt.objectComparator ? opt.objectComparator : objectComparator;\n};\n\nEquality.prototype.compare = function(g1,g2) {\n  if (g1.type !== g2.type || !sameLength(g1,g2)) return false;\n\n  switch(g1.type) {\n  case 'Point':\n    return this.compareCoord(g1.coordinates, g2.coordinates);\n    break;\n  case 'LineString':\n    return this.compareLine(g1.coordinates, g2.coordinates,0,false);\n    break;\n  case 'Polygon':\n    return this.comparePolygon(g1,g2);\n    break;\n  case 'Feature':\n    return this.compareFeature(g1, g2);\n  default:\n    if (g1.type.indexOf('Multi') === 0) {\n      var context = this;\n      var g1s = explode$2(g1);\n      var g2s = explode$2(g2);\n      return g1s.every(function(g1part) {\n        return this.some(function(g2part) {\n          return context.compare(g1part,g2part);\n        });\n      },g2s);\n    }\n  }\n  return false;\n};\n\nfunction explode$2(g) {\n  return g.coordinates.map(function(part) {\n    return {\n      type: g.type.replace('Multi', ''),\n      coordinates: part}\n  });\n}\n//compare length of coordinates/array\nfunction sameLength(g1,g2) {\n   return g1.hasOwnProperty('coordinates') ?\n    g1.coordinates.length === g2.coordinates.length\n    : g1.length === g2.length;\n}\n\n// compare the two coordinates [x,y]\nEquality.prototype.compareCoord = function(c1,c2) {\n  if (c1.length !== c2.length) {\n    return false;\n  }\n\n  for (var i=0; i < c1.length; i++) {\n    if (c1[i].toFixed(this.precision) !== c2[i].toFixed(this.precision)) {\n      return false;\n    }\n  }\n  return true;\n};\n\nEquality.prototype.compareLine = function(path1,path2,ind,isPoly) {\n  if (!sameLength(path1,path2)) return false;\n  var p1 = this.pseudoNode ? path1 : this.removePseudo(path1);\n  var p2 = this.pseudoNode ? path2 : this.removePseudo(path2);\n  if (isPoly && !this.compareCoord(p1[0],p2[0])) {\n    // fix start index of both to same point\n    p2 = this.fixStartIndex(p2,p1);\n    if(!p2) return;\n  }\n  // for linestring ind =0 and for polygon ind =1\n  var sameDirection = this.compareCoord(p1[ind],p2[ind]);\n  if (this.direction || sameDirection\n  ) {\n    return this.comparePath(p1, p2);\n  } else {\n    if (this.compareCoord(p1[ind],p2[p2.length - (1+ind)])\n    ) {\n      return this.comparePath(p1.slice().reverse(), p2);\n    }\n    return false;\n  }\n};\nEquality.prototype.fixStartIndex = function(sourcePath,targetPath) {\n  //make sourcePath first point same as of targetPath\n  var correctPath,ind = -1;\n  for (var i=0; i< sourcePath.length; i++) {\n    if(this.compareCoord(sourcePath[i],targetPath[0])) {\n      ind = i;\n      break;\n    }\n  }\n  if (ind >= 0) {\n    correctPath = [].concat(\n      sourcePath.slice(ind,sourcePath.length),\n      sourcePath.slice(1,ind+1));\n  }\n  return correctPath;\n};\nEquality.prototype.comparePath = function (p1,p2) {\n  var cont = this;\n  return p1.every(function(c,i) {\n    return cont.compareCoord(c,this[i]);\n  },p2);\n};\n\nEquality.prototype.comparePolygon = function(g1,g2) {\n  if (this.compareLine(g1.coordinates[0],g2.coordinates[0],1,true)) {\n    var holes1 = g1.coordinates.slice(1,g1.coordinates.length);\n    var holes2 = g2.coordinates.slice(1,g2.coordinates.length);\n    var cont = this;\n    return holes1.every(function(h1) {\n      return this.some(function(h2) {\n        return cont.compareLine(h1,h2,1,true);\n      });\n    },holes2);\n  } else {\n    return false;\n  }\n};\n\nEquality.prototype.compareFeature = function(g1,g2) {\n  if (\n    g1.id !== g2.id ||\n    !this.objectComparator(g1.properties, g2.properties) ||\n    !this.compareBBox(g1,g2)\n  ) {\n    return false;\n  }\n  return this.compare(g1.geometry, g2.geometry);\n};\n\nEquality.prototype.compareBBox = function(g1,g2) {\n  if (\n    (!g1.bbox && !g2.bbox) || \n    (\n      g1.bbox && g2.bbox &&\n      this.compareCoord(g1.bbox, g2.bbox)\n    )\n  )  {\n    return true;\n  }\n  return false;\n};\nEquality.prototype.removePseudo = function(path) {\n  //TODO to be implement\n  return path;\n};\n\nfunction objectComparator(obj1, obj2) {\n  return deepEqual_1(obj1, obj2, {strict: true});\n}\n\nvar geojsonEquality = Equality;\n\n/**\n * Compares two geometries of the same dimension and returns true if their intersection set results in a geometry\n * different from both but of the same dimension. It applies to Polygon/Polygon, LineString/LineString,\n * Multipoint/Multipoint, MultiLineString/MultiLineString and MultiPolygon/MultiPolygon.\n *\n * @name booleanOverlap\n * @param  {Geometry|Feature<LineString|MultiLineString|Polygon|MultiPolygon>} feature1 input\n * @param  {Geometry|Feature<LineString|MultiLineString|Polygon|MultiPolygon>} feature2 input\n * @returns {boolean} true/false\n * @example\n * var poly1 = turf.polygon([[[0,0],[0,5],[5,5],[5,0],[0,0]]]);\n * var poly2 = turf.polygon([[[1,1],[1,6],[6,6],[6,1],[1,1]]]);\n * var poly3 = turf.polygon([[[10,10],[10,15],[15,15],[15,10],[10,10]]]);\n *\n * turf.booleanOverlap(poly1, poly2)\n * //=true\n * turf.booleanOverlap(poly2, poly3)\n * //=false\n */\nfunction booleanOverlap(feature1, feature2) {\n    // validation\n    if (!feature1) throw new Error('feature1 is required');\n    if (!feature2) throw new Error('feature2 is required');\n    var type1 = getType(feature1);\n    var type2 = getType(feature2);\n    if (type1 !== type2) throw new Error('features must be of the same type');\n    if (type1 === 'Point') throw new Error('Point geometry not supported');\n\n    // features must be not equal\n    var equality = new geojsonEquality({precision: 6});\n    if (equality.compare(feature1, feature2)) return false;\n\n    var overlap = 0;\n\n    switch (type1) {\n    case 'MultiPoint':\n        var coords1 = coordAll(feature1);\n        var coords2 = coordAll(feature2);\n        coords1.forEach(function (coord1) {\n            coords2.forEach(function (coord2) {\n                if (coord1[0] === coord2[0] && coord1[1] === coord2[1]) overlap++;\n            });\n        });\n        break;\n\n    case 'LineString':\n    case 'MultiLineString':\n        segmentEach(feature1, function (segment1) {\n            segmentEach(feature2, function (segment2) {\n                if (lineOverlap(segment1, segment2).features.length) overlap++;\n            });\n        });\n        break;\n\n    case 'Polygon':\n    case 'MultiPolygon':\n        segmentEach(feature1, function (segment1) {\n            segmentEach(feature2, function (segment2) {\n                if (lineIntersect(segment1, segment2).features.length) overlap++;\n            });\n        });\n        break;\n    }\n\n    return overlap > 0;\n}\n\n/**\n * Determine whether two geometries of the same type have identical X,Y coordinate values.\n * See http://edndoc.esri.com/arcsde/9.0/general_topics/understand_spatial_relations.htm\n *\n * @name booleanEqual\n * @param {Geometry|Feature} feature1 GeoJSON input\n * @param {Geometry|Feature} feature2 GeoJSON input\n * @returns {boolean} true if the objects are equal, false otherwise\n * @example\n * var pt1 = turf.point([0, 0]);\n * var pt2 = turf.point([0, 0]);\n * var pt3 = turf.point([1, 1]);\n *\n * turf.booleanEqual(pt1, pt2);\n * //= true\n * turf.booleanEqual(pt2, pt3);\n * //= false\n */\nfunction booleanEqual(feature1, feature2) {\n    // validation\n    if (!feature1) throw new Error('feature1 is required');\n    if (!feature2) throw new Error('feature2 is required');\n    var type1 = getType(feature1);\n    var type2 = getType(feature2);\n    if (type1 !== type2) return false;\n\n    var equality = new geojsonEquality({precision: 6});\n    return equality.compare(cleanCoords(feature1), cleanCoords(feature2));\n}\n\nvar DBSCAN_1 = createCommonjsModule(function (module) {\n/**\r\n * DBSCAN - Density based clustering\r\n *\r\n * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>\r\n * @copyright MIT\r\n */\r\n\r\n/**\r\n * DBSCAN class construcotr\r\n * @constructor\r\n *\r\n * @param {Array} dataset\r\n * @param {number} epsilon\r\n * @param {number} minPts\r\n * @param {function} distanceFunction\r\n * @returns {DBSCAN}\r\n */\r\nfunction DBSCAN(dataset, epsilon, minPts, distanceFunction) {\r\n  /** @type {Array} */\r\n  this.dataset = [];\r\n  /** @type {number} */\r\n  this.epsilon = 1;\r\n  /** @type {number} */\r\n  this.minPts = 2;\r\n  /** @type {function} */\r\n  this.distance = this._euclideanDistance;\r\n  /** @type {Array} */\r\n  this.clusters = [];\r\n  /** @type {Array} */\r\n  this.noise = [];\r\n\r\n  // temporary variables used during computation\r\n\r\n  /** @type {Array} */\r\n  this._visited = [];\r\n  /** @type {Array} */\r\n  this._assigned = [];\r\n  /** @type {number} */\r\n  this._datasetLength = 0;\r\n\r\n  this._init(dataset, epsilon, minPts, distanceFunction);\r\n}\r\n\r\n/******************************************************************************/\r\n// public functions\r\n\r\n/**\r\n * Start clustering\r\n *\r\n * @param {Array} dataset\r\n * @param {number} epsilon\r\n * @param {number} minPts\r\n * @param {function} distanceFunction\r\n * @returns {undefined}\r\n * @access public\r\n */\r\nDBSCAN.prototype.run = function(dataset, epsilon, minPts, distanceFunction) {\r\n  this._init(dataset, epsilon, minPts, distanceFunction);\r\n\r\n  for (var pointId = 0; pointId < this._datasetLength; pointId++) {\r\n    // if point is not visited, check if it forms a cluster\r\n    if (this._visited[pointId] !== 1) {\r\n      this._visited[pointId] = 1;\r\n\r\n      // if closest neighborhood is too small to form a cluster, mark as noise\r\n      var neighbors = this._regionQuery(pointId);\r\n\r\n      if (neighbors.length < this.minPts) {\r\n        this.noise.push(pointId);\r\n      } else {\r\n        // create new cluster and add point\r\n        var clusterId = this.clusters.length;\r\n        this.clusters.push([]);\r\n        this._addToCluster(pointId, clusterId);\r\n\r\n        this._expandCluster(clusterId, neighbors);\r\n      }\r\n    }\r\n  }\r\n\r\n  return this.clusters;\r\n};\r\n\r\n/******************************************************************************/\r\n// protected functions\r\n\r\n/**\r\n * Set object properties\r\n *\r\n * @param {Array} dataset\r\n * @param {number} epsilon\r\n * @param {number} minPts\r\n * @param {function} distance\r\n * @returns {undefined}\r\n * @access protected\r\n */\r\nDBSCAN.prototype._init = function(dataset, epsilon, minPts, distance) {\r\n\r\n  if (dataset) {\r\n\r\n    if (!(dataset instanceof Array)) {\r\n      throw Error('Dataset must be of type array, ' +\r\n        typeof dataset + ' given');\r\n    }\r\n\r\n    this.dataset = dataset;\r\n    this.clusters = [];\r\n    this.noise = [];\r\n\r\n    this._datasetLength = dataset.length;\r\n    this._visited = new Array(this._datasetLength);\r\n    this._assigned = new Array(this._datasetLength);\r\n  }\r\n\r\n  if (epsilon) {\r\n    this.epsilon = epsilon;\r\n  }\r\n\r\n  if (minPts) {\r\n    this.minPts = minPts;\r\n  }\r\n\r\n  if (distance) {\r\n    this.distance = distance;\r\n  }\r\n};\r\n\r\n/**\r\n * Expand cluster to closest points of given neighborhood\r\n *\r\n * @param {number} clusterId\r\n * @param {Array} neighbors\r\n * @returns {undefined}\r\n * @access protected\r\n */\r\nDBSCAN.prototype._expandCluster = function(clusterId, neighbors) {\r\n\r\n  /**\r\n   * It's very important to calculate length of neighbors array each time,\r\n   * as the number of elements changes over time\r\n   */\r\n  for (var i = 0; i < neighbors.length; i++) {\r\n    var pointId2 = neighbors[i];\r\n\r\n    if (this._visited[pointId2] !== 1) {\r\n      this._visited[pointId2] = 1;\r\n      var neighbors2 = this._regionQuery(pointId2);\r\n\r\n      if (neighbors2.length >= this.minPts) {\r\n        neighbors = this._mergeArrays(neighbors, neighbors2);\r\n      }\r\n    }\r\n\r\n    // add to cluster\r\n    if (this._assigned[pointId2] !== 1) {\r\n      this._addToCluster(pointId2, clusterId);\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Add new point to cluster\r\n *\r\n * @param {number} pointId\r\n * @param {number} clusterId\r\n */\r\nDBSCAN.prototype._addToCluster = function(pointId, clusterId) {\r\n  this.clusters[clusterId].push(pointId);\r\n  this._assigned[pointId] = 1;\r\n};\r\n\r\n/**\r\n * Find all neighbors around given point\r\n *\r\n * @param {number} pointId,\r\n * @param {number} epsilon\r\n * @returns {Array}\r\n * @access protected\r\n */\r\nDBSCAN.prototype._regionQuery = function(pointId) {\r\n  var neighbors = [];\r\n\r\n  for (var id = 0; id < this._datasetLength; id++) {\r\n    var dist = this.distance(this.dataset[pointId], this.dataset[id]);\r\n    if (dist < this.epsilon) {\r\n      neighbors.push(id);\r\n    }\r\n  }\r\n\r\n  return neighbors;\r\n};\r\n\r\n/******************************************************************************/\r\n// helpers\r\n\r\n/**\r\n * @param {Array} a\r\n * @param {Array} b\r\n * @returns {Array}\r\n * @access protected\r\n */\r\nDBSCAN.prototype._mergeArrays = function(a, b) {\r\n  var len = b.length;\r\n\r\n  for (var i = 0; i < len; i++) {\r\n    var P = b[i];\r\n    if (a.indexOf(P) < 0) {\r\n      a.push(P);\r\n    }\r\n  }\r\n\r\n  return a;\r\n};\r\n\r\n/**\r\n * Calculate euclidean distance in multidimensional space\r\n *\r\n * @param {Array} p\r\n * @param {Array} q\r\n * @returns {number}\r\n * @access protected\r\n */\r\nDBSCAN.prototype._euclideanDistance = function(p, q) {\r\n  var sum = 0;\r\n  var i = Math.min(p.length, q.length);\r\n\r\n  while (i--) {\r\n    sum += (p[i] - q[i]) * (p[i] - q[i]);\r\n  }\r\n\r\n  return Math.sqrt(sum);\r\n};\r\n\r\nif ('object' !== 'undefined' && module.exports) {\r\n  module.exports = DBSCAN;\r\n}\n});\n\nvar KMEANS_1 = createCommonjsModule(function (module) {\n/**\r\n * KMEANS clustering\r\n *\r\n * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>\r\n * @copyright MIT\r\n */\r\n\r\n/**\r\n * KMEANS class constructor\r\n * @constructor\r\n *\r\n * @param {Array} dataset\r\n * @param {number} k - number of clusters\r\n * @param {function} distance - distance function\r\n * @returns {KMEANS}\r\n */\r\n function KMEANS(dataset, k, distance) {\r\n  this.k = 3; // number of clusters\r\n  this.dataset = []; // set of feature vectors\r\n  this.assignments = []; // set of associated clusters for each feature vector\r\n  this.centroids = []; // vectors for our clusters\r\n\r\n  this.init(dataset, k, distance);\r\n}\r\n\r\n/**\r\n * @returns {undefined}\r\n */\r\nKMEANS.prototype.init = function(dataset, k, distance) {\r\n  this.assignments = [];\r\n  this.centroids = [];\r\n\r\n  if (typeof dataset !== 'undefined') {\r\n    this.dataset = dataset;\r\n  }\r\n\r\n  if (typeof k !== 'undefined') {\r\n    this.k = k;\r\n  }\r\n\r\n  if (typeof distance !== 'undefined') {\r\n    this.distance = distance;\r\n  }\r\n};\r\n\r\n/**\r\n * @returns {undefined}\r\n */\r\nKMEANS.prototype.run = function(dataset, k) {\r\n  this.init(dataset, k);\r\n\r\n  var len = this.dataset.length;\r\n\r\n  // initialize centroids\r\n  for (var i = 0; i < this.k; i++) {\r\n    this.centroids[i] = this.randomCentroid();\r\n\t}\r\n\r\n  var change = true;\r\n  while(change) {\r\n\r\n    // assign feature vectors to clusters\r\n    change = this.assign();\r\n\r\n    // adjust location of centroids\r\n    for (var centroidId = 0; centroidId < this.k; centroidId++) {\r\n      var mean = new Array(maxDim);\r\n      var count = 0;\r\n\r\n      // init mean vector\r\n      for (var dim = 0; dim < maxDim; dim++) {\r\n        mean[dim] = 0;\r\n      }\r\n\r\n      for (var j = 0; j < len; j++) {\r\n        var maxDim = this.dataset[j].length;\r\n\r\n        // if current cluster id is assigned to point\r\n        if (centroidId === this.assignments[j]) {\r\n          for (var dim = 0; dim < maxDim; dim++) {\r\n            mean[dim] += this.dataset[j][dim];\r\n          }\r\n          count++;\r\n        }\r\n      }\r\n\r\n      if (count > 0) {\r\n        // if cluster contain points, adjust centroid position\r\n        for (var dim = 0; dim < maxDim; dim++) {\r\n          mean[dim] /= count;\r\n        }\r\n        this.centroids[centroidId] = mean;\r\n      } else {\r\n        // if cluster is empty, generate new random centroid\r\n        this.centroids[centroidId] = this.randomCentroid();\r\n        change = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return this.getClusters();\r\n};\r\n\r\n/**\r\n * Generate random centroid\r\n *\r\n * @returns {Array}\r\n */\r\nKMEANS.prototype.randomCentroid = function() {\r\n  var maxId = this.dataset.length -1;\r\n  var centroid;\r\n  var id;\r\n\r\n  do {\r\n    id = Math.round(Math.random() * maxId);\r\n    centroid = this.dataset[id];\r\n  } while (this.centroids.indexOf(centroid) >= 0);\r\n\r\n  return centroid;\r\n};\r\n\r\n/**\r\n * Assign points to clusters\r\n *\r\n * @returns {boolean}\r\n */\r\nKMEANS.prototype.assign = function() {\r\n  var change = false;\r\n  var len = this.dataset.length;\r\n  var closestCentroid;\r\n\r\n  for (var i = 0; i < len; i++) {\r\n    closestCentroid = this.argmin(this.dataset[i], this.centroids, this.distance);\r\n\r\n    if (closestCentroid != this.assignments[i]) {\r\n      this.assignments[i] = closestCentroid;\r\n      change = true;\r\n    }\r\n  }\r\n\r\n  return change;\r\n};\r\n\r\n/**\r\n * Extract information about clusters\r\n *\r\n * @returns {undefined}\r\n */\r\nKMEANS.prototype.getClusters = function() {\r\n  var clusters = new Array(this.k);\r\n  var centroidId;\r\n\r\n  for (var pointId = 0; pointId < this.assignments.length; pointId++) {\r\n    centroidId = this.assignments[pointId];\r\n\r\n    // init empty cluster\r\n    if (typeof clusters[centroidId] === 'undefined') {\r\n      clusters[centroidId] = [];\r\n    }\r\n\r\n    clusters[centroidId].push(pointId);\r\n  }\r\n\r\n  return clusters;\r\n};\r\n\r\n// utils\r\n\r\n/**\r\n * @params {Array} point\r\n * @params {Array.<Array>} set\r\n * @params {Function} f\r\n * @returns {number}\r\n */\r\nKMEANS.prototype.argmin = function(point, set, f) {\r\n  var min = Number.MAX_VALUE;\r\n  var arg = 0;\r\n  var len = set.length;\r\n  var d;\r\n\r\n  for (var i = 0; i < len; i++) {\r\n    d = f(point, set[i]);\r\n    if (d < min) {\r\n      min = d;\r\n      arg = i;\r\n    }\r\n  }\r\n\r\n  return arg;\r\n};\r\n\r\n/**\r\n * Euclidean distance\r\n *\r\n * @params {number} p\r\n * @params {number} q\r\n * @returns {number}\r\n */\r\nKMEANS.prototype.distance = function(p, q) {\r\n  var sum = 0;\r\n  var i = Math.min(p.length, q.length);\r\n\r\n  while (i--) {\r\n    var diff = p[i] - q[i];\r\n    sum += diff * diff;\r\n  }\r\n\r\n  return Math.sqrt(sum);\r\n};\r\n\r\nif ('object' !== 'undefined' && module.exports) {\r\n  module.exports = KMEANS;\r\n}\n});\n\nvar PriorityQueue_1 = createCommonjsModule(function (module) {\n/**\r\n * PriorityQueue\r\n * Elements in this queue are sorted according to their value\r\n *\r\n * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>\r\n * @copyright MIT\r\n */\r\n\r\n/**\r\n * PriorityQueue class construcotr\r\n * @constructor\r\n *\r\n * @example\r\n * queue: [1,2,3,4]\r\n * priorities: [4,1,2,3]\r\n * > result = [1,4,2,3]\r\n *\r\n * @param {Array} elements\r\n * @param {Array} priorities\r\n * @param {string} sorting - asc / desc\r\n * @returns {PriorityQueue}\r\n */\r\nfunction PriorityQueue(elements, priorities, sorting) {\r\n  /** @type {Array} */\r\n  this._queue = [];\r\n  /** @type {Array} */\r\n  this._priorities = [];\r\n  /** @type {string} */\r\n  this._sorting = 'desc';\r\n\r\n  this._init(elements, priorities, sorting);\r\n}\r\n\r\n/**\r\n * Insert element\r\n *\r\n * @param {Object} ele\r\n * @param {Object} priority\r\n * @returns {undefined}\r\n * @access public\r\n */\r\nPriorityQueue.prototype.insert = function(ele, priority) {\r\n  var indexToInsert = this._queue.length;\r\n  var index = indexToInsert;\r\n\r\n  while (index--) {\r\n    var priority2 = this._priorities[index];\r\n    if (this._sorting === 'desc') {\r\n      if (priority > priority2) {\r\n        indexToInsert = index;\r\n      }\r\n    } else {\r\n      if (priority < priority2) {\r\n        indexToInsert = index;\r\n      }\r\n    }\r\n  }\r\n\r\n  this._insertAt(ele, priority, indexToInsert);\r\n};\r\n\r\n/**\r\n * Remove element\r\n *\r\n * @param {Object} ele\r\n * @returns {undefined}\r\n * @access public\r\n */\r\nPriorityQueue.prototype.remove = function(ele) {\r\n  var index = this._queue.length;\r\n\r\n  while (index--) {\r\n    var ele2 = this._queue[index];\r\n    if (ele === ele2) {\r\n      this._queue.splice(index, 1);\r\n      this._priorities.splice(index, 1);\r\n      break;\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * For each loop wrapper\r\n *\r\n * @param {function} func\r\n * @returs {undefined}\r\n * @access public\r\n */\r\nPriorityQueue.prototype.forEach = function(func) {\r\n  this._queue.forEach(func);\r\n};\r\n\r\n/**\r\n * @returns {Array}\r\n * @access public\r\n */\r\nPriorityQueue.prototype.getElements = function() {\r\n  return this._queue;\r\n};\r\n\r\n/**\r\n * @param {number} index\r\n * @returns {Object}\r\n * @access public\r\n */\r\nPriorityQueue.prototype.getElementPriority = function(index) {\r\n  return this._priorities[index];\r\n};\r\n\r\n/**\r\n * @returns {Array}\r\n * @access public\r\n */\r\nPriorityQueue.prototype.getPriorities = function() {\r\n  return this._priorities;\r\n};\r\n\r\n/**\r\n * @returns {Array}\r\n * @access public\r\n */\r\nPriorityQueue.prototype.getElementsWithPriorities = function() {\r\n  var result = [];\r\n\r\n  for (var i = 0, l = this._queue.length; i < l; i++) {\r\n    result.push([this._queue[i], this._priorities[i]]);\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\n/**\r\n * Set object properties\r\n *\r\n * @param {Array} elements\r\n * @param {Array} priorities\r\n * @returns {undefined}\r\n * @access protected\r\n */\r\nPriorityQueue.prototype._init = function(elements, priorities, sorting) {\r\n\r\n  if (elements && priorities) {\r\n    this._queue = [];\r\n    this._priorities = [];\r\n\r\n    if (elements.length !== priorities.length) {\r\n      throw new Error('Arrays must have the same length');\r\n    }\r\n\r\n    for (var i = 0; i < elements.length; i++) {\r\n      this.insert(elements[i], priorities[i]);\r\n    }\r\n  }\r\n\r\n  if (sorting) {\r\n    this._sorting = sorting;\r\n  }\r\n};\r\n\r\n/**\r\n * Insert element at given position\r\n *\r\n * @param {Object} ele\r\n * @param {number} index\r\n * @returns {undefined}\r\n * @access protected\r\n */\r\nPriorityQueue.prototype._insertAt = function(ele, priority, index) {\r\n  if (this._queue.length === index) {\r\n    this._queue.push(ele);\r\n    this._priorities.push(priority);\r\n  } else {\r\n    this._queue.splice(index, 0, ele);\r\n    this._priorities.splice(index, 0, priority);\r\n  }\r\n};\r\n\r\nif ('object' !== 'undefined' && module.exports) {\r\n  module.exports = PriorityQueue;\r\n}\n});\n\nvar OPTICS_1 = createCommonjsModule(function (module) {\n/**\r\n * @requires ./PriorityQueue.js\r\n */\r\n\r\nif ('object' !== 'undefined' && module.exports) {\r\n      var PriorityQueue = PriorityQueue_1;\r\n}\r\n\r\n/**\r\n * OPTICS - Ordering points to identify the clustering structure\r\n *\r\n * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>\r\n * @copyright MIT\r\n */\r\n\r\n/**\r\n * OPTICS class constructor\r\n * @constructor\r\n *\r\n * @param {Array} dataset\r\n * @param {number} epsilon\r\n * @param {number} minPts\r\n * @param {function} distanceFunction\r\n * @returns {OPTICS}\r\n */\r\nfunction OPTICS(dataset, epsilon, minPts, distanceFunction) {\r\n  /** @type {number} */\r\n  this.epsilon = 1;\r\n  /** @type {number} */\r\n  this.minPts = 1;\r\n  /** @type {function} */\r\n  this.distance = this._euclideanDistance;\r\n\r\n  // temporary variables used during computation\r\n\r\n  /** @type {Array} */\r\n  this._reachability = [];\r\n  /** @type {Array} */\r\n  this._processed = [];\r\n  /** @type {number} */\r\n  this._coreDistance = 0;\r\n  /** @type {Array} */\r\n  this._orderedList = [];\r\n\r\n  this._init(dataset, epsilon, minPts, distanceFunction);\r\n}\r\n\r\n/******************************************************************************/\r\n// pulic functions\r\n\r\n/**\r\n * Start clustering\r\n *\r\n * @param {Array} dataset\r\n * @returns {undefined}\r\n * @access public\r\n */\r\nOPTICS.prototype.run = function(dataset, epsilon, minPts, distanceFunction) {\r\n  this._init(dataset, epsilon, minPts, distanceFunction);\r\n\r\n  for (var pointId = 0, l = this.dataset.length; pointId < l; pointId++) {\r\n    if (this._processed[pointId] !== 1) {\r\n      this._processed[pointId] = 1;\r\n      this.clusters.push([pointId]);\r\n      var clusterId = this.clusters.length - 1;\r\n\r\n      this._orderedList.push(pointId);\r\n      var priorityQueue = new PriorityQueue(null, null, 'asc');\r\n      var neighbors = this._regionQuery(pointId);\r\n\r\n      // using priority queue assign elements to new cluster\r\n      if (this._distanceToCore(pointId) !== undefined) {\r\n        this._updateQueue(pointId, neighbors, priorityQueue);\r\n        this._expandCluster(clusterId, priorityQueue);\r\n      }\r\n    }\r\n  }\r\n\r\n  return this.clusters;\r\n};\r\n\r\n/**\r\n * Generate reachability plot for all points\r\n *\r\n * @returns {array}\r\n * @access public\r\n */\r\nOPTICS.prototype.getReachabilityPlot = function() {\r\n  var reachabilityPlot = [];\r\n\r\n  for (var i = 0, l = this._orderedList.length; i < l; i++) {\r\n    var pointId = this._orderedList[i];\r\n    var distance = this._reachability[pointId];\r\n\r\n    reachabilityPlot.push([pointId, distance]);\r\n  }\r\n\r\n  return reachabilityPlot;\r\n};\r\n\r\n/******************************************************************************/\r\n// protected functions\r\n\r\n/**\r\n * Set object properties\r\n *\r\n * @param {Array} dataset\r\n * @param {number} epsilon\r\n * @param {number} minPts\r\n * @param {function} distance\r\n * @returns {undefined}\r\n * @access protected\r\n */\r\nOPTICS.prototype._init = function(dataset, epsilon, minPts, distance) {\r\n\r\n  if (dataset) {\r\n\r\n    if (!(dataset instanceof Array)) {\r\n      throw Error('Dataset must be of type array, ' +\r\n        typeof dataset + ' given');\r\n    }\r\n\r\n    this.dataset = dataset;\r\n    this.clusters = [];\r\n    this._reachability = new Array(this.dataset.length);\r\n    this._processed = new Array(this.dataset.length);\r\n    this._coreDistance = 0;\r\n    this._orderedList = [];\r\n  }\r\n\r\n  if (epsilon) {\r\n    this.epsilon = epsilon;\r\n  }\r\n\r\n  if (minPts) {\r\n    this.minPts = minPts;\r\n  }\r\n\r\n  if (distance) {\r\n    this.distance = distance;\r\n  }\r\n};\r\n\r\n/**\r\n * Update information in queue\r\n *\r\n * @param {number} pointId\r\n * @param {Array} neighbors\r\n * @param {PriorityQueue} queue\r\n * @returns {undefined}\r\n * @access protected\r\n */\r\nOPTICS.prototype._updateQueue = function(pointId, neighbors, queue) {\r\n  var self = this;\r\n\r\n  this._coreDistance = this._distanceToCore(pointId);\r\n  neighbors.forEach(function(pointId2) {\r\n    if (self._processed[pointId2] === undefined) {\r\n      var dist = self.distance(self.dataset[pointId], self.dataset[pointId2]);\r\n      var newReachableDistance = Math.max(self._coreDistance, dist);\r\n\r\n      if (self._reachability[pointId2] === undefined) {\r\n        self._reachability[pointId2] = newReachableDistance;\r\n        queue.insert(pointId2, newReachableDistance);\r\n      } else {\r\n        if (newReachableDistance < self._reachability[pointId2]) {\r\n          self._reachability[pointId2] = newReachableDistance;\r\n          queue.remove(pointId2);\r\n          queue.insert(pointId2, newReachableDistance);\r\n        }\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Expand cluster\r\n *\r\n * @param {number} clusterId\r\n * @param {PriorityQueue} queue\r\n * @returns {undefined}\r\n * @access protected\r\n */\r\nOPTICS.prototype._expandCluster = function(clusterId, queue) {\r\n  var queueElements = queue.getElements();\r\n\r\n  for (var p = 0, l = queueElements.length; p < l; p++) {\r\n    var pointId = queueElements[p];\r\n    if (this._processed[pointId] === undefined) {\r\n      var neighbors = this._regionQuery(pointId);\r\n      this._processed[pointId] = 1;\r\n\r\n      this.clusters[clusterId].push(pointId);\r\n      this._orderedList.push(pointId);\r\n\r\n      if (this._distanceToCore(pointId) !== undefined) {\r\n        this._updateQueue(pointId, neighbors, queue);\r\n        this._expandCluster(clusterId, queue);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * Calculating distance to cluster core\r\n *\r\n * @param {number} pointId\r\n * @returns {number}\r\n * @access protected\r\n */\r\nOPTICS.prototype._distanceToCore = function(pointId) {\r\n  var l = this.epsilon;\r\n  for (var coreDistCand = 0; coreDistCand < l; coreDistCand++) {\r\n    var neighbors = this._regionQuery(pointId, coreDistCand);\r\n    if (neighbors.length >= this.minPts) {\r\n      return coreDistCand;\r\n    }\r\n  }\r\n\r\n  return;\r\n};\r\n\r\n/**\r\n * Find all neighbors around given point\r\n *\r\n * @param {number} pointId\r\n * @param {number} epsilon\r\n * @returns {Array}\r\n * @access protected\r\n */\r\nOPTICS.prototype._regionQuery = function(pointId, epsilon) {\r\n  epsilon = epsilon || this.epsilon;\r\n  var neighbors = [];\r\n\r\n  for (var id = 0, l = this.dataset.length; id < l; id++) {\r\n    if (this.distance(this.dataset[pointId], this.dataset[id]) < epsilon) {\r\n      neighbors.push(id);\r\n    }\r\n  }\r\n\r\n  return neighbors;\r\n};\r\n\r\n/******************************************************************************/\r\n// helpers\r\n\r\n/**\r\n * Calculate euclidean distance in multidimensional space\r\n *\r\n * @param {Array} p\r\n * @param {Array} q\r\n * @returns {number}\r\n * @access protected\r\n */\r\nOPTICS.prototype._euclideanDistance = function(p, q) {\r\n  var sum = 0;\r\n  var i = Math.min(p.length, q.length);\r\n\r\n  while (i--) {\r\n    sum += (p[i] - q[i]) * (p[i] - q[i]);\r\n  }\r\n\r\n  return Math.sqrt(sum);\r\n};\r\n\r\nif ('object' !== 'undefined' && module.exports) {\r\n  module.exports = OPTICS;\r\n}\n});\n\nvar lib = createCommonjsModule(function (module) {\nif ('object' !== 'undefined' && module.exports) {\r\n    module.exports = {\r\n      DBSCAN: DBSCAN_1,\r\n      KMEANS: KMEANS_1,\r\n      OPTICS: OPTICS_1,\r\n      PriorityQueue: PriorityQueue_1\r\n    };\r\n}\n});\n\nvar lib_1 = lib.DBSCAN;\nvar lib_2 = lib.KMEANS;\nvar lib_3 = lib.OPTICS;\nvar lib_4 = lib.PriorityQueue;\n\n/**\n * Takes a set of {@link Point|points} and partition them into clusters according to {@link DBSCAN's|https://en.wikipedia.org/wiki/DBSCAN} data clustering algorithm.\n *\n * @name clustersDbscan\n * @param {FeatureCollection<Point>} points to be clustered\n * @param {number} maxDistance Maximum Distance between any point of the cluster to generate the clusters (kilometers only)\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=kilometers] in which `maxDistance` is expressed, can be degrees, radians, miles, or kilometers\n * @param {number} [options.minPoints=3] Minimum number of points to generate a single cluster,\n * points which do not meet this requirement will be classified as an 'edge' or 'noise'.\n * @returns {FeatureCollection<Point>} Clustered Points with an additional two properties associated to each Feature:\n * - {number} cluster - the associated clusterId\n * - {string} dbscan - type of point it has been classified as ('core'|'edge'|'noise')\n * @example\n * // create random points with random z-values in their properties\n * var points = turf.randomPoint(100, {bbox: [0, 30, 20, 50]});\n * var maxDistance = 100;\n * var clustered = turf.clustersDbscan(points, maxDistance);\n *\n * //addToMap\n * var addToMap = [clustered];\n */\nfunction clustersDbscan(points$$1, maxDistance, options) {\n    // Optional parameters\n    options = options || {};\n    if (typeof options !== 'object') throw new Error('options is invalid');\n    var minPoints = options.minPoints;\n    var units = options.units;\n\n    // Input validation\n    collectionOf(points$$1, 'Point', 'Input must contain Points');\n    if (maxDistance === null || maxDistance === undefined) throw new Error('maxDistance is required');\n    if (!(Math.sign(maxDistance) > 0)) throw new Error('Invalid maxDistance');\n    if (!(minPoints === undefined || minPoints === null || Math.sign(minPoints) > 0)) throw new Error('Invalid minPoints');\n\n    // Clone points to prevent any mutations\n    points$$1 = clone(points$$1, true);\n\n    // Defaults\n    minPoints = minPoints || 3;\n\n    // create clustered ids\n    var dbscan = new lib.DBSCAN();\n    var clusteredIds = dbscan.run(coordAll(points$$1), convertLength(maxDistance, units), minPoints, distance);\n\n    // Tag points to Clusters ID\n    var clusterId = -1;\n    clusteredIds.forEach(function (clusterIds) {\n        clusterId++;\n        // assign cluster ids to input points\n        clusterIds.forEach(function (idx) {\n            var clusterPoint = points$$1.features[idx];\n            if (!clusterPoint.properties) clusterPoint.properties = {};\n            clusterPoint.properties.cluster = clusterId;\n            clusterPoint.properties.dbscan = 'core';\n        });\n    });\n\n    // handle noise points, if any\n    // edges points are tagged by DBSCAN as both 'noise' and 'cluster' as they can \"reach\" less than 'minPoints' number of points\n    dbscan.noise.forEach(function (noiseId) {\n        var noisePoint = points$$1.features[noiseId];\n        if (!noisePoint.properties) noisePoint.properties = {};\n        if (noisePoint.properties.cluster) noisePoint.properties.dbscan = 'edge';\n        else noisePoint.properties.dbscan = 'noise';\n    });\n\n    return points$$1;\n}\n\nvar distance$2 = {\n\t/**\n  * Euclidean distance\n  */\n\teudist: function eudist(v1, v2, sqrt) {\n\t\tvar len = v1.length;\n\t\tvar sum = 0;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar d = (v1[i] || 0) - (v2[i] || 0);\n\t\t\tsum += d * d;\n\t\t}\n\t\t// Square root not really needed\n\t\treturn sqrt ? Math.sqrt(sum) : sum;\n\t},\n\tmandist: function mandist(v1, v2, sqrt) {\n\t\tvar len = v1.length;\n\t\tvar sum = 0;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tsum += Math.abs((v1[i] || 0) - (v2[i] || 0));\n\t\t}\n\n\t\t// Square root not really needed\n\t\treturn sqrt ? Math.sqrt(sum) : sum;\n\t},\n\n\n\t/**\n  * Unidimensional distance\n  */\n\tdist: function dist(v1, v2, sqrt) {\n\t\tvar d = Math.abs(v1 - v2);\n\t\treturn sqrt ? d : d * d;\n\t}\n};\n\nvar eudist$1 = distance$2.eudist;\nvar dist$1 = distance$2.dist;\n\nvar kinit = {\n\tkmrand: function kmrand(data, k) {\n\t\tvar map = {},\n\t\t    ks = [],\n\t\t    t = k << 2;\n\t\tvar len = data.length;\n\t\tvar multi = data[0].length > 0;\n\n\t\twhile (ks.length < k && t-- > 0) {\n\t\t\tvar d = data[Math.floor(Math.random() * len)];\n\t\t\tvar key = multi ? d.join(\"_\") : \"\" + d;\n\t\t\tif (!map[key]) {\n\t\t\t\tmap[key] = true;\n\t\t\t\tks.push(d);\n\t\t\t}\n\t\t}\n\n\t\tif (ks.length < k) throw new Error(\"Error initializating clusters\");else return ks;\n\t},\n\n\n\t/**\n  * K-means++ initial centroid selection\n  */\n\tkmpp: function kmpp(data, k) {\n\t\tvar distance = data[0].length ? eudist$1 : dist$1;\n\t\tvar ks = [],\n\t\t    len = data.length;\n\t\tvar multi = data[0].length > 0;\n\t\tvar c = data[Math.floor(Math.random() * len)];\n\t\tvar key = multi ? c.join(\"_\") : \"\" + c;\n\t\tks.push(c);\n\t\twhile (ks.length < k) {\n\t\t\t// Min Distances between current centroids and data points\n\t\t\tvar dists = [],\n\t\t\t    lk = ks.length;\n\t\t\tvar dsum = 0,\n\t\t\t    prs = [];\n\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\tvar min = Infinity;\n\t\t\t\tfor (var j = 0; j < lk; j++) {\n\t\t\t\t\tvar _dist = distance(data[i], ks[j]);\n\t\t\t\t\tif (_dist <= min) min = _dist;\n\t\t\t\t}\n\t\t\t\tdists[i] = min;\n\t\t\t}\n\n\t\t\t// Sum all min distances\n\t\t\tfor (var _i = 0; _i < len; _i++) {\n\t\t\t\tdsum += dists[_i];\n\t\t\t}\n\n\t\t\t// Probabilities and cummulative prob (cumsum)\n\t\t\tfor (var _i2 = 0; _i2 < len; _i2++) {\n\t\t\t\tprs[_i2] = { i: _i2, v: data[_i2], pr: dists[_i2] / dsum, cs: 0 };\n\t\t\t}\n\n\t\t\t// Sort Probabilities\n\t\t\tprs.sort(function (a, b) {\n\t\t\t\treturn a.pr - b.pr;\n\t\t\t});\n\n\t\t\t// Cummulative Probabilities\n\t\t\tprs[0].cs = prs[0].pr;\n\t\t\tfor (var _i3 = 1; _i3 < len; _i3++) {\n\t\t\t\tprs[_i3].cs = prs[_i3 - 1].cs + prs[_i3].pr;\n\t\t\t}\n\n\t\t\t// Randomize\n\t\t\tvar rnd = Math.random();\n\n\t\t\t// Gets only the items whose cumsum >= rnd\n\t\t\tvar idx = 0;\n\t\t\twhile (idx < len - 1 && prs[idx++].cs < rnd) {}\n\t\t\tks.push(prs[idx - 1].v);\n\t\t\t/*\n   let done = false;\n   while(!done) {\n   \t// this is our new centroid\n   \tc = prs[idx-1].v\n   \tkey = multi? c.join(\"_\") : `${c}`;\n   \tif(!map[key]) {\n   \t\tmap[key] = true;\n   \t\tks.push(c);\n   \t\tdone = true;\n   \t}\n   \telse {\n   \t\tidx++;\n   \t}\n   }\n   */\n\t\t}\n\n\t\treturn ks;\n\t}\n};\n\n/*jshint esversion: 6 */\n\nvar eudist = distance$2.eudist;\nvar kmrand = kinit.kmrand;\nvar kmpp = kinit.kmpp;\n\nvar MAX = 10000;\n\n/**\n * Inits an array with values\n */\nfunction init(len, val, v) {\n\tv = v || [];\n\tfor (var i = 0; i < len; i++) {\n\t\tv[i] = val;\n\t}return v;\n}\n\nfunction skmeans(data, k, initial, maxit) {\n\tvar ks = [],\n\t    old = [],\n\t    idxs = [],\n\t    dist = [];\n\tvar conv = false,\n\t    it = maxit || MAX;\n\tvar len = data.length,\n\t    vlen = data[0].length,\n\t    multi = vlen > 0;\n\tvar count = [];\n\n\tif (!initial) {\n\t\tvar _idxs = {};\n\t\twhile (ks.length < k) {\n\t\t\tvar idx = Math.floor(Math.random() * len);\n\t\t\tif (!_idxs[idx]) {\n\t\t\t\t_idxs[idx] = true;\n\t\t\t\tks.push(data[idx]);\n\t\t\t}\n\t\t}\n\t} else if (initial == \"kmrand\") {\n\t\tks = kmrand(data, k);\n\t} else if (initial == \"kmpp\") {\n\t\tks = kmpp(data, k);\n\t} else {\n\t\tks = initial;\n\t}\n\n\tdo {\n\t\t// Reset k count\n\t\tinit(k, 0, count);\n\n\t\t// For each value in data, find the nearest centroid\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar min = Infinity,\n\t\t\t    _idx = 0;\n\t\t\tfor (var j = 0; j < k; j++) {\n\t\t\t\t// Multidimensional or unidimensional\n\t\t\t\tvar dist = multi ? eudist(data[i], ks[j]) : Math.abs(data[i] - ks[j]);\n\t\t\t\tif (dist <= min) {\n\t\t\t\t\tmin = dist;\n\t\t\t\t\t_idx = j;\n\t\t\t\t}\n\t\t\t}\n\t\t\tidxs[i] = _idx; // Index of the selected centroid for that value\n\t\t\tcount[_idx]++; // Number of values for this centroid\n\t\t}\n\n\t\t// Recalculate centroids\n\t\tvar sum = [],\n\t\t    old = [];\n\t\tfor (var _j = 0; _j < k; _j++) {\n\t\t\t// Multidimensional or unidimensional\n\t\t\tsum[_j] = multi ? init(vlen, 0, sum[_j]) : 0;\n\t\t\told[_j] = ks[_j];\n\t\t}\n\n\t\t// If multidimensional\n\t\tif (multi) {\n\t\t\tfor (var _j2 = 0; _j2 < k; _j2++) {\n\t\t\t\tks[_j2] = [];\n\t\t\t} // Sum values and count for each centroid\n\t\t\tfor (var _i = 0; _i < len; _i++) {\n\t\t\t\tvar _idx2 = idxs[_i],\n\t\t\t\t    // Centroid for that item\n\t\t\t\tvsum = sum[_idx2],\n\t\t\t\t    // Sum values for this centroid\n\t\t\t\tvect = data[_i]; // Current vector\n\n\t\t\t\t// Accumulate value on the centroid for current vector\n\t\t\t\tfor (var h = 0; h < vlen; h++) {\n\t\t\t\t\tvsum[h] += vect[h];\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Calculate the average for each centroid\n\t\t\tconv = true;\n\t\t\tfor (var _j3 = 0; _j3 < k; _j3++) {\n\t\t\t\tvar ksj = ks[_j3],\n\t\t\t\t    // Current centroid\n\t\t\t\tsumj = sum[_j3],\n\t\t\t\t    // Accumulated centroid values\n\t\t\t\toldj = old[_j3],\n\t\t\t\t    // Old centroid value\n\t\t\t\tcj = count[_j3]; // Number of elements for this centroid\n\n\t\t\t\t// New average\n\t\t\t\tfor (var _h = 0; _h < vlen; _h++) {\n\t\t\t\t\tksj[_h] = sumj[_h] / cj || 0; // New centroid\n\t\t\t\t}\n\n\t\t\t\t// Find if centroids have moved\n\t\t\t\tif (conv) {\n\t\t\t\t\tfor (var _h2 = 0; _h2 < vlen; _h2++) {\n\t\t\t\t\t\tif (oldj[_h2] != ksj[_h2]) {\n\t\t\t\t\t\t\tconv = false;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// If unidimensional\n\t\telse {\n\t\t\t\t// Sum values and count for each centroid\n\t\t\t\tfor (var _i2 = 0; _i2 < len; _i2++) {\n\t\t\t\t\tvar _idx3 = idxs[_i2];\n\t\t\t\t\tsum[_idx3] += data[_i2];\n\t\t\t\t}\n\t\t\t\t// Calculate the average for each centroid\n\t\t\t\tfor (var _j4 = 0; _j4 < k; _j4++) {\n\t\t\t\t\tks[_j4] = sum[_j4] / count[_j4] || 0; // New centroid\n\t\t\t\t}\n\t\t\t\t// Find if centroids have moved\n\t\t\t\tconv = true;\n\t\t\t\tfor (var _j5 = 0; _j5 < k; _j5++) {\n\t\t\t\t\tif (old[_j5] != ks[_j5]) {\n\t\t\t\t\t\tconv = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\tconv = conv || --it <= 0;\n\t} while (!conv);\n\n\treturn {\n\t\tit: MAX - it,\n\t\tk: k,\n\t\tidxs: idxs,\n\t\tcentroids: ks\n\t};\n}\n\nvar main = skmeans;\n\n/**\n * Takes a set of {@link Point|points} and partition them into clusters using the k-mean .\n * It uses the [k-means algorithm](https://en.wikipedia.org/wiki/K-means_clustering)\n *\n * @name clustersKmeans\n * @param {FeatureCollection<Point>} points to be clustered\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.numberOfClusters=Math.sqrt(numberOfPoints/2)] numberOfClusters that will be generated\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {FeatureCollection<Point>} Clustered Points with an additional two properties associated to each Feature:\n * - {number} cluster - the associated clusterId\n * - {[number, number]} centroid - Centroid of the cluster [Longitude, Latitude]\n * @example\n * // create random points with random z-values in their properties\n * var points = turf.randomPoint(100, {bbox: [0, 30, 20, 50]});\n * var options = {numberOfClusters: 7};\n * var clustered = turf.clustersKmeans(points, options);\n *\n * //addToMap\n * var addToMap = [clustered];\n */\nfunction clustersKmeans(points, options) {\n    // Optional parameters\n    options = options || {};\n    if (typeof options !== 'object') throw new Error('options is invalid');\n    var numberOfClusters = options.numberOfClusters;\n    var mutate = options.mutate;\n\n    // Input validation\n    collectionOf(points, 'Point', 'Input must contain Points');\n\n    // Default Params\n    var count = points.features.length;\n    numberOfClusters = numberOfClusters || Math.round(Math.sqrt(count / 2));\n\n    // numberOfClusters can't be greater than the number of points\n    // fallbacks to count\n    if (numberOfClusters > count) numberOfClusters = count;\n\n    // Clone points to prevent any mutations (enabled by default)\n    if (mutate === false || mutate === undefined) points = clone(points, true);\n\n    // collect points coordinates\n    var data = coordAll(points);\n\n    // create seed to avoid skmeans to drift\n    var initialCentroids = data.slice(0, numberOfClusters);\n\n    // create skmeans clusters\n    var skmeansResult = main(data, numberOfClusters, initialCentroids);\n\n    // store centroids {clusterId: [number, number]}\n    var centroids = {};\n    skmeansResult.centroids.forEach(function (coord, idx) {\n        centroids[idx] = coord;\n    });\n\n    // add associated cluster number\n    featureEach(points, function (point, index) {\n        var clusterId = skmeansResult.idxs[index];\n        point.properties.cluster = clusterId;\n        point.properties.centroid = centroids[clusterId];\n    });\n\n    return points;\n}\n\n/**\n * Boolean-Parallel returns True if each segment of `line1` is parallel to the correspondent segment of `line2`\n *\n * @name booleanParallel\n * @param {Geometry|Feature<LineString>} line1 GeoJSON Feature or Geometry\n * @param {Geometry|Feature<LineString>} line2 GeoJSON Feature or Geometry\n * @returns {boolean} true/false if the lines are parallel\n * @example\n * var line1 = turf.lineString([[0, 0], [0, 1]]);\n * var line2 = turf.lineString([[1, 0], [1, 1]]);\n *\n * turf.booleanParallel(line1, line2);\n * //=true\n */\nfunction booleanParallel(line1, line2) {\n    // validation\n    if (!line1) throw new Error('line1 is required');\n    if (!line2) throw new Error('line2 is required');\n    var type1 = getType$1(line1, 'line1');\n    if (type1 !== 'LineString') throw new Error('line1 must be a LineString');\n    var type2 = getType$1(line2, 'line2');\n    if (type2 !== 'LineString') throw new Error('line2 must be a LineString');\n\n    var segments1 = lineSegment(cleanCoords(line1)).features;\n    var segments2 = lineSegment(cleanCoords(line2)).features;\n\n    for (var i = 0; i < segments1.length; i++) {\n        var segment1 = segments1[i].geometry.coordinates;\n        if (!segments2[i]) break;\n        var segment2 = segments2[i].geometry.coordinates;\n        if (!isParallel$1(segment1, segment2)) return false;\n    }\n    return true;\n}\n\n\n/**\n * Compares slopes and return result\n *\n * @private\n * @param {Geometry|Feature<LineString>} segment1 Geometry or Feature\n * @param {Geometry|Feature<LineString>} segment2 Geometry or Feature\n * @returns {boolean} if slopes are equal\n */\nfunction isParallel$1(segment1, segment2) {\n    var slope1 = bearingToAzimuth(rhumbBearing(segment1[0], segment1[1]));\n    var slope2 = bearingToAzimuth(rhumbBearing(segment2[0], segment2[1]));\n    return slope1 === slope2;\n}\n\n\n/**\n * Returns Feature's type\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Geometry or Feature\n * @param {string} name of the variable\n * @returns {string} Feature's type\n */\nfunction getType$1(geojson, name) {\n    if (geojson.geometry && geojson.geometry.type) return geojson.geometry.type;\n    if (geojson.type) return geojson.type; // if GeoJSON geometry\n    throw new Error('Invalid GeoJSON object for ' + name);\n}\n\n// javascript-astar 0.4.1\n// http://github.com/bgrins/javascript-astar\n// Freely distributable under the MIT License.\n// Implements the astar search algorithm in javascript using a Binary Heap.\n// Includes Binary Heap (with modifications) from Marijn Haverbeke.\n// http://eloquentjavascript.net/appendix2.html\n\nfunction pathTo(node) {\n    var curr = node,\n        path = [];\n    while (curr.parent) {\n        path.unshift(curr);\n        curr = curr.parent;\n    }\n    return path;\n}\n\nfunction getHeap() {\n    return new BinaryHeap(function (node) {\n        return node.f;\n    });\n}\n\n/**\n * Astar\n * @private\n */\nvar astar = {\n    /**\n     * Perform an A* Search on a graph given a start and end node.\n     *\n     * @private\n     * @memberof astar\n     * @param {Graph} graph Graph\n     * @param {GridNode} start Start\n     * @param {GridNode} end End\n     * @param {Object} [options] Options\n     * @param {bool} [options.closest] Specifies whether to return the path to the closest node if the target is unreachable.\n     * @param {Function} [options.heuristic] Heuristic function (see astar.heuristics).\n     * @returns {Object} Search\n     */\n    search: function (graph, start, end, options) {\n        graph.cleanDirty();\n        options = options || {};\n        var heuristic = options.heuristic || astar.heuristics.manhattan,\n            closest = options.closest || false;\n\n        var openHeap = getHeap(),\n            closestNode = start; // set the start node to be the closest if required\n\n        start.h = heuristic(start, end);\n\n        openHeap.push(start);\n\n        while (openHeap.size() > 0) {\n\n            // Grab the lowest f(x) to process next.  Heap keeps this sorted for us.\n            var currentNode = openHeap.pop();\n\n            // End case -- result has been found, return the traced path.\n            if (currentNode === end) {\n                return pathTo(currentNode);\n            }\n\n            // Normal case -- move currentNode from open to closed, process each of its neighbors.\n            currentNode.closed = true;\n\n            // Find all neighbors for the current node.\n            var neighbors = graph.neighbors(currentNode);\n\n            for (var i = 0, il = neighbors.length; i < il; ++i) {\n                var neighbor = neighbors[i];\n\n                if (neighbor.closed || neighbor.isWall()) {\n                    // Not a valid node to process, skip to next neighbor.\n                    continue;\n                }\n\n                // The g score is the shortest distance from start to current node.\n                // We need to check if the path we have arrived at this neighbor is the shortest one we have seen yet.\n                var gScore = currentNode.g + neighbor.getCost(currentNode),\n                    beenVisited = neighbor.visited;\n\n                if (!beenVisited || gScore < neighbor.g) {\n\n                    // Found an optimal (so far) path to this node.  Take score for node to see how good it is.\n                    neighbor.visited = true;\n                    neighbor.parent = currentNode;\n                    neighbor.h = neighbor.h || heuristic(neighbor, end);\n                    neighbor.g = gScore;\n                    neighbor.f = neighbor.g + neighbor.h;\n                    graph.markDirty(neighbor);\n                    if (closest) {\n                        // If the neighbour is closer than the current closestNode or if it's equally close but has\n                        // a cheaper path than the current closest node then it becomes the closest node\n                        if (neighbor.h < closestNode.h || (neighbor.h === closestNode.h && neighbor.g < closestNode.g)) {\n                            closestNode = neighbor;\n                        }\n                    }\n\n                    if (!beenVisited) {\n                        // Pushing to heap will put it in proper place based on the 'f' value.\n                        openHeap.push(neighbor);\n                    } else {\n                        // Already seen the node, but since it has been rescored we need to reorder it in the heap\n                        openHeap.rescoreElement(neighbor);\n                    }\n                }\n            }\n        }\n\n        if (closest) {\n            return pathTo(closestNode);\n        }\n\n        // No result was found - empty array signifies failure to find path.\n        return [];\n    },\n    // See list of heuristics: http://theory.stanford.edu/~amitp/GameProgramming/Heuristics.html\n    heuristics: {\n        manhattan: function (pos0, pos1) {\n            var d1 = Math.abs(pos1.x - pos0.x);\n            var d2 = Math.abs(pos1.y - pos0.y);\n            return d1 + d2;\n        },\n        diagonal: function (pos0, pos1) {\n            var D = 1;\n            var D2 = Math.sqrt(2);\n            var d1 = Math.abs(pos1.x - pos0.x);\n            var d2 = Math.abs(pos1.y - pos0.y);\n            return (D * (d1 + d2)) + ((D2 - (2 * D)) * Math.min(d1, d2));\n        }\n    },\n    cleanNode: function (node) {\n        node.f = 0;\n        node.g = 0;\n        node.h = 0;\n        node.visited = false;\n        node.closed = false;\n        node.parent = null;\n    }\n};\n\n/**\n * A graph memory structure\n *\n * @private\n * @param {Array} gridIn 2D array of input weights\n * @param {Object} [options] Options\n * @param {boolean} [options.diagonal] Specifies whether diagonal moves are allowed\n * @returns {void} Graph\n */\nfunction Graph$1(gridIn, options) {\n    options = options || {};\n    this.nodes = [];\n    this.diagonal = !!options.diagonal;\n    this.grid = [];\n    for (var x = 0; x < gridIn.length; x++) {\n        this.grid[x] = [];\n\n        for (var y = 0, row = gridIn[x]; y < row.length; y++) {\n            var node = new GridNode(x, y, row[y]);\n            this.grid[x][y] = node;\n            this.nodes.push(node);\n        }\n    }\n    this.init();\n}\n\nGraph$1.prototype.init = function () {\n    this.dirtyNodes = [];\n    for (var i = 0; i < this.nodes.length; i++) {\n        astar.cleanNode(this.nodes[i]);\n    }\n};\n\nGraph$1.prototype.cleanDirty = function () {\n    for (var i = 0; i < this.dirtyNodes.length; i++) {\n        astar.cleanNode(this.dirtyNodes[i]);\n    }\n    this.dirtyNodes = [];\n};\n\nGraph$1.prototype.markDirty = function (node) {\n    this.dirtyNodes.push(node);\n};\n\nGraph$1.prototype.neighbors = function (node) {\n    var ret = [],\n        x = node.x,\n        y = node.y,\n        grid = this.grid;\n\n    // West\n    if (grid[x - 1] && grid[x - 1][y]) {\n        ret.push(grid[x - 1][y]);\n    }\n\n    // East\n    if (grid[x + 1] && grid[x + 1][y]) {\n        ret.push(grid[x + 1][y]);\n    }\n\n    // South\n    if (grid[x] && grid[x][y - 1]) {\n        ret.push(grid[x][y - 1]);\n    }\n\n    // North\n    if (grid[x] && grid[x][y + 1]) {\n        ret.push(grid[x][y + 1]);\n    }\n\n    if (this.diagonal) {\n        // Southwest\n        if (grid[x - 1] && grid[x - 1][y - 1]) {\n            ret.push(grid[x - 1][y - 1]);\n        }\n\n        // Southeast\n        if (grid[x + 1] && grid[x + 1][y - 1]) {\n            ret.push(grid[x + 1][y - 1]);\n        }\n\n        // Northwest\n        if (grid[x - 1] && grid[x - 1][y + 1]) {\n            ret.push(grid[x - 1][y + 1]);\n        }\n\n        // Northeast\n        if (grid[x + 1] && grid[x + 1][y + 1]) {\n            ret.push(grid[x + 1][y + 1]);\n        }\n    }\n\n    return ret;\n};\n\nGraph$1.prototype.toString = function () {\n    var graphString = [],\n        nodes = this.grid, // when using grid\n        rowDebug, row, y, l;\n    for (var x = 0, len = nodes.length; x < len; x++) {\n        rowDebug = [];\n        row = nodes[x];\n        for (y = 0, l = row.length; y < l; y++) {\n            rowDebug.push(row[y].weight);\n        }\n        graphString.push(rowDebug.join(' '));\n    }\n    return graphString.join('\\n');\n};\n\nfunction GridNode(x, y, weight) {\n    this.x = x;\n    this.y = y;\n    this.weight = weight;\n}\n\nGridNode.prototype.toString = function () {\n    return '[' + this.x + ' ' + this.y + ']';\n};\n\nGridNode.prototype.getCost = function (fromNeighbor) {\n    // Take diagonal weight into consideration.\n    if (fromNeighbor && fromNeighbor.x !== this.x && fromNeighbor.y !== this.y) {\n        return this.weight * 1.41421;\n    }\n    return this.weight;\n};\n\nGridNode.prototype.isWall = function () {\n    return this.weight === 0;\n};\n\nfunction BinaryHeap(scoreFunction) {\n    this.content = [];\n    this.scoreFunction = scoreFunction;\n}\n\nBinaryHeap.prototype = {\n    push: function (element) {\n        // Add the new element to the end of the array.\n        this.content.push(element);\n\n        // Allow it to sink down.\n        this.sinkDown(this.content.length - 1);\n    },\n    pop: function () {\n        // Store the first element so we can return it later.\n        var result = this.content[0];\n        // Get the element at the end of the array.\n        var end = this.content.pop();\n        // If there are any elements left, put the end element at the\n        // start, and let it bubble up.\n        if (this.content.length > 0) {\n            this.content[0] = end;\n            this.bubbleUp(0);\n        }\n        return result;\n    },\n    remove: function (node) {\n        var i = this.content.indexOf(node);\n\n        // When it is found, the process seen in 'pop' is repeated\n        // to fill up the hole.\n        var end = this.content.pop();\n\n        if (i !== this.content.length - 1) {\n            this.content[i] = end;\n\n            if (this.scoreFunction(end) < this.scoreFunction(node)) {\n                this.sinkDown(i);\n            } else {\n                this.bubbleUp(i);\n            }\n        }\n    },\n    size: function () {\n        return this.content.length;\n    },\n    rescoreElement: function (node) {\n        this.sinkDown(this.content.indexOf(node));\n    },\n    sinkDown: function (n) {\n        // Fetch the element that has to be sunk.\n        var element = this.content[n];\n\n        // When at 0, an element can not sink any further.\n        while (n > 0) {\n\n            // Compute the parent element's index, and fetch it.\n            var parentN = ((n + 1) >> 1) - 1,\n                parent = this.content[parentN];\n            // Swap the elements if the parent is greater.\n            if (this.scoreFunction(element) < this.scoreFunction(parent)) {\n                this.content[parentN] = element;\n                this.content[n] = parent;\n                // Update 'n' to continue at the new position.\n                n = parentN;\n            // Found a parent that is less, no need to sink any further.\n            } else {\n                break;\n            }\n        }\n    },\n    bubbleUp: function (n) {\n        // Look up the target element and its score.\n        var length = this.content.length,\n            element = this.content[n],\n            elemScore = this.scoreFunction(element);\n\n        while (true) {\n            // Compute the indices of the child elements.\n            var child2N = (n + 1) << 1,\n                child1N = child2N - 1;\n            // This is used to store the new position of the element, if any.\n            var swap = null,\n                child1Score;\n            // If the first child exists (is inside the array)...\n            if (child1N < length) {\n                // Look it up and compute its score.\n                var child1 = this.content[child1N];\n                child1Score = this.scoreFunction(child1);\n\n                // If the score is less than our element's, we need to swap.\n                if (child1Score < elemScore) {\n                    swap = child1N;\n                }\n            }\n\n            // Do the same checks for the other child.\n            if (child2N < length) {\n                var child2 = this.content[child2N],\n                    child2Score = this.scoreFunction(child2);\n                if (child2Score < (swap === null ? elemScore : child1Score)) {\n                    swap = child2N;\n                }\n            }\n\n            // If the element needs to be moved, swap it, and continue.\n            if (swap !== null) {\n                this.content[n] = this.content[swap];\n                this.content[swap] = element;\n                n = swap;\n            // Otherwise, we are done.\n            } else {\n                break;\n            }\n        }\n    }\n};\n\n/**\n * Returns the shortest {@link LineString|path} from {@link Point|start} to {@link Point|end} without colliding with\n * any {@link Feature} in {@link FeatureCollection<Polygon>| obstacles}\n *\n * @name shortestPath\n * @param {Coord} start point\n * @param {Coord} end point\n * @param {Object} [options={}] optional parameters\n * @param {Geometry|Feature|FeatureCollection<Polygon>} [options.obstacles] areas which path cannot travel\n * @param {number} [options.minDistance] minimum distance between shortest path and obstacles\n * @param {string} [options.units='kilometers'] unit in which resolution & minimum distance will be expressed in; it can be degrees, radians, miles, kilometers, ...\n * @param {number} [options.resolution=100] distance between matrix points on which the path will be calculated\n * @returns {Feature<LineString>} shortest path between start and end\n * @example\n * var start = [-5, -6];\n * var end = [9, -6];\n * var options = {\n *   obstacles: turf.polygon([[[0, -7], [5, -7], [5, -3], [0, -3], [0, -7]]])\n * };\n *\n * var path = turf.shortestPath(start, end, options);\n *\n * //addToMap\n * var addToMap = [start, end, options.obstacles, path];\n */\nfunction shortestPath(start, end, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var resolution = options.resolution;\n    var minDistance = options.minDistance;\n    var obstacles = options.obstacles || featureCollection([]);\n\n    // validation\n    if (!start) throw new Error('start is required');\n    if (!end) throw new Error('end is required');\n    if (resolution && !isNumber(resolution) || resolution <= 0) throw new Error('options.resolution must be a number, greater than 0');\n    if (minDistance) throw new Error('options.minDistance is not yet implemented');\n\n    // Normalize Inputs\n    var startCoord = getCoord(start);\n    var endCoord = getCoord(end);\n    start = point(startCoord);\n    end = point(endCoord);\n\n    // Handle obstacles\n    switch (getType(obstacles)) {\n    case 'FeatureCollection':\n        if (obstacles.features.length === 0) return lineString([startCoord, endCoord]);\n        break;\n    case 'Polygon':\n        obstacles = featureCollection([feature(getGeom(obstacles))]);\n        break;\n    default:\n        throw new Error('invalid obstacles');\n    }\n\n    // define path grid area\n    var collection = obstacles;\n    collection.features.push(start);\n    collection.features.push(end);\n    var box = bbox(transformScale(bboxPolygon(bbox(collection)), 1.15)); // extend 15%\n    if (!resolution) {\n        var width = distance([box[0], box[1]], [box[2], box[1]], options);\n        resolution = width / 100;\n    }\n    collection.features.pop();\n    collection.features.pop();\n\n    var west = box[0];\n    var south = box[1];\n    var east = box[2];\n    var north = box[3];\n\n    var xFraction = resolution / (distance([west, south], [east, south], options));\n    var cellWidth = xFraction * (east - west);\n    var yFraction = resolution / (distance([west, south], [west, north], options));\n    var cellHeight = yFraction * (north - south);\n\n    var bboxHorizontalSide = (east - west);\n    var bboxVerticalSide = (north - south);\n    var columns = Math.floor(bboxHorizontalSide / cellWidth);\n    var rows = Math.floor(bboxVerticalSide / cellHeight);\n    // adjust origin of the grid\n    var deltaX = (bboxHorizontalSide - columns * cellWidth) / 2;\n    var deltaY = (bboxVerticalSide - rows * cellHeight) / 2;\n\n    // loop through points only once to speed up process\n    // define matrix grid for A-star algorithm\n    var pointMatrix = [];\n    var matrix = [];\n\n    var closestToStart = [];\n    var closestToEnd = [];\n    var minDistStart = Infinity;\n    var minDistEnd = Infinity;\n    var currentY = north - deltaY;\n    var r = 0;\n    while (currentY >= south) {\n        // var currentY = south + deltaY;\n        var matrixRow = [];\n        var pointMatrixRow = [];\n        var currentX = west + deltaX;\n        var c = 0;\n        while (currentX <= east) {\n            var pt = point([currentX, currentY]);\n            var isInsideObstacle = isInside$1(pt, obstacles);\n            // feed obstacles matrix\n            matrixRow.push(isInsideObstacle ? 0 : 1); // with javascript-astar\n            // matrixRow.push(isInsideObstacle ? 1 : 0); // with astar-andrea\n            // map point's coords\n            pointMatrixRow.push(currentX + '|' + currentY);\n            // set closest points\n            var distStart = distance(pt, start);\n            // if (distStart < minDistStart) {\n            if (!isInsideObstacle && distStart < minDistStart) {\n                minDistStart = distStart;\n                closestToStart = {x: c, y: r};\n            }\n            var distEnd = distance(pt, end);\n            // if (distEnd < minDistEnd) {\n            if (!isInsideObstacle && distEnd < minDistEnd) {\n                minDistEnd = distEnd;\n                closestToEnd = {x: c, y: r};\n            }\n            currentX += cellWidth;\n            c++;\n        }\n        matrix.push(matrixRow);\n        pointMatrix.push(pointMatrixRow);\n        currentY -= cellHeight;\n        r++;\n    }\n\n    // find path on matrix grid\n\n    // javascript-astar ----------------------\n    var graph = new Graph$1(matrix, {diagonal: true});\n    var startOnMatrix = graph.grid[closestToStart.y][closestToStart.x];\n    var endOnMatrix = graph.grid[closestToEnd.y][closestToEnd.x];\n    var result = astar.search(graph, startOnMatrix, endOnMatrix);\n\n    var path = [startCoord];\n    result.forEach(function (coord) {\n        var coords = pointMatrix[coord.x][coord.y].split('|');\n        path.push([+coords[0], +coords[1]]); // make sure coords are numbers\n    });\n    path.push(endCoord);\n    // ---------------------------------------\n\n\n    // astar-andrea ------------------------\n    // var result = aStar(matrix, [closestToStart.x, closestToStart.y], [closestToEnd.x, closestToEnd.y], 'DiagonalFree');\n    // var path = [start.geometry.coordinates];\n    // result.forEach(function (coord) {\n    //     var coords = pointMatrix[coord[1]][coord[0]].split('|');\n    //     path.push([+coords[0], +coords[1]]); // make sure coords are numbers\n    // });\n    // path.push(end.geometry.coordinates);\n    // ---------------------------------------\n\n\n    return cleanCoords(lineString(path));\n}\n\n/**\n * Checks if Point is inside any of the Polygons\n *\n * @private\n * @param {Feature<Point>} pt to check\n * @param {FeatureCollection<Polygon>} polygons features\n * @returns {boolean} if inside or not\n */\nfunction isInside$1(pt, polygons$$1) {\n    for (var i = 0; i < polygons$$1.features.length; i++) {\n        if (booleanPointInPolygon(pt, polygons$$1.features[i])) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction x(d) {\n  return d[0];\n}\n\nfunction y(d) {\n  return d[1];\n}\n\nfunction RedBlackTree() {\n  this._ = null; // root node\n}\n\nfunction RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nfunction createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nfunction createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nfunction setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// LiangBarsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nfunction clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n\nfunction createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nfunction cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nfunction cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nfunction sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nfunction clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there werent any edges, have the closest site cover the extent.\n  // It doesnt matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n\nvar circlePool = [];\n\nvar firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nfunction attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nfunction detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nfunction removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n\nvar epsilon = 1e-6;\nvar epsilon2 = 1e-12;\nvar beaches;\nvar cells;\nvar circles;\nvar edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nfunction Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n};\n\nvar voronoi = function() {\n  var x$$1 = x,\n      y$$1 = y,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x$$1(d, i, data) / epsilon) * epsilon, Math.round(y$$1(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x$$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x$$1;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y$$1 = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y$$1;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n};\n\n/**\n * @private\n * @param {Array<Array<number>>} coords representing a polygon\n * @returns {Feature<Polygon>} polygon\n */\nfunction coordsToPolygon(coords) {\n    coords = coords.slice();\n    coords.push(coords[0]);\n    return polygon([coords]);\n}\n\n/**\n * Takes a FeatureCollection of points, and a bounding box, and returns a FeatureCollection\n * of Voronoi polygons.\n *\n * The Voronoi algorithim used comes from the d3-voronoi package.\n *\n * @name voronoi\n * @param {FeatureCollection<Point>} points to find the Voronoi polygons around.\n * @param {Object} [options={}] Optional parameters\n * @param {number[]} [options.bbox=[-180, -85, 180, -85]] clipping rectangle, in [minX, minY, maxX, MaxY] order.\n * @returns {FeatureCollection<Polygon>} a set of polygons, one per input point.\n * @example\n * var options = {\n *   bbox: [-70, 40, -60, 60]\n * };\n * var points = turf.randomPoint(100, options);\n * var voronoiPolygons = turf.voronoi(points, options);\n *\n * //addToMap\n * var addToMap = [voronoiPolygons, points];\n */\nfunction voronoi$1(points$$1, options) {\n    // Optional params\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var bbox = options.bbox || [-180, -85, 180, 85];\n\n    // Input Validation\n    if (!points$$1) throw new Error('points is required');\n    if (!Array.isArray(bbox)) throw new Error('bbox is invalid');\n    collectionOf(points$$1, 'Point', 'points');\n\n    // Main\n    return featureCollection(\n        voronoi()\n            .x(function (feature$$1) { return feature$$1.geometry.coordinates[0]; })\n            .y(function (feature$$1) { return feature$$1.geometry.coordinates[1]; })\n            .extent([[bbox[0], bbox[1]], [bbox[2], bbox[3]]])\n            .polygons(points$$1.features)\n            .map(coordsToPolygon)\n    );\n}\n\n/**\n * Takes a {@link Point} and calculates the ellipse polygon given two semi-axes expressed in variable units and steps for precision.\n *\n * @param {Coord} center center point\n * @param {number} xSemiAxis semi (major) axis of the ellipse along the x-axis\n * @param {number} ySemiAxis semi (minor) axis of the ellipse along the y-axis\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.angle=0] angle of rotation (along the vertical axis), from North in decimal degrees, negative clockwise\n * @param {Coord} [options.pivot='origin'] point around which the rotation will be performed\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] unit of measurement for axes\n * @param {Object} [options.properties={}] properties\n * @returns {Feature<Polygon>} ellipse polygon\n * @example\n * var center = [-75, 40];\n * var xSemiAxis = 5;\n * var ySemiAxis = 2;\n * var ellipse = turf.ellipse(center, xSemiAxis, ySemiAxis);\n *\n * //addToMap\n * var addToMap = [turf.point(center), ellipse]\n */\nfunction ellipse(center, xSemiAxis, ySemiAxis, options) {\n    // Optional params\n    options = options || {};\n    var steps = options.steps || 64;\n    var units = options.units || 'kilometers';\n    var angle = options.angle || 0;\n    var pivot = options.pivot || center;\n    var properties = options.properties || center.properties || {};\n\n    // validation\n    if (!center) throw new Error('center is required');\n    if (!xSemiAxis) throw new Error('xSemiAxis is required');\n    if (!ySemiAxis) throw new Error('ySemiAxis is required');\n    if (!isObject(options)) throw new Error('options must be an object');\n    if (!isNumber(steps)) throw new Error('steps must be a number');\n    if (!isNumber(angle)) throw new Error('angle must be a number');\n\n    var centerCoords = getCoord(center);\n    if (units === 'degrees') {\n        var angleRad = degreesToRadians(angle);\n    } else {\n        xSemiAxis = rhumbDestination(center, xSemiAxis, 90, {units: units});\n        ySemiAxis = rhumbDestination(center, ySemiAxis, 0, {units: units});\n        xSemiAxis = getCoord(xSemiAxis)[0] - centerCoords[0];\n        ySemiAxis = getCoord(ySemiAxis)[1] - centerCoords[1];\n    }\n\n    var coordinates = [];\n    for (var i = 0; i < steps; i += 1) {\n        var stepAngle = i * -360 / steps;\n        var x = ((xSemiAxis * ySemiAxis) / Math.sqrt(Math.pow(ySemiAxis, 2) + (Math.pow(xSemiAxis, 2) * Math.pow(getTanDeg(stepAngle), 2))));\n        var y = ((xSemiAxis * ySemiAxis) / Math.sqrt(Math.pow(xSemiAxis, 2) + (Math.pow(ySemiAxis, 2) / Math.pow(getTanDeg(stepAngle), 2))));\n\n        if (stepAngle < -90 && stepAngle >= -270) x = -x;\n        if (stepAngle < -180 && stepAngle >= -360) y = -y;\n        if (units === 'degrees') {\n            var newx = x * Math.cos(angleRad) + y * Math.sin(angleRad);\n            var newy = y * Math.cos(angleRad) - x * Math.sin(angleRad);\n            x = newx;\n            y = newy;\n        }\n\n        coordinates.push([x + centerCoords[0], y + centerCoords[1]]);\n    }\n    coordinates.push(coordinates[0]);\n    if (units === 'degrees') {\n        return polygon([coordinates], properties);\n    } else {\n        return transformRotate(polygon([coordinates], properties), angle, { pivot: pivot });\n    }\n}\n\n/**\n * Get Tan Degrees\n *\n * @private\n * @param {number} deg Degrees\n * @returns {number} Tan Degrees\n */\nfunction getTanDeg(deg) {\n    var rad = deg * Math.PI / 180;\n    return Math.tan(rad);\n}\n\n/**\n * Takes a {@link Feature} or {@link FeatureCollection} and returns the mean center. Can be weighted.\n *\n * @name centerMean\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] an Object that is used as the {@link Feature}'s properties\n * @param {number} [options.weight] the property name used to weight the center\n * @returns {Feature<Point>} a Point feature at the mean center point of all input features\n * @example\n * var features = turf.featureCollection([\n *   turf.point([-97.522259, 35.4691], {weight: 10}),\n *   turf.point([-97.502754, 35.463455], {weight: 3}),\n *   turf.point([-97.508269, 35.463245], {weight: 5})\n * ]);\n *\n * var options = {weight: \"weight\"}\n * var mean = turf.centerMean(features, options);\n *\n * //addToMap\n * var addToMap = [features, mean]\n * mean.properties['marker-size'] = 'large';\n * mean.properties['marker-color'] = '#000';\n */\nfunction centerMean(geojson, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var properties = options.properties;\n    var weightTerm = options.weight;\n\n    // Input validation\n    if (!geojson) throw new Error('geojson is required');\n\n    var sumXs = 0;\n    var sumYs = 0;\n    var sumNs = 0;\n    geomEach(geojson, function (geom, featureIndex, properties) {\n        var weight = properties[weightTerm];\n        weight = (weight === undefined || weight === null) ? 1 : weight;\n        if (!isNumber(weight)) throw new Error('weight value must be a number for feature index ' + featureIndex);\n        weight = Number(weight);\n        if (weight > 0) {\n            coordEach(geom, function (coord) {\n                sumXs += coord[0] * weight;\n                sumYs += coord[1] * weight;\n                sumNs += weight;\n            });\n        }\n    });\n    return point([sumXs / sumNs, sumYs / sumNs], properties);\n}\n\n/**\n * Takes a {@link FeatureCollection} of points and calculates the median center,\n * algorithimically. The median center is understood as the point that is\n * requires the least total travel from all other points.\n *\n * Turfjs has four different functions for calculating the center of a set of\n * data. Each is useful depending on circumstance.\n *\n * `@turf/center` finds the simple center of a dataset, by finding the\n * midpoint between the extents of the data. That is, it divides in half the\n * farthest east and farthest west point as well as the farthest north and\n * farthest south.\n *\n * `@turf/center-of-mass` imagines that the dataset is a sheet of paper.\n * The center of mass is where the sheet would balance on a fingertip.\n *\n * `@turf/center-mean` takes the averages of all the coordinates and\n * produces a value that respects that. Unlike `@turf/center`, it is\n * sensitive to clusters and outliers. It lands in the statistical middle of a\n * dataset, not the geographical. It can also be weighted, meaning certain\n * points are more important than others.\n *\n * `@turf/center-median` takes the mean center and tries to find, iteratively,\n * a new point that requires the least amount of travel from all the points in\n * the dataset. It is not as sensitive to outliers as `@turf/center`, but it is\n * attracted to clustered data. It, too, can be weighted.\n *\n * **Bibliography**\n *\n * Harold W. Kuhn and Robert E. Kuenne, An Efficient Algorithm for the\n * Numerical Solution of the Generalized Weber Problem in Spatial\n * Economics, _Journal of Regional Science_ 4, no. 2 (1962): 2133,\n * doi:{@link https://doi.org/10.1111/j.1467-9787.1962.tb00902.x}.\n *\n * James E. Burt, Gerald M. Barber, and David L. Rigby, _Elementary\n * Statistics for Geographers_, 3rd ed., New York: The Guilford\n * Press, 2009, 150151.\n *\n * @name centerMedian\n * @param {FeatureCollection<any>} features Any GeoJSON Feature Collection\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.weight] the property name used to weight the center\n * @param {number} [options.tolerance=0.001] the difference in distance between candidate medians at which point the algorighim stops iterating.\n * @param {number} [options.counter=10] how many attempts to find the median, should the tolerance be insufficient.\n * @returns {Feature<Point>} The median center of the collection\n * @example\n * var points = turf.points([[0, 0], [1, 0], [0, 1], [5, 8]]);\n * var medianCenter = turf.centerMedian(points);\n *\n * //addToMap\n * var addToMap = [points, medianCenter]\n */\nfunction centerMedian(features, options) {\n    // Optional params\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var counter = options.counter || 10;\n    if (!isNumber(counter)) throw new Error('counter must be a number');\n    var weightTerm = options.weight;\n\n    // Calculate mean center:\n    var meanCenter = centerMean(features, {weight: options.weight});\n\n    // Calculate center of every feature:\n    var centroids = featureCollection([]);\n    featureEach(features, function (feature$$1) {\n        centroids.features.push(centroid(feature$$1, {weight: feature$$1.properties[weightTerm]}));\n    });\n\n    centroids.properties = {\n        tolerance: options.tolerance,\n        medianCandidates: []\n    };\n    return findMedian(meanCenter.geometry.coordinates, [0, 0], centroids, counter);\n}\n\n/**\n * Recursive function to find new candidate medians.\n *\n * @private\n * @param {Position} candidateMedian current candidate median\n * @param {Position} previousCandidate the previous candidate median\n * @param {FeatureCollection<Point>} centroids the collection of centroids whose median we are determining\n * @param {number} counter how many attempts to try before quitting.\n * @returns {Feature<Point>} the median center of the dataset.\n */\nfunction findMedian(candidateMedian, previousCandidate, centroids, counter) {\n    var tolerance = centroids.properties.tolerance || 0.001;\n    var candidateXsum = 0;\n    var candidateYsum = 0;\n    var kSum = 0;\n    var centroidCount = 0;\n    featureEach(centroids, function (theCentroid) {\n        var weightValue = theCentroid.properties.weight;\n        var weight = (weightValue === undefined || weightValue === null) ? 1 : weightValue;\n        weight = Number(weight);\n        if (!isNumber(weight)) throw new Error('weight value must be a number');\n        if (weight > 0) {\n            centroidCount += 1;\n            var distanceFromCandidate = weight * distance(theCentroid, candidateMedian);\n            if (distanceFromCandidate === 0) distanceFromCandidate = 1;\n            var k = weight / distanceFromCandidate;\n            candidateXsum += theCentroid.geometry.coordinates[0] * k;\n            candidateYsum += theCentroid.geometry.coordinates[1] * k;\n            kSum += k;\n        }\n    });\n    if (centroidCount < 1) throw new Error('no features to measure');\n    var candidateX = candidateXsum / kSum;\n    var candidateY = candidateYsum / kSum;\n    if (centroidCount === 1 || counter === 0 || (Math.abs(candidateX - previousCandidate[0]) < tolerance && Math.abs(candidateY - previousCandidate[1]) < tolerance)) {\n        return point([candidateX, candidateY], {medianCandidates: centroids.properties.medianCandidates});\n    } else {\n        centroids.properties.medianCandidates.push([candidateX, candidateY]);\n        return findMedian([candidateX, candidateY], candidateMedian, centroids, counter - 1);\n    }\n}\n\n/**\n * Takes a {@link FeatureCollection} and returns a standard deviational ellipse,\n * also known as a directional distribution. The standard deviational ellipse\n * aims to show the direction and the distribution of a dataset by drawing\n * an ellipse that contains about one standard deviations worth (~ 70%) of the\n * data.\n *\n * This module mirrors the functionality of [Directional Distribution](http://desktop.arcgis.com/en/arcmap/10.3/tools/spatial-statistics-toolbox/directional-distribution.htm)\n * in ArcGIS and the [QGIS Standard Deviational Ellipse Plugin](http://arken.nmbu.no/~havatv/gis/qgisplugins/SDEllipse/)\n *\n * **Bibliography**\n *\n *  Robert S. Yuill, The Standard Deviational Ellipse; An Updated Tool for\n * Spatial Description, _Geografiska Annaler_ 53, no. 1 (1971): 2839,\n * doi:{@link https://doi.org/10.2307/490885|10.2307/490885}.\n *\n *  Paul Hanly Furfey, A Note on Lefevers Standard Deviational Ellipse,\n * _American Journal of Sociology_ 33, no. 1 (1927): 9498,\n * doi:{@link https://doi.org/10.1086/214336|10.1086/214336}.\n *\n *\n * @name standardDeviationalEllipse\n * @param {FeatureCollection<Point>} points GeoJSON points\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.weight] the property name used to weight the center\n * @param {number} [options.steps=64] number of steps for the polygon\n * @param {Object} [options.properties={}] properties to pass to the resulting ellipse\n * @returns {Feature<Polygon>} an elliptical Polygon that includes approximately 1 SD of the dataset within it.\n * @example\n *\n * var bbox = [-74, 40.72, -73.98, 40.74];\n * var points = turf.randomPoint(400, {bbox: bbox});\n * var sdEllipse = turf.standardDeviationalEllipse(points);\n *\n * //addToMap\n * var addToMap = [points, sdEllipse];\n *\n */\nfunction standardDeviationalEllipse(points$$1, options) {\n    // Optional params\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var steps = options.steps || 64;\n    var weightTerm = options.weight;\n    var properties = options.properties || {};\n\n    // Validation:\n    if (!isNumber(steps)) throw new Error('steps must be a number');\n    if (!isObject(properties)) throw new Error('properties must be a number');\n\n    // Calculate mean center & number of features:\n    var numberOfFeatures = coordAll(points$$1).length;\n    var meanCenter = centerMean(points$$1, {weight: weightTerm});\n\n    // Calculate angle of rotation:\n    // [X, Y] = mean center of all [x, y].\n    // theta = arctan( (A + B) / C )\n    // A = sum((x - X)^2) - sum((y - Y)^2)\n    // B = sqrt(A^2 + 4(sum((x - X)(y - Y))^2))\n    // C = 2(sum((x - X)(y - Y)))\n\n    var xDeviationSquaredSum = 0;\n    var yDeviationSquaredSum = 0;\n    var xyDeviationSum = 0;\n\n    featureEach(points$$1, function (point$$1) {\n        var weight = point$$1.properties[weightTerm] || 1;\n        var deviation = getDeviations(getCoords(point$$1), getCoords(meanCenter));\n        xDeviationSquaredSum += Math.pow(deviation.x, 2) * weight;\n        yDeviationSquaredSum += Math.pow(deviation.y, 2) * weight;\n        xyDeviationSum += deviation.x * deviation.y * weight;\n    });\n\n    var bigA = xDeviationSquaredSum - yDeviationSquaredSum;\n    var bigB = Math.sqrt(Math.pow(bigA, 2) + 4 * Math.pow(xyDeviationSum, 2));\n    var bigC = 2 * xyDeviationSum;\n    var theta = Math.atan((bigA + bigB) / bigC);\n    var thetaDeg = theta * 180 / Math.PI;\n\n    // Calculate axes:\n    // sigmaX = sqrt((1 / n - 2) * sum((((x - X) * cos(theta)) - ((y - Y) * sin(theta)))^2))\n    // sigmaY = sqrt((1 / n - 2) * sum((((x - X) * sin(theta)) - ((y - Y) * cos(theta)))^2))\n    var sigmaXsum = 0;\n    var sigmaYsum = 0;\n    var weightsum = 0;\n    featureEach(points$$1, function (point$$1) {\n        var weight = point$$1.properties[weightTerm] || 1;\n        var deviation = getDeviations(getCoords(point$$1), getCoords(meanCenter));\n        sigmaXsum += Math.pow((deviation.x * Math.cos(theta)) - (deviation.y * Math.sin(theta)), 2) * weight;\n        sigmaYsum += Math.pow((deviation.x * Math.sin(theta)) + (deviation.y * Math.cos(theta)), 2) * weight;\n        weightsum += weight;\n    });\n\n    var sigmaX = Math.sqrt(2 * sigmaXsum / weightsum);\n    var sigmaY = Math.sqrt(2 * sigmaYsum / weightsum);\n\n    var theEllipse = ellipse(meanCenter, sigmaX, sigmaY, {units: 'degrees', angle: thetaDeg, steps: steps, properties: properties});\n    var pointsWithinEllipse = pointsWithinPolygon(points$$1, featureCollection([theEllipse]));\n    var standardDeviationalEllipseProperties = {\n        meanCenterCoordinates: getCoords(meanCenter),\n        semiMajorAxis: sigmaX,\n        semiMinorAxis: sigmaY,\n        numberOfFeatures: numberOfFeatures,\n        angle: thetaDeg,\n        percentageWithinEllipse: 100 * coordAll(pointsWithinEllipse).length / numberOfFeatures\n    };\n    theEllipse.properties.standardDeviationalEllipse = standardDeviationalEllipseProperties;\n\n    return theEllipse;\n}\n\n/**\n * Get x_i - X and y_i - Y\n *\n * @private\n * @param {Array} coordinates Array of [x_i, y_i]\n * @param {Array} center Array of [X, Y]\n * @returns {Object} { x: n, y: m }\n */\nfunction getDeviations(coordinates, center) {\n    return {\n        x: coordinates[0] - center[0],\n        y: coordinates[1] - center[1]\n    };\n}\n\n/**\n * Returns a random position within a {@link bounding box}.\n *\n * @name randomPosition\n * @param {Array<number>} [bbox=[-180, -90, 180, 90]] a bounding box inside of which positions are placed.\n * @returns {Array<number>} Position [longitude, latitude]\n * @example\n * var position = turf.randomPosition([-180, -90, 180, 90])\n * //=position\n */\nfunction randomPosition(bbox) {\n    if (isObject(bbox)) bbox = bbox.bbox;\n    if (bbox && !Array.isArray(bbox)) throw new Error('bbox is invalid');\n    if (bbox) return coordInBBox(bbox);\n    else return [lon(), lat()];\n}\n\n/**\n * Returns a random {@link point}.\n *\n * @name randomPoint\n * @param {number} [count=1] how many geometries will be generated\n * @param {Object} [options={}] Optional parameters\n * @param {Array<number>} [options.bbox=[-180, -90, 180, 90]] a bounding box inside of which geometries are placed.\n * @returns {FeatureCollection<Point>} GeoJSON FeatureCollection of points\n * @example\n * var points = turf.randomPoint(25, {bbox: [-180, -90, 180, 90]})\n * //=points\n */\nfunction randomPoint(count, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var bbox = options.bbox;\n    if (count === undefined || count === null) count = 1;\n\n    var features = [];\n    for (var i = 0; i < count; i++) {\n        features.push(point(randomPosition(bbox)));\n    }\n    return featureCollection(features);\n}\n\n/**\n * Returns a random {@link polygon}.\n *\n * @name randomPolygon\n * @param {number} [count=1] how many geometries will be generated\n * @param {Object} [options={}] Optional parameters\n * @param {Array<number>} [options.bbox=[-180, -90, 180, 90]] a bounding box inside of which geometries are placed.\n * @param {number} [options.num_vertices=10] is how many coordinates each LineString will contain.\n * @param {number} [options.max_radial_length=10] is the maximum number of decimal degrees latitude or longitude that a vertex can reach out of the center of the Polygon.\n * @returns {FeatureCollection<Point>} GeoJSON FeatureCollection of points\n * @example\n * var polygons = turf.randomPolygon(25, {bbox: [-180, -90, 180, 90]})\n * //=polygons\n */\nfunction randomPolygon(count, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var bbox = options.bbox;\n    var num_vertices = options.num_vertices;\n    var max_radial_length = options.max_radial_length;\n    if (count === undefined || count === null) count = 1;\n\n    // Validation\n    if (!isNumber(num_vertices)) num_vertices = 10;\n    if (!isNumber(max_radial_length)) max_radial_length = 10;\n\n    var features = [];\n    for (var i = 0; i < count; i++) {\n        var vertices = [],\n            circle_offsets = Array.apply(null,\n                new Array(num_vertices + 1)).map(Math.random);\n\n        circle_offsets.forEach(sumOffsets);\n        circle_offsets.forEach(scaleOffsets);\n        vertices[vertices.length - 1] = vertices[0]; // close the ring\n\n        // center the polygon around something\n        vertices = vertices.map(vertexToCoordinate(randomPosition(bbox)));\n        features.push(polygon([vertices]));\n    }\n\n    function sumOffsets(cur, index, arr) {\n        arr[index] = (index > 0) ? cur + arr[index - 1] : cur;\n    }\n\n    function scaleOffsets(cur) {\n        cur = cur * 2 * Math.PI / circle_offsets[circle_offsets.length - 1];\n        var radial_scaler = Math.random();\n        vertices.push([\n            radial_scaler * max_radial_length * Math.sin(cur),\n            radial_scaler * max_radial_length * Math.cos(cur)\n        ]);\n    }\n\n    return featureCollection(features);\n}\n\n/**\n * Returns a random {@link linestring}.\n *\n * @name randomLineString\n * @param {number} [count=1] how many geometries will be generated\n * @param {Object} [options={}] Optional parameters\n * @param {Array<number>} [options.bbox=[-180, -90, 180, 90]] a bounding box inside of which geometries are placed.\n * @param {number} [options.num_vertices=10] is how many coordinates each LineString will contain.\n * @param {number} [options.max_length=0.0001] is the maximum number of decimal degrees that a vertex can be from its predecessor\n * @param {number} [options.max_rotation=Math.PI / 8] is the maximum number of radians that a line segment can turn from the previous segment.\n * @returns {FeatureCollection<Point>} GeoJSON FeatureCollection of points\n * @example\n * var lineStrings = turf.randomLineString(25, {bbox: [-180, -90, 180, 90]})\n * //=lineStrings\n */\nfunction randomLineString(count, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var bbox = options.bbox;\n    var num_vertices = options.num_vertices;\n    var max_length = options.max_length;\n    var max_rotation = options.max_rotation;\n    if (count === undefined || count === null) count = 1;\n\n    // Default parameters\n    if (!isNumber(num_vertices) || num_vertices < 2) num_vertices = 10;\n    if (!isNumber(max_length)) max_length = 0.0001;\n    if (!isNumber(max_rotation)) max_rotation = Math.PI / 8;\n\n    var features = [];\n    for (var i = 0; i < count; i++) {\n        var startingPoint = randomPosition(bbox);\n        var vertices = [startingPoint];\n        for (var j = 0; j < num_vertices - 1; j++) {\n            var priorAngle = (j === 0) ?\n                Math.random() * 2 * Math.PI :\n                Math.tan(\n                    (vertices[j][1] - vertices[j - 1][1]) /\n              (vertices[j][0] - vertices[j - 1][0])\n                );\n            var angle = priorAngle + (Math.random() - 0.5) * max_rotation * 2;\n            var distance = Math.random() * max_length;\n            vertices.push([\n                vertices[j][0] + distance * Math.cos(angle),\n                vertices[j][1] + distance * Math.sin(angle)\n            ]);\n        }\n        features.push(lineString(vertices));\n    }\n\n    return featureCollection(features);\n}\n\nfunction vertexToCoordinate(hub) {\n    return function (cur) { return [cur[0] + hub[0], cur[1] + hub[1]]; };\n}\n\nfunction rnd() { return Math.random() - 0.5; }\nfunction lon() { return rnd() * 360; }\nfunction lat() { return rnd() * 180; }\n\nfunction coordInBBox(bbox) {\n    return [\n        (Math.random() * (bbox[2] - bbox[0])) + bbox[0],\n        (Math.random() * (bbox[3] - bbox[1])) + bbox[1]];\n}\n\n\n\n\nvar main_es$4 = Object.freeze({\n\trandomPosition: randomPosition,\n\trandomPoint: randomPoint,\n\trandomPolygon: randomPolygon,\n\trandomLineString: randomLineString\n});\n\n/**\n * Get Cluster\n *\n * @name getCluster\n * @param {FeatureCollection} geojson GeoJSON Features\n * @param {*} filter Filter used on GeoJSON properties to get Cluster\n * @returns {FeatureCollection} Single Cluster filtered by GeoJSON Properties\n * @example\n * var geojson = turf.featureCollection([\n *     turf.point([0, 0], {'marker-symbol': 'circle'}),\n *     turf.point([2, 4], {'marker-symbol': 'star'}),\n *     turf.point([3, 6], {'marker-symbol': 'star'}),\n *     turf.point([5, 1], {'marker-symbol': 'square'}),\n *     turf.point([4, 2], {'marker-symbol': 'circle'})\n * ]);\n *\n * // Create a cluster using K-Means (adds `cluster` to GeoJSON properties)\n * var clustered = turf.clustersKmeans(geojson);\n *\n * // Retrieve first cluster (0)\n * var cluster = turf.getCluster(clustered, {cluster: 0});\n * //= cluster\n *\n * // Retrieve cluster based on custom properties\n * turf.getCluster(clustered, {'marker-symbol': 'circle'}).length;\n * //= 2\n * turf.getCluster(clustered, {'marker-symbol': 'square'}).length;\n * //= 1\n */\nfunction getCluster(geojson, filter) {\n    // Validation\n    if (!geojson) throw new Error('geojson is required');\n    if (geojson.type !== 'FeatureCollection') throw new Error('geojson must be a FeatureCollection');\n    if (filter === undefined || filter === null) throw new Error('filter is required');\n\n    // Filter Features\n    var features = [];\n    featureEach(geojson, function (feature$$1) {\n        if (applyFilter(feature$$1.properties, filter)) features.push(feature$$1);\n    });\n    return featureCollection(features);\n}\n\n/**\n * Callback for clusterEach\n *\n * @callback clusterEachCallback\n * @param {FeatureCollection} [cluster] The current cluster being processed.\n * @param {*} [clusterValue] Value used to create cluster being processed.\n * @param {number} [currentIndex] The index of the current element being processed in the array.Starts at index 0\n * @returns {void}\n */\n\n/**\n * clusterEach\n *\n * @name clusterEach\n * @param {FeatureCollection} geojson GeoJSON Features\n * @param {string|number} property GeoJSON property key/value used to create clusters\n * @param {Function} callback a method that takes (cluster, clusterValue, currentIndex)\n * @returns {void}\n * @example\n * var geojson = turf.featureCollection([\n *     turf.point([0, 0]),\n *     turf.point([2, 4]),\n *     turf.point([3, 6]),\n *     turf.point([5, 1]),\n *     turf.point([4, 2])\n * ]);\n *\n * // Create a cluster using K-Means (adds `cluster` to GeoJSON properties)\n * var clustered = turf.clustersKmeans(geojson);\n *\n * // Iterate over each cluster\n * turf.clusterEach(clustered, 'cluster', function (cluster, clusterValue, currentIndex) {\n *     //= cluster\n *     //= clusterValue\n *     //= currentIndex\n * })\n *\n * // Calculate the total number of clusters\n * var total = 0\n * turf.clusterEach(clustered, 'cluster', function () {\n *     total++;\n * });\n *\n * // Create an Array of all the values retrieved from the 'cluster' property\n * var values = []\n * turf.clusterEach(clustered, 'cluster', function (cluster, clusterValue) {\n *     values.push(clusterValue);\n * });\n */\nfunction clusterEach(geojson, property, callback) {\n    // Validation\n    if (!geojson) throw new Error('geojson is required');\n    if (geojson.type !== 'FeatureCollection') throw new Error('geojson must be a FeatureCollection');\n    if (property === undefined || property === null) throw new Error('property is required');\n\n    // Create clusters based on property values\n    var bins = createBins(geojson, property);\n    var values = Object.keys(bins);\n    for (var index = 0; index < values.length; index++) {\n        var value = values[index];\n        var bin = bins[value];\n        var features = [];\n        for (var i = 0; i < bin.length; i++) {\n            features.push(geojson.features[bin[i]]);\n        }\n        callback(featureCollection(features), value, index);\n    }\n}\n\n/**\n * Callback for clusterReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback clusterReduceCallback\n * @param {*} [previousValue] The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {FeatureCollection} [cluster] The current cluster being processed.\n * @param {*} [clusterValue] Value used to create cluster being processed.\n * @param {number} [currentIndex] The index of the current element being processed in the\n * array. Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n */\n\n/**\n * Reduce clusters in GeoJSON Features, similar to Array.reduce()\n *\n * @name clusterReduce\n * @param {FeatureCollection} geojson GeoJSON Features\n * @param {string|number} property GeoJSON property key/value used to create clusters\n * @param {Function} callback a method that takes (previousValue, cluster, clusterValue, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var geojson = turf.featureCollection([\n *     turf.point([0, 0]),\n *     turf.point([2, 4]),\n *     turf.point([3, 6]),\n *     turf.point([5, 1]),\n *     turf.point([4, 2])\n * ]);\n *\n * // Create a cluster using K-Means (adds `cluster` to GeoJSON properties)\n * var clustered = turf.clustersKmeans(geojson);\n *\n * // Iterate over each cluster and perform a calculation\n * var initialValue = 0\n * turf.clusterReduce(clustered, 'cluster', function (previousValue, cluster, clusterValue, currentIndex) {\n *     //=previousValue\n *     //=cluster\n *     //=clusterValue\n *     //=currentIndex\n *     return previousValue++;\n * }, initialValue);\n *\n * // Calculate the total number of clusters\n * var total = turf.clusterReduce(clustered, 'cluster', function (previousValue) {\n *     return previousValue++;\n * }, 0);\n *\n * // Create an Array of all the values retrieved from the 'cluster' property\n * var values = turf.clusterReduce(clustered, 'cluster', function (previousValue, cluster, clusterValue) {\n *     return previousValue.concat(clusterValue);\n * }, []);\n */\nfunction clusterReduce(geojson, property, callback, initialValue) {\n    var previousValue = initialValue;\n    clusterEach(geojson, property, function (cluster, clusterValue, currentIndex) {\n        if (currentIndex === 0 && initialValue === undefined) previousValue = cluster;\n        else previousValue = callback(previousValue, cluster, clusterValue, currentIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Create Bins\n *\n * @private\n * @param {FeatureCollection} geojson GeoJSON Features\n * @param {string|number} property Property values are used to create bins\n * @returns {Object} bins with Feature IDs\n * @example\n * var geojson = turf.featureCollection([\n *     turf.point([0, 0], {cluster: 0, foo: 'null'}),\n *     turf.point([2, 4], {cluster: 1, foo: 'bar'}),\n *     turf.point([5, 1], {0: 'foo'}),\n *     turf.point([3, 6], {cluster: 1}),\n * ]);\n * createBins(geojson, 'cluster');\n * //= { '0': [ 0 ], '1': [ 1, 3 ] }\n */\nfunction createBins(geojson, property) {\n    var bins = {};\n\n    featureEach(geojson, function (feature$$1, i) {\n        var properties = feature$$1.properties || {};\n        if (properties.hasOwnProperty(property)) {\n            var value = properties[property];\n            if (bins.hasOwnProperty(value)) bins[value].push(i);\n            else bins[value] = [i];\n        }\n    });\n    return bins;\n}\n\n/**\n * Apply Filter\n *\n * @private\n * @param {*} properties Properties\n * @param {*} filter Filter\n * @returns {boolean} applied Filter to properties\n */\nfunction applyFilter(properties, filter) {\n    if (properties === undefined) return false;\n    var filterType = typeof filter;\n\n    // String & Number\n    if (filterType === 'number' || filterType === 'string') return properties.hasOwnProperty(filter);\n    // Array\n    else if (Array.isArray(filter)) {\n        for (var i = 0; i < filter.length; i++) {\n            if (!applyFilter(properties, filter[i])) return false;\n        }\n        return true;\n    // Object\n    } else {\n        return propertiesContainsFilter(properties, filter);\n    }\n}\n\n/**\n * Properties contains filter (does not apply deepEqual operations)\n *\n * @private\n * @param {*} properties Properties\n * @param {Object} filter Filter\n * @returns {boolean} does filter equal Properties\n * @example\n * propertiesContainsFilter({foo: 'bar', cluster: 0}, {cluster: 0})\n * //= true\n * propertiesContainsFilter({foo: 'bar', cluster: 0}, {cluster: 1})\n * //= false\n */\nfunction propertiesContainsFilter(properties, filter) {\n    var keys = Object.keys(filter);\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (properties[key] !== filter[key]) return false;\n    }\n    return true;\n}\n\n/**\n * Filter Properties\n *\n * @private\n * @param {*} properties Properties\n * @param {Array<string>} keys Used to filter Properties\n * @returns {*} filtered Properties\n * @example\n * filterProperties({foo: 'bar', cluster: 0}, ['cluster'])\n * //= {cluster: 0}\n */\nfunction filterProperties(properties, keys) {\n    if (!keys) return {};\n    if (!keys.length) return {};\n\n    var newProperties = {};\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        if (properties.hasOwnProperty(key)) newProperties[key] = properties[key];\n    }\n    return newProperties;\n}\n\n\n\n\nvar main_es$5 = Object.freeze({\n\tgetCluster: getCluster,\n\tclusterEach: clusterEach,\n\tclusterReduce: clusterReduce,\n\tcreateBins: createBins,\n\tapplyFilter: applyFilter,\n\tpropertiesContainsFilter: propertiesContainsFilter,\n\tfilterProperties: filterProperties\n});\n\n/* Polyfill service v3.13.0\n * For detailed credits and licence information see http://github.com/financial-times/polyfill-service\n *\n * - Array.prototype.fill, License: CC0 */\n\nif (!('fill' in Array.prototype)) {\n  Object.defineProperty(Array.prototype, 'fill', {\n    configurable: true,\n    value: function fill (value) {\n      if (this === undefined || this === null) {\n        throw new TypeError(this + ' is not an object')\n      }\n\n      var arrayLike = Object(this);\n\n      var length = Math.max(Math.min(arrayLike.length, 9007199254740991), 0) || 0;\n\n      var relativeStart = 1 in arguments ? parseInt(Number(arguments[1]), 10) || 0 : 0;\n\n      relativeStart = relativeStart < 0 ? Math.max(length + relativeStart, 0) : Math.min(relativeStart, length);\n\n      var relativeEnd = 2 in arguments && arguments[2] !== undefined ? parseInt(Number(arguments[2]), 10) || 0 : length;\n\n      relativeEnd = relativeEnd < 0 ? Math.max(length + arguments[2], 0) : Math.min(relativeEnd, length);\n\n      while (relativeStart < relativeEnd) {\n        arrayLike[relativeStart] = value;\n\n        ++relativeStart;\n      }\n\n      return arrayLike\n    },\n    writable: true\n  });\n}\n\n/**\n * Polyfill for IE support\n */\nNumber.isFinite = Number.isFinite || function (value) {\n  return typeof value === 'number' && isFinite(value)\n};\n\nNumber.isInteger = Number.isInteger || function (val) {\n  return typeof val === 'number' &&\n  isFinite(val) &&\n  Math.floor(val) === val\n};\n\nNumber.parseFloat = Number.parseFloat || parseFloat;\n\nNumber.isNaN = Number.isNaN || function (value) {\n  return value !== value // eslint-disable-line\n};\n\n/**\n * Polyfill for IE support\n */\nMath.trunc = Math.trunc || function (x) {\n  return x < 0 ? Math.ceil(x) : Math.floor(x)\n};\n\nvar NumberUtil = function NumberUtil () {};\n\nNumberUtil.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nNumberUtil.prototype.getClass = function getClass () {\n  return NumberUtil\n};\nNumberUtil.prototype.equalsWithTolerance = function equalsWithTolerance (x1, x2, tolerance) {\n  return Math.abs(x1 - x2) <= tolerance\n};\n\nvar IllegalArgumentException = function IllegalArgumentException () {};\n\nvar Double = function Double () {};\n\nvar staticAccessors$1 = { MAX_VALUE: { configurable: true } };\n\nDouble.isNaN = function isNaN (n) { return Number.isNaN(n) };\nDouble.doubleToLongBits = function doubleToLongBits (n) { return n };\nDouble.longBitsToDouble = function longBitsToDouble (n) { return n };\nDouble.isInfinite = function isInfinite (n) { return !Number.isFinite(n) };\nstaticAccessors$1.MAX_VALUE.get = function () { return Number.MAX_VALUE };\n\nObject.defineProperties( Double, staticAccessors$1 );\n\nvar Comparable = function Comparable () {};\n\nvar Clonable = function Clonable () {};\n\nvar Comparator = function Comparator () {};\n\nfunction Serializable () {}\n\n// import Assert from '../util/Assert'\n\nvar Coordinate = function Coordinate () {\n  this.x = null;\n  this.y = null;\n  this.z = null;\n  if (arguments.length === 0) {\n    this.x = 0.0;\n    this.y = 0.0;\n    this.z = Coordinate.NULL_ORDINATE;\n  } else if (arguments.length === 1) {\n    var c = arguments[0];\n    this.x = c.x;\n    this.y = c.y;\n    this.z = c.z;\n  } else if (arguments.length === 2) {\n    this.x = arguments[0];\n    this.y = arguments[1];\n    this.z = Coordinate.NULL_ORDINATE;\n  } else if (arguments.length === 3) {\n    this.x = arguments[0];\n    this.y = arguments[1];\n    this.z = arguments[2];\n  }\n};\n\nvar staticAccessors = { DimensionalComparator: { configurable: true },serialVersionUID: { configurable: true },NULL_ORDINATE: { configurable: true },X: { configurable: true },Y: { configurable: true },Z: { configurable: true } };\nCoordinate.prototype.setOrdinate = function setOrdinate (ordinateIndex, value) {\n  switch (ordinateIndex) {\n    case Coordinate.X:\n      this.x = value;\n      break\n    case Coordinate.Y:\n      this.y = value;\n      break\n    case Coordinate.Z:\n      this.z = value;\n      break\n    default:\n      throw new IllegalArgumentException('Invalid ordinate index: ' + ordinateIndex)\n  }\n};\nCoordinate.prototype.equals2D = function equals2D () {\n  if (arguments.length === 1) {\n    var other = arguments[0];\n    if (this.x !== other.x) {\n      return false\n    }\n    if (this.y !== other.y) {\n      return false\n    }\n    return true\n  } else if (arguments.length === 2) {\n    var c = arguments[0];\n    var tolerance = arguments[1];\n    if (!NumberUtil.equalsWithTolerance(this.x, c.x, tolerance)) {\n      return false\n    }\n    if (!NumberUtil.equalsWithTolerance(this.y, c.y, tolerance)) {\n      return false\n    }\n    return true\n  }\n};\nCoordinate.prototype.getOrdinate = function getOrdinate (ordinateIndex) {\n  switch (ordinateIndex) {\n    case Coordinate.X:\n      return this.x\n    case Coordinate.Y:\n      return this.y\n    case Coordinate.Z:\n      return this.z\n    default:\n  }\n  throw new IllegalArgumentException('Invalid ordinate index: ' + ordinateIndex)\n};\nCoordinate.prototype.equals3D = function equals3D (other) {\n  return this.x === other.x &&\n         this.y === other.y &&\n         ((this.z === other.z || Double.isNaN(this.z)) &&\n         Double.isNaN(other.z))\n};\nCoordinate.prototype.equals = function equals (other) {\n  if (!(other instanceof Coordinate)) {\n    return false\n  }\n  return this.equals2D(other)\n};\nCoordinate.prototype.equalInZ = function equalInZ (c, tolerance) {\n  return NumberUtil.equalsWithTolerance(this.z, c.z, tolerance)\n};\nCoordinate.prototype.compareTo = function compareTo (o) {\n  var other = o;\n  if (this.x < other.x) { return -1 }\n  if (this.x > other.x) { return 1 }\n  if (this.y < other.y) { return -1 }\n  if (this.y > other.y) { return 1 }\n  return 0\n};\nCoordinate.prototype.clone = function clone () {\n  // try {\n  // var coord = null\n  // return coord\n  // } catch (e) {\n  // if (e instanceof CloneNotSupportedException) {\n  //   Assert.shouldNeverReachHere(\"this shouldn't happen because this class is Cloneable\")\n  //   return null\n  // } else throw e\n  // } finally {}\n};\nCoordinate.prototype.copy = function copy () {\n  return new Coordinate(this)\n};\nCoordinate.prototype.toString = function toString () {\n  return '(' + this.x + ', ' + this.y + ', ' + this.z + ')'\n};\nCoordinate.prototype.distance3D = function distance3D (c) {\n  var dx = this.x - c.x;\n  var dy = this.y - c.y;\n  var dz = this.z - c.z;\n  return Math.sqrt(dx * dx + dy * dy + dz * dz)\n};\nCoordinate.prototype.distance = function distance (c) {\n  var dx = this.x - c.x;\n  var dy = this.y - c.y;\n  return Math.sqrt(dx * dx + dy * dy)\n};\nCoordinate.prototype.hashCode = function hashCode () {\n  var result = 17;\n  result = 37 * result + Coordinate.hashCode(this.x);\n  result = 37 * result + Coordinate.hashCode(this.y);\n  return result\n};\nCoordinate.prototype.setCoordinate = function setCoordinate (other) {\n  this.x = other.x;\n  this.y = other.y;\n  this.z = other.z;\n};\nCoordinate.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable, Clonable, Serializable]\n};\nCoordinate.prototype.getClass = function getClass () {\n  return Coordinate\n};\nCoordinate.hashCode = function hashCode () {\n  if (arguments.length === 1) {\n    var x = arguments[0];\n    var f = Double.doubleToLongBits(x);\n    return Math.trunc((f ^ f) >>> 32)\n  }\n};\nstaticAccessors.DimensionalComparator.get = function () { return DimensionalComparator };\nstaticAccessors.serialVersionUID.get = function () { return 6683108902428366910 };\nstaticAccessors.NULL_ORDINATE.get = function () { return Double.NaN };\nstaticAccessors.X.get = function () { return 0 };\nstaticAccessors.Y.get = function () { return 1 };\nstaticAccessors.Z.get = function () { return 2 };\n\nObject.defineProperties( Coordinate, staticAccessors );\n\nvar DimensionalComparator = function DimensionalComparator (dimensionsToTest) {\n  this._dimensionsToTest = 2;\n  if (arguments.length === 0) {} else if (arguments.length === 1) {\n    var dimensionsToTest$1 = arguments[0];\n    if (dimensionsToTest$1 !== 2 && dimensionsToTest$1 !== 3) { throw new IllegalArgumentException('only 2 or 3 dimensions may be specified') }\n    this._dimensionsToTest = dimensionsToTest$1;\n  }\n};\nDimensionalComparator.prototype.compare = function compare (o1, o2) {\n  var c1 = o1;\n  var c2 = o2;\n  var compX = DimensionalComparator.compare(c1.x, c2.x);\n  if (compX !== 0) { return compX }\n  var compY = DimensionalComparator.compare(c1.y, c2.y);\n  if (compY !== 0) { return compY }\n  if (this._dimensionsToTest <= 2) { return 0 }\n  var compZ = DimensionalComparator.compare(c1.z, c2.z);\n  return compZ\n};\nDimensionalComparator.prototype.interfaces_ = function interfaces_ () {\n  return [Comparator]\n};\nDimensionalComparator.prototype.getClass = function getClass () {\n  return DimensionalComparator\n};\nDimensionalComparator.compare = function compare (a, b) {\n  if (a < b) { return -1 }\n  if (a > b) { return 1 }\n  if (Double.isNaN(a)) {\n    if (Double.isNaN(b)) { return 0 }\n    return -1\n  }\n  if (Double.isNaN(b)) { return 1 }\n  return 0\n};\n\n// import hasInterface from '../../../../hasInterface'\n// import CoordinateSequence from './CoordinateSequence'\n\nvar CoordinateSequenceFactory = function CoordinateSequenceFactory () {};\n\nCoordinateSequenceFactory.prototype.create = function create () {\n  // if (arguments.length === 1) {\n  // if (arguments[0] instanceof Array) {\n  //   let coordinates = arguments[0]\n  // } else if (hasInterface(arguments[0], CoordinateSequence)) {\n  //   let coordSeq = arguments[0]\n  // }\n  // } else if (arguments.length === 2) {\n  // let size = arguments[0]\n  // let dimension = arguments[1]\n  // }\n};\nCoordinateSequenceFactory.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCoordinateSequenceFactory.prototype.getClass = function getClass () {\n  return CoordinateSequenceFactory\n};\n\nvar Location = function Location () {};\n\nvar staticAccessors$4 = { INTERIOR: { configurable: true },BOUNDARY: { configurable: true },EXTERIOR: { configurable: true },NONE: { configurable: true } };\n\nLocation.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nLocation.prototype.getClass = function getClass () {\n  return Location\n};\nLocation.toLocationSymbol = function toLocationSymbol (locationValue) {\n  switch (locationValue) {\n    case Location.EXTERIOR:\n      return 'e'\n    case Location.BOUNDARY:\n      return 'b'\n    case Location.INTERIOR:\n      return 'i'\n    case Location.NONE:\n      return '-'\n    default:\n  }\n  throw new IllegalArgumentException('Unknown location value: ' + locationValue)\n};\nstaticAccessors$4.INTERIOR.get = function () { return 0 };\nstaticAccessors$4.BOUNDARY.get = function () { return 1 };\nstaticAccessors$4.EXTERIOR.get = function () { return 2 };\nstaticAccessors$4.NONE.get = function () { return -1 };\n\nObject.defineProperties( Location, staticAccessors$4 );\n\nvar hasInterface = function (o, i) {\n  return o.interfaces_ && o.interfaces_().indexOf(i) > -1\n};\n\nvar MathUtil = function MathUtil () {};\n\nvar staticAccessors$5 = { LOG_10: { configurable: true } };\n\nMathUtil.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMathUtil.prototype.getClass = function getClass () {\n  return MathUtil\n};\nMathUtil.log10 = function log10 (x) {\n  var ln = Math.log(x);\n  if (Double.isInfinite(ln)) { return ln }\n  if (Double.isNaN(ln)) { return ln }\n  return ln / MathUtil.LOG_10\n};\nMathUtil.min = function min (v1, v2, v3, v4) {\n  var min = v1;\n  if (v2 < min) { min = v2; }\n  if (v3 < min) { min = v3; }\n  if (v4 < min) { min = v4; }\n  return min\n};\nMathUtil.clamp = function clamp () {\n  if (typeof arguments[2] === 'number' && (typeof arguments[0] === 'number' && typeof arguments[1] === 'number')) {\n    var x = arguments[0];\n    var min = arguments[1];\n    var max = arguments[2];\n    if (x < min) { return min }\n    if (x > max) { return max }\n    return x\n  } else if (Number.isInteger(arguments[2]) && (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1]))) {\n    var x$1 = arguments[0];\n    var min$1 = arguments[1];\n    var max$1 = arguments[2];\n    if (x$1 < min$1) { return min$1 }\n    if (x$1 > max$1) { return max$1 }\n    return x$1\n  }\n};\nMathUtil.wrap = function wrap (index, max) {\n  if (index < 0) {\n    return max - -index % max\n  }\n  return index % max\n};\nMathUtil.max = function max () {\n  if (arguments.length === 3) {\n    var v1 = arguments[0];\n    var v2 = arguments[1];\n    var v3 = arguments[2];\n    var max = v1;\n    if (v2 > max) { max = v2; }\n    if (v3 > max) { max = v3; }\n    return max\n  } else if (arguments.length === 4) {\n    var v1$1 = arguments[0];\n    var v2$1 = arguments[1];\n    var v3$1 = arguments[2];\n    var v4 = arguments[3];\n    var max$1 = v1$1;\n    if (v2$1 > max$1) { max$1 = v2$1; }\n    if (v3$1 > max$1) { max$1 = v3$1; }\n    if (v4 > max$1) { max$1 = v4; }\n    return max$1\n  }\n};\nMathUtil.average = function average (x1, x2) {\n  return (x1 + x2) / 2.0\n};\nstaticAccessors$5.LOG_10.get = function () { return Math.log(10) };\n\nObject.defineProperties( MathUtil, staticAccessors$5 );\n\nvar StringBuffer = function StringBuffer (str) {\n  this.str = str;\n};\nStringBuffer.prototype.append = function append (e) {\n  this.str += e;\n};\n\nStringBuffer.prototype.setCharAt = function setCharAt (i, c) {\n  this.str = this.str.substr(0, i) + c + this.str.substr(i + 1);\n};\n\nStringBuffer.prototype.toString = function toString (e) {\n  return this.str\n};\n\nvar Integer = function Integer (value) {\n  this.value = value;\n};\nInteger.prototype.intValue = function intValue () {\n  return this.value\n};\nInteger.prototype.compareTo = function compareTo (o) {\n  if (this.value < o) { return -1 }\n  if (this.value > o) { return 1 }\n  return 0\n};\nInteger.isNaN = function isNaN (n) { return Number.isNaN(n) };\n\nvar Character = function Character () {};\n\nCharacter.isWhitespace = function isWhitespace (c) { return ((c <= 32 && c >= 0) || c === 127) };\nCharacter.toUpperCase = function toUpperCase (c) { return c.toUpperCase() };\n\nvar DD = function DD () {\n  this._hi = 0.0;\n  this._lo = 0.0;\n  if (arguments.length === 0) {\n    this.init(0.0);\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'number') {\n      var x = arguments[0];\n      this.init(x);\n    } else if (arguments[0] instanceof DD) {\n      var dd = arguments[0];\n      this.init(dd);\n    } else if (typeof arguments[0] === 'string') {\n      var str = arguments[0];\n      DD.call(this, DD.parse(str));\n    }\n  } else if (arguments.length === 2) {\n    var hi = arguments[0];\n    var lo = arguments[1];\n    this.init(hi, lo);\n  }\n};\n\nvar staticAccessors$7 = { PI: { configurable: true },TWO_PI: { configurable: true },PI_2: { configurable: true },E: { configurable: true },NaN: { configurable: true },EPS: { configurable: true },SPLIT: { configurable: true },MAX_PRINT_DIGITS: { configurable: true },TEN: { configurable: true },ONE: { configurable: true },SCI_NOT_EXPONENT_CHAR: { configurable: true },SCI_NOT_ZERO: { configurable: true } };\nDD.prototype.le = function le (y) {\n  return (this._hi < y._hi || this._hi === y._hi) && this._lo <= y._lo\n};\nDD.prototype.extractSignificantDigits = function extractSignificantDigits (insertDecimalPoint, magnitude) {\n  var y = this.abs();\n  var mag = DD.magnitude(y._hi);\n  var scale = DD.TEN.pow(mag);\n  y = y.divide(scale);\n  if (y.gt(DD.TEN)) {\n    y = y.divide(DD.TEN);\n    mag += 1;\n  } else if (y.lt(DD.ONE)) {\n    y = y.multiply(DD.TEN);\n    mag -= 1;\n  }\n  var decimalPointPos = mag + 1;\n  var buf = new StringBuffer();\n  var numDigits = DD.MAX_PRINT_DIGITS - 1;\n  for (var i = 0; i <= numDigits; i++) {\n    if (insertDecimalPoint && i === decimalPointPos) {\n      buf.append('.');\n    }\n    var digit = Math.trunc(y._hi);\n    if (digit < 0) {\n      break\n    }\n    var rebiasBy10 = false;\n    var digitChar = 0;\n    if (digit > 9) {\n      rebiasBy10 = true;\n      digitChar = '9';\n    } else {\n      digitChar = '0' + digit;\n    }\n    buf.append(digitChar);\n    y = y.subtract(DD.valueOf(digit)).multiply(DD.TEN);\n    if (rebiasBy10) { y.selfAdd(DD.TEN); }\n    var continueExtractingDigits = true;\n    var remMag = DD.magnitude(y._hi);\n    if (remMag < 0 && Math.abs(remMag) >= numDigits - i) { continueExtractingDigits = false; }\n    if (!continueExtractingDigits) { break }\n  }\n  magnitude[0] = mag;\n  return buf.toString()\n};\nDD.prototype.sqr = function sqr () {\n  return this.multiply(this)\n};\nDD.prototype.doubleValue = function doubleValue () {\n  return this._hi + this._lo\n};\nDD.prototype.subtract = function subtract () {\n  if (arguments[0] instanceof DD) {\n    var y = arguments[0];\n    return this.add(y.negate())\n  } else if (typeof arguments[0] === 'number') {\n    var y$1 = arguments[0];\n    return this.add(-y$1)\n  }\n};\nDD.prototype.equals = function equals () {\n  if (arguments.length === 1) {\n    var y = arguments[0];\n    return this._hi === y._hi && this._lo === y._lo\n  }\n};\nDD.prototype.isZero = function isZero () {\n  return this._hi === 0.0 && this._lo === 0.0\n};\nDD.prototype.selfSubtract = function selfSubtract () {\n  if (arguments[0] instanceof DD) {\n    var y = arguments[0];\n    if (this.isNaN()) { return this }\n    return this.selfAdd(-y._hi, -y._lo)\n  } else if (typeof arguments[0] === 'number') {\n    var y$1 = arguments[0];\n    if (this.isNaN()) { return this }\n    return this.selfAdd(-y$1, 0.0)\n  }\n};\nDD.prototype.getSpecialNumberString = function getSpecialNumberString () {\n  if (this.isZero()) { return '0.0' }\n  if (this.isNaN()) { return 'NaN ' }\n  return null\n};\nDD.prototype.min = function min (x) {\n  if (this.le(x)) {\n    return this\n  } else {\n    return x\n  }\n};\nDD.prototype.selfDivide = function selfDivide () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof DD) {\n      var y = arguments[0];\n      return this.selfDivide(y._hi, y._lo)\n    } else if (typeof arguments[0] === 'number') {\n      var y$1 = arguments[0];\n      return this.selfDivide(y$1, 0.0)\n    }\n  } else if (arguments.length === 2) {\n    var yhi = arguments[0];\n    var ylo = arguments[1];\n    var hc = null;\n    var tc = null;\n    var hy = null;\n    var ty = null;\n    var C = null;\n    var c = null;\n    var U = null;\n    var u = null;\n    C = this._hi / yhi;\n    c = DD.SPLIT * C;\n    hc = c - C;\n    u = DD.SPLIT * yhi;\n    hc = c - hc;\n    tc = C - hc;\n    hy = u - yhi;\n    U = C * yhi;\n    hy = u - hy;\n    ty = yhi - hy;\n    u = hc * hy - U + hc * ty + tc * hy + tc * ty;\n    c = (this._hi - U - u + this._lo - C * ylo) / yhi;\n    u = C + c;\n    this._hi = u;\n    this._lo = C - u + c;\n    return this\n  }\n};\nDD.prototype.dump = function dump () {\n  return 'DD<' + this._hi + ', ' + this._lo + '>'\n};\nDD.prototype.divide = function divide () {\n  if (arguments[0] instanceof DD) {\n    var y = arguments[0];\n    var hc = null;\n    var tc = null;\n    var hy = null;\n    var ty = null;\n    var C = null;\n    var c = null;\n    var U = null;\n    var u = null;\n    C = this._hi / y._hi;\n    c = DD.SPLIT * C;\n    hc = c - C;\n    u = DD.SPLIT * y._hi;\n    hc = c - hc;\n    tc = C - hc;\n    hy = u - y._hi;\n    U = C * y._hi;\n    hy = u - hy;\n    ty = y._hi - hy;\n    u = hc * hy - U + hc * ty + tc * hy + tc * ty;\n    c = (this._hi - U - u + this._lo - C * y._lo) / y._hi;\n    u = C + c;\n    var zhi = u;\n    var zlo = C - u + c;\n    return new DD(zhi, zlo)\n  } else if (typeof arguments[0] === 'number') {\n    var y$1 = arguments[0];\n    if (Double.isNaN(y$1)) { return DD.createNaN() }\n    return DD.copy(this).selfDivide(y$1, 0.0)\n  }\n};\nDD.prototype.ge = function ge (y) {\n  return (this._hi > y._hi || this._hi === y._hi) && this._lo >= y._lo\n};\nDD.prototype.pow = function pow (exp) {\n  if (exp === 0.0) { return DD.valueOf(1.0) }\n  var r = new DD(this);\n  var s = DD.valueOf(1.0);\n  var n = Math.abs(exp);\n  if (n > 1) {\n    while (n > 0) {\n      if (n % 2 === 1) {\n        s.selfMultiply(r);\n      }\n      n /= 2;\n      if (n > 0) { r = r.sqr(); }\n    }\n  } else {\n    s = r;\n  }\n  if (exp < 0) { return s.reciprocal() }\n  return s\n};\nDD.prototype.ceil = function ceil () {\n  if (this.isNaN()) { return DD.NaN }\n  var fhi = Math.ceil(this._hi);\n  var flo = 0.0;\n  if (fhi === this._hi) {\n    flo = Math.ceil(this._lo);\n  }\n  return new DD(fhi, flo)\n};\nDD.prototype.compareTo = function compareTo (o) {\n  var other = o;\n  if (this._hi < other._hi) { return -1 }\n  if (this._hi > other._hi) { return 1 }\n  if (this._lo < other._lo) { return -1 }\n  if (this._lo > other._lo) { return 1 }\n  return 0\n};\nDD.prototype.rint = function rint () {\n  if (this.isNaN()) { return this }\n  var plus5 = this.add(0.5);\n  return plus5.floor()\n};\nDD.prototype.setValue = function setValue () {\n  if (arguments[0] instanceof DD) {\n    var value = arguments[0];\n    this.init(value);\n    return this\n  } else if (typeof arguments[0] === 'number') {\n    var value$1 = arguments[0];\n    this.init(value$1);\n    return this\n  }\n};\nDD.prototype.max = function max (x) {\n  if (this.ge(x)) {\n    return this\n  } else {\n    return x\n  }\n};\nDD.prototype.sqrt = function sqrt () {\n  if (this.isZero()) { return DD.valueOf(0.0) }\n  if (this.isNegative()) {\n    return DD.NaN\n  }\n  var x = 1.0 / Math.sqrt(this._hi);\n  var ax = this._hi * x;\n  var axdd = DD.valueOf(ax);\n  var diffSq = this.subtract(axdd.sqr());\n  var d2 = diffSq._hi * (x * 0.5);\n  return axdd.add(d2)\n};\nDD.prototype.selfAdd = function selfAdd () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof DD) {\n      var y = arguments[0];\n      return this.selfAdd(y._hi, y._lo)\n    } else if (typeof arguments[0] === 'number') {\n      var y$1 = arguments[0];\n      var H = null;\n      var h = null;\n      var S = null;\n      var s = null;\n      var e = null;\n      var f = null;\n      S = this._hi + y$1;\n      e = S - this._hi;\n      s = S - e;\n      s = y$1 - e + (this._hi - s);\n      f = s + this._lo;\n      H = S + f;\n      h = f + (S - H);\n      this._hi = H + h;\n      this._lo = h + (H - this._hi);\n      return this\n    }\n  } else if (arguments.length === 2) {\n    var yhi = arguments[0];\n    var ylo = arguments[1];\n    var H$1 = null;\n    var h$1 = null;\n    var T = null;\n    var t = null;\n    var S$1 = null;\n    var s$1 = null;\n    var e$1 = null;\n    var f$1 = null;\n    S$1 = this._hi + yhi;\n    T = this._lo + ylo;\n    e$1 = S$1 - this._hi;\n    f$1 = T - this._lo;\n    s$1 = S$1 - e$1;\n    t = T - f$1;\n    s$1 = yhi - e$1 + (this._hi - s$1);\n    t = ylo - f$1 + (this._lo - t);\n    e$1 = s$1 + T;\n    H$1 = S$1 + e$1;\n    h$1 = e$1 + (S$1 - H$1);\n    e$1 = t + h$1;\n    var zhi = H$1 + e$1;\n    var zlo = e$1 + (H$1 - zhi);\n    this._hi = zhi;\n    this._lo = zlo;\n    return this\n  }\n};\nDD.prototype.selfMultiply = function selfMultiply () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof DD) {\n      var y = arguments[0];\n      return this.selfMultiply(y._hi, y._lo)\n    } else if (typeof arguments[0] === 'number') {\n      var y$1 = arguments[0];\n      return this.selfMultiply(y$1, 0.0)\n    }\n  } else if (arguments.length === 2) {\n    var yhi = arguments[0];\n    var ylo = arguments[1];\n    var hx = null;\n    var tx = null;\n    var hy = null;\n    var ty = null;\n    var C = null;\n    var c = null;\n    C = DD.SPLIT * this._hi;\n    hx = C - this._hi;\n    c = DD.SPLIT * yhi;\n    hx = C - hx;\n    tx = this._hi - hx;\n    hy = c - yhi;\n    C = this._hi * yhi;\n    hy = c - hy;\n    ty = yhi - hy;\n    c = hx * hy - C + hx * ty + tx * hy + tx * ty + (this._hi * ylo + this._lo * yhi);\n    var zhi = C + c;\n    hx = C - zhi;\n    var zlo = c + hx;\n    this._hi = zhi;\n    this._lo = zlo;\n    return this\n  }\n};\nDD.prototype.selfSqr = function selfSqr () {\n  return this.selfMultiply(this)\n};\nDD.prototype.floor = function floor () {\n  if (this.isNaN()) { return DD.NaN }\n  var fhi = Math.floor(this._hi);\n  var flo = 0.0;\n  if (fhi === this._hi) {\n    flo = Math.floor(this._lo);\n  }\n  return new DD(fhi, flo)\n};\nDD.prototype.negate = function negate () {\n  if (this.isNaN()) { return this }\n  return new DD(-this._hi, -this._lo)\n};\nDD.prototype.clone = function clone () {\n  // try {\n  // return null\n  // } catch (ex) {\n  // if (ex instanceof CloneNotSupportedException) {\n  //   return null\n  // } else throw ex\n  // } finally {}\n};\nDD.prototype.multiply = function multiply () {\n  if (arguments[0] instanceof DD) {\n    var y = arguments[0];\n    if (y.isNaN()) { return DD.createNaN() }\n    return DD.copy(this).selfMultiply(y)\n  } else if (typeof arguments[0] === 'number') {\n    var y$1 = arguments[0];\n    if (Double.isNaN(y$1)) { return DD.createNaN() }\n    return DD.copy(this).selfMultiply(y$1, 0.0)\n  }\n};\nDD.prototype.isNaN = function isNaN () {\n  return Double.isNaN(this._hi)\n};\nDD.prototype.intValue = function intValue () {\n  return Math.trunc(this._hi)\n};\nDD.prototype.toString = function toString () {\n  var mag = DD.magnitude(this._hi);\n  if (mag >= -3 && mag <= 20) { return this.toStandardNotation() }\n  return this.toSciNotation()\n};\nDD.prototype.toStandardNotation = function toStandardNotation () {\n  var specialStr = this.getSpecialNumberString();\n  if (specialStr !== null) { return specialStr }\n  var magnitude = new Array(1).fill(null);\n  var sigDigits = this.extractSignificantDigits(true, magnitude);\n  var decimalPointPos = magnitude[0] + 1;\n  var num = sigDigits;\n  if (sigDigits.charAt(0) === '.') {\n    num = '0' + sigDigits;\n  } else if (decimalPointPos < 0) {\n    num = '0.' + DD.stringOfChar('0', -decimalPointPos) + sigDigits;\n  } else if (sigDigits.indexOf('.') === -1) {\n    var numZeroes = decimalPointPos - sigDigits.length;\n    var zeroes = DD.stringOfChar('0', numZeroes);\n    num = sigDigits + zeroes + '.0';\n  }\n  if (this.isNegative()) { return '-' + num }\n  return num\n};\nDD.prototype.reciprocal = function reciprocal () {\n  var hc = null;\n  var tc = null;\n  var hy = null;\n  var ty = null;\n  var C = null;\n  var c = null;\n  var U = null;\n  var u = null;\n  C = 1.0 / this._hi;\n  c = DD.SPLIT * C;\n  hc = c - C;\n  u = DD.SPLIT * this._hi;\n  hc = c - hc;\n  tc = C - hc;\n  hy = u - this._hi;\n  U = C * this._hi;\n  hy = u - hy;\n  ty = this._hi - hy;\n  u = hc * hy - U + hc * ty + tc * hy + tc * ty;\n  c = (1.0 - U - u - C * this._lo) / this._hi;\n  var zhi = C + c;\n  var zlo = C - zhi + c;\n  return new DD(zhi, zlo)\n};\nDD.prototype.toSciNotation = function toSciNotation () {\n  if (this.isZero()) { return DD.SCI_NOT_ZERO }\n  var specialStr = this.getSpecialNumberString();\n  if (specialStr !== null) { return specialStr }\n  var magnitude = new Array(1).fill(null);\n  var digits = this.extractSignificantDigits(false, magnitude);\n  var expStr = DD.SCI_NOT_EXPONENT_CHAR + magnitude[0];\n  if (digits.charAt(0) === '0') {\n    throw new Error('Found leading zero: ' + digits)\n  }\n  var trailingDigits = '';\n  if (digits.length > 1) { trailingDigits = digits.substring(1); }\n  var digitsWithDecimal = digits.charAt(0) + '.' + trailingDigits;\n  if (this.isNegative()) { return '-' + digitsWithDecimal + expStr }\n  return digitsWithDecimal + expStr\n};\nDD.prototype.abs = function abs () {\n  if (this.isNaN()) { return DD.NaN }\n  if (this.isNegative()) { return this.negate() }\n  return new DD(this)\n};\nDD.prototype.isPositive = function isPositive () {\n  return (this._hi > 0.0 || this._hi === 0.0) && this._lo > 0.0\n};\nDD.prototype.lt = function lt (y) {\n  return (this._hi < y._hi || this._hi === y._hi) && this._lo < y._lo\n};\nDD.prototype.add = function add () {\n  if (arguments[0] instanceof DD) {\n    var y = arguments[0];\n    return DD.copy(this).selfAdd(y)\n  } else if (typeof arguments[0] === 'number') {\n    var y$1 = arguments[0];\n    return DD.copy(this).selfAdd(y$1)\n  }\n};\nDD.prototype.init = function init () {\n  if (arguments.length === 1) {\n    if (typeof arguments[0] === 'number') {\n      var x = arguments[0];\n      this._hi = x;\n      this._lo = 0.0;\n    } else if (arguments[0] instanceof DD) {\n      var dd = arguments[0];\n      this._hi = dd._hi;\n      this._lo = dd._lo;\n    }\n  } else if (arguments.length === 2) {\n    var hi = arguments[0];\n    var lo = arguments[1];\n    this._hi = hi;\n    this._lo = lo;\n  }\n};\nDD.prototype.gt = function gt (y) {\n  return (this._hi > y._hi || this._hi === y._hi) && this._lo > y._lo\n};\nDD.prototype.isNegative = function isNegative () {\n  return (this._hi < 0.0 || this._hi === 0.0) && this._lo < 0.0\n};\nDD.prototype.trunc = function trunc () {\n  if (this.isNaN()) { return DD.NaN }\n  if (this.isPositive()) { return this.floor(); } else { return this.ceil() }\n};\nDD.prototype.signum = function signum () {\n  if (this._hi > 0) { return 1 }\n  if (this._hi < 0) { return -1 }\n  if (this._lo > 0) { return 1 }\n  if (this._lo < 0) { return -1 }\n  return 0\n};\nDD.prototype.interfaces_ = function interfaces_ () {\n  return [Serializable, Comparable, Clonable]\n};\nDD.prototype.getClass = function getClass () {\n  return DD\n};\nDD.sqr = function sqr (x) {\n  return DD.valueOf(x).selfMultiply(x)\n};\nDD.valueOf = function valueOf () {\n  if (typeof arguments[0] === 'string') {\n    var str = arguments[0];\n    return DD.parse(str)\n  } else if (typeof arguments[0] === 'number') {\n    var x = arguments[0];\n    return new DD(x)\n  }\n};\nDD.sqrt = function sqrt (x) {\n  return DD.valueOf(x).sqrt()\n};\nDD.parse = function parse (str) {\n  var i = 0;\n  var strlen = str.length;\n  while (Character.isWhitespace(str.charAt(i))) { i++; }\n  var isNegative = false;\n  if (i < strlen) {\n    var signCh = str.charAt(i);\n    if (signCh === '-' || signCh === '+') {\n      i++;\n      if (signCh === '-') { isNegative = true; }\n    }\n  }\n  var val = new DD();\n  var numDigits = 0;\n  var numBeforeDec = 0;\n  var exp = 0;\n  while (true) {\n    if (i >= strlen) { break }\n    var ch = str.charAt(i);\n    i++;\n    if (Character.isDigit(ch)) {\n      var d = ch - '0';\n      val.selfMultiply(DD.TEN);\n      val.selfAdd(d);\n      numDigits++;\n      continue\n    }\n    if (ch === '.') {\n      numBeforeDec = numDigits;\n      continue\n    }\n    if (ch === 'e' || ch === 'E') {\n      var expStr = str.substring(i);\n      try {\n        exp = Integer.parseInt(expStr);\n      } catch (ex) {\n        if (ex instanceof Error) {\n          throw new Error('Invalid exponent ' + expStr + ' in string ' + str)\n        } else { throw ex }\n      } finally {}\n      break\n    }\n    throw new Error(\"Unexpected character '\" + ch + \"' at position \" + i + ' in string ' + str)\n  }\n  var val2 = val;\n  var numDecPlaces = numDigits - numBeforeDec - exp;\n  if (numDecPlaces === 0) {\n    val2 = val;\n  } else if (numDecPlaces > 0) {\n    var scale = DD.TEN.pow(numDecPlaces);\n    val2 = val.divide(scale);\n  } else if (numDecPlaces < 0) {\n    var scale$1 = DD.TEN.pow(-numDecPlaces);\n    val2 = val.multiply(scale$1);\n  }\n  if (isNegative) {\n    return val2.negate()\n  }\n  return val2\n};\nDD.createNaN = function createNaN () {\n  return new DD(Double.NaN, Double.NaN)\n};\nDD.copy = function copy (dd) {\n  return new DD(dd)\n};\nDD.magnitude = function magnitude (x) {\n  var xAbs = Math.abs(x);\n  var xLog10 = Math.log(xAbs) / Math.log(10);\n  var xMag = Math.trunc(Math.floor(xLog10));\n  var xApprox = Math.pow(10, xMag);\n  if (xApprox * 10 <= xAbs) { xMag += 1; }\n  return xMag\n};\nDD.stringOfChar = function stringOfChar (ch, len) {\n  var buf = new StringBuffer();\n  for (var i = 0; i < len; i++) {\n    buf.append(ch);\n  }\n  return buf.toString()\n};\nstaticAccessors$7.PI.get = function () { return new DD(3.141592653589793116e+00, 1.224646799147353207e-16) };\nstaticAccessors$7.TWO_PI.get = function () { return new DD(6.283185307179586232e+00, 2.449293598294706414e-16) };\nstaticAccessors$7.PI_2.get = function () { return new DD(1.570796326794896558e+00, 6.123233995736766036e-17) };\nstaticAccessors$7.E.get = function () { return new DD(2.718281828459045091e+00, 1.445646891729250158e-16) };\nstaticAccessors$7.NaN.get = function () { return new DD(Double.NaN, Double.NaN) };\nstaticAccessors$7.EPS.get = function () { return 1.23259516440783e-32 };\nstaticAccessors$7.SPLIT.get = function () { return 134217729.0 };\nstaticAccessors$7.MAX_PRINT_DIGITS.get = function () { return 32 };\nstaticAccessors$7.TEN.get = function () { return DD.valueOf(10.0) };\nstaticAccessors$7.ONE.get = function () { return DD.valueOf(1.0) };\nstaticAccessors$7.SCI_NOT_EXPONENT_CHAR.get = function () { return 'E' };\nstaticAccessors$7.SCI_NOT_ZERO.get = function () { return '0.0E0' };\n\nObject.defineProperties( DD, staticAccessors$7 );\n\nvar CGAlgorithmsDD = function CGAlgorithmsDD () {};\n\nvar staticAccessors$6 = { DP_SAFE_EPSILON: { configurable: true } };\n\nCGAlgorithmsDD.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCGAlgorithmsDD.prototype.getClass = function getClass () {\n  return CGAlgorithmsDD\n};\nCGAlgorithmsDD.orientationIndex = function orientationIndex (p1, p2, q) {\n  var index = CGAlgorithmsDD.orientationIndexFilter(p1, p2, q);\n  if (index <= 1) { return index }\n  var dx1 = DD.valueOf(p2.x).selfAdd(-p1.x);\n  var dy1 = DD.valueOf(p2.y).selfAdd(-p1.y);\n  var dx2 = DD.valueOf(q.x).selfAdd(-p2.x);\n  var dy2 = DD.valueOf(q.y).selfAdd(-p2.y);\n  return dx1.selfMultiply(dy2).selfSubtract(dy1.selfMultiply(dx2)).signum()\n};\nCGAlgorithmsDD.signOfDet2x2 = function signOfDet2x2 (x1, y1, x2, y2) {\n  var det = x1.multiply(y2).selfSubtract(y1.multiply(x2));\n  return det.signum()\n};\nCGAlgorithmsDD.intersection = function intersection (p1, p2, q1, q2) {\n  var denom1 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p2.x).selfSubtract(p1.x));\n  var denom2 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p2.y).selfSubtract(p1.y));\n  var denom = denom1.subtract(denom2);\n  var numx1 = DD.valueOf(q2.x).selfSubtract(q1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n  var numx2 = DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n  var numx = numx1.subtract(numx2);\n  var fracP = numx.selfDivide(denom).doubleValue();\n  var x = DD.valueOf(p1.x).selfAdd(DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(fracP)).doubleValue();\n  var numy1 = DD.valueOf(p2.x).selfSubtract(p1.x).selfMultiply(DD.valueOf(p1.y).selfSubtract(q1.y));\n  var numy2 = DD.valueOf(p2.y).selfSubtract(p1.y).selfMultiply(DD.valueOf(p1.x).selfSubtract(q1.x));\n  var numy = numy1.subtract(numy2);\n  var fracQ = numy.selfDivide(denom).doubleValue();\n  var y = DD.valueOf(q1.y).selfAdd(DD.valueOf(q2.y).selfSubtract(q1.y).selfMultiply(fracQ)).doubleValue();\n  return new Coordinate(x, y)\n};\nCGAlgorithmsDD.orientationIndexFilter = function orientationIndexFilter (pa, pb, pc) {\n  var detsum = null;\n  var detleft = (pa.x - pc.x) * (pb.y - pc.y);\n  var detright = (pa.y - pc.y) * (pb.x - pc.x);\n  var det = detleft - detright;\n  if (detleft > 0.0) {\n    if (detright <= 0.0) {\n      return CGAlgorithmsDD.signum(det)\n    } else {\n      detsum = detleft + detright;\n    }\n  } else if (detleft < 0.0) {\n    if (detright >= 0.0) {\n      return CGAlgorithmsDD.signum(det)\n    } else {\n      detsum = -detleft - detright;\n    }\n  } else {\n    return CGAlgorithmsDD.signum(det)\n  }\n  var errbound = CGAlgorithmsDD.DP_SAFE_EPSILON * detsum;\n  if (det >= errbound || -det >= errbound) {\n    return CGAlgorithmsDD.signum(det)\n  }\n  return 2\n};\nCGAlgorithmsDD.signum = function signum (x) {\n  if (x > 0) { return 1 }\n  if (x < 0) { return -1 }\n  return 0\n};\nstaticAccessors$6.DP_SAFE_EPSILON.get = function () { return 1e-15 };\n\nObject.defineProperties( CGAlgorithmsDD, staticAccessors$6 );\n\nvar CoordinateSequence = function CoordinateSequence () {};\n\nvar staticAccessors$8 = { X: { configurable: true },Y: { configurable: true },Z: { configurable: true },M: { configurable: true } };\n\nstaticAccessors$8.X.get = function () { return 0 };\nstaticAccessors$8.Y.get = function () { return 1 };\nstaticAccessors$8.Z.get = function () { return 2 };\nstaticAccessors$8.M.get = function () { return 3 };\nCoordinateSequence.prototype.setOrdinate = function setOrdinate (index, ordinateIndex, value) {};\nCoordinateSequence.prototype.size = function size () {};\nCoordinateSequence.prototype.getOrdinate = function getOrdinate (index, ordinateIndex) {};\nCoordinateSequence.prototype.getCoordinate = function getCoordinate () {};\nCoordinateSequence.prototype.getCoordinateCopy = function getCoordinateCopy (i) {};\nCoordinateSequence.prototype.getDimension = function getDimension () {};\nCoordinateSequence.prototype.getX = function getX (index) {};\nCoordinateSequence.prototype.clone = function clone () {};\nCoordinateSequence.prototype.expandEnvelope = function expandEnvelope (env) {};\nCoordinateSequence.prototype.copy = function copy () {};\nCoordinateSequence.prototype.getY = function getY (index) {};\nCoordinateSequence.prototype.toCoordinateArray = function toCoordinateArray () {};\nCoordinateSequence.prototype.interfaces_ = function interfaces_ () {\n  return [Clonable]\n};\nCoordinateSequence.prototype.getClass = function getClass () {\n  return CoordinateSequence\n};\n\nObject.defineProperties( CoordinateSequence, staticAccessors$8 );\n\nvar Exception = function Exception () {};\n\nvar NotRepresentableException = (function (Exception$$1) {\n  function NotRepresentableException () {\n    Exception$$1.call(this, 'Projective point not representable on the Cartesian plane.');\n  }\n\n  if ( Exception$$1 ) NotRepresentableException.__proto__ = Exception$$1;\n  NotRepresentableException.prototype = Object.create( Exception$$1 && Exception$$1.prototype );\n  NotRepresentableException.prototype.constructor = NotRepresentableException;\n  NotRepresentableException.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  NotRepresentableException.prototype.getClass = function getClass () {\n    return NotRepresentableException\n  };\n\n  return NotRepresentableException;\n}(Exception));\n\nvar System = function System () {};\n\nSystem.arraycopy = function arraycopy (src, srcPos, dest, destPos, len) {\n  var c = 0;\n  for (var i = srcPos; i < srcPos + len; i++) {\n    dest[destPos + c] = src[i];\n    c++;\n  }\n};\n\nSystem.getProperty = function getProperty (name) {\n  return {\n    'line.separator': '\\n'\n  }[name]\n};\n\nvar HCoordinate = function HCoordinate () {\n  this.x = null;\n  this.y = null;\n  this.w = null;\n  if (arguments.length === 0) {\n    this.x = 0.0;\n    this.y = 0.0;\n    this.w = 1.0;\n  } else if (arguments.length === 1) {\n    var p = arguments[0];\n    this.x = p.x;\n    this.y = p.y;\n    this.w = 1.0;\n  } else if (arguments.length === 2) {\n    if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\n      var _x = arguments[0];\n      var _y = arguments[1];\n      this.x = _x;\n      this.y = _y;\n      this.w = 1.0;\n    } else if (arguments[0] instanceof HCoordinate && arguments[1] instanceof HCoordinate) {\n      var p1 = arguments[0];\n      var p2 = arguments[1];\n      this.x = p1.y * p2.w - p2.y * p1.w;\n      this.y = p2.x * p1.w - p1.x * p2.w;\n      this.w = p1.x * p2.y - p2.x * p1.y;\n    } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n      var p1$1 = arguments[0];\n      var p2$1 = arguments[1];\n      this.x = p1$1.y - p2$1.y;\n      this.y = p2$1.x - p1$1.x;\n      this.w = p1$1.x * p2$1.y - p2$1.x * p1$1.y;\n    }\n  } else if (arguments.length === 3) {\n    var _x$1 = arguments[0];\n    var _y$1 = arguments[1];\n    var _w = arguments[2];\n    this.x = _x$1;\n    this.y = _y$1;\n    this.w = _w;\n  } else if (arguments.length === 4) {\n    var p1$2 = arguments[0];\n    var p2$2 = arguments[1];\n    var q1 = arguments[2];\n    var q2 = arguments[3];\n    var px = p1$2.y - p2$2.y;\n    var py = p2$2.x - p1$2.x;\n    var pw = p1$2.x * p2$2.y - p2$2.x * p1$2.y;\n    var qx = q1.y - q2.y;\n    var qy = q2.x - q1.x;\n    var qw = q1.x * q2.y - q2.x * q1.y;\n    this.x = py * qw - qy * pw;\n    this.y = qx * pw - px * qw;\n    this.w = px * qy - qx * py;\n  }\n};\nHCoordinate.prototype.getY = function getY () {\n  var a = this.y / this.w;\n  if (Double.isNaN(a) || Double.isInfinite(a)) {\n    throw new NotRepresentableException()\n  }\n  return a\n};\nHCoordinate.prototype.getX = function getX () {\n  var a = this.x / this.w;\n  if (Double.isNaN(a) || Double.isInfinite(a)) {\n    throw new NotRepresentableException()\n  }\n  return a\n};\nHCoordinate.prototype.getCoordinate = function getCoordinate () {\n  var p = new Coordinate();\n  p.x = this.getX();\n  p.y = this.getY();\n  return p\n};\nHCoordinate.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nHCoordinate.prototype.getClass = function getClass () {\n  return HCoordinate\n};\nHCoordinate.intersection = function intersection (p1, p2, q1, q2) {\n  var px = p1.y - p2.y;\n  var py = p2.x - p1.x;\n  var pw = p1.x * p2.y - p2.x * p1.y;\n  var qx = q1.y - q2.y;\n  var qy = q2.x - q1.x;\n  var qw = q1.x * q2.y - q2.x * q1.y;\n  var x = py * qw - qy * pw;\n  var y = qx * pw - px * qw;\n  var w = px * qy - qx * py;\n  var xInt = x / w;\n  var yInt = y / w;\n  if (Double.isNaN(xInt) || (Double.isInfinite(xInt) || Double.isNaN(yInt)) || Double.isInfinite(yInt)) {\n    throw new NotRepresentableException()\n  }\n  return new Coordinate(xInt, yInt)\n};\n\nvar Envelope = function Envelope () {\n  this._minx = null;\n  this._maxx = null;\n  this._miny = null;\n  this._maxy = null;\n  if (arguments.length === 0) {\n    this.init();\n  } else if (arguments.length === 1) {\n    if (arguments[0] instanceof Coordinate) {\n      var p = arguments[0];\n      this.init(p.x, p.x, p.y, p.y);\n    } else if (arguments[0] instanceof Envelope) {\n      var env = arguments[0];\n      this.init(env);\n    }\n  } else if (arguments.length === 2) {\n    var p1 = arguments[0];\n    var p2 = arguments[1];\n    this.init(p1.x, p2.x, p1.y, p2.y);\n  } else if (arguments.length === 4) {\n    var x1 = arguments[0];\n    var x2 = arguments[1];\n    var y1 = arguments[2];\n    var y2 = arguments[3];\n    this.init(x1, x2, y1, y2);\n  }\n};\n\nvar staticAccessors$9 = { serialVersionUID: { configurable: true } };\nEnvelope.prototype.getArea = function getArea () {\n  return this.getWidth() * this.getHeight()\n};\nEnvelope.prototype.equals = function equals (other) {\n  if (!(other instanceof Envelope)) {\n    return false\n  }\n  var otherEnvelope = other;\n  if (this.isNull()) {\n    return otherEnvelope.isNull()\n  }\n  return this._maxx === otherEnvelope.getMaxX() && this._maxy === otherEnvelope.getMaxY() && this._minx === otherEnvelope.getMinX() && this._miny === otherEnvelope.getMinY()\n};\nEnvelope.prototype.intersection = function intersection (env) {\n  if (this.isNull() || env.isNull() || !this.intersects(env)) { return new Envelope() }\n  var intMinX = this._minx > env._minx ? this._minx : env._minx;\n  var intMinY = this._miny > env._miny ? this._miny : env._miny;\n  var intMaxX = this._maxx < env._maxx ? this._maxx : env._maxx;\n  var intMaxY = this._maxy < env._maxy ? this._maxy : env._maxy;\n  return new Envelope(intMinX, intMaxX, intMinY, intMaxY)\n};\nEnvelope.prototype.isNull = function isNull () {\n  return this._maxx < this._minx\n};\nEnvelope.prototype.getMaxX = function getMaxX () {\n  return this._maxx\n};\nEnvelope.prototype.covers = function covers () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof Coordinate) {\n      var p = arguments[0];\n      return this.covers(p.x, p.y)\n    } else if (arguments[0] instanceof Envelope) {\n      var other = arguments[0];\n      if (this.isNull() || other.isNull()) {\n        return false\n      }\n      return other.getMinX() >= this._minx && other.getMaxX() <= this._maxx && other.getMinY() >= this._miny && other.getMaxY() <= this._maxy\n    }\n  } else if (arguments.length === 2) {\n    var x = arguments[0];\n    var y = arguments[1];\n    if (this.isNull()) { return false }\n    return x >= this._minx && x <= this._maxx && y >= this._miny && y <= this._maxy\n  }\n};\nEnvelope.prototype.intersects = function intersects () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof Envelope) {\n      var other = arguments[0];\n      if (this.isNull() || other.isNull()) {\n        return false\n      }\n      return !(other._minx > this._maxx || other._maxx < this._minx || other._miny > this._maxy || other._maxy < this._miny)\n    } else if (arguments[0] instanceof Coordinate) {\n      var p = arguments[0];\n      return this.intersects(p.x, p.y)\n    }\n  } else if (arguments.length === 2) {\n    var x = arguments[0];\n    var y = arguments[1];\n    if (this.isNull()) { return false }\n    return !(x > this._maxx || x < this._minx || y > this._maxy || y < this._miny)\n  }\n};\nEnvelope.prototype.getMinY = function getMinY () {\n  return this._miny\n};\nEnvelope.prototype.getMinX = function getMinX () {\n  return this._minx\n};\nEnvelope.prototype.expandToInclude = function expandToInclude () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof Coordinate) {\n      var p = arguments[0];\n      this.expandToInclude(p.x, p.y);\n    } else if (arguments[0] instanceof Envelope) {\n      var other = arguments[0];\n      if (other.isNull()) {\n        return null\n      }\n      if (this.isNull()) {\n        this._minx = other.getMinX();\n        this._maxx = other.getMaxX();\n        this._miny = other.getMinY();\n        this._maxy = other.getMaxY();\n      } else {\n        if (other._minx < this._minx) {\n          this._minx = other._minx;\n        }\n        if (other._maxx > this._maxx) {\n          this._maxx = other._maxx;\n        }\n        if (other._miny < this._miny) {\n          this._miny = other._miny;\n        }\n        if (other._maxy > this._maxy) {\n          this._maxy = other._maxy;\n        }\n      }\n    }\n  } else if (arguments.length === 2) {\n    var x = arguments[0];\n    var y = arguments[1];\n    if (this.isNull()) {\n      this._minx = x;\n      this._maxx = x;\n      this._miny = y;\n      this._maxy = y;\n    } else {\n      if (x < this._minx) {\n        this._minx = x;\n      }\n      if (x > this._maxx) {\n        this._maxx = x;\n      }\n      if (y < this._miny) {\n        this._miny = y;\n      }\n      if (y > this._maxy) {\n        this._maxy = y;\n      }\n    }\n  }\n};\nEnvelope.prototype.minExtent = function minExtent () {\n  if (this.isNull()) { return 0.0 }\n  var w = this.getWidth();\n  var h = this.getHeight();\n  if (w < h) { return w }\n  return h\n};\nEnvelope.prototype.getWidth = function getWidth () {\n  if (this.isNull()) {\n    return 0\n  }\n  return this._maxx - this._minx\n};\nEnvelope.prototype.compareTo = function compareTo (o) {\n  var env = o;\n  if (this.isNull()) {\n    if (env.isNull()) { return 0 }\n    return -1\n  } else {\n    if (env.isNull()) { return 1 }\n  }\n  if (this._minx < env._minx) { return -1 }\n  if (this._minx > env._minx) { return 1 }\n  if (this._miny < env._miny) { return -1 }\n  if (this._miny > env._miny) { return 1 }\n  if (this._maxx < env._maxx) { return -1 }\n  if (this._maxx > env._maxx) { return 1 }\n  if (this._maxy < env._maxy) { return -1 }\n  if (this._maxy > env._maxy) { return 1 }\n  return 0\n};\nEnvelope.prototype.translate = function translate (transX, transY) {\n  if (this.isNull()) {\n    return null\n  }\n  this.init(this.getMinX() + transX, this.getMaxX() + transX, this.getMinY() + transY, this.getMaxY() + transY);\n};\nEnvelope.prototype.toString = function toString () {\n  return 'Env[' + this._minx + ' : ' + this._maxx + ', ' + this._miny + ' : ' + this._maxy + ']'\n};\nEnvelope.prototype.setToNull = function setToNull () {\n  this._minx = 0;\n  this._maxx = -1;\n  this._miny = 0;\n  this._maxy = -1;\n};\nEnvelope.prototype.getHeight = function getHeight () {\n  if (this.isNull()) {\n    return 0\n  }\n  return this._maxy - this._miny\n};\nEnvelope.prototype.maxExtent = function maxExtent () {\n  if (this.isNull()) { return 0.0 }\n  var w = this.getWidth();\n  var h = this.getHeight();\n  if (w > h) { return w }\n  return h\n};\nEnvelope.prototype.expandBy = function expandBy () {\n  if (arguments.length === 1) {\n    var distance = arguments[0];\n    this.expandBy(distance, distance);\n  } else if (arguments.length === 2) {\n    var deltaX = arguments[0];\n    var deltaY = arguments[1];\n    if (this.isNull()) { return null }\n    this._minx -= deltaX;\n    this._maxx += deltaX;\n    this._miny -= deltaY;\n    this._maxy += deltaY;\n    if (this._minx > this._maxx || this._miny > this._maxy) { this.setToNull(); }\n  }\n};\nEnvelope.prototype.contains = function contains () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof Envelope) {\n      var other = arguments[0];\n      return this.covers(other)\n    } else if (arguments[0] instanceof Coordinate) {\n      var p = arguments[0];\n      return this.covers(p)\n    }\n  } else if (arguments.length === 2) {\n    var x = arguments[0];\n    var y = arguments[1];\n    return this.covers(x, y)\n  }\n};\nEnvelope.prototype.centre = function centre () {\n  if (this.isNull()) { return null }\n  return new Coordinate((this.getMinX() + this.getMaxX()) / 2.0, (this.getMinY() + this.getMaxY()) / 2.0)\n};\nEnvelope.prototype.init = function init () {\n  if (arguments.length === 0) {\n    this.setToNull();\n  } else if (arguments.length === 1) {\n    if (arguments[0] instanceof Coordinate) {\n      var p = arguments[0];\n      this.init(p.x, p.x, p.y, p.y);\n    } else if (arguments[0] instanceof Envelope) {\n      var env = arguments[0];\n      this._minx = env._minx;\n      this._maxx = env._maxx;\n      this._miny = env._miny;\n      this._maxy = env._maxy;\n    }\n  } else if (arguments.length === 2) {\n    var p1 = arguments[0];\n    var p2 = arguments[1];\n    this.init(p1.x, p2.x, p1.y, p2.y);\n  } else if (arguments.length === 4) {\n    var x1 = arguments[0];\n    var x2 = arguments[1];\n    var y1 = arguments[2];\n    var y2 = arguments[3];\n    if (x1 < x2) {\n      this._minx = x1;\n      this._maxx = x2;\n    } else {\n      this._minx = x2;\n      this._maxx = x1;\n    }\n    if (y1 < y2) {\n      this._miny = y1;\n      this._maxy = y2;\n    } else {\n      this._miny = y2;\n      this._maxy = y1;\n    }\n  }\n};\nEnvelope.prototype.getMaxY = function getMaxY () {\n  return this._maxy\n};\nEnvelope.prototype.distance = function distance (env) {\n  if (this.intersects(env)) { return 0 }\n  var dx = 0.0;\n  if (this._maxx < env._minx) { dx = env._minx - this._maxx; } else if (this._minx > env._maxx) { dx = this._minx - env._maxx; }\n  var dy = 0.0;\n  if (this._maxy < env._miny) { dy = env._miny - this._maxy; } else if (this._miny > env._maxy) { dy = this._miny - env._maxy; }\n  if (dx === 0.0) { return dy }\n  if (dy === 0.0) { return dx }\n  return Math.sqrt(dx * dx + dy * dy)\n};\nEnvelope.prototype.hashCode = function hashCode () {\n  var result = 17;\n  result = 37 * result + Coordinate.hashCode(this._minx);\n  result = 37 * result + Coordinate.hashCode(this._maxx);\n  result = 37 * result + Coordinate.hashCode(this._miny);\n  result = 37 * result + Coordinate.hashCode(this._maxy);\n  return result\n};\nEnvelope.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable, Serializable]\n};\nEnvelope.prototype.getClass = function getClass () {\n  return Envelope\n};\nEnvelope.intersects = function intersects () {\n  if (arguments.length === 3) {\n    var p1 = arguments[0];\n    var p2 = arguments[1];\n    var q = arguments[2];\n    if (q.x >= (p1.x < p2.x ? p1.x : p2.x) && q.x <= (p1.x > p2.x ? p1.x : p2.x) && (q.y >= (p1.y < p2.y ? p1.y : p2.y) && q.y <= (p1.y > p2.y ? p1.y : p2.y))) {\n      return true\n    }\n    return false\n  } else if (arguments.length === 4) {\n    var p1$1 = arguments[0];\n    var p2$1 = arguments[1];\n    var q1 = arguments[2];\n    var q2 = arguments[3];\n    var minq = Math.min(q1.x, q2.x);\n    var maxq = Math.max(q1.x, q2.x);\n    var minp = Math.min(p1$1.x, p2$1.x);\n    var maxp = Math.max(p1$1.x, p2$1.x);\n    if (minp > maxq) { return false }\n    if (maxp < minq) { return false }\n    minq = Math.min(q1.y, q2.y);\n    maxq = Math.max(q1.y, q2.y);\n    minp = Math.min(p1$1.y, p2$1.y);\n    maxp = Math.max(p1$1.y, p2$1.y);\n    if (minp > maxq) { return false }\n    if (maxp < minq) { return false }\n    return true\n  }\n};\nstaticAccessors$9.serialVersionUID.get = function () { return 5873921885273102420 };\n\nObject.defineProperties( Envelope, staticAccessors$9 );\n\nvar regExes = {\n  'typeStr': /^\\s*(\\w+)\\s*\\(\\s*(.*)\\s*\\)\\s*$/,\n  'emptyTypeStr': /^\\s*(\\w+)\\s*EMPTY\\s*$/,\n  'spaces': /\\s+/,\n  'parenComma': /\\)\\s*,\\s*\\(/,\n  'doubleParenComma': /\\)\\s*\\)\\s*,\\s*\\(\\s*\\(/, // can't use {2} here\n  'trimParens': /^\\s*\\(?(.*?)\\)?\\s*$/\n};\n\n/**\n * Class for reading and writing Well-Known Text.\n *\n * NOTE: Adapted from OpenLayers 2.11 implementation.\n */\n\n/** Create a new parser for WKT\n *\n * @param {GeometryFactory} geometryFactory\n * @return An instance of WKTParser.\n * @constructor\n * @private\n */\nvar WKTParser = function WKTParser (geometryFactory) {\n  this.geometryFactory = geometryFactory || new GeometryFactory();\n};\n/**\n * Deserialize a WKT string and return a geometry. Supports WKT for POINT,\n * MULTIPOINT, LINESTRING, LINEARRING, MULTILINESTRING, POLYGON, MULTIPOLYGON,\n * and GEOMETRYCOLLECTION.\n *\n * @param {String} wkt A WKT string.\n * @return {Geometry} A geometry instance.\n * @private\n */\nWKTParser.prototype.read = function read (wkt) {\n  var geometry, type, str;\n  wkt = wkt.replace(/[\\n\\r]/g, ' ');\n  var matches = regExes.typeStr.exec(wkt);\n  if (wkt.search('EMPTY') !== -1) {\n    matches = regExes.emptyTypeStr.exec(wkt);\n    matches[2] = undefined;\n  }\n  if (matches) {\n    type = matches[1].toLowerCase();\n    str = matches[2];\n    if (parse$1[type]) {\n      geometry = parse$1[type].apply(this, [str]);\n    }\n  }\n\n  if (geometry === undefined) { throw new Error('Could not parse WKT ' + wkt) }\n\n  return geometry\n};\n\n/**\n * Serialize a geometry into a WKT string.\n *\n * @param {Geometry} geometry A feature or array of features.\n * @return {String} The WKT string representation of the input geometries.\n * @private\n */\nWKTParser.prototype.write = function write (geometry) {\n  return this.extractGeometry(geometry)\n};\n\n/**\n * Entry point to construct the WKT for a single Geometry object.\n *\n * @param {Geometry} geometry\n * @return {String} A WKT string of representing the geometry.\n * @private\n */\nWKTParser.prototype.extractGeometry = function extractGeometry (geometry) {\n  var type = geometry.getGeometryType().toLowerCase();\n  if (!extract$1[type]) {\n    return null\n  }\n  var wktType = type.toUpperCase();\n  var data;\n  if (geometry.isEmpty()) {\n    data = wktType + ' EMPTY';\n  } else {\n    data = wktType + '(' + extract$1[type].apply(this, [geometry]) + ')';\n  }\n  return data\n};\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual data extraction.\n * @private\n */\nvar extract$1 = {\n  coordinate: function coordinate (coordinate$1) {\n    return coordinate$1.x + ' ' + coordinate$1.y\n  },\n\n  /**\n   * Return a space delimited string of point coordinates.\n   *\n   * @param {Point}\n   *          point\n   * @return {String} A string of coordinates representing the point.\n   */\n  point: function point (point$1) {\n    return extract$1.coordinate.call(this, point$1._coordinates._coordinates[0])\n  },\n\n  /**\n   * Return a comma delimited string of point coordinates from a multipoint.\n   *\n   * @param {MultiPoint}\n   *          multipoint\n   * @return {String} A string of point coordinate strings representing the\n   *         multipoint.\n   */\n  multipoint: function multipoint (multipoint$1) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0, len = multipoint$1._geometries.length; i < len; ++i) {\n      array.push('(' + extract$1.point.apply(this$1, [multipoint$1._geometries[i]]) + ')');\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of point coordinates from a line.\n   *\n   * @param {LineString} linestring\n   * @return {String} A string of point coordinate strings representing the linestring.\n   */\n  linestring: function linestring (linestring$1) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0, len = linestring$1._points._coordinates.length; i < len; ++i) {\n      array.push(extract$1.coordinate.apply(this$1, [linestring$1._points._coordinates[i]]));\n    }\n    return array.join(',')\n  },\n\n  linearring: function linearring (linearring$1) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0, len = linearring$1._points._coordinates.length; i < len; ++i) {\n      array.push(extract$1.coordinate.apply(this$1, [linearring$1._points._coordinates[i]]));\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of linestring strings from a\n   * multilinestring.\n   *\n   * @param {MultiLineString} multilinestring\n   * @return {String} A string of of linestring strings representing the multilinestring.\n   */\n  multilinestring: function multilinestring (multilinestring$1) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0, len = multilinestring$1._geometries.length; i < len; ++i) {\n      array.push('(' +\n        extract$1.linestring.apply(this$1, [multilinestring$1._geometries[i]]) +\n        ')');\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return a comma delimited string of linear ring arrays from a polygon.\n   *\n   * @param {Polygon} polygon\n   * @return {String} An array of linear ring arrays representing the polygon.\n   */\n  polygon: function polygon (polygon$1) {\n    var this$1 = this;\n\n    var array = [];\n    array.push('(' + extract$1.linestring.apply(this, [polygon$1._shell]) + ')');\n    for (var i = 0, len = polygon$1._holes.length; i < len; ++i) {\n      array.push('(' + extract$1.linestring.apply(this$1, [polygon$1._holes[i]]) + ')');\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return an array of polygon arrays from a multipolygon.\n   *\n   * @param {MultiPolygon} multipolygon\n   * @return {String} An array of polygon arrays representing the multipolygon.\n   */\n  multipolygon: function multipolygon (multipolygon$1) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0, len = multipolygon$1._geometries.length; i < len; ++i) {\n      array.push('(' + extract$1.polygon.apply(this$1, [multipolygon$1._geometries[i]]) + ')');\n    }\n    return array.join(',')\n  },\n\n  /**\n   * Return the WKT portion between 'GEOMETRYCOLLECTION(' and ')' for an\n   * geometrycollection.\n   *\n   * @param {GeometryCollection} collection\n   * @return {String} internal WKT representation of the collection.\n   */\n  geometrycollection: function geometrycollection (collection) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0, len = collection._geometries.length; i < len; ++i) {\n      array.push(this$1.extractGeometry(collection._geometries[i]));\n    }\n    return array.join(',')\n  }\n};\n\n/**\n * Object with properties corresponding to the geometry types. Property values\n * are functions that do the actual parsing.\n * @private\n */\nvar parse$1 = {\n  /**\n   * Return point geometry given a point WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the point.\n   * @return {Point} A point geometry.\n   * @private\n   */\n  point: function point (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createPoint()\n    }\n\n    var coords = str.trim().split(regExes.spaces);\n    return this.geometryFactory.createPoint(new Coordinate(Number.parseFloat(coords[0]),\n      Number.parseFloat(coords[1])))\n  },\n\n  /**\n   * Return a multipoint geometry given a multipoint WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipoint.\n   * @return {Point} A multipoint feature.\n   * @private\n   */\n  multipoint: function multipoint (str) {\n    var this$1 = this;\n\n    if (str === undefined) {\n      return this.geometryFactory.createMultiPoint()\n    }\n\n    var point;\n    var points = str.trim().split(',');\n    var components = [];\n    for (var i = 0, len = points.length; i < len; ++i) {\n      point = points[i].replace(regExes.trimParens, '$1');\n      components.push(parse$1.point.apply(this$1, [point]));\n    }\n    return this.geometryFactory.createMultiPoint(components)\n  },\n\n  /**\n   * Return a linestring geometry given a linestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linestring.\n   * @return {LineString} A linestring geometry.\n   * @private\n   */\n  linestring: function linestring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLineString()\n    }\n\n    var points = str.trim().split(',');\n    var components = [];\n    var coords;\n    for (var i = 0, len = points.length; i < len; ++i) {\n      coords = points[i].trim().split(regExes.spaces);\n      components.push(new Coordinate(Number.parseFloat(coords[0]), Number.parseFloat(coords[1])));\n    }\n    return this.geometryFactory.createLineString(components)\n  },\n\n  /**\n   * Return a linearring geometry given a linearring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the linearring.\n   * @return {LinearRing} A linearring geometry.\n   * @private\n   */\n  linearring: function linearring (str) {\n    if (str === undefined) {\n      return this.geometryFactory.createLinearRing()\n    }\n\n    var points = str.trim().split(',');\n    var components = [];\n    var coords;\n    for (var i = 0, len = points.length; i < len; ++i) {\n      coords = points[i].trim().split(regExes.spaces);\n      components.push(new Coordinate(Number.parseFloat(coords[0]), Number.parseFloat(coords[1])));\n    }\n    return this.geometryFactory.createLinearRing(components)\n  },\n\n  /**\n   * Return a multilinestring geometry given a multilinestring WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multilinestring.\n   * @return {MultiLineString} A multilinestring geometry.\n   * @private\n   */\n  multilinestring: function multilinestring (str) {\n    var this$1 = this;\n\n    if (str === undefined) {\n      return this.geometryFactory.createMultiLineString()\n    }\n\n    var line;\n    var lines = str.trim().split(regExes.parenComma);\n    var components = [];\n    for (var i = 0, len = lines.length; i < len; ++i) {\n      line = lines[i].replace(regExes.trimParens, '$1');\n      components.push(parse$1.linestring.apply(this$1, [line]));\n    }\n    return this.geometryFactory.createMultiLineString(components)\n  },\n\n  /**\n   * Return a polygon geometry given a polygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the polygon.\n   * @return {Polygon} A polygon geometry.\n   * @private\n   */\n  polygon: function polygon (str) {\n    var this$1 = this;\n\n    if (str === undefined) {\n      return this.geometryFactory.createPolygon()\n    }\n\n    var ring, linestring, linearring;\n    var rings = str.trim().split(regExes.parenComma);\n    var shell;\n    var holes = [];\n    for (var i = 0, len = rings.length; i < len; ++i) {\n      ring = rings[i].replace(regExes.trimParens, '$1');\n      linestring = parse$1.linestring.apply(this$1, [ring]);\n      linearring = this$1.geometryFactory.createLinearRing(linestring._points);\n      if (i === 0) {\n        shell = linearring;\n      } else {\n        holes.push(linearring);\n      }\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  },\n\n  /**\n   * Return a multipolygon geometry given a multipolygon WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the multipolygon.\n   * @return {MultiPolygon} A multipolygon geometry.\n   * @private\n   */\n  multipolygon: function multipolygon (str) {\n    var this$1 = this;\n\n    if (str === undefined) {\n      return this.geometryFactory.createMultiPolygon()\n    }\n\n    var polygon;\n    var polygons = str.trim().split(regExes.doubleParenComma);\n    var components = [];\n    for (var i = 0, len = polygons.length; i < len; ++i) {\n      polygon = polygons[i].replace(regExes.trimParens, '$1');\n      components.push(parse$1.polygon.apply(this$1, [polygon]));\n    }\n    return this.geometryFactory.createMultiPolygon(components)\n  },\n\n  /**\n   * Return a geometrycollection given a geometrycollection WKT fragment.\n   *\n   * @param {String} str A WKT fragment representing the geometrycollection.\n   * @return {GeometryCollection}\n   * @private\n   */\n  geometrycollection: function geometrycollection (str) {\n    var this$1 = this;\n\n    if (str === undefined) {\n      return this.geometryFactory.createGeometryCollection()\n    }\n\n    // separate components of the collection with |\n    str = str.replace(/,\\s*([A-Za-z])/g, '|$1');\n    var wktArray = str.trim().split('|');\n    var components = [];\n    for (var i = 0, len = wktArray.length; i < len; ++i) {\n      components.push(this$1.read(wktArray[i]));\n    }\n    return this.geometryFactory.createGeometryCollection(components)\n  }\n};\n\n/**\n * Writes the Well-Known Text representation of a {@link Geometry}. The\n * Well-Known Text format is defined in the <A\n * HREF=\"http://www.opengis.org/techno/specs.htm\"> OGC Simple Features\n * Specification for SQL</A>.\n * <p>\n * The <code>WKTWriter</code> outputs coordinates rounded to the precision\n * model. Only the maximum number of decimal places necessary to represent the\n * ordinates to the required precision will be output.\n * <p>\n * The SFS WKT spec does not define a special tag for {@link LinearRing}s.\n * Under the spec, rings are output as <code>LINESTRING</code>s.\n */\n\n/**\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nvar WKTWriter = function WKTWriter (geometryFactory) {\n  this.parser = new WKTParser(geometryFactory);\n};\n\n/**\n * Converts a <code>Geometry</code> to its Well-known Text representation.\n *\n * @param {Geometry} geometry a <code>Geometry</code> to process.\n * @return {string} a <Geometry Tagged Text> string (see the OpenGIS Simple\n *       Features Specification).\n * @memberof WKTWriter\n */\nWKTWriter.prototype.write = function write (geometry) {\n  return this.parser.write(geometry)\n};\n/**\n * Generates the WKT for a <tt>LINESTRING</tt> specified by two\n * {@link Coordinate}s.\n *\n * @param p0 the first coordinate.\n * @param p1 the second coordinate.\n *\n * @return the WKT.\n * @private\n */\nWKTWriter.toLineString = function toLineString (p0, p1) {\n  if (arguments.length !== 2) {\n    throw new Error('Not implemented')\n  }\n  return 'LINESTRING ( ' + p0.x + ' ' + p0.y + ', ' + p1.x + ' ' + p1.y + ' )'\n};\n\nvar RuntimeException = (function (Error) {\n  function RuntimeException (message) {\n    Error.call(this, message);\n    this.name = 'RuntimeException';\n    this.message = message;\n    this.stack = (new Error()).stack;\n  }\n\n  if ( Error ) RuntimeException.__proto__ = Error;\n  RuntimeException.prototype = Object.create( Error && Error.prototype );\n  RuntimeException.prototype.constructor = RuntimeException;\n\n  return RuntimeException;\n}(Error));\n\nvar AssertionFailedException = (function (RuntimeException$$1) {\n  function AssertionFailedException () {\n    RuntimeException$$1.call(this);\n    if (arguments.length === 0) {\n      RuntimeException$$1.call(this);\n    } else if (arguments.length === 1) {\n      var message = arguments[0];\n      RuntimeException$$1.call(this, message);\n    }\n  }\n\n  if ( RuntimeException$$1 ) AssertionFailedException.__proto__ = RuntimeException$$1;\n  AssertionFailedException.prototype = Object.create( RuntimeException$$1 && RuntimeException$$1.prototype );\n  AssertionFailedException.prototype.constructor = AssertionFailedException;\n  AssertionFailedException.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  AssertionFailedException.prototype.getClass = function getClass () {\n    return AssertionFailedException\n  };\n\n  return AssertionFailedException;\n}(RuntimeException));\n\nvar Assert = function Assert () {};\n\nAssert.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nAssert.prototype.getClass = function getClass () {\n  return Assert\n};\nAssert.shouldNeverReachHere = function shouldNeverReachHere () {\n  if (arguments.length === 0) {\n    Assert.shouldNeverReachHere(null);\n  } else if (arguments.length === 1) {\n    var message = arguments[0];\n    throw new AssertionFailedException('Should never reach here' + (message !== null ? ': ' + message : ''))\n  }\n};\nAssert.isTrue = function isTrue () {\n  var assertion;\n  var message;\n  if (arguments.length === 1) {\n    assertion = arguments[0];\n    Assert.isTrue(assertion, null);\n  } else if (arguments.length === 2) {\n    assertion = arguments[0];\n    message = arguments[1];\n    if (!assertion) {\n      if (message === null) {\n        throw new AssertionFailedException()\n      } else {\n        throw new AssertionFailedException(message)\n      }\n    }\n  }\n};\nAssert.equals = function equals () {\n  var expectedValue;\n  var actualValue;\n  var message;\n  if (arguments.length === 2) {\n    expectedValue = arguments[0];\n    actualValue = arguments[1];\n    Assert.equals(expectedValue, actualValue, null);\n  } else if (arguments.length === 3) {\n    expectedValue = arguments[0];\n    actualValue = arguments[1];\n    message = arguments[2];\n    if (!actualValue.equals(expectedValue)) {\n      throw new AssertionFailedException('Expected ' + expectedValue + ' but encountered ' + actualValue + (message !== null ? ': ' + message : ''))\n    }\n  }\n};\n\nvar LineIntersector = function LineIntersector () {\n  this._result = null;\n  this._inputLines = Array(2).fill().map(function () { return Array(2); });\n  this._intPt = new Array(2).fill(null);\n  this._intLineIndex = null;\n  this._isProper = null;\n  this._pa = null;\n  this._pb = null;\n  this._precisionModel = null;\n  this._intPt[0] = new Coordinate();\n  this._intPt[1] = new Coordinate();\n  this._pa = this._intPt[0];\n  this._pb = this._intPt[1];\n  this._result = 0;\n};\n\nvar staticAccessors$10 = { DONT_INTERSECT: { configurable: true },DO_INTERSECT: { configurable: true },COLLINEAR: { configurable: true },NO_INTERSECTION: { configurable: true },POINT_INTERSECTION: { configurable: true },COLLINEAR_INTERSECTION: { configurable: true } };\nLineIntersector.prototype.getIndexAlongSegment = function getIndexAlongSegment (segmentIndex, intIndex) {\n  this.computeIntLineIndex();\n  return this._intLineIndex[segmentIndex][intIndex]\n};\nLineIntersector.prototype.getTopologySummary = function getTopologySummary () {\n  var catBuf = new StringBuffer();\n  if (this.isEndPoint()) { catBuf.append(' endpoint'); }\n  if (this._isProper) { catBuf.append(' proper'); }\n  if (this.isCollinear()) { catBuf.append(' collinear'); }\n  return catBuf.toString()\n};\nLineIntersector.prototype.computeIntersection = function computeIntersection (p1, p2, p3, p4) {\n  this._inputLines[0][0] = p1;\n  this._inputLines[0][1] = p2;\n  this._inputLines[1][0] = p3;\n  this._inputLines[1][1] = p4;\n  this._result = this.computeIntersect(p1, p2, p3, p4);\n};\nLineIntersector.prototype.getIntersectionNum = function getIntersectionNum () {\n  return this._result\n};\nLineIntersector.prototype.computeIntLineIndex = function computeIntLineIndex () {\n  if (arguments.length === 0) {\n    if (this._intLineIndex === null) {\n      this._intLineIndex = Array(2).fill().map(function () { return Array(2); });\n      this.computeIntLineIndex(0);\n      this.computeIntLineIndex(1);\n    }\n  } else if (arguments.length === 1) {\n    var segmentIndex = arguments[0];\n    var dist0 = this.getEdgeDistance(segmentIndex, 0);\n    var dist1 = this.getEdgeDistance(segmentIndex, 1);\n    if (dist0 > dist1) {\n      this._intLineIndex[segmentIndex][0] = 0;\n      this._intLineIndex[segmentIndex][1] = 1;\n    } else {\n      this._intLineIndex[segmentIndex][0] = 1;\n      this._intLineIndex[segmentIndex][1] = 0;\n    }\n  }\n};\nLineIntersector.prototype.isProper = function isProper () {\n  return this.hasIntersection() && this._isProper\n};\nLineIntersector.prototype.setPrecisionModel = function setPrecisionModel (precisionModel) {\n  this._precisionModel = precisionModel;\n};\nLineIntersector.prototype.isInteriorIntersection = function isInteriorIntersection () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    if (this.isInteriorIntersection(0)) { return true }\n    if (this.isInteriorIntersection(1)) { return true }\n    return false\n  } else if (arguments.length === 1) {\n    var inputLineIndex = arguments[0];\n    for (var i = 0; i < this._result; i++) {\n      if (!(this$1._intPt[i].equals2D(this$1._inputLines[inputLineIndex][0]) || this$1._intPt[i].equals2D(this$1._inputLines[inputLineIndex][1]))) {\n        return true\n      }\n    }\n    return false\n  }\n};\nLineIntersector.prototype.getIntersection = function getIntersection (intIndex) {\n  return this._intPt[intIndex]\n};\nLineIntersector.prototype.isEndPoint = function isEndPoint () {\n  return this.hasIntersection() && !this._isProper\n};\nLineIntersector.prototype.hasIntersection = function hasIntersection () {\n  return this._result !== LineIntersector.NO_INTERSECTION\n};\nLineIntersector.prototype.getEdgeDistance = function getEdgeDistance (segmentIndex, intIndex) {\n  var dist = LineIntersector.computeEdgeDistance(this._intPt[intIndex], this._inputLines[segmentIndex][0], this._inputLines[segmentIndex][1]);\n  return dist\n};\nLineIntersector.prototype.isCollinear = function isCollinear () {\n  return this._result === LineIntersector.COLLINEAR_INTERSECTION\n};\nLineIntersector.prototype.toString = function toString () {\n  return WKTWriter.toLineString(this._inputLines[0][0], this._inputLines[0][1]) + ' - ' + WKTWriter.toLineString(this._inputLines[1][0], this._inputLines[1][1]) + this.getTopologySummary()\n};\nLineIntersector.prototype.getEndpoint = function getEndpoint (segmentIndex, ptIndex) {\n  return this._inputLines[segmentIndex][ptIndex]\n};\nLineIntersector.prototype.isIntersection = function isIntersection (pt) {\n    var this$1 = this;\n\n  for (var i = 0; i < this._result; i++) {\n    if (this$1._intPt[i].equals2D(pt)) {\n      return true\n    }\n  }\n  return false\n};\nLineIntersector.prototype.getIntersectionAlongSegment = function getIntersectionAlongSegment (segmentIndex, intIndex) {\n  this.computeIntLineIndex();\n  return this._intPt[this._intLineIndex[segmentIndex][intIndex]]\n};\nLineIntersector.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nLineIntersector.prototype.getClass = function getClass () {\n  return LineIntersector\n};\nLineIntersector.computeEdgeDistance = function computeEdgeDistance (p, p0, p1) {\n  var dx = Math.abs(p1.x - p0.x);\n  var dy = Math.abs(p1.y - p0.y);\n  var dist = -1.0;\n  if (p.equals(p0)) {\n    dist = 0.0;\n  } else if (p.equals(p1)) {\n    if (dx > dy) { dist = dx; } else { dist = dy; }\n  } else {\n    var pdx = Math.abs(p.x - p0.x);\n    var pdy = Math.abs(p.y - p0.y);\n    if (dx > dy) { dist = pdx; } else { dist = pdy; }\n    if (dist === 0.0 && !p.equals(p0)) {\n      dist = Math.max(pdx, pdy);\n    }\n  }\n  Assert.isTrue(!(dist === 0.0 && !p.equals(p0)), 'Bad distance calculation');\n  return dist\n};\nLineIntersector.nonRobustComputeEdgeDistance = function nonRobustComputeEdgeDistance (p, p1, p2) {\n  var dx = p.x - p1.x;\n  var dy = p.y - p1.y;\n  var dist = Math.sqrt(dx * dx + dy * dy);\n  Assert.isTrue(!(dist === 0.0 && !p.equals(p1)), 'Invalid distance calculation');\n  return dist\n};\nstaticAccessors$10.DONT_INTERSECT.get = function () { return 0 };\nstaticAccessors$10.DO_INTERSECT.get = function () { return 1 };\nstaticAccessors$10.COLLINEAR.get = function () { return 2 };\nstaticAccessors$10.NO_INTERSECTION.get = function () { return 0 };\nstaticAccessors$10.POINT_INTERSECTION.get = function () { return 1 };\nstaticAccessors$10.COLLINEAR_INTERSECTION.get = function () { return 2 };\n\nObject.defineProperties( LineIntersector, staticAccessors$10 );\n\nvar RobustLineIntersector = (function (LineIntersector$$1) {\n  function RobustLineIntersector () {\n    LineIntersector$$1.apply(this, arguments);\n  }\n\n  if ( LineIntersector$$1 ) RobustLineIntersector.__proto__ = LineIntersector$$1;\n  RobustLineIntersector.prototype = Object.create( LineIntersector$$1 && LineIntersector$$1.prototype );\n  RobustLineIntersector.prototype.constructor = RobustLineIntersector;\n\n  RobustLineIntersector.prototype.isInSegmentEnvelopes = function isInSegmentEnvelopes (intPt) {\n    var env0 = new Envelope(this._inputLines[0][0], this._inputLines[0][1]);\n    var env1 = new Envelope(this._inputLines[1][0], this._inputLines[1][1]);\n    return env0.contains(intPt) && env1.contains(intPt)\n  };\n  RobustLineIntersector.prototype.computeIntersection = function computeIntersection () {\n    if (arguments.length === 3) {\n      var p = arguments[0];\n      var p1 = arguments[1];\n      var p2 = arguments[2];\n      this._isProper = false;\n      if (Envelope.intersects(p1, p2, p)) {\n        if (CGAlgorithms.orientationIndex(p1, p2, p) === 0 && CGAlgorithms.orientationIndex(p2, p1, p) === 0) {\n          this._isProper = true;\n          if (p.equals(p1) || p.equals(p2)) {\n            this._isProper = false;\n          }\n          this._result = LineIntersector$$1.POINT_INTERSECTION;\n          return null\n        }\n      }\n      this._result = LineIntersector$$1.NO_INTERSECTION;\n    } else { return LineIntersector$$1.prototype.computeIntersection.apply(this, arguments) }\n  };\n  RobustLineIntersector.prototype.normalizeToMinimum = function normalizeToMinimum (n1, n2, n3, n4, normPt) {\n    normPt.x = this.smallestInAbsValue(n1.x, n2.x, n3.x, n4.x);\n    normPt.y = this.smallestInAbsValue(n1.y, n2.y, n3.y, n4.y);\n    n1.x -= normPt.x;\n    n1.y -= normPt.y;\n    n2.x -= normPt.x;\n    n2.y -= normPt.y;\n    n3.x -= normPt.x;\n    n3.y -= normPt.y;\n    n4.x -= normPt.x;\n    n4.y -= normPt.y;\n  };\n  RobustLineIntersector.prototype.safeHCoordinateIntersection = function safeHCoordinateIntersection (p1, p2, q1, q2) {\n    var intPt = null;\n    try {\n      intPt = HCoordinate.intersection(p1, p2, q1, q2);\n    } catch (e) {\n      if (e instanceof NotRepresentableException) {\n        intPt = RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2);\n      } else { throw e }\n    } finally {}\n    return intPt\n  };\n  RobustLineIntersector.prototype.intersection = function intersection (p1, p2, q1, q2) {\n    var intPt = this.intersectionWithNormalization(p1, p2, q1, q2);\n    if (!this.isInSegmentEnvelopes(intPt)) {\n      intPt = new Coordinate(RobustLineIntersector.nearestEndpoint(p1, p2, q1, q2));\n    }\n    if (this._precisionModel !== null) {\n      this._precisionModel.makePrecise(intPt);\n    }\n    return intPt\n  };\n  RobustLineIntersector.prototype.smallestInAbsValue = function smallestInAbsValue (x1, x2, x3, x4) {\n    var x = x1;\n    var xabs = Math.abs(x);\n    if (Math.abs(x2) < xabs) {\n      x = x2;\n      xabs = Math.abs(x2);\n    }\n    if (Math.abs(x3) < xabs) {\n      x = x3;\n      xabs = Math.abs(x3);\n    }\n    if (Math.abs(x4) < xabs) {\n      x = x4;\n    }\n    return x\n  };\n  RobustLineIntersector.prototype.checkDD = function checkDD (p1, p2, q1, q2, intPt) {\n    var intPtDD = CGAlgorithmsDD.intersection(p1, p2, q1, q2);\n    var isIn = this.isInSegmentEnvelopes(intPtDD);\n    System.out.println('DD in env = ' + isIn + '  --------------------- ' + intPtDD);\n    if (intPt.distance(intPtDD) > 0.0001) {\n      System.out.println('Distance = ' + intPt.distance(intPtDD));\n    }\n  };\n  RobustLineIntersector.prototype.intersectionWithNormalization = function intersectionWithNormalization (p1, p2, q1, q2) {\n    var n1 = new Coordinate(p1);\n    var n2 = new Coordinate(p2);\n    var n3 = new Coordinate(q1);\n    var n4 = new Coordinate(q2);\n    var normPt = new Coordinate();\n    this.normalizeToEnvCentre(n1, n2, n3, n4, normPt);\n    var intPt = this.safeHCoordinateIntersection(n1, n2, n3, n4);\n    intPt.x += normPt.x;\n    intPt.y += normPt.y;\n    return intPt\n  };\n  RobustLineIntersector.prototype.computeCollinearIntersection = function computeCollinearIntersection (p1, p2, q1, q2) {\n    var p1q1p2 = Envelope.intersects(p1, p2, q1);\n    var p1q2p2 = Envelope.intersects(p1, p2, q2);\n    var q1p1q2 = Envelope.intersects(q1, q2, p1);\n    var q1p2q2 = Envelope.intersects(q1, q2, p2);\n    if (p1q1p2 && p1q2p2) {\n      this._intPt[0] = q1;\n      this._intPt[1] = q2;\n      return LineIntersector$$1.COLLINEAR_INTERSECTION\n    }\n    if (q1p1q2 && q1p2q2) {\n      this._intPt[0] = p1;\n      this._intPt[1] = p2;\n      return LineIntersector$$1.COLLINEAR_INTERSECTION\n    }\n    if (p1q1p2 && q1p1q2) {\n      this._intPt[0] = q1;\n      this._intPt[1] = p1;\n      return q1.equals(p1) && !p1q2p2 && !q1p2q2 ? LineIntersector$$1.POINT_INTERSECTION : LineIntersector$$1.COLLINEAR_INTERSECTION\n    }\n    if (p1q1p2 && q1p2q2) {\n      this._intPt[0] = q1;\n      this._intPt[1] = p2;\n      return q1.equals(p2) && !p1q2p2 && !q1p1q2 ? LineIntersector$$1.POINT_INTERSECTION : LineIntersector$$1.COLLINEAR_INTERSECTION\n    }\n    if (p1q2p2 && q1p1q2) {\n      this._intPt[0] = q2;\n      this._intPt[1] = p1;\n      return q2.equals(p1) && !p1q1p2 && !q1p2q2 ? LineIntersector$$1.POINT_INTERSECTION : LineIntersector$$1.COLLINEAR_INTERSECTION\n    }\n    if (p1q2p2 && q1p2q2) {\n      this._intPt[0] = q2;\n      this._intPt[1] = p2;\n      return q2.equals(p2) && !p1q1p2 && !q1p1q2 ? LineIntersector$$1.POINT_INTERSECTION : LineIntersector$$1.COLLINEAR_INTERSECTION\n    }\n    return LineIntersector$$1.NO_INTERSECTION\n  };\n  RobustLineIntersector.prototype.normalizeToEnvCentre = function normalizeToEnvCentre (n00, n01, n10, n11, normPt) {\n    var minX0 = n00.x < n01.x ? n00.x : n01.x;\n    var minY0 = n00.y < n01.y ? n00.y : n01.y;\n    var maxX0 = n00.x > n01.x ? n00.x : n01.x;\n    var maxY0 = n00.y > n01.y ? n00.y : n01.y;\n    var minX1 = n10.x < n11.x ? n10.x : n11.x;\n    var minY1 = n10.y < n11.y ? n10.y : n11.y;\n    var maxX1 = n10.x > n11.x ? n10.x : n11.x;\n    var maxY1 = n10.y > n11.y ? n10.y : n11.y;\n    var intMinX = minX0 > minX1 ? minX0 : minX1;\n    var intMaxX = maxX0 < maxX1 ? maxX0 : maxX1;\n    var intMinY = minY0 > minY1 ? minY0 : minY1;\n    var intMaxY = maxY0 < maxY1 ? maxY0 : maxY1;\n    var intMidX = (intMinX + intMaxX) / 2.0;\n    var intMidY = (intMinY + intMaxY) / 2.0;\n    normPt.x = intMidX;\n    normPt.y = intMidY;\n    n00.x -= normPt.x;\n    n00.y -= normPt.y;\n    n01.x -= normPt.x;\n    n01.y -= normPt.y;\n    n10.x -= normPt.x;\n    n10.y -= normPt.y;\n    n11.x -= normPt.x;\n    n11.y -= normPt.y;\n  };\n  RobustLineIntersector.prototype.computeIntersect = function computeIntersect (p1, p2, q1, q2) {\n    this._isProper = false;\n    if (!Envelope.intersects(p1, p2, q1, q2)) { return LineIntersector$$1.NO_INTERSECTION }\n    var Pq1 = CGAlgorithms.orientationIndex(p1, p2, q1);\n    var Pq2 = CGAlgorithms.orientationIndex(p1, p2, q2);\n    if ((Pq1 > 0 && Pq2 > 0) || (Pq1 < 0 && Pq2 < 0)) {\n      return LineIntersector$$1.NO_INTERSECTION\n    }\n    var Qp1 = CGAlgorithms.orientationIndex(q1, q2, p1);\n    var Qp2 = CGAlgorithms.orientationIndex(q1, q2, p2);\n    if ((Qp1 > 0 && Qp2 > 0) || (Qp1 < 0 && Qp2 < 0)) {\n      return LineIntersector$$1.NO_INTERSECTION\n    }\n    var collinear = Pq1 === 0 && Pq2 === 0 && Qp1 === 0 && Qp2 === 0;\n    if (collinear) {\n      return this.computeCollinearIntersection(p1, p2, q1, q2)\n    }\n    if (Pq1 === 0 || Pq2 === 0 || Qp1 === 0 || Qp2 === 0) {\n      this._isProper = false;\n      if (p1.equals2D(q1) || p1.equals2D(q2)) {\n        this._intPt[0] = p1;\n      } else if (p2.equals2D(q1) || p2.equals2D(q2)) {\n        this._intPt[0] = p2;\n      } else if (Pq1 === 0) {\n        this._intPt[0] = new Coordinate(q1);\n      } else if (Pq2 === 0) {\n        this._intPt[0] = new Coordinate(q2);\n      } else if (Qp1 === 0) {\n        this._intPt[0] = new Coordinate(p1);\n      } else if (Qp2 === 0) {\n        this._intPt[0] = new Coordinate(p2);\n      }\n    } else {\n      this._isProper = true;\n      this._intPt[0] = this.intersection(p1, p2, q1, q2);\n    }\n    return LineIntersector$$1.POINT_INTERSECTION\n  };\n  RobustLineIntersector.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  RobustLineIntersector.prototype.getClass = function getClass () {\n    return RobustLineIntersector\n  };\n  RobustLineIntersector.nearestEndpoint = function nearestEndpoint (p1, p2, q1, q2) {\n    var nearestPt = p1;\n    var minDist = CGAlgorithms.distancePointLine(p1, q1, q2);\n    var dist = CGAlgorithms.distancePointLine(p2, q1, q2);\n    if (dist < minDist) {\n      minDist = dist;\n      nearestPt = p2;\n    }\n    dist = CGAlgorithms.distancePointLine(q1, p1, p2);\n    if (dist < minDist) {\n      minDist = dist;\n      nearestPt = q1;\n    }\n    dist = CGAlgorithms.distancePointLine(q2, p1, p2);\n    if (dist < minDist) {\n      minDist = dist;\n      nearestPt = q2;\n    }\n    return nearestPt\n  };\n\n  return RobustLineIntersector;\n}(LineIntersector));\n\nvar RobustDeterminant = function RobustDeterminant () {};\n\nRobustDeterminant.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nRobustDeterminant.prototype.getClass = function getClass () {\n  return RobustDeterminant\n};\nRobustDeterminant.orientationIndex = function orientationIndex (p1, p2, q) {\n  var dx1 = p2.x - p1.x;\n  var dy1 = p2.y - p1.y;\n  var dx2 = q.x - p2.x;\n  var dy2 = q.y - p2.y;\n  return RobustDeterminant.signOfDet2x2(dx1, dy1, dx2, dy2)\n};\nRobustDeterminant.signOfDet2x2 = function signOfDet2x2 (x1, y1, x2, y2) {\n  var sign = null;\n  var swap = null;\n  var k = null;\n  sign = 1;\n  if (x1 === 0.0 || y2 === 0.0) {\n    if (y1 === 0.0 || x2 === 0.0) {\n      return 0\n    } else if (y1 > 0) {\n      if (x2 > 0) {\n        return -sign\n      } else {\n        return sign\n      }\n    } else {\n      if (x2 > 0) {\n        return sign\n      } else {\n        return -sign\n      }\n    }\n  }\n  if (y1 === 0.0 || x2 === 0.0) {\n    if (y2 > 0) {\n      if (x1 > 0) {\n        return sign\n      } else {\n        return -sign\n      }\n    } else {\n      if (x1 > 0) {\n        return -sign\n      } else {\n        return sign\n      }\n    }\n  }\n  if (y1 > 0.0) {\n    if (y2 > 0.0) {\n      if (y1 <= y2) {\n        \n      } else {\n        sign = -sign;\n        swap = x1;\n        x1 = x2;\n        x2 = swap;\n        swap = y1;\n        y1 = y2;\n        y2 = swap;\n      }\n    } else {\n      if (y1 <= -y2) {\n        sign = -sign;\n        x2 = -x2;\n        y2 = -y2;\n      } else {\n        swap = x1;\n        x1 = -x2;\n        x2 = swap;\n        swap = y1;\n        y1 = -y2;\n        y2 = swap;\n      }\n    }\n  } else {\n    if (y2 > 0.0) {\n      if (-y1 <= y2) {\n        sign = -sign;\n        x1 = -x1;\n        y1 = -y1;\n      } else {\n        swap = -x1;\n        x1 = x2;\n        x2 = swap;\n        swap = -y1;\n        y1 = y2;\n        y2 = swap;\n      }\n    } else {\n      if (y1 >= y2) {\n        x1 = -x1;\n        y1 = -y1;\n        x2 = -x2;\n        y2 = -y2;\n      } else {\n        sign = -sign;\n        swap = -x1;\n        x1 = -x2;\n        x2 = swap;\n        swap = -y1;\n        y1 = -y2;\n        y2 = swap;\n      }\n    }\n  }\n  if (x1 > 0.0) {\n    if (x2 > 0.0) {\n      if (x1 <= x2) {\n        \n      } else {\n        return sign\n      }\n    } else {\n      return sign\n    }\n  } else {\n    if (x2 > 0.0) {\n      return -sign\n    } else {\n      if (x1 >= x2) {\n        sign = -sign;\n        x1 = -x1;\n        x2 = -x2;\n      } else {\n        return -sign\n      }\n    }\n  }\n  while (true) {\n    k = Math.floor(x2 / x1);\n    x2 = x2 - k * x1;\n    y2 = y2 - k * y1;\n    if (y2 < 0.0) {\n      return -sign\n    }\n    if (y2 > y1) {\n      return sign\n    }\n    if (x1 > x2 + x2) {\n      if (y1 < y2 + y2) {\n        return sign\n      }\n    } else {\n      if (y1 > y2 + y2) {\n        return -sign\n      } else {\n        x2 = x1 - x2;\n        y2 = y1 - y2;\n        sign = -sign;\n      }\n    }\n    if (y2 === 0.0) {\n      if (x2 === 0.0) {\n        return 0\n      } else {\n        return -sign\n      }\n    }\n    if (x2 === 0.0) {\n      return sign\n    }\n    k = Math.floor(x1 / x2);\n    x1 = x1 - k * x2;\n    y1 = y1 - k * y2;\n    if (y1 < 0.0) {\n      return sign\n    }\n    if (y1 > y2) {\n      return -sign\n    }\n    if (x2 > x1 + x1) {\n      if (y2 < y1 + y1) {\n        return -sign\n      }\n    } else {\n      if (y2 > y1 + y1) {\n        return sign\n      } else {\n        x1 = x2 - x1;\n        y1 = y2 - y1;\n        sign = -sign;\n      }\n    }\n    if (y1 === 0.0) {\n      if (x1 === 0.0) {\n        return 0\n      } else {\n        return sign\n      }\n    }\n    if (x1 === 0.0) {\n      return -sign\n    }\n  }\n};\n\nvar RayCrossingCounter = function RayCrossingCounter () {\n  this._p = null;\n  this._crossingCount = 0;\n  this._isPointOnSegment = false;\n  var p = arguments[0];\n  this._p = p;\n};\nRayCrossingCounter.prototype.countSegment = function countSegment (p1, p2) {\n  if (p1.x < this._p.x && p2.x < this._p.x) { return null }\n  if (this._p.x === p2.x && this._p.y === p2.y) {\n    this._isPointOnSegment = true;\n    return null\n  }\n  if (p1.y === this._p.y && p2.y === this._p.y) {\n    var minx = p1.x;\n    var maxx = p2.x;\n    if (minx > maxx) {\n      minx = p2.x;\n      maxx = p1.x;\n    }\n    if (this._p.x >= minx && this._p.x <= maxx) {\n      this._isPointOnSegment = true;\n    }\n    return null\n  }\n  if ((p1.y > this._p.y && p2.y <= this._p.y) || (p2.y > this._p.y && p1.y <= this._p.y)) {\n    var x1 = p1.x - this._p.x;\n    var y1 = p1.y - this._p.y;\n    var x2 = p2.x - this._p.x;\n    var y2 = p2.y - this._p.y;\n    var xIntSign = RobustDeterminant.signOfDet2x2(x1, y1, x2, y2);\n    if (xIntSign === 0.0) {\n      this._isPointOnSegment = true;\n      return null\n    }\n    if (y2 < y1) { xIntSign = -xIntSign; }\n    if (xIntSign > 0.0) {\n      this._crossingCount++;\n    }\n  }\n};\nRayCrossingCounter.prototype.isPointInPolygon = function isPointInPolygon () {\n  return this.getLocation() !== Location.EXTERIOR\n};\nRayCrossingCounter.prototype.getLocation = function getLocation () {\n  if (this._isPointOnSegment) { return Location.BOUNDARY }\n  if (this._crossingCount % 2 === 1) {\n    return Location.INTERIOR\n  }\n  return Location.EXTERIOR\n};\nRayCrossingCounter.prototype.isOnSegment = function isOnSegment () {\n  return this._isPointOnSegment\n};\nRayCrossingCounter.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nRayCrossingCounter.prototype.getClass = function getClass () {\n  return RayCrossingCounter\n};\nRayCrossingCounter.locatePointInRing = function locatePointInRing () {\n  if (arguments[0] instanceof Coordinate && hasInterface(arguments[1], CoordinateSequence)) {\n    var p = arguments[0];\n    var ring = arguments[1];\n    var counter = new RayCrossingCounter(p);\n    var p1 = new Coordinate();\n    var p2 = new Coordinate();\n    for (var i = 1; i < ring.size(); i++) {\n      ring.getCoordinate(i, p1);\n      ring.getCoordinate(i - 1, p2);\n      counter.countSegment(p1, p2);\n      if (counter.isOnSegment()) { return counter.getLocation() }\n    }\n    return counter.getLocation()\n  } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Array) {\n    var p$1 = arguments[0];\n    var ring$1 = arguments[1];\n    var counter$1 = new RayCrossingCounter(p$1);\n    for (var i$1 = 1; i$1 < ring$1.length; i$1++) {\n      var p1$1 = ring$1[i$1];\n      var p2$1 = ring$1[i$1 - 1];\n      counter$1.countSegment(p1$1, p2$1);\n      if (counter$1.isOnSegment()) { return counter$1.getLocation() }\n    }\n    return counter$1.getLocation()\n  }\n};\n\nvar CGAlgorithms = function CGAlgorithms () {};\n\nvar staticAccessors$3 = { CLOCKWISE: { configurable: true },RIGHT: { configurable: true },COUNTERCLOCKWISE: { configurable: true },LEFT: { configurable: true },COLLINEAR: { configurable: true },STRAIGHT: { configurable: true } };\n\nCGAlgorithms.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCGAlgorithms.prototype.getClass = function getClass () {\n  return CGAlgorithms\n};\nCGAlgorithms.orientationIndex = function orientationIndex (p1, p2, q) {\n  return CGAlgorithmsDD.orientationIndex(p1, p2, q)\n};\nCGAlgorithms.signedArea = function signedArea () {\n  if (arguments[0] instanceof Array) {\n    var ring = arguments[0];\n    if (ring.length < 3) { return 0.0 }\n    var sum = 0.0;\n    var x0 = ring[0].x;\n    for (var i = 1; i < ring.length - 1; i++) {\n      var x = ring[i].x - x0;\n      var y1 = ring[i + 1].y;\n      var y2 = ring[i - 1].y;\n      sum += x * (y2 - y1);\n    }\n    return sum / 2.0\n  } else if (hasInterface(arguments[0], CoordinateSequence)) {\n    var ring$1 = arguments[0];\n    var n = ring$1.size();\n    if (n < 3) { return 0.0 }\n    var p0 = new Coordinate();\n    var p1 = new Coordinate();\n    var p2 = new Coordinate();\n    ring$1.getCoordinate(0, p1);\n    ring$1.getCoordinate(1, p2);\n    var x0$1 = p1.x;\n    p2.x -= x0$1;\n    var sum$1 = 0.0;\n    for (var i$1 = 1; i$1 < n - 1; i$1++) {\n      p0.y = p1.y;\n      p1.x = p2.x;\n      p1.y = p2.y;\n      ring$1.getCoordinate(i$1 + 1, p2);\n      p2.x -= x0$1;\n      sum$1 += p1.x * (p0.y - p2.y);\n    }\n    return sum$1 / 2.0\n  }\n};\nCGAlgorithms.distanceLineLine = function distanceLineLine (A, B, C, D) {\n  if (A.equals(B)) { return CGAlgorithms.distancePointLine(A, C, D) }\n  if (C.equals(D)) { return CGAlgorithms.distancePointLine(D, A, B) }\n  var noIntersection = false;\n  if (!Envelope.intersects(A, B, C, D)) {\n    noIntersection = true;\n  } else {\n    var denom = (B.x - A.x) * (D.y - C.y) - (B.y - A.y) * (D.x - C.x);\n    if (denom === 0) {\n      noIntersection = true;\n    } else {\n      var rNumb = (A.y - C.y) * (D.x - C.x) - (A.x - C.x) * (D.y - C.y);\n      var sNum = (A.y - C.y) * (B.x - A.x) - (A.x - C.x) * (B.y - A.y);\n      var s = sNum / denom;\n      var r = rNumb / denom;\n      if (r < 0 || r > 1 || s < 0 || s > 1) {\n        noIntersection = true;\n      }\n    }\n  }\n  if (noIntersection) {\n    return MathUtil.min(CGAlgorithms.distancePointLine(A, C, D), CGAlgorithms.distancePointLine(B, C, D), CGAlgorithms.distancePointLine(C, A, B), CGAlgorithms.distancePointLine(D, A, B))\n  }\n  return 0.0\n};\nCGAlgorithms.isPointInRing = function isPointInRing (p, ring) {\n  return CGAlgorithms.locatePointInRing(p, ring) !== Location.EXTERIOR\n};\nCGAlgorithms.computeLength = function computeLength (pts) {\n  var n = pts.size();\n  if (n <= 1) { return 0.0 }\n  var len = 0.0;\n  var p = new Coordinate();\n  pts.getCoordinate(0, p);\n  var x0 = p.x;\n  var y0 = p.y;\n  for (var i = 1; i < n; i++) {\n    pts.getCoordinate(i, p);\n    var x1 = p.x;\n    var y1 = p.y;\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    len += Math.sqrt(dx * dx + dy * dy);\n    x0 = x1;\n    y0 = y1;\n  }\n  return len\n};\nCGAlgorithms.isCCW = function isCCW (ring) {\n  var nPts = ring.length - 1;\n  if (nPts < 3) { throw new IllegalArgumentException('Ring has fewer than 4 points, so orientation cannot be determined') }\n  var hiPt = ring[0];\n  var hiIndex = 0;\n  for (var i = 1; i <= nPts; i++) {\n    var p = ring[i];\n    if (p.y > hiPt.y) {\n      hiPt = p;\n      hiIndex = i;\n    }\n  }\n  var iPrev = hiIndex;\n  do {\n    iPrev = iPrev - 1;\n    if (iPrev < 0) { iPrev = nPts; }\n  } while (ring[iPrev].equals2D(hiPt) && iPrev !== hiIndex)\n  var iNext = hiIndex;\n  do {\n    iNext = (iNext + 1) % nPts;\n  } while (ring[iNext].equals2D(hiPt) && iNext !== hiIndex)\n  var prev = ring[iPrev];\n  var next = ring[iNext];\n  if (prev.equals2D(hiPt) || next.equals2D(hiPt) || prev.equals2D(next)) { return false }\n  var disc = CGAlgorithms.computeOrientation(prev, hiPt, next);\n  var isCCW = false;\n  if (disc === 0) {\n    isCCW = prev.x > next.x;\n  } else {\n    isCCW = disc > 0;\n  }\n  return isCCW\n};\nCGAlgorithms.locatePointInRing = function locatePointInRing (p, ring) {\n  return RayCrossingCounter.locatePointInRing(p, ring)\n};\nCGAlgorithms.distancePointLinePerpendicular = function distancePointLinePerpendicular (p, A, B) {\n  var len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n  var s = ((A.y - p.y) * (B.x - A.x) - (A.x - p.x) * (B.y - A.y)) / len2;\n  return Math.abs(s) * Math.sqrt(len2)\n};\nCGAlgorithms.computeOrientation = function computeOrientation (p1, p2, q) {\n  return CGAlgorithms.orientationIndex(p1, p2, q)\n};\nCGAlgorithms.distancePointLine = function distancePointLine () {\n  if (arguments.length === 2) {\n    var p = arguments[0];\n    var line = arguments[1];\n    if (line.length === 0) { throw new IllegalArgumentException('Line array must contain at least one vertex') }\n    var minDistance = p.distance(line[0]);\n    for (var i = 0; i < line.length - 1; i++) {\n      var dist = CGAlgorithms.distancePointLine(p, line[i], line[i + 1]);\n      if (dist < minDistance) {\n        minDistance = dist;\n      }\n    }\n    return minDistance\n  } else if (arguments.length === 3) {\n    var p$1 = arguments[0];\n    var A = arguments[1];\n    var B = arguments[2];\n    if (A.x === B.x && A.y === B.y) { return p$1.distance(A) }\n    var len2 = (B.x - A.x) * (B.x - A.x) + (B.y - A.y) * (B.y - A.y);\n    var r = ((p$1.x - A.x) * (B.x - A.x) + (p$1.y - A.y) * (B.y - A.y)) / len2;\n    if (r <= 0.0) { return p$1.distance(A) }\n    if (r >= 1.0) { return p$1.distance(B) }\n    var s = ((A.y - p$1.y) * (B.x - A.x) - (A.x - p$1.x) * (B.y - A.y)) / len2;\n    return Math.abs(s) * Math.sqrt(len2)\n  }\n};\nCGAlgorithms.isOnLine = function isOnLine (p, pt) {\n  var lineIntersector = new RobustLineIntersector();\n  for (var i = 1; i < pt.length; i++) {\n    var p0 = pt[i - 1];\n    var p1 = pt[i];\n    lineIntersector.computeIntersection(p, p0, p1);\n    if (lineIntersector.hasIntersection()) {\n      return true\n    }\n  }\n  return false\n};\nstaticAccessors$3.CLOCKWISE.get = function () { return -1 };\nstaticAccessors$3.RIGHT.get = function () { return CGAlgorithms.CLOCKWISE };\nstaticAccessors$3.COUNTERCLOCKWISE.get = function () { return 1 };\nstaticAccessors$3.LEFT.get = function () { return CGAlgorithms.COUNTERCLOCKWISE };\nstaticAccessors$3.COLLINEAR.get = function () { return 0 };\nstaticAccessors$3.STRAIGHT.get = function () { return CGAlgorithms.COLLINEAR };\n\nObject.defineProperties( CGAlgorithms, staticAccessors$3 );\n\nvar GeometryComponentFilter = function GeometryComponentFilter () {};\n\nGeometryComponentFilter.prototype.filter = function filter (geom) {};\nGeometryComponentFilter.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryComponentFilter.prototype.getClass = function getClass () {\n  return GeometryComponentFilter\n};\n\nvar Geometry = function Geometry () {\n  var factory = arguments[0];\n\n  this._envelope = null;\n  this._factory = null;\n  this._SRID = null;\n  this._userData = null;\n  this._factory = factory;\n  this._SRID = factory.getSRID();\n};\n\nvar staticAccessors$11 = { serialVersionUID: { configurable: true },SORTINDEX_POINT: { configurable: true },SORTINDEX_MULTIPOINT: { configurable: true },SORTINDEX_LINESTRING: { configurable: true },SORTINDEX_LINEARRING: { configurable: true },SORTINDEX_MULTILINESTRING: { configurable: true },SORTINDEX_POLYGON: { configurable: true },SORTINDEX_MULTIPOLYGON: { configurable: true },SORTINDEX_GEOMETRYCOLLECTION: { configurable: true },geometryChangedFilter: { configurable: true } };\nGeometry.prototype.isGeometryCollection = function isGeometryCollection () {\n  return this.getSortIndex() === Geometry.SORTINDEX_GEOMETRYCOLLECTION\n};\nGeometry.prototype.getFactory = function getFactory () {\n  return this._factory\n};\nGeometry.prototype.getGeometryN = function getGeometryN (n) {\n  return this\n};\nGeometry.prototype.getArea = function getArea () {\n  return 0.0\n};\nGeometry.prototype.isRectangle = function isRectangle () {\n  return false\n};\nGeometry.prototype.equals = function equals () {\n  if (arguments[0] instanceof Geometry) {\n    var g$1 = arguments[0];\n    if (g$1 === null) { return false }\n    return this.equalsTopo(g$1)\n  } else if (arguments[0] instanceof Object) {\n    var o = arguments[0];\n    if (!(o instanceof Geometry)) { return false }\n    var g = o;\n    return this.equalsExact(g)\n  }\n};\nGeometry.prototype.equalsExact = function equalsExact (other) {\n  return this === other || this.equalsExact(other, 0)\n};\nGeometry.prototype.geometryChanged = function geometryChanged () {\n  this.apply(Geometry.geometryChangedFilter);\n};\nGeometry.prototype.geometryChangedAction = function geometryChangedAction () {\n  this._envelope = null;\n};\nGeometry.prototype.equalsNorm = function equalsNorm (g) {\n  if (g === null) { return false }\n  return this.norm().equalsExact(g.norm())\n};\nGeometry.prototype.getLength = function getLength () {\n  return 0.0\n};\nGeometry.prototype.getNumGeometries = function getNumGeometries () {\n  return 1\n};\nGeometry.prototype.compareTo = function compareTo () {\n  if (arguments.length === 1) {\n    var o = arguments[0];\n    var other = o;\n    if (this.getSortIndex() !== other.getSortIndex()) {\n      return this.getSortIndex() - other.getSortIndex()\n    }\n    if (this.isEmpty() && other.isEmpty()) {\n      return 0\n    }\n    if (this.isEmpty()) {\n      return -1\n    }\n    if (other.isEmpty()) {\n      return 1\n    }\n    return this.compareToSameClass(o)\n  } else if (arguments.length === 2) {\n    var other$1 = arguments[0];\n    var comp = arguments[1];\n    if (this.getSortIndex() !== other$1.getSortIndex()) {\n      return this.getSortIndex() - other$1.getSortIndex()\n    }\n    if (this.isEmpty() && other$1.isEmpty()) {\n      return 0\n    }\n    if (this.isEmpty()) {\n      return -1\n    }\n    if (other$1.isEmpty()) {\n      return 1\n    }\n    return this.compareToSameClass(other$1, comp)\n  }\n};\nGeometry.prototype.getUserData = function getUserData () {\n  return this._userData\n};\nGeometry.prototype.getSRID = function getSRID () {\n  return this._SRID\n};\nGeometry.prototype.getEnvelope = function getEnvelope () {\n  return this.getFactory().toGeometry(this.getEnvelopeInternal())\n};\nGeometry.prototype.checkNotGeometryCollection = function checkNotGeometryCollection (g) {\n  if (g.getSortIndex() === Geometry.SORTINDEX_GEOMETRYCOLLECTION) {\n    throw new IllegalArgumentException('This method does not support GeometryCollection arguments')\n  }\n};\nGeometry.prototype.equal = function equal (a, b, tolerance) {\n  if (tolerance === 0) {\n    return a.equals(b)\n  }\n  return a.distance(b) <= tolerance\n};\nGeometry.prototype.norm = function norm () {\n  var copy = this.copy();\n  copy.normalize();\n  return copy\n};\nGeometry.prototype.getPrecisionModel = function getPrecisionModel () {\n  return this._factory.getPrecisionModel()\n};\nGeometry.prototype.getEnvelopeInternal = function getEnvelopeInternal () {\n  if (this._envelope === null) {\n    this._envelope = this.computeEnvelopeInternal();\n  }\n  return new Envelope(this._envelope)\n};\nGeometry.prototype.setSRID = function setSRID (SRID) {\n  this._SRID = SRID;\n};\nGeometry.prototype.setUserData = function setUserData (userData) {\n  this._userData = userData;\n};\nGeometry.prototype.compare = function compare (a, b) {\n  var i = a.iterator();\n  var j = b.iterator();\n  while (i.hasNext() && j.hasNext()) {\n    var aElement = i.next();\n    var bElement = j.next();\n    var comparison = aElement.compareTo(bElement);\n    if (comparison !== 0) {\n      return comparison\n    }\n  }\n  if (i.hasNext()) {\n    return 1\n  }\n  if (j.hasNext()) {\n    return -1\n  }\n  return 0\n};\nGeometry.prototype.hashCode = function hashCode () {\n  return this.getEnvelopeInternal().hashCode()\n};\nGeometry.prototype.isGeometryCollectionOrDerived = function isGeometryCollectionOrDerived () {\n  if (this.getSortIndex() === Geometry.SORTINDEX_GEOMETRYCOLLECTION || this.getSortIndex() === Geometry.SORTINDEX_MULTIPOINT || this.getSortIndex() === Geometry.SORTINDEX_MULTILINESTRING || this.getSortIndex() === Geometry.SORTINDEX_MULTIPOLYGON) {\n    return true\n  }\n  return false\n};\nGeometry.prototype.interfaces_ = function interfaces_ () {\n  return [Clonable, Comparable, Serializable]\n};\nGeometry.prototype.getClass = function getClass () {\n  return Geometry\n};\nGeometry.hasNonEmptyElements = function hasNonEmptyElements (geometries) {\n  for (var i = 0; i < geometries.length; i++) {\n    if (!geometries[i].isEmpty()) {\n      return true\n    }\n  }\n  return false\n};\nGeometry.hasNullElements = function hasNullElements (array) {\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === null) {\n      return true\n    }\n  }\n  return false\n};\nstaticAccessors$11.serialVersionUID.get = function () { return 8763622679187376702 };\nstaticAccessors$11.SORTINDEX_POINT.get = function () { return 0 };\nstaticAccessors$11.SORTINDEX_MULTIPOINT.get = function () { return 1 };\nstaticAccessors$11.SORTINDEX_LINESTRING.get = function () { return 2 };\nstaticAccessors$11.SORTINDEX_LINEARRING.get = function () { return 3 };\nstaticAccessors$11.SORTINDEX_MULTILINESTRING.get = function () { return 4 };\nstaticAccessors$11.SORTINDEX_POLYGON.get = function () { return 5 };\nstaticAccessors$11.SORTINDEX_MULTIPOLYGON.get = function () { return 6 };\nstaticAccessors$11.SORTINDEX_GEOMETRYCOLLECTION.get = function () { return 7 };\nstaticAccessors$11.geometryChangedFilter.get = function () { return geometryChangedFilter };\n\nObject.defineProperties( Geometry, staticAccessors$11 );\n\nvar geometryChangedFilter = function geometryChangedFilter () {};\n\ngeometryChangedFilter.interfaces_ = function interfaces_ () {\n  return [GeometryComponentFilter]\n};\ngeometryChangedFilter.filter = function filter (geom) {\n  geom.geometryChangedAction();\n};\n\nvar CoordinateFilter = function CoordinateFilter () {};\n\nCoordinateFilter.prototype.filter = function filter (coord) {};\nCoordinateFilter.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCoordinateFilter.prototype.getClass = function getClass () {\n  return CoordinateFilter\n};\n\nvar BoundaryNodeRule = function BoundaryNodeRule () {};\n\nvar staticAccessors$12 = { Mod2BoundaryNodeRule: { configurable: true },EndPointBoundaryNodeRule: { configurable: true },MultiValentEndPointBoundaryNodeRule: { configurable: true },MonoValentEndPointBoundaryNodeRule: { configurable: true },MOD2_BOUNDARY_RULE: { configurable: true },ENDPOINT_BOUNDARY_RULE: { configurable: true },MULTIVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: true },MONOVALENT_ENDPOINT_BOUNDARY_RULE: { configurable: true },OGC_SFS_BOUNDARY_RULE: { configurable: true } };\n\nBoundaryNodeRule.prototype.isInBoundary = function isInBoundary (boundaryCount) {};\nBoundaryNodeRule.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBoundaryNodeRule.prototype.getClass = function getClass () {\n  return BoundaryNodeRule\n};\nstaticAccessors$12.Mod2BoundaryNodeRule.get = function () { return Mod2BoundaryNodeRule };\nstaticAccessors$12.EndPointBoundaryNodeRule.get = function () { return EndPointBoundaryNodeRule };\nstaticAccessors$12.MultiValentEndPointBoundaryNodeRule.get = function () { return MultiValentEndPointBoundaryNodeRule };\nstaticAccessors$12.MonoValentEndPointBoundaryNodeRule.get = function () { return MonoValentEndPointBoundaryNodeRule };\nstaticAccessors$12.MOD2_BOUNDARY_RULE.get = function () { return new Mod2BoundaryNodeRule() };\nstaticAccessors$12.ENDPOINT_BOUNDARY_RULE.get = function () { return new EndPointBoundaryNodeRule() };\nstaticAccessors$12.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get = function () { return new MultiValentEndPointBoundaryNodeRule() };\nstaticAccessors$12.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get = function () { return new MonoValentEndPointBoundaryNodeRule() };\nstaticAccessors$12.OGC_SFS_BOUNDARY_RULE.get = function () { return BoundaryNodeRule.MOD2_BOUNDARY_RULE };\n\nObject.defineProperties( BoundaryNodeRule, staticAccessors$12 );\n\nvar Mod2BoundaryNodeRule = function Mod2BoundaryNodeRule () {};\n\nMod2BoundaryNodeRule.prototype.isInBoundary = function isInBoundary (boundaryCount) {\n  return boundaryCount % 2 === 1\n};\nMod2BoundaryNodeRule.prototype.interfaces_ = function interfaces_ () {\n  return [BoundaryNodeRule]\n};\nMod2BoundaryNodeRule.prototype.getClass = function getClass () {\n  return Mod2BoundaryNodeRule\n};\n\nvar EndPointBoundaryNodeRule = function EndPointBoundaryNodeRule () {};\n\nEndPointBoundaryNodeRule.prototype.isInBoundary = function isInBoundary (boundaryCount) {\n  return boundaryCount > 0\n};\nEndPointBoundaryNodeRule.prototype.interfaces_ = function interfaces_ () {\n  return [BoundaryNodeRule]\n};\nEndPointBoundaryNodeRule.prototype.getClass = function getClass () {\n  return EndPointBoundaryNodeRule\n};\n\nvar MultiValentEndPointBoundaryNodeRule = function MultiValentEndPointBoundaryNodeRule () {};\n\nMultiValentEndPointBoundaryNodeRule.prototype.isInBoundary = function isInBoundary (boundaryCount) {\n  return boundaryCount > 1\n};\nMultiValentEndPointBoundaryNodeRule.prototype.interfaces_ = function interfaces_ () {\n  return [BoundaryNodeRule]\n};\nMultiValentEndPointBoundaryNodeRule.prototype.getClass = function getClass () {\n  return MultiValentEndPointBoundaryNodeRule\n};\n\nvar MonoValentEndPointBoundaryNodeRule = function MonoValentEndPointBoundaryNodeRule () {};\n\nMonoValentEndPointBoundaryNodeRule.prototype.isInBoundary = function isInBoundary (boundaryCount) {\n  return boundaryCount === 1\n};\nMonoValentEndPointBoundaryNodeRule.prototype.interfaces_ = function interfaces_ () {\n  return [BoundaryNodeRule]\n};\nMonoValentEndPointBoundaryNodeRule.prototype.getClass = function getClass () {\n  return MonoValentEndPointBoundaryNodeRule\n};\n\n// import Iterator from './Iterator'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Collection.html\n *\n * @constructor\n * @private\n */\nvar Collection = function Collection () {};\n\nCollection.prototype.add = function add () {};\n\n/**\n * Appends all of the elements in the specified collection to the end of this\n * list, in the order that they are returned by the specified collection's\n * iterator (optional operation).\n * @param {javascript.util.Collection} c\n * @return {boolean}\n */\nCollection.prototype.addAll = function addAll () {};\n\n/**\n * Returns true if this collection contains no elements.\n * @return {boolean}\n */\nCollection.prototype.isEmpty = function isEmpty () {};\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {javascript.util.Iterator}\n */\nCollection.prototype.iterator = function iterator () {};\n\n/**\n * Returns an iterator over the elements in this collection.\n * @return {number}\n */\nCollection.prototype.size = function size () {};\n\n/**\n * Returns an array containing all of the elements in this collection.\n * @return {Array}\n */\nCollection.prototype.toArray = function toArray () {};\n\n/**\n * Removes a single instance of the specified element from this collection if it\n * is present. (optional)\n * @param {Object} e\n * @return {boolean}\n */\nCollection.prototype.remove = function remove () {};\n\n/**\n * @param {string} [message] Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nvar IndexOutOfBoundsException = (function (Error) {\n  function IndexOutOfBoundsException (message) {\n    Error.call(this);\n    this.message = message || '';\n  }\n\n  if ( Error ) IndexOutOfBoundsException.__proto__ = Error;\n  IndexOutOfBoundsException.prototype = Object.create( Error && Error.prototype );\n  IndexOutOfBoundsException.prototype.constructor = IndexOutOfBoundsException;\n\n  var staticAccessors = { name: { configurable: true } };\n\n  /**\n   * @type {string}\n   */\n  staticAccessors.name.get = function () { return 'IndexOutOfBoundsException' };\n\n  Object.defineProperties( IndexOutOfBoundsException, staticAccessors );\n\n  return IndexOutOfBoundsException;\n}(Error));\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html\n * @constructor\n * @private\n */\nvar Iterator = function Iterator () {};\n\nIterator.prototype.hasNext = function hasNext () {};\n\n/**\n * Returns the next element in the iteration.\n * @return {Object}\n */\nIterator.prototype.next = function next () {};\n\n/**\n * Removes from the underlying collection the last element returned by the\n * iterator (optional operation).\n */\nIterator.prototype.remove = function remove () {};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/List.html\n *\n * @extends {javascript.util.Collection}\n * @constructor\n * @private\n */\nvar List = (function (Collection$$1) {\n  function List () {\n    Collection$$1.apply(this, arguments);\n  }\n\n  if ( Collection$$1 ) List.__proto__ = Collection$$1;\n  List.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.prototype.get = function get () { };\n\n  /**\n   * Replaces the element at the specified position in this list with the\n   * specified element (optional operation).\n   * @param {number} index\n   * @param {Object} e\n   * @return {Object}\n   */\n  List.prototype.set = function set () { };\n\n  /**\n   * Returns true if this collection contains no elements.\n   * @return {boolean}\n   */\n  List.prototype.isEmpty = function isEmpty () { };\n\n  return List;\n}(Collection));\n\n/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nfunction NoSuchElementException (message) {\n  this.message = message || '';\n}\nNoSuchElementException.prototype = new Error();\n\n/**\n * @type {string}\n */\nNoSuchElementException.prototype.name = 'NoSuchElementException';\n\n// import OperationNotSupported from './OperationNotSupported'\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\n *\n * @extends List\n * @private\n */\nvar ArrayList = (function (List$$1) {\n  function ArrayList () {\n    List$$1.call(this);\n    this.array_ = [];\n\n    if (arguments[0] instanceof Collection) {\n      this.addAll(arguments[0]);\n    }\n  }\n\n  if ( List$$1 ) ArrayList.__proto__ = List$$1;\n  ArrayList.prototype = Object.create( List$$1 && List$$1.prototype );\n  ArrayList.prototype.constructor = ArrayList;\n\n  ArrayList.prototype.ensureCapacity = function ensureCapacity () {};\n  ArrayList.prototype.interfaces_ = function interfaces_ () { return [List$$1, Collection] };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.add = function add (e) {\n    if (arguments.length === 1) {\n      this.array_.push(e);\n    } else {\n      this.array_.splice(arguments[0], arguments[1]);\n    }\n    return true\n  };\n\n  ArrayList.prototype.clear = function clear () {\n    this.array_ = [];\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.addAll = function addAll (c) {\n    var this$1 = this;\n\n    for (var i = c.iterator(); i.hasNext();) {\n      this$1.add(i.next());\n    }\n    return true\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.set = function set (index, element) {\n    var oldElement = this.array_[index];\n    this.array_[index] = element;\n    return oldElement\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.iterator = function iterator () {\n    return new Iterator_(this)\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.get = function get (index) {\n    if (index < 0 || index >= this.size()) {\n      throw new IndexOutOfBoundsException()\n    }\n\n    return this.array_[index]\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.isEmpty = function isEmpty () {\n    return this.array_.length === 0\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.size = function size () {\n    return this.array_.length\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.toArray = function toArray () {\n    var this$1 = this;\n\n    var array = [];\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      array.push(this$1.array_[i]);\n    }\n\n    return array\n  };\n\n  /**\n   * @override\n   */\n  ArrayList.prototype.remove = function remove (o) {\n    var this$1 = this;\n\n    var found = false;\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      if (this$1.array_[i] === o) {\n        this$1.array_.splice(i, 1);\n        found = true;\n        break\n      }\n    }\n\n    return found\n  };\n\n  return ArrayList;\n}(List));\n\n/**\n * @extends {Iterator}\n * @param {ArrayList} arrayList\n * @constructor\n * @private\n */\nvar Iterator_ = (function (Iterator$$1) {\n  function Iterator_ (arrayList) {\n    Iterator$$1.call(this);\n    /**\n     * @type {ArrayList}\n     * @private\n    */\n    this.arrayList_ = arrayList;\n    /**\n     * @type {number}\n     * @private\n    */\n    this.position_ = 0;\n  }\n\n  if ( Iterator$$1 ) Iterator_.__proto__ = Iterator$$1;\n  Iterator_.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  Iterator_.prototype.constructor = Iterator_;\n\n  /**\n   * @override\n   */\n  Iterator_.prototype.next = function next () {\n    if (this.position_ === this.arrayList_.size()) {\n      throw new NoSuchElementException()\n    }\n    return this.arrayList_.get(this.position_++)\n  };\n\n  /**\n   * @override\n   */\n  Iterator_.prototype.hasNext = function hasNext () {\n    if (this.position_ < this.arrayList_.size()) {\n      return true\n    } else {\n      return false\n    }\n  };\n\n  /**\n   * TODO: should be in ListIterator\n   * @override\n   */\n  Iterator_.prototype.set = function set (element) {\n    return this.arrayList_.set(this.position_ - 1, element)\n  };\n\n  /**\n   * @override\n   */\n  Iterator_.prototype.remove = function remove () {\n    this.arrayList_.remove(this.arrayList_.get(this.position_));\n  };\n\n  return Iterator_;\n}(Iterator));\n\nvar CoordinateList = (function (ArrayList$$1) {\n  function CoordinateList () {\n    ArrayList$$1.call(this);\n    if (arguments.length === 0) {\n    } else if (arguments.length === 1) {\n      var coord = arguments[0];\n      this.ensureCapacity(coord.length);\n      this.add(coord, true);\n    } else if (arguments.length === 2) {\n      var coord$1 = arguments[0];\n      var allowRepeated = arguments[1];\n      this.ensureCapacity(coord$1.length);\n      this.add(coord$1, allowRepeated);\n    }\n  }\n\n  if ( ArrayList$$1 ) CoordinateList.__proto__ = ArrayList$$1;\n  CoordinateList.prototype = Object.create( ArrayList$$1 && ArrayList$$1.prototype );\n  CoordinateList.prototype.constructor = CoordinateList;\n\n  var staticAccessors = { coordArrayType: { configurable: true } };\n  staticAccessors.coordArrayType.get = function () { return new Array(0).fill(null) };\n  CoordinateList.prototype.getCoordinate = function getCoordinate (i) {\n    return this.get(i)\n  };\n  CoordinateList.prototype.addAll = function addAll () {\n    var this$1 = this;\n\n    if (arguments.length === 2) {\n      var coll = arguments[0];\n      var allowRepeated = arguments[1];\n      var isChanged = false;\n      for (var i = coll.iterator(); i.hasNext();) {\n        this$1.add(i.next(), allowRepeated);\n        isChanged = true;\n      }\n      return isChanged\n    } else { return ArrayList$$1.prototype.addAll.apply(this, arguments) }\n  };\n  CoordinateList.prototype.clone = function clone () {\n    var this$1 = this;\n\n    var clone = ArrayList$$1.prototype.clone.call(this);\n    for (var i = 0; i < this.size(); i++) {\n      clone.add(i, this$1.get(i).copy());\n    }\n    return clone\n  };\n  CoordinateList.prototype.toCoordinateArray = function toCoordinateArray () {\n    return this.toArray(CoordinateList.coordArrayType)\n  };\n  CoordinateList.prototype.add = function add () {\n    var this$1 = this;\n\n    if (arguments.length === 1) {\n      var coord = arguments[0];\n      ArrayList$$1.prototype.add.call(this, coord);\n    } else if (arguments.length === 2) {\n      if (arguments[0] instanceof Array && typeof arguments[1] === 'boolean') {\n        var coord$1 = arguments[0];\n        var allowRepeated = arguments[1];\n        this.add(coord$1, allowRepeated, true);\n        return true\n      } else if (arguments[0] instanceof Coordinate && typeof arguments[1] === 'boolean') {\n        var coord$2 = arguments[0];\n        var allowRepeated$1 = arguments[1];\n        if (!allowRepeated$1) {\n          if (this.size() >= 1) {\n            var last = this.get(this.size() - 1);\n            if (last.equals2D(coord$2)) { return null }\n          }\n        }\n        ArrayList$$1.prototype.add.call(this, coord$2);\n      } else if (arguments[0] instanceof Object && typeof arguments[1] === 'boolean') {\n        var obj = arguments[0];\n        var allowRepeated$2 = arguments[1];\n        this.add(obj, allowRepeated$2);\n        return true\n      }\n    } else if (arguments.length === 3) {\n      if (typeof arguments[2] === 'boolean' && (arguments[0] instanceof Array && typeof arguments[1] === 'boolean')) {\n        var coord$3 = arguments[0];\n        var allowRepeated$3 = arguments[1];\n        var direction = arguments[2];\n        if (direction) {\n          for (var i$1 = 0; i$1 < coord$3.length; i$1++) {\n            this$1.add(coord$3[i$1], allowRepeated$3);\n          }\n        } else {\n          for (var i$2 = coord$3.length - 1; i$2 >= 0; i$2--) {\n            this$1.add(coord$3[i$2], allowRepeated$3);\n          }\n        }\n        return true\n      } else if (typeof arguments[2] === 'boolean' && (Number.isInteger(arguments[0]) && arguments[1] instanceof Coordinate)) {\n        var i$3 = arguments[0];\n        var coord$4 = arguments[1];\n        var allowRepeated$4 = arguments[2];\n        if (!allowRepeated$4) {\n          var size = this.size();\n          if (size > 0) {\n            if (i$3 > 0) {\n              var prev = this.get(i$3 - 1);\n              if (prev.equals2D(coord$4)) { return null }\n            }\n            if (i$3 < size) {\n              var next = this.get(i$3);\n              if (next.equals2D(coord$4)) { return null }\n            }\n          }\n        }\n        ArrayList$$1.prototype.add.call(this, i$3, coord$4);\n      }\n    } else if (arguments.length === 4) {\n      var coord$5 = arguments[0];\n      var allowRepeated$5 = arguments[1];\n      var start = arguments[2];\n      var end = arguments[3];\n      var inc = 1;\n      if (start > end) { inc = -1; }\n      for (var i = start; i !== end; i += inc) {\n        this$1.add(coord$5[i], allowRepeated$5);\n      }\n      return true\n    }\n  };\n  CoordinateList.prototype.closeRing = function closeRing () {\n    if (this.size() > 0) { this.add(new Coordinate(this.get(0)), false); }\n  };\n  CoordinateList.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  CoordinateList.prototype.getClass = function getClass () {\n    return CoordinateList\n  };\n\n  Object.defineProperties( CoordinateList, staticAccessors );\n\n  return CoordinateList;\n}(ArrayList));\n\nvar CoordinateArrays = function CoordinateArrays () {};\n\nvar staticAccessors$13 = { ForwardComparator: { configurable: true },BidirectionalComparator: { configurable: true },coordArrayType: { configurable: true } };\n\nstaticAccessors$13.ForwardComparator.get = function () { return ForwardComparator };\nstaticAccessors$13.BidirectionalComparator.get = function () { return BidirectionalComparator };\nstaticAccessors$13.coordArrayType.get = function () { return new Array(0).fill(null) };\n\nCoordinateArrays.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCoordinateArrays.prototype.getClass = function getClass () {\n  return CoordinateArrays\n};\nCoordinateArrays.isRing = function isRing (pts) {\n  if (pts.length < 4) { return false }\n  if (!pts[0].equals2D(pts[pts.length - 1])) { return false }\n  return true\n};\nCoordinateArrays.ptNotInList = function ptNotInList (testPts, pts) {\n  for (var i = 0; i < testPts.length; i++) {\n    var testPt = testPts[i];\n    if (CoordinateArrays.indexOf(testPt, pts) < 0) { return testPt }\n  }\n  return null\n};\nCoordinateArrays.scroll = function scroll (coordinates, firstCoordinate) {\n  var i = CoordinateArrays.indexOf(firstCoordinate, coordinates);\n  if (i < 0) { return null }\n  var newCoordinates = new Array(coordinates.length).fill(null);\n  System.arraycopy(coordinates, i, newCoordinates, 0, coordinates.length - i);\n  System.arraycopy(coordinates, 0, newCoordinates, coordinates.length - i, i);\n  System.arraycopy(newCoordinates, 0, coordinates, 0, coordinates.length);\n};\nCoordinateArrays.equals = function equals () {\n  if (arguments.length === 2) {\n    var coord1 = arguments[0];\n    var coord2 = arguments[1];\n    if (coord1 === coord2) { return true }\n    if (coord1 === null || coord2 === null) { return false }\n    if (coord1.length !== coord2.length) { return false }\n    for (var i = 0; i < coord1.length; i++) {\n      if (!coord1[i].equals(coord2[i])) { return false }\n    }\n    return true\n  } else if (arguments.length === 3) {\n    var coord1$1 = arguments[0];\n    var coord2$1 = arguments[1];\n    var coordinateComparator = arguments[2];\n    if (coord1$1 === coord2$1) { return true }\n    if (coord1$1 === null || coord2$1 === null) { return false }\n    if (coord1$1.length !== coord2$1.length) { return false }\n    for (var i$1 = 0; i$1 < coord1$1.length; i$1++) {\n      if (coordinateComparator.compare(coord1$1[i$1], coord2$1[i$1]) !== 0) { return false }\n    }\n    return true\n  }\n};\nCoordinateArrays.intersection = function intersection (coordinates, env) {\n  var coordList = new CoordinateList();\n  for (var i = 0; i < coordinates.length; i++) {\n    if (env.intersects(coordinates[i])) { coordList.add(coordinates[i], true); }\n  }\n  return coordList.toCoordinateArray()\n};\nCoordinateArrays.hasRepeatedPoints = function hasRepeatedPoints (coord) {\n  for (var i = 1; i < coord.length; i++) {\n    if (coord[i - 1].equals(coord[i])) {\n      return true\n    }\n  }\n  return false\n};\nCoordinateArrays.removeRepeatedPoints = function removeRepeatedPoints (coord) {\n  if (!CoordinateArrays.hasRepeatedPoints(coord)) { return coord }\n  var coordList = new CoordinateList(coord, false);\n  return coordList.toCoordinateArray()\n};\nCoordinateArrays.reverse = function reverse (coord) {\n  var last = coord.length - 1;\n  var mid = Math.trunc(last / 2);\n  for (var i = 0; i <= mid; i++) {\n    var tmp = coord[i];\n    coord[i] = coord[last - i];\n    coord[last - i] = tmp;\n  }\n};\nCoordinateArrays.removeNull = function removeNull (coord) {\n  var nonNull = 0;\n  for (var i = 0; i < coord.length; i++) {\n    if (coord[i] !== null) { nonNull++; }\n  }\n  var newCoord = new Array(nonNull).fill(null);\n  if (nonNull === 0) { return newCoord }\n  var j = 0;\n  for (var i$1 = 0; i$1 < coord.length; i$1++) {\n    if (coord[i$1] !== null) { newCoord[j++] = coord[i$1]; }\n  }\n  return newCoord\n};\nCoordinateArrays.copyDeep = function copyDeep () {\n  if (arguments.length === 1) {\n    var coordinates = arguments[0];\n    var copy = new Array(coordinates.length).fill(null);\n    for (var i = 0; i < coordinates.length; i++) {\n      copy[i] = new Coordinate(coordinates[i]);\n    }\n    return copy\n  } else if (arguments.length === 5) {\n    var src = arguments[0];\n    var srcStart = arguments[1];\n    var dest = arguments[2];\n    var destStart = arguments[3];\n    var length = arguments[4];\n    for (var i$1 = 0; i$1 < length; i$1++) {\n      dest[destStart + i$1] = new Coordinate(src[srcStart + i$1]);\n    }\n  }\n};\nCoordinateArrays.isEqualReversed = function isEqualReversed (pts1, pts2) {\n  for (var i = 0; i < pts1.length; i++) {\n    var p1 = pts1[i];\n    var p2 = pts2[pts1.length - i - 1];\n    if (p1.compareTo(p2) !== 0) { return false }\n  }\n  return true\n};\nCoordinateArrays.envelope = function envelope (coordinates) {\n  var env = new Envelope();\n  for (var i = 0; i < coordinates.length; i++) {\n    env.expandToInclude(coordinates[i]);\n  }\n  return env\n};\nCoordinateArrays.toCoordinateArray = function toCoordinateArray (coordList) {\n  return coordList.toArray(CoordinateArrays.coordArrayType)\n};\nCoordinateArrays.atLeastNCoordinatesOrNothing = function atLeastNCoordinatesOrNothing (n, c) {\n  return c.length >= n ? c : []\n};\nCoordinateArrays.indexOf = function indexOf (coordinate, coordinates) {\n  for (var i = 0; i < coordinates.length; i++) {\n    if (coordinate.equals(coordinates[i])) {\n      return i\n    }\n  }\n  return -1\n};\nCoordinateArrays.increasingDirection = function increasingDirection (pts) {\n  for (var i = 0; i < Math.trunc(pts.length / 2); i++) {\n    var j = pts.length - 1 - i;\n    var comp = pts[i].compareTo(pts[j]);\n    if (comp !== 0) { return comp }\n  }\n  return 1\n};\nCoordinateArrays.compare = function compare (pts1, pts2) {\n  var i = 0;\n  while (i < pts1.length && i < pts2.length) {\n    var compare = pts1[i].compareTo(pts2[i]);\n    if (compare !== 0) { return compare }\n    i++;\n  }\n  if (i < pts2.length) { return -1 }\n  if (i < pts1.length) { return 1 }\n  return 0\n};\nCoordinateArrays.minCoordinate = function minCoordinate (coordinates) {\n  var minCoord = null;\n  for (var i = 0; i < coordinates.length; i++) {\n    if (minCoord === null || minCoord.compareTo(coordinates[i]) > 0) {\n      minCoord = coordinates[i];\n    }\n  }\n  return minCoord\n};\nCoordinateArrays.extract = function extract (pts, start, end) {\n  start = MathUtil.clamp(start, 0, pts.length);\n  end = MathUtil.clamp(end, -1, pts.length);\n  var npts = end - start + 1;\n  if (end < 0) { npts = 0; }\n  if (start >= pts.length) { npts = 0; }\n  if (end < start) { npts = 0; }\n  var extractPts = new Array(npts).fill(null);\n  if (npts === 0) { return extractPts }\n  var iPts = 0;\n  for (var i = start; i <= end; i++) {\n    extractPts[iPts++] = pts[i];\n  }\n  return extractPts\n};\n\nObject.defineProperties( CoordinateArrays, staticAccessors$13 );\n\nvar ForwardComparator = function ForwardComparator () {};\n\nForwardComparator.prototype.compare = function compare (o1, o2) {\n  var pts1 = o1;\n  var pts2 = o2;\n  return CoordinateArrays.compare(pts1, pts2)\n};\nForwardComparator.prototype.interfaces_ = function interfaces_ () {\n  return [Comparator]\n};\nForwardComparator.prototype.getClass = function getClass () {\n  return ForwardComparator\n};\n\nvar BidirectionalComparator = function BidirectionalComparator () {};\n\nBidirectionalComparator.prototype.compare = function compare (o1, o2) {\n  var pts1 = o1;\n  var pts2 = o2;\n  if (pts1.length < pts2.length) { return -1 }\n  if (pts1.length > pts2.length) { return 1 }\n  if (pts1.length === 0) { return 0 }\n  var forwardComp = CoordinateArrays.compare(pts1, pts2);\n  var isEqualRev = CoordinateArrays.isEqualReversed(pts1, pts2);\n  if (isEqualRev) { return 0 }\n  return forwardComp\n};\nBidirectionalComparator.prototype.OLDcompare = function OLDcompare (o1, o2) {\n  var pts1 = o1;\n  var pts2 = o2;\n  if (pts1.length < pts2.length) { return -1 }\n  if (pts1.length > pts2.length) { return 1 }\n  if (pts1.length === 0) { return 0 }\n  var dir1 = CoordinateArrays.increasingDirection(pts1);\n  var dir2 = CoordinateArrays.increasingDirection(pts2);\n  var i1 = dir1 > 0 ? 0 : pts1.length - 1;\n  var i2 = dir2 > 0 ? 0 : pts1.length - 1;\n  for (var i = 0; i < pts1.length; i++) {\n    var comparePt = pts1[i1].compareTo(pts2[i2]);\n    if (comparePt !== 0) { return comparePt }\n    i1 += dir1;\n    i2 += dir2;\n  }\n  return 0\n};\nBidirectionalComparator.prototype.interfaces_ = function interfaces_ () {\n  return [Comparator]\n};\nBidirectionalComparator.prototype.getClass = function getClass () {\n  return BidirectionalComparator\n};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Map.html\n *\n * @constructor\n * @private\n */\nvar Map$1 = function Map () {};\n\nMap$1.prototype.get = function get () {};\n/**\n * Associates the specified value with the specified key in this map (optional\n * operation).\n * @param {Object} key\n * @param {Object} value\n * @return {Object}\n */\nMap$1.prototype.put = function put () {};\n\n/**\n * Returns the number of key-value mappings in this map.\n * @return {number}\n */\nMap$1.prototype.size = function size () {};\n\n/**\n * Returns a Collection view of the values contained in this map.\n * @return {javascript.util.Collection}\n */\nMap$1.prototype.values = function values () {};\n\n/**\n * Returns a {@link Set} view of the mappings contained in this map.\n * The set is backed by the map, so changes to the map are\n * reflected in the set, and vice-versa.If the map is modified\n * while an iteration over the set is in progress (except through\n * the iterator's own <tt>remove</tt> operation, or through the\n * <tt>setValue</tt> operation on a map entry returned by the\n * iterator) the results of the iteration are undefined.The set\n * supports element removal, which removes the corresponding\n * mapping from the map, via the <tt>Iterator.remove</tt>,\n * <tt>Set.remove</tt>, <tt>removeAll</tt>, <tt>retainAll</tt> and\n * <tt>clear</tt> operations.It does not support the\n * <tt>add</tt> or <tt>addAll</tt> operations.\n *\n * @return {Set} a set view of the mappings contained in this map\n */\nMap$1.prototype.entrySet = function entrySet () {};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedMap.html\n *\n * @extends {Map}\n * @constructor\n * @private\n */\nvar SortedMap = (function (Map) {\n\tfunction SortedMap () {\n\t\tMap.apply(this, arguments);\n\t}if ( Map ) SortedMap.__proto__ = Map;\n\tSortedMap.prototype = Object.create( Map && Map.prototype );\n\tSortedMap.prototype.constructor = SortedMap;\n\n\t\n\n\treturn SortedMap;\n}(Map$1));\n\n/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nfunction OperationNotSupported (message) {\n  this.message = message || '';\n}\nOperationNotSupported.prototype = new Error();\n\n/**\n * @type {string}\n */\nOperationNotSupported.prototype.name = 'OperationNotSupported';\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Set.html\n *\n * @extends {Collection}\n * @constructor\n * @private\n */\nfunction Set() {}\nSet.prototype = new Collection();\n\n\n/**\n * Returns true if this set contains the specified element. More formally,\n * returns true if and only if this set contains an element e such that (o==null ?\n * e==null : o.equals(e)).\n * @param {Object} e\n * @return {boolean}\n */\nSet.prototype.contains = function() {};\n\n/**\n * @see http://docs.oracle.com/javase/6/docs/api/java/util/HashSet.html\n *\n * @extends {javascript.util.Set}\n * @constructor\n * @private\n */\nvar HashSet = (function (Set$$1) {\n  function HashSet () {\n    Set$$1.call(this);\n    this.array_ = [];\n\n    if (arguments[0] instanceof Collection) {\n      this.addAll(arguments[0]);\n    }\n  }\n\n  if ( Set$$1 ) HashSet.__proto__ = Set$$1;\n  HashSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  HashSet.prototype.constructor = HashSet;\n\n  /**\n   * @override\n   */\n  HashSet.prototype.contains = function contains (o) {\n    var this$1 = this;\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      var e = this$1.array_[i];\n      if (e === o) {\n        return true\n      }\n    }\n    return false\n  };\n\n  /**\n   * @override\n   */\n  HashSet.prototype.add = function add (o) {\n    if (this.contains(o)) {\n      return false\n    }\n\n    this.array_.push(o);\n\n    return true\n  };\n\n  /**\n   * @override\n   */\n  HashSet.prototype.addAll = function addAll (c) {\n    var this$1 = this;\n\n    for (var i = c.iterator(); i.hasNext();) {\n      this$1.add(i.next());\n    }\n    return true\n  };\n\n  /**\n   * @override\n   */\n  HashSet.prototype.remove = function remove (o) {\n    // throw new javascript.util.OperationNotSupported()\n    throw new Error()\n  };\n\n  /**\n   * @override\n   */\n  HashSet.prototype.size = function size () {\n    return this.array_.length\n  };\n\n  /**\n   * @override\n   */\n  HashSet.prototype.isEmpty = function isEmpty () {\n    return this.array_.length === 0\n  };\n\n  /**\n   * @override\n   */\n  HashSet.prototype.toArray = function toArray () {\n    var this$1 = this;\n\n    var array = [];\n\n    for (var i = 0, len = this.array_.length; i < len; i++) {\n      array.push(this$1.array_[i]);\n    }\n\n    return array\n  };\n\n  /**\n   * @override\n   */\n  HashSet.prototype.iterator = function iterator () {\n    return new Iterator_$1(this)\n  };\n\n  return HashSet;\n}(Set));\n\n/**\n   * @extends {Iterator}\n   * @param {HashSet} hashSet\n   * @constructor\n   * @private\n   */\nvar Iterator_$1 = (function (Iterator$$1) {\n  function Iterator_ (hashSet) {\n    Iterator$$1.call(this);\n    /**\n     * @type {HashSet}\n     * @private\n     */\n    this.hashSet_ = hashSet;\n    /**\n     * @type {number}\n     * @private\n     */\n    this.position_ = 0;\n  }\n\n  if ( Iterator$$1 ) Iterator_.__proto__ = Iterator$$1;\n  Iterator_.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  Iterator_.prototype.constructor = Iterator_;\n\n  /**\n   * @override\n   */\n  Iterator_.prototype.next = function next () {\n    if (this.position_ === this.hashSet_.size()) {\n      throw new NoSuchElementException()\n    }\n    return this.hashSet_.array_[this.position_++]\n  };\n\n  /**\n   * @override\n   */\n  Iterator_.prototype.hasNext = function hasNext () {\n    if (this.position_ < this.hashSet_.size()) {\n      return true\n    } else {\n      return false\n    }\n  };\n\n  /**\n   * @override\n   */\n  Iterator_.prototype.remove = function remove () {\n    throw new OperationNotSupported()\n  };\n\n  return Iterator_;\n}(Iterator));\n\nvar BLACK = 0;\nvar RED = 1;\nfunction colorOf (p) { return (p === null ? BLACK : p.color) }\nfunction parentOf (p) { return (p === null ? null : p.parent) }\nfunction setColor (p, c) { if (p !== null) { p.color = c; } }\nfunction leftOf (p) { return (p === null ? null : p.left) }\nfunction rightOf (p) { return (p === null ? null : p.right) }\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeMap.html\n *\n * @extends {SortedMap}\n * @constructor\n * @private\n */\nfunction TreeMap () {\n  /**\n   * @type {Object}\n   * @private\n   */\n  this.root_ = null;\n  /**\n   * @type {number}\n   * @private\n  */\n  this.size_ = 0;\n}\nTreeMap.prototype = new SortedMap();\n\n/**\n * @override\n */\nTreeMap.prototype.get = function (key) {\n  var p = this.root_;\n  while (p !== null) {\n    var cmp = key['compareTo'](p.key);\n    if (cmp < 0) { p = p.left; }\n    else if (cmp > 0) { p = p.right; }\n    else { return p.value }\n  }\n  return null\n};\n\n/**\n * @override\n */\nTreeMap.prototype.put = function (key, value) {\n  if (this.root_ === null) {\n    this.root_ = {\n      key: key,\n      value: value,\n      left: null,\n      right: null,\n      parent: null,\n      color: BLACK,\n      getValue: function getValue () { return this.value },\n      getKey: function getKey () { return this.key }\n    };\n    this.size_ = 1;\n    return null\n  }\n  var t = this.root_;\n  var parent;\n  var cmp;\n  do {\n    parent = t;\n    cmp = key['compareTo'](t.key);\n    if (cmp < 0) {\n      t = t.left;\n    } else if (cmp > 0) {\n      t = t.right;\n    } else {\n      var oldValue = t.value;\n      t.value = value;\n      return oldValue\n    }\n  } while (t !== null)\n  var e = {\n    key: key,\n    left: null,\n    right: null,\n    value: value,\n    parent: parent,\n    color: BLACK,\n    getValue: function getValue () { return this.value },\n    getKey: function getKey () { return this.key }\n  };\n  if (cmp < 0) {\n    parent.left = e;\n  } else {\n    parent.right = e;\n  }\n  this.fixAfterInsertion(e);\n  this.size_++;\n  return null\n};\n\n/**\n * @param {Object} x\n */\nTreeMap.prototype.fixAfterInsertion = function (x) {\n  var this$1 = this;\n\n  x.color = RED;\n  while (x != null && x !== this.root_ && x.parent.color === RED) {\n    if (parentOf(x) === leftOf(parentOf(parentOf(x)))) {\n      var y = rightOf(parentOf(parentOf(x)));\n      if (colorOf(y) === RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x === rightOf(parentOf(x))) {\n          x = parentOf(x);\n          this$1.rotateLeft(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this$1.rotateRight(parentOf(parentOf(x)));\n      }\n    } else {\n      var y$1 = leftOf(parentOf(parentOf(x)));\n      if (colorOf(y$1) === RED) {\n        setColor(parentOf(x), BLACK);\n        setColor(y$1, BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        x = parentOf(parentOf(x));\n      } else {\n        if (x === leftOf(parentOf(x))) {\n          x = parentOf(x);\n          this$1.rotateRight(x);\n        }\n        setColor(parentOf(x), BLACK);\n        setColor(parentOf(parentOf(x)), RED);\n        this$1.rotateLeft(parentOf(parentOf(x)));\n      }\n    }\n  }\n  this.root_.color = BLACK;\n};\n\n/**\n * @override\n */\nTreeMap.prototype.values = function () {\n  var arrayList = new ArrayList();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    arrayList.add(p.value);\n    while ((p = TreeMap.successor(p)) !== null) {\n      arrayList.add(p.value);\n    }\n  }\n  return arrayList\n};\n\n/**\n * @override\n */\nTreeMap.prototype.entrySet = function () {\n  var hashSet = new HashSet();\n  var p = this.getFirstEntry();\n  if (p !== null) {\n    hashSet.add(p);\n    while ((p = TreeMap.successor(p)) !== null) {\n      hashSet.add(p);\n    }\n  }\n  return hashSet\n};\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateLeft = function (p) {\n  if (p != null) {\n    var r = p.right;\n    p.right = r.left;\n    if (r.left != null) { r.left.parent = p; }\n    r.parent = p.parent;\n    if (p.parent === null) { this.root_ = r; } else if (p.parent.left === p) { p.parent.left = r; } else { p.parent.right = r; }\n    r.left = p;\n    p.parent = r;\n  }\n};\n\n/**\n * @param {Object} p\n */\nTreeMap.prototype.rotateRight = function (p) {\n  if (p != null) {\n    var l = p.left;\n    p.left = l.right;\n    if (l.right != null) { l.right.parent = p; }\n    l.parent = p.parent;\n    if (p.parent === null) { this.root_ = l; } else if (p.parent.right === p) { p.parent.right = l; } else { p.parent.left = l; }\n    l.right = p;\n    p.parent = l;\n  }\n};\n\n/**\n * @return {Object}\n */\nTreeMap.prototype.getFirstEntry = function () {\n  var p = this.root_;\n  if (p != null) {\n    while (p.left != null) {\n      p = p.left;\n    }\n  }\n  return p\n};\n\n/**\n * @param {Object} t\n * @return {Object}\n * @private\n */\nTreeMap.successor = function (t) {\n  if (t === null) { return null } else if (t.right !== null) {\n    var p = t.right;\n    while (p.left !== null) {\n      p = p.left;\n    }\n    return p\n  } else {\n    var p$1 = t.parent;\n    var ch = t;\n    while (p$1 !== null && ch === p$1.right) {\n      ch = p$1;\n      p$1 = p$1.parent;\n    }\n    return p$1\n  }\n};\n\n/**\n * @override\n */\nTreeMap.prototype.size = function () {\n  return this.size_\n};\n\nvar Lineal = function Lineal () {};\n\nLineal.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nLineal.prototype.getClass = function getClass () {\n  return Lineal\n};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/SortedSet.html\n *\n * @extends {Set}\n * @constructor\n * @private\n */\nfunction SortedSet () {}\nSortedSet.prototype = new Set();\n\n// import Iterator from './Iterator'\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/TreeSet.html\n *\n * @extends {SortedSet}\n * @constructor\n * @private\n */\nfunction TreeSet () {\n  /**\n   * @type {Array}\n   * @private\n  */\n  this.array_ = [];\n\n  if (arguments[0] instanceof Collection) {\n    this.addAll(arguments[0]);\n  }\n}\nTreeSet.prototype = new SortedSet();\n\n/**\n * @override\n */\nTreeSet.prototype.contains = function (o) {\n  var this$1 = this;\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this$1.array_[i];\n    if (e['compareTo'](o) === 0) {\n      return true\n    }\n  }\n  return false\n};\n\n/**\n * @override\n */\nTreeSet.prototype.add = function (o) {\n  var this$1 = this;\n\n  if (this.contains(o)) {\n    return false\n  }\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    var e = this$1.array_[i];\n    if (e['compareTo'](o) === 1) {\n      this$1.array_.splice(i, 0, o);\n      return true\n    }\n  }\n\n  this.array_.push(o);\n\n  return true\n};\n\n/**\n * @override\n */\nTreeSet.prototype.addAll = function (c) {\n  var this$1 = this;\n\n  for (var i = c.iterator(); i.hasNext();) {\n    this$1.add(i.next());\n  }\n  return true\n};\n\n/**\n * @override\n */\nTreeSet.prototype.remove = function (e) {\n  throw new OperationNotSupported()\n};\n\n/**\n * @override\n */\nTreeSet.prototype.size = function () {\n  return this.array_.length\n};\n\n/**\n * @override\n */\nTreeSet.prototype.isEmpty = function () {\n  return this.array_.length === 0\n};\n\n/**\n * @override\n */\nTreeSet.prototype.toArray = function () {\n  var this$1 = this;\n\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this$1.array_[i]);\n  }\n\n  return array\n};\n\n/**\n * @override\n */\nTreeSet.prototype.iterator = function () {\n  return new Iterator_$2(this)\n};\n\n/**\n * @extends {javascript.util.Iterator}\n * @param {javascript.util.TreeSet} treeSet\n * @constructor\n * @private\n */\nvar Iterator_$2 = function (treeSet) {\n  /**\n   * @type {javascript.util.TreeSet}\n   * @private\n   */\n  this.treeSet_ = treeSet;\n  /**\n   * @type {number}\n   * @private\n   */\n  this.position_ = 0;\n};\n\n/**\n * @override\n */\nIterator_$2.prototype.next = function () {\n  if (this.position_ === this.treeSet_.size()) {\n    throw new NoSuchElementException()\n  }\n  return this.treeSet_.array_[this.position_++]\n};\n\n/**\n * @override\n */\nIterator_$2.prototype.hasNext = function () {\n  if (this.position_ < this.treeSet_.size()) {\n    return true\n  } else {\n    return false\n  }\n};\n\n/**\n * @override\n */\nIterator_$2.prototype.remove = function () {\n  throw new OperationNotSupported()\n};\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html\n *\n * @constructor\n * @private\n */\nvar Arrays = function Arrays () {};\n\nArrays.sort = function sort () {\n  var a = arguments[0];\n  var i;\n  var t;\n  var comparator;\n  var compare;\n  if (arguments.length === 1) {\n    compare = function (a, b) {\n      return a.compareTo(b)\n    };\n    a.sort(compare);\n  } else if (arguments.length === 2) {\n    comparator = arguments[1];\n    compare = function (a, b) {\n      return comparator['compare'](a, b)\n    };\n    a.sort(compare);\n  } else if (arguments.length === 3) {\n    t = a.slice(arguments[1], arguments[2]);\n    t.sort();\n    var r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n  } else if (arguments.length === 4) {\n    t = a.slice(arguments[1], arguments[2]);\n    comparator = arguments[3];\n    compare = function (a, b) {\n      return comparator['compare'](a, b)\n    };\n    t.sort(compare);\n    r = a.slice(0, arguments[1]).concat(t, a.slice(arguments[2], a.length));\n    a.splice(0, a.length);\n    for (i = 0; i < r.length; i++) {\n      a.push(r[i]);\n    }\n  }\n};\n/**\n * @param {Array} array\n * @return {ArrayList}\n */\nArrays.asList = function asList (array) {\n  var arrayList = new ArrayList();\n  for (var i = 0, len = array.length; i < len; i++) {\n    arrayList.add(array[i]);\n  }\n  return arrayList\n};\n\nvar Dimension = function Dimension () {};\n\nvar staticAccessors$14 = { P: { configurable: true },L: { configurable: true },A: { configurable: true },FALSE: { configurable: true },TRUE: { configurable: true },DONTCARE: { configurable: true },SYM_FALSE: { configurable: true },SYM_TRUE: { configurable: true },SYM_DONTCARE: { configurable: true },SYM_P: { configurable: true },SYM_L: { configurable: true },SYM_A: { configurable: true } };\n\nstaticAccessors$14.P.get = function () { return 0 };\nstaticAccessors$14.L.get = function () { return 1 };\nstaticAccessors$14.A.get = function () { return 2 };\nstaticAccessors$14.FALSE.get = function () { return -1 };\nstaticAccessors$14.TRUE.get = function () { return -2 };\nstaticAccessors$14.DONTCARE.get = function () { return -3 };\nstaticAccessors$14.SYM_FALSE.get = function () { return 'F' };\nstaticAccessors$14.SYM_TRUE.get = function () { return 'T' };\nstaticAccessors$14.SYM_DONTCARE.get = function () { return '*' };\nstaticAccessors$14.SYM_P.get = function () { return '0' };\nstaticAccessors$14.SYM_L.get = function () { return '1' };\nstaticAccessors$14.SYM_A.get = function () { return '2' };\n\nDimension.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nDimension.prototype.getClass = function getClass () {\n  return Dimension\n};\nDimension.toDimensionSymbol = function toDimensionSymbol (dimensionValue) {\n  switch (dimensionValue) {\n    case Dimension.FALSE:\n      return Dimension.SYM_FALSE\n    case Dimension.TRUE:\n      return Dimension.SYM_TRUE\n    case Dimension.DONTCARE:\n      return Dimension.SYM_DONTCARE\n    case Dimension.P:\n      return Dimension.SYM_P\n    case Dimension.L:\n      return Dimension.SYM_L\n    case Dimension.A:\n      return Dimension.SYM_A\n    default:\n  }\n  throw new IllegalArgumentException('Unknown dimension value: ' + dimensionValue)\n};\nDimension.toDimensionValue = function toDimensionValue (dimensionSymbol) {\n  switch (Character.toUpperCase(dimensionSymbol)) {\n    case Dimension.SYM_FALSE:\n      return Dimension.FALSE\n    case Dimension.SYM_TRUE:\n      return Dimension.TRUE\n    case Dimension.SYM_DONTCARE:\n      return Dimension.DONTCARE\n    case Dimension.SYM_P:\n      return Dimension.P\n    case Dimension.SYM_L:\n      return Dimension.L\n    case Dimension.SYM_A:\n      return Dimension.A\n    default:\n  }\n  throw new IllegalArgumentException('Unknown dimension symbol: ' + dimensionSymbol)\n};\n\nObject.defineProperties( Dimension, staticAccessors$14 );\n\nvar GeometryFilter = function GeometryFilter () {};\n\nGeometryFilter.prototype.filter = function filter (geom) {};\nGeometryFilter.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryFilter.prototype.getClass = function getClass () {\n  return GeometryFilter\n};\n\nvar CoordinateSequenceFilter = function CoordinateSequenceFilter () {};\n\nCoordinateSequenceFilter.prototype.filter = function filter (seq, i) {};\nCoordinateSequenceFilter.prototype.isDone = function isDone () {};\nCoordinateSequenceFilter.prototype.isGeometryChanged = function isGeometryChanged () {};\nCoordinateSequenceFilter.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCoordinateSequenceFilter.prototype.getClass = function getClass () {\n  return CoordinateSequenceFilter\n};\n\nvar GeometryCollection = (function (Geometry$$1) {\n  function GeometryCollection (geometries, factory) {\n    Geometry$$1.call(this, factory);\n    this._geometries = geometries || [];\n\n    if (Geometry$$1.hasNullElements(this._geometries)) {\n      throw new IllegalArgumentException('geometries must not contain null elements')\n    }\n  }\n\n  if ( Geometry$$1 ) GeometryCollection.__proto__ = Geometry$$1;\n  GeometryCollection.prototype = Object.create( Geometry$$1 && Geometry$$1.prototype );\n  GeometryCollection.prototype.constructor = GeometryCollection;\n\n  var staticAccessors = { serialVersionUID: { configurable: true } };\n  GeometryCollection.prototype.computeEnvelopeInternal = function computeEnvelopeInternal () {\n    var this$1 = this;\n\n    var envelope = new Envelope();\n    for (var i = 0; i < this._geometries.length; i++) {\n      envelope.expandToInclude(this$1._geometries[i].getEnvelopeInternal());\n    }\n    return envelope\n  };\n  GeometryCollection.prototype.getGeometryN = function getGeometryN (n) {\n    return this._geometries[n]\n  };\n  GeometryCollection.prototype.getSortIndex = function getSortIndex () {\n    return Geometry$$1.SORTINDEX_GEOMETRYCOLLECTION\n  };\n  GeometryCollection.prototype.getCoordinates = function getCoordinates () {\n    var this$1 = this;\n\n    var coordinates = new Array(this.getNumPoints()).fill(null);\n    var k = -1;\n    for (var i = 0; i < this._geometries.length; i++) {\n      var childCoordinates = this$1._geometries[i].getCoordinates();\n      for (var j = 0; j < childCoordinates.length; j++) {\n        k++;\n        coordinates[k] = childCoordinates[j];\n      }\n    }\n    return coordinates\n  };\n  GeometryCollection.prototype.getArea = function getArea () {\n    var this$1 = this;\n\n    var area = 0.0;\n    for (var i = 0; i < this._geometries.length; i++) {\n      area += this$1._geometries[i].getArea();\n    }\n    return area\n  };\n  GeometryCollection.prototype.equalsExact = function equalsExact () {\n    var this$1 = this;\n\n    if (arguments.length === 2) {\n      var other = arguments[0];\n      var tolerance = arguments[1];\n      if (!this.isEquivalentClass(other)) {\n        return false\n      }\n      var otherCollection = other;\n      if (this._geometries.length !== otherCollection._geometries.length) {\n        return false\n      }\n      for (var i = 0; i < this._geometries.length; i++) {\n        if (!this$1._geometries[i].equalsExact(otherCollection._geometries[i], tolerance)) {\n          return false\n        }\n      }\n      return true\n    } else { return Geometry$$1.prototype.equalsExact.apply(this, arguments) }\n  };\n  GeometryCollection.prototype.normalize = function normalize () {\n    var this$1 = this;\n\n    for (var i = 0; i < this._geometries.length; i++) {\n      this$1._geometries[i].normalize();\n    }\n    Arrays.sort(this._geometries);\n  };\n  GeometryCollection.prototype.getCoordinate = function getCoordinate () {\n    if (this.isEmpty()) { return null }\n    return this._geometries[0].getCoordinate()\n  };\n  GeometryCollection.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    var this$1 = this;\n\n    var dimension = Dimension.FALSE;\n    for (var i = 0; i < this._geometries.length; i++) {\n      dimension = Math.max(dimension, this$1._geometries[i].getBoundaryDimension());\n    }\n    return dimension\n  };\n  GeometryCollection.prototype.getDimension = function getDimension () {\n    var this$1 = this;\n\n    var dimension = Dimension.FALSE;\n    for (var i = 0; i < this._geometries.length; i++) {\n      dimension = Math.max(dimension, this$1._geometries[i].getDimension());\n    }\n    return dimension\n  };\n  GeometryCollection.prototype.getLength = function getLength () {\n    var this$1 = this;\n\n    var sum = 0.0;\n    for (var i = 0; i < this._geometries.length; i++) {\n      sum += this$1._geometries[i].getLength();\n    }\n    return sum\n  };\n  GeometryCollection.prototype.getNumPoints = function getNumPoints () {\n    var this$1 = this;\n\n    var numPoints = 0;\n    for (var i = 0; i < this._geometries.length; i++) {\n      numPoints += this$1._geometries[i].getNumPoints();\n    }\n    return numPoints\n  };\n  GeometryCollection.prototype.getNumGeometries = function getNumGeometries () {\n    return this._geometries.length\n  };\n  GeometryCollection.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var n = this._geometries.length;\n    var revGeoms = new Array(n).fill(null);\n    for (var i = 0; i < this._geometries.length; i++) {\n      revGeoms[i] = this$1._geometries[i].reverse();\n    }\n    return this.getFactory().createGeometryCollection(revGeoms)\n  };\n  GeometryCollection.prototype.compareToSameClass = function compareToSameClass () {\n    var this$1 = this;\n\n    if (arguments.length === 1) {\n      var o = arguments[0];\n      var theseElements = new TreeSet(Arrays.asList(this._geometries));\n      var otherElements = new TreeSet(Arrays.asList(o._geometries));\n      return this.compare(theseElements, otherElements)\n    } else if (arguments.length === 2) {\n      var o$1 = arguments[0];\n      var comp = arguments[1];\n      var gc = o$1;\n      var n1 = this.getNumGeometries();\n      var n2 = gc.getNumGeometries();\n      var i = 0;\n      while (i < n1 && i < n2) {\n        var thisGeom = this$1.getGeometryN(i);\n        var otherGeom = gc.getGeometryN(i);\n        var holeComp = thisGeom.compareToSameClass(otherGeom, comp);\n        if (holeComp !== 0) { return holeComp }\n        i++;\n      }\n      if (i < n1) { return 1 }\n      if (i < n2) { return -1 }\n      return 0\n    }\n  };\n  GeometryCollection.prototype.apply = function apply () {\n    var this$1 = this;\n\n    if (hasInterface(arguments[0], CoordinateFilter)) {\n      var filter = arguments[0];\n      for (var i = 0; i < this._geometries.length; i++) {\n        this$1._geometries[i].apply(filter);\n      }\n    } else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n      var filter$1 = arguments[0];\n      if (this._geometries.length === 0) { return null }\n      for (var i$1 = 0; i$1 < this._geometries.length; i$1++) {\n        this$1._geometries[i$1].apply(filter$1);\n        if (filter$1.isDone()) {\n          break\n        }\n      }\n      if (filter$1.isGeometryChanged()) { this.geometryChanged(); }\n    } else if (hasInterface(arguments[0], GeometryFilter)) {\n      var filter$2 = arguments[0];\n      filter$2.filter(this);\n      for (var i$2 = 0; i$2 < this._geometries.length; i$2++) {\n        this$1._geometries[i$2].apply(filter$2);\n      }\n    } else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n      var filter$3 = arguments[0];\n      filter$3.filter(this);\n      for (var i$3 = 0; i$3 < this._geometries.length; i$3++) {\n        this$1._geometries[i$3].apply(filter$3);\n      }\n    }\n  };\n  GeometryCollection.prototype.getBoundary = function getBoundary () {\n    this.checkNotGeometryCollection(this);\n    Assert.shouldNeverReachHere();\n    return null\n  };\n  GeometryCollection.prototype.clone = function clone () {\n    var this$1 = this;\n\n    var gc = Geometry$$1.prototype.clone.call(this);\n    gc._geometries = new Array(this._geometries.length).fill(null);\n    for (var i = 0; i < this._geometries.length; i++) {\n      gc._geometries[i] = this$1._geometries[i].clone();\n    }\n    return gc\n  };\n  GeometryCollection.prototype.getGeometryType = function getGeometryType () {\n    return 'GeometryCollection'\n  };\n  GeometryCollection.prototype.copy = function copy () {\n    var this$1 = this;\n\n    var geometries = new Array(this._geometries.length).fill(null);\n    for (var i = 0; i < geometries.length; i++) {\n      geometries[i] = this$1._geometries[i].copy();\n    }\n    return new GeometryCollection(geometries, this._factory)\n  };\n  GeometryCollection.prototype.isEmpty = function isEmpty () {\n    var this$1 = this;\n\n    for (var i = 0; i < this._geometries.length; i++) {\n      if (!this$1._geometries[i].isEmpty()) {\n        return false\n      }\n    }\n    return true\n  };\n  GeometryCollection.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  GeometryCollection.prototype.getClass = function getClass () {\n    return GeometryCollection\n  };\n  staticAccessors.serialVersionUID.get = function () { return -5694727726395021467 };\n\n  Object.defineProperties( GeometryCollection, staticAccessors );\n\n  return GeometryCollection;\n}(Geometry));\n\nvar MultiLineString = (function (GeometryCollection$$1) {\n  function MultiLineString () {\n    GeometryCollection$$1.apply(this, arguments);\n  }\n\n  if ( GeometryCollection$$1 ) MultiLineString.__proto__ = GeometryCollection$$1;\n  MultiLineString.prototype = Object.create( GeometryCollection$$1 && GeometryCollection$$1.prototype );\n  MultiLineString.prototype.constructor = MultiLineString;\n\n  var staticAccessors = { serialVersionUID: { configurable: true } };\n\n  MultiLineString.prototype.getSortIndex = function getSortIndex () {\n    return Geometry.SORTINDEX_MULTILINESTRING\n  };\n  MultiLineString.prototype.equalsExact = function equalsExact () {\n    if (arguments.length === 2) {\n      var other = arguments[0];\n      var tolerance = arguments[1];\n      if (!this.isEquivalentClass(other)) {\n        return false\n      }\n      return GeometryCollection$$1.prototype.equalsExact.call(this, other, tolerance)\n    } else { return GeometryCollection$$1.prototype.equalsExact.apply(this, arguments) }\n  };\n  MultiLineString.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    if (this.isClosed()) {\n      return Dimension.FALSE\n    }\n    return 0\n  };\n  MultiLineString.prototype.isClosed = function isClosed () {\n    var this$1 = this;\n\n    if (this.isEmpty()) {\n      return false\n    }\n    for (var i = 0; i < this._geometries.length; i++) {\n      if (!this$1._geometries[i].isClosed()) {\n        return false\n      }\n    }\n    return true\n  };\n  MultiLineString.prototype.getDimension = function getDimension () {\n    return 1\n  };\n  MultiLineString.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var nLines = this._geometries.length;\n    var revLines = new Array(nLines).fill(null);\n    for (var i = 0; i < this._geometries.length; i++) {\n      revLines[nLines - 1 - i] = this$1._geometries[i].reverse();\n    }\n    return this.getFactory().createMultiLineString(revLines)\n  };\n  MultiLineString.prototype.getBoundary = function getBoundary () {\n    return new BoundaryOp(this).getBoundary()\n  };\n  MultiLineString.prototype.getGeometryType = function getGeometryType () {\n    return 'MultiLineString'\n  };\n  MultiLineString.prototype.copy = function copy () {\n    var this$1 = this;\n\n    var lineStrings = new Array(this._geometries.length).fill(null);\n    for (var i = 0; i < lineStrings.length; i++) {\n      lineStrings[i] = this$1._geometries[i].copy();\n    }\n    return new MultiLineString(lineStrings, this._factory)\n  };\n  MultiLineString.prototype.interfaces_ = function interfaces_ () {\n    return [Lineal]\n  };\n  MultiLineString.prototype.getClass = function getClass () {\n    return MultiLineString\n  };\n  staticAccessors.serialVersionUID.get = function () { return 8166665132445433741 };\n\n  Object.defineProperties( MultiLineString, staticAccessors );\n\n  return MultiLineString;\n}(GeometryCollection));\n\nvar BoundaryOp = function BoundaryOp () {\n  this._geom = null;\n  this._geomFact = null;\n  this._bnRule = null;\n  this._endpointMap = null;\n  if (arguments.length === 1) {\n    var geom = arguments[0];\n    var bnRule = BoundaryNodeRule.MOD2_BOUNDARY_RULE;\n    this._geom = geom;\n    this._geomFact = geom.getFactory();\n    this._bnRule = bnRule;\n  } else if (arguments.length === 2) {\n    var geom$1 = arguments[0];\n    var bnRule$1 = arguments[1];\n    this._geom = geom$1;\n    this._geomFact = geom$1.getFactory();\n    this._bnRule = bnRule$1;\n  }\n};\nBoundaryOp.prototype.boundaryMultiLineString = function boundaryMultiLineString (mLine) {\n  if (this._geom.isEmpty()) {\n    return this.getEmptyMultiPoint()\n  }\n  var bdyPts = this.computeBoundaryCoordinates(mLine);\n  if (bdyPts.length === 1) {\n    return this._geomFact.createPoint(bdyPts[0])\n  }\n  return this._geomFact.createMultiPointFromCoords(bdyPts)\n};\nBoundaryOp.prototype.getBoundary = function getBoundary () {\n  if (this._geom instanceof LineString$1) { return this.boundaryLineString(this._geom) }\n  if (this._geom instanceof MultiLineString) { return this.boundaryMultiLineString(this._geom) }\n  return this._geom.getBoundary()\n};\nBoundaryOp.prototype.boundaryLineString = function boundaryLineString (line) {\n  if (this._geom.isEmpty()) {\n    return this.getEmptyMultiPoint()\n  }\n  if (line.isClosed()) {\n    var closedEndpointOnBoundary = this._bnRule.isInBoundary(2);\n    if (closedEndpointOnBoundary) {\n      return line.getStartPoint()\n    } else {\n      return this._geomFact.createMultiPoint()\n    }\n  }\n  return this._geomFact.createMultiPoint([line.getStartPoint(), line.getEndPoint()])\n};\nBoundaryOp.prototype.getEmptyMultiPoint = function getEmptyMultiPoint () {\n  return this._geomFact.createMultiPoint()\n};\nBoundaryOp.prototype.computeBoundaryCoordinates = function computeBoundaryCoordinates (mLine) {\n    var this$1 = this;\n\n  var bdyPts = new ArrayList();\n  this._endpointMap = new TreeMap();\n  for (var i = 0; i < mLine.getNumGeometries(); i++) {\n    var line = mLine.getGeometryN(i);\n    if (line.getNumPoints() === 0) { continue }\n    this$1.addEndpoint(line.getCoordinateN(0));\n    this$1.addEndpoint(line.getCoordinateN(line.getNumPoints() - 1));\n  }\n  for (var it = this._endpointMap.entrySet().iterator(); it.hasNext();) {\n    var entry = it.next();\n    var counter = entry.getValue();\n    var valence = counter.count;\n    if (this$1._bnRule.isInBoundary(valence)) {\n      bdyPts.add(entry.getKey());\n    }\n  }\n  return CoordinateArrays.toCoordinateArray(bdyPts)\n};\nBoundaryOp.prototype.addEndpoint = function addEndpoint (pt) {\n  var counter = this._endpointMap.get(pt);\n  if (counter === null) {\n    counter = new Counter();\n    this._endpointMap.put(pt, counter);\n  }\n  counter.count++;\n};\nBoundaryOp.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBoundaryOp.prototype.getClass = function getClass () {\n  return BoundaryOp\n};\nBoundaryOp.getBoundary = function getBoundary () {\n  if (arguments.length === 1) {\n    var g = arguments[0];\n    var bop = new BoundaryOp(g);\n    return bop.getBoundary()\n  } else if (arguments.length === 2) {\n    var g$1 = arguments[0];\n    var bnRule = arguments[1];\n    var bop$1 = new BoundaryOp(g$1, bnRule);\n    return bop$1.getBoundary()\n  }\n};\n\nvar Counter = function Counter () {\n  this.count = null;\n};\nCounter.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCounter.prototype.getClass = function getClass () {\n  return Counter\n};\n\n// boundary\n\nfunction PrintStream () {}\n\nfunction StringReader () {}\n\nvar DecimalFormat = function DecimalFormat () {};\n\nfunction ByteArrayOutputStream () {}\n\nfunction IOException () {}\n\nfunction LineNumberReader () {}\n\nvar StringUtil = function StringUtil () {};\n\nvar staticAccessors$15 = { NEWLINE: { configurable: true },SIMPLE_ORDINATE_FORMAT: { configurable: true } };\n\nStringUtil.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nStringUtil.prototype.getClass = function getClass () {\n  return StringUtil\n};\nStringUtil.chars = function chars (c, n) {\n  var ch = new Array(n).fill(null);\n  for (var i = 0; i < n; i++) {\n    ch[i] = c;\n  }\n  return String(ch)\n};\nStringUtil.getStackTrace = function getStackTrace () {\n  if (arguments.length === 1) {\n    var t = arguments[0];\n    var os = new ByteArrayOutputStream();\n    var ps = new PrintStream(os);\n    t.printStackTrace(ps);\n    return os.toString()\n  } else if (arguments.length === 2) {\n    var t$1 = arguments[0];\n    var depth = arguments[1];\n    var stackTrace = '';\n    var stringReader = new StringReader(StringUtil.getStackTrace(t$1));\n    var lineNumberReader = new LineNumberReader(stringReader);\n    for (var i = 0; i < depth; i++) {\n      try {\n        stackTrace += lineNumberReader.readLine() + StringUtil.NEWLINE;\n      } catch (e) {\n        if (e instanceof IOException) {\n          Assert.shouldNeverReachHere();\n        } else { throw e }\n      } finally {}\n    }\n    return stackTrace\n  }\n};\nStringUtil.split = function split (s, separator) {\n  var separatorlen = separator.length;\n  var tokenList = new ArrayList();\n  var tmpString = '' + s;\n  var pos = tmpString.indexOf(separator);\n  while (pos >= 0) {\n    var token = tmpString.substring(0, pos);\n    tokenList.add(token);\n    tmpString = tmpString.substring(pos + separatorlen);\n    pos = tmpString.indexOf(separator);\n  }\n  if (tmpString.length > 0) { tokenList.add(tmpString); }\n  var res = new Array(tokenList.size()).fill(null);\n  for (var i = 0; i < res.length; i++) {\n    res[i] = tokenList.get(i);\n  }\n  return res\n};\nStringUtil.toString = function toString () {\n  if (arguments.length === 1) {\n    var d = arguments[0];\n    return StringUtil.SIMPLE_ORDINATE_FORMAT.format(d)\n  }\n};\nStringUtil.spaces = function spaces (n) {\n  return StringUtil.chars(' ', n)\n};\nstaticAccessors$15.NEWLINE.get = function () { return System.getProperty('line.separator') };\nstaticAccessors$15.SIMPLE_ORDINATE_FORMAT.get = function () { return new DecimalFormat('0.#') };\n\nObject.defineProperties( StringUtil, staticAccessors$15 );\n\nvar CoordinateSequences = function CoordinateSequences () {};\n\nCoordinateSequences.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCoordinateSequences.prototype.getClass = function getClass () {\n  return CoordinateSequences\n};\nCoordinateSequences.copyCoord = function copyCoord (src, srcPos, dest, destPos) {\n  var minDim = Math.min(src.getDimension(), dest.getDimension());\n  for (var dim = 0; dim < minDim; dim++) {\n    dest.setOrdinate(destPos, dim, src.getOrdinate(srcPos, dim));\n  }\n};\nCoordinateSequences.isRing = function isRing (seq) {\n  var n = seq.size();\n  if (n === 0) { return true }\n  if (n <= 3) { return false }\n  return seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y)\n};\nCoordinateSequences.isEqual = function isEqual (cs1, cs2) {\n  var cs1Size = cs1.size();\n  var cs2Size = cs2.size();\n  if (cs1Size !== cs2Size) { return false }\n  var dim = Math.min(cs1.getDimension(), cs2.getDimension());\n  for (var i = 0; i < cs1Size; i++) {\n    for (var d = 0; d < dim; d++) {\n      var v1 = cs1.getOrdinate(i, d);\n      var v2 = cs2.getOrdinate(i, d);\n      if (cs1.getOrdinate(i, d) === cs2.getOrdinate(i, d)) { continue }\n      if (Double.isNaN(v1) && Double.isNaN(v2)) { continue }\n      return false\n    }\n  }\n  return true\n};\nCoordinateSequences.extend = function extend (fact, seq, size) {\n  var newseq = fact.create(size, seq.getDimension());\n  var n = seq.size();\n  CoordinateSequences.copy(seq, 0, newseq, 0, n);\n  if (n > 0) {\n    for (var i = n; i < size; i++) { CoordinateSequences.copy(seq, n - 1, newseq, i, 1); }\n  }\n  return newseq\n};\nCoordinateSequences.reverse = function reverse (seq) {\n  var last = seq.size() - 1;\n  var mid = Math.trunc(last / 2);\n  for (var i = 0; i <= mid; i++) {\n    CoordinateSequences.swap(seq, i, last - i);\n  }\n};\nCoordinateSequences.swap = function swap (seq, i, j) {\n  if (i === j) { return null }\n  for (var dim = 0; dim < seq.getDimension(); dim++) {\n    var tmp = seq.getOrdinate(i, dim);\n    seq.setOrdinate(i, dim, seq.getOrdinate(j, dim));\n    seq.setOrdinate(j, dim, tmp);\n  }\n};\nCoordinateSequences.copy = function copy (src, srcPos, dest, destPos, length) {\n  for (var i = 0; i < length; i++) {\n    CoordinateSequences.copyCoord(src, srcPos + i, dest, destPos + i);\n  }\n};\nCoordinateSequences.toString = function toString () {\n  if (arguments.length === 1) {\n    var cs = arguments[0];\n    var size = cs.size();\n    if (size === 0) { return '()' }\n    var dim = cs.getDimension();\n    var buf = new StringBuffer();\n    buf.append('(');\n    for (var i = 0; i < size; i++) {\n      if (i > 0) { buf.append(' '); }\n      for (var d = 0; d < dim; d++) {\n        if (d > 0) { buf.append(','); }\n        buf.append(StringUtil.toString(cs.getOrdinate(i, d)));\n      }\n    }\n    buf.append(')');\n    return buf.toString()\n  }\n};\nCoordinateSequences.ensureValidRing = function ensureValidRing (fact, seq) {\n  var n = seq.size();\n  if (n === 0) { return seq }\n  if (n <= 3) { return CoordinateSequences.createClosedRing(fact, seq, 4) }\n  var isClosed = seq.getOrdinate(0, CoordinateSequence.X) === seq.getOrdinate(n - 1, CoordinateSequence.X) && seq.getOrdinate(0, CoordinateSequence.Y) === seq.getOrdinate(n - 1, CoordinateSequence.Y);\n  if (isClosed) { return seq }\n  return CoordinateSequences.createClosedRing(fact, seq, n + 1)\n};\nCoordinateSequences.createClosedRing = function createClosedRing (fact, seq, size) {\n  var newseq = fact.create(size, seq.getDimension());\n  var n = seq.size();\n  CoordinateSequences.copy(seq, 0, newseq, 0, n);\n  for (var i = n; i < size; i++) { CoordinateSequences.copy(seq, 0, newseq, i, 1); }\n  return newseq\n};\n\nvar LineString$1 = (function (Geometry$$1) {\n  function LineString (points, factory) {\n    Geometry$$1.call(this, factory);\n    this._points = null;\n    this.init(points);\n  }\n\n  if ( Geometry$$1 ) LineString.__proto__ = Geometry$$1;\n  LineString.prototype = Object.create( Geometry$$1 && Geometry$$1.prototype );\n  LineString.prototype.constructor = LineString;\n\n  var staticAccessors = { serialVersionUID: { configurable: true } };\n  LineString.prototype.computeEnvelopeInternal = function computeEnvelopeInternal () {\n    if (this.isEmpty()) {\n      return new Envelope()\n    }\n    return this._points.expandEnvelope(new Envelope())\n  };\n  LineString.prototype.isRing = function isRing () {\n    return this.isClosed() && this.isSimple()\n  };\n  LineString.prototype.getSortIndex = function getSortIndex () {\n    return Geometry$$1.SORTINDEX_LINESTRING\n  };\n  LineString.prototype.getCoordinates = function getCoordinates () {\n    return this._points.toCoordinateArray()\n  };\n  LineString.prototype.equalsExact = function equalsExact () {\n    var this$1 = this;\n\n    if (arguments.length === 2) {\n      var other = arguments[0];\n      var tolerance = arguments[1];\n      if (!this.isEquivalentClass(other)) {\n        return false\n      }\n      var otherLineString = other;\n      if (this._points.size() !== otherLineString._points.size()) {\n        return false\n      }\n      for (var i = 0; i < this._points.size(); i++) {\n        if (!this$1.equal(this$1._points.getCoordinate(i), otherLineString._points.getCoordinate(i), tolerance)) {\n          return false\n        }\n      }\n      return true\n    } else { return Geometry$$1.prototype.equalsExact.apply(this, arguments) }\n  };\n  LineString.prototype.normalize = function normalize () {\n    var this$1 = this;\n\n    for (var i = 0; i < Math.trunc(this._points.size() / 2); i++) {\n      var j = this$1._points.size() - 1 - i;\n      if (!this$1._points.getCoordinate(i).equals(this$1._points.getCoordinate(j))) {\n        if (this$1._points.getCoordinate(i).compareTo(this$1._points.getCoordinate(j)) > 0) {\n          CoordinateSequences.reverse(this$1._points);\n        }\n        return null\n      }\n    }\n  };\n  LineString.prototype.getCoordinate = function getCoordinate () {\n    if (this.isEmpty()) { return null }\n    return this._points.getCoordinate(0)\n  };\n  LineString.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    if (this.isClosed()) {\n      return Dimension.FALSE\n    }\n    return 0\n  };\n  LineString.prototype.isClosed = function isClosed () {\n    if (this.isEmpty()) {\n      return false\n    }\n    return this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints() - 1))\n  };\n  LineString.prototype.getEndPoint = function getEndPoint () {\n    if (this.isEmpty()) {\n      return null\n    }\n    return this.getPointN(this.getNumPoints() - 1)\n  };\n  LineString.prototype.getDimension = function getDimension () {\n    return 1\n  };\n  LineString.prototype.getLength = function getLength () {\n    return CGAlgorithms.computeLength(this._points)\n  };\n  LineString.prototype.getNumPoints = function getNumPoints () {\n    return this._points.size()\n  };\n  LineString.prototype.reverse = function reverse () {\n    var seq = this._points.copy();\n    CoordinateSequences.reverse(seq);\n    var revLine = this.getFactory().createLineString(seq);\n    return revLine\n  };\n  LineString.prototype.compareToSameClass = function compareToSameClass () {\n    var this$1 = this;\n\n    if (arguments.length === 1) {\n      var o = arguments[0];\n      var line = o;\n      var i = 0;\n      var j = 0;\n      while (i < this._points.size() && j < line._points.size()) {\n        var comparison = this$1._points.getCoordinate(i).compareTo(line._points.getCoordinate(j));\n        if (comparison !== 0) {\n          return comparison\n        }\n        i++;\n        j++;\n      }\n      if (i < this._points.size()) {\n        return 1\n      }\n      if (j < line._points.size()) {\n        return -1\n      }\n      return 0\n    } else if (arguments.length === 2) {\n      var o$1 = arguments[0];\n      var comp = arguments[1];\n      var line$1 = o$1;\n      return comp.compare(this._points, line$1._points)\n    }\n  };\n  LineString.prototype.apply = function apply () {\n    var this$1 = this;\n\n    if (hasInterface(arguments[0], CoordinateFilter)) {\n      var filter = arguments[0];\n      for (var i = 0; i < this._points.size(); i++) {\n        filter.filter(this$1._points.getCoordinate(i));\n      }\n    } else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n      var filter$1 = arguments[0];\n      if (this._points.size() === 0) { return null }\n      for (var i$1 = 0; i$1 < this._points.size(); i$1++) {\n        filter$1.filter(this$1._points, i$1);\n        if (filter$1.isDone()) { break }\n      }\n      if (filter$1.isGeometryChanged()) { this.geometryChanged(); }\n    } else if (hasInterface(arguments[0], GeometryFilter)) {\n      var filter$2 = arguments[0];\n      filter$2.filter(this);\n    } else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n      var filter$3 = arguments[0];\n      filter$3.filter(this);\n    }\n  };\n  LineString.prototype.getBoundary = function getBoundary () {\n    return new BoundaryOp(this).getBoundary()\n  };\n  LineString.prototype.isEquivalentClass = function isEquivalentClass (other) {\n    return other instanceof LineString\n  };\n  LineString.prototype.clone = function clone () {\n    var ls = Geometry$$1.prototype.clone.call(this);\n    ls._points = this._points.clone();\n    return ls\n  };\n  LineString.prototype.getCoordinateN = function getCoordinateN (n) {\n    return this._points.getCoordinate(n)\n  };\n  LineString.prototype.getGeometryType = function getGeometryType () {\n    return 'LineString'\n  };\n  LineString.prototype.copy = function copy () {\n    return new LineString(this._points.copy(), this._factory)\n  };\n  LineString.prototype.getCoordinateSequence = function getCoordinateSequence () {\n    return this._points\n  };\n  LineString.prototype.isEmpty = function isEmpty () {\n    return this._points.size() === 0\n  };\n  LineString.prototype.init = function init (points) {\n    if (points === null) {\n      points = this.getFactory().getCoordinateSequenceFactory().create([]);\n    }\n    if (points.size() === 1) {\n      throw new IllegalArgumentException('Invalid number of points in LineString (found ' + points.size() + ' - must be 0 or >= 2)')\n    }\n    this._points = points;\n  };\n  LineString.prototype.isCoordinate = function isCoordinate (pt) {\n    var this$1 = this;\n\n    for (var i = 0; i < this._points.size(); i++) {\n      if (this$1._points.getCoordinate(i).equals(pt)) {\n        return true\n      }\n    }\n    return false\n  };\n  LineString.prototype.getStartPoint = function getStartPoint () {\n    if (this.isEmpty()) {\n      return null\n    }\n    return this.getPointN(0)\n  };\n  LineString.prototype.getPointN = function getPointN (n) {\n    return this.getFactory().createPoint(this._points.getCoordinate(n))\n  };\n  LineString.prototype.interfaces_ = function interfaces_ () {\n    return [Lineal]\n  };\n  LineString.prototype.getClass = function getClass () {\n    return LineString\n  };\n  staticAccessors.serialVersionUID.get = function () { return 3110669828065365560 };\n\n  Object.defineProperties( LineString, staticAccessors );\n\n  return LineString;\n}(Geometry));\n\nvar Puntal = function Puntal () {};\n\nPuntal.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPuntal.prototype.getClass = function getClass () {\n  return Puntal\n};\n\nvar Point = (function (Geometry$$1) {\n  function Point (coordinates, factory) {\n    Geometry$$1.call(this, factory);\n    this._coordinates = coordinates || null;\n    this.init(this._coordinates);\n  }\n\n  if ( Geometry$$1 ) Point.__proto__ = Geometry$$1;\n  Point.prototype = Object.create( Geometry$$1 && Geometry$$1.prototype );\n  Point.prototype.constructor = Point;\n\n  var staticAccessors = { serialVersionUID: { configurable: true } };\n  Point.prototype.computeEnvelopeInternal = function computeEnvelopeInternal () {\n    if (this.isEmpty()) {\n      return new Envelope()\n    }\n    var env = new Envelope();\n    env.expandToInclude(this._coordinates.getX(0), this._coordinates.getY(0));\n    return env\n  };\n  Point.prototype.getSortIndex = function getSortIndex () {\n    return Geometry$$1.SORTINDEX_POINT\n  };\n  Point.prototype.getCoordinates = function getCoordinates () {\n    return this.isEmpty() ? [] : [this.getCoordinate()]\n  };\n  Point.prototype.equalsExact = function equalsExact () {\n    if (arguments.length === 2) {\n      var other = arguments[0];\n      var tolerance = arguments[1];\n      if (!this.isEquivalentClass(other)) {\n        return false\n      }\n      if (this.isEmpty() && other.isEmpty()) {\n        return true\n      }\n      if (this.isEmpty() !== other.isEmpty()) {\n        return false\n      }\n      return this.equal(other.getCoordinate(), this.getCoordinate(), tolerance)\n    } else { return Geometry$$1.prototype.equalsExact.apply(this, arguments) }\n  };\n  Point.prototype.normalize = function normalize () {};\n  Point.prototype.getCoordinate = function getCoordinate () {\n    return this._coordinates.size() !== 0 ? this._coordinates.getCoordinate(0) : null\n  };\n  Point.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    return Dimension.FALSE\n  };\n  Point.prototype.getDimension = function getDimension () {\n    return 0\n  };\n  Point.prototype.getNumPoints = function getNumPoints () {\n    return this.isEmpty() ? 0 : 1\n  };\n  Point.prototype.reverse = function reverse () {\n    return this.copy()\n  };\n  Point.prototype.getX = function getX () {\n    if (this.getCoordinate() === null) {\n      throw new Error('getX called on empty Point')\n    }\n    return this.getCoordinate().x\n  };\n  Point.prototype.compareToSameClass = function compareToSameClass () {\n    if (arguments.length === 1) {\n      var other = arguments[0];\n      var point$1 = other;\n      return this.getCoordinate().compareTo(point$1.getCoordinate())\n    } else if (arguments.length === 2) {\n      var other$1 = arguments[0];\n      var comp = arguments[1];\n      var point = other$1;\n      return comp.compare(this._coordinates, point._coordinates)\n    }\n  };\n  Point.prototype.apply = function apply () {\n    if (hasInterface(arguments[0], CoordinateFilter)) {\n      var filter = arguments[0];\n      if (this.isEmpty()) {\n        return null\n      }\n      filter.filter(this.getCoordinate());\n    } else if (hasInterface(arguments[0], CoordinateSequenceFilter)) {\n      var filter$1 = arguments[0];\n      if (this.isEmpty()) { return null }\n      filter$1.filter(this._coordinates, 0);\n      if (filter$1.isGeometryChanged()) { this.geometryChanged(); }\n    } else if (hasInterface(arguments[0], GeometryFilter)) {\n      var filter$2 = arguments[0];\n      filter$2.filter(this);\n    } else if (hasInterface(arguments[0], GeometryComponentFilter)) {\n      var filter$3 = arguments[0];\n      filter$3.filter(this);\n    }\n  };\n  Point.prototype.getBoundary = function getBoundary () {\n    return this.getFactory().createGeometryCollection(null)\n  };\n  Point.prototype.clone = function clone () {\n    var p = Geometry$$1.prototype.clone.call(this);\n    p._coordinates = this._coordinates.clone();\n    return p\n  };\n  Point.prototype.getGeometryType = function getGeometryType () {\n    return 'Point'\n  };\n  Point.prototype.copy = function copy () {\n    return new Point(this._coordinates.copy(), this._factory)\n  };\n  Point.prototype.getCoordinateSequence = function getCoordinateSequence () {\n    return this._coordinates\n  };\n  Point.prototype.getY = function getY () {\n    if (this.getCoordinate() === null) {\n      throw new Error('getY called on empty Point')\n    }\n    return this.getCoordinate().y\n  };\n  Point.prototype.isEmpty = function isEmpty () {\n    return this._coordinates.size() === 0\n  };\n  Point.prototype.init = function init (coordinates) {\n    if (coordinates === null) {\n      coordinates = this.getFactory().getCoordinateSequenceFactory().create([]);\n    }\n    Assert.isTrue(coordinates.size() <= 1);\n    this._coordinates = coordinates;\n  };\n  Point.prototype.isSimple = function isSimple () {\n    return true\n  };\n  Point.prototype.interfaces_ = function interfaces_ () {\n    return [Puntal]\n  };\n  Point.prototype.getClass = function getClass () {\n    return Point\n  };\n  staticAccessors.serialVersionUID.get = function () { return 4902022702746614570 };\n\n  Object.defineProperties( Point, staticAccessors );\n\n  return Point;\n}(Geometry));\n\nvar Polygonal = function Polygonal () {};\n\nPolygonal.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPolygonal.prototype.getClass = function getClass () {\n  return Polygonal\n};\n\nvar Polygon = (function (Geometry$$1) {\n  function Polygon (shell, holes, factory) {\n    Geometry$$1.call(this, factory);\n    this._shell = null;\n    this._holes = null;\n    if (shell === null) {\n      shell = this.getFactory().createLinearRing();\n    }\n    if (holes === null) {\n      holes = [];\n    }\n    if (Geometry$$1.hasNullElements(holes)) {\n      throw new IllegalArgumentException('holes must not contain null elements')\n    }\n    if (shell.isEmpty() && Geometry$$1.hasNonEmptyElements(holes)) {\n      throw new IllegalArgumentException('shell is empty but holes are not')\n    }\n    this._shell = shell;\n    this._holes = holes;\n  }\n\n  if ( Geometry$$1 ) Polygon.__proto__ = Geometry$$1;\n  Polygon.prototype = Object.create( Geometry$$1 && Geometry$$1.prototype );\n  Polygon.prototype.constructor = Polygon;\n\n  var staticAccessors = { serialVersionUID: { configurable: true } };\n  Polygon.prototype.computeEnvelopeInternal = function computeEnvelopeInternal () {\n    return this._shell.getEnvelopeInternal()\n  };\n  Polygon.prototype.getSortIndex = function getSortIndex () {\n    return Geometry$$1.SORTINDEX_POLYGON\n  };\n  Polygon.prototype.getCoordinates = function getCoordinates () {\n    var this$1 = this;\n\n    if (this.isEmpty()) {\n      return []\n    }\n    var coordinates = new Array(this.getNumPoints()).fill(null);\n    var k = -1;\n    var shellCoordinates = this._shell.getCoordinates();\n    for (var x = 0; x < shellCoordinates.length; x++) {\n      k++;\n      coordinates[k] = shellCoordinates[x];\n    }\n    for (var i = 0; i < this._holes.length; i++) {\n      var childCoordinates = this$1._holes[i].getCoordinates();\n      for (var j = 0; j < childCoordinates.length; j++) {\n        k++;\n        coordinates[k] = childCoordinates[j];\n      }\n    }\n    return coordinates\n  };\n  Polygon.prototype.getArea = function getArea () {\n    var this$1 = this;\n\n    var area = 0.0;\n    area += Math.abs(CGAlgorithms.signedArea(this._shell.getCoordinateSequence()));\n    for (var i = 0; i < this._holes.length; i++) {\n      area -= Math.abs(CGAlgorithms.signedArea(this$1._holes[i].getCoordinateSequence()));\n    }\n    return area\n  };\n  Polygon.prototype.isRectangle = function isRectangle () {\n    if (this.getNumInteriorRing() !== 0) { return false }\n    if (this._shell === null) { return false }\n    if (this._shell.getNumPoints() !== 5) { return false }\n    var seq = this._shell.getCoordinateSequence();\n    var env = this.getEnvelopeInternal();\n    for (var i = 0; i < 5; i++) {\n      var x = seq.getX(i);\n      if (!(x === env.getMinX() || x === env.getMaxX())) { return false }\n      var y = seq.getY(i);\n      if (!(y === env.getMinY() || y === env.getMaxY())) { return false }\n    }\n    var prevX = seq.getX(0);\n    var prevY = seq.getY(0);\n    for (var i$1 = 1; i$1 <= 4; i$1++) {\n      var x$1 = seq.getX(i$1);\n      var y$1 = seq.getY(i$1);\n      var xChanged = x$1 !== prevX;\n      var yChanged = y$1 !== prevY;\n      if (xChanged === yChanged) { return false }\n      prevX = x$1;\n      prevY = y$1;\n    }\n    return true\n  };\n  Polygon.prototype.equalsExact = function equalsExact () {\n    var this$1 = this;\n\n    if (arguments.length === 2) {\n      var other = arguments[0];\n      var tolerance = arguments[1];\n      if (!this.isEquivalentClass(other)) {\n        return false\n      }\n      var otherPolygon = other;\n      var thisShell = this._shell;\n      var otherPolygonShell = otherPolygon._shell;\n      if (!thisShell.equalsExact(otherPolygonShell, tolerance)) {\n        return false\n      }\n      if (this._holes.length !== otherPolygon._holes.length) {\n        return false\n      }\n      for (var i = 0; i < this._holes.length; i++) {\n        if (!this$1._holes[i].equalsExact(otherPolygon._holes[i], tolerance)) {\n          return false\n        }\n      }\n      return true\n    } else { return Geometry$$1.prototype.equalsExact.apply(this, arguments) }\n  };\n  Polygon.prototype.normalize = function normalize () {\n    var this$1 = this;\n\n    if (arguments.length === 0) {\n      this.normalize(this._shell, true);\n      for (var i = 0; i < this._holes.length; i++) {\n        this$1.normalize(this$1._holes[i], false);\n      }\n      Arrays.sort(this._holes);\n    } else if (arguments.length === 2) {\n      var ring = arguments[0];\n      var clockwise = arguments[1];\n      if (ring.isEmpty()) {\n        return null\n      }\n      var uniqueCoordinates = new Array(ring.getCoordinates().length - 1).fill(null);\n      System.arraycopy(ring.getCoordinates(), 0, uniqueCoordinates, 0, uniqueCoordinates.length);\n      var minCoordinate = CoordinateArrays.minCoordinate(ring.getCoordinates());\n      CoordinateArrays.scroll(uniqueCoordinates, minCoordinate);\n      System.arraycopy(uniqueCoordinates, 0, ring.getCoordinates(), 0, uniqueCoordinates.length);\n      ring.getCoordinates()[uniqueCoordinates.length] = uniqueCoordinates[0];\n      if (CGAlgorithms.isCCW(ring.getCoordinates()) === clockwise) {\n        CoordinateArrays.reverse(ring.getCoordinates());\n      }\n    }\n  };\n  Polygon.prototype.getCoordinate = function getCoordinate () {\n    return this._shell.getCoordinate()\n  };\n  Polygon.prototype.getNumInteriorRing = function getNumInteriorRing () {\n    return this._holes.length\n  };\n  Polygon.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    return 1\n  };\n  Polygon.prototype.getDimension = function getDimension () {\n    return 2\n  };\n  Polygon.prototype.getLength = function getLength () {\n    var this$1 = this;\n\n    var len = 0.0;\n    len += this._shell.getLength();\n    for (var i = 0; i < this._holes.length; i++) {\n      len += this$1._holes[i].getLength();\n    }\n    return len\n  };\n  Polygon.prototype.getNumPoints = function getNumPoints () {\n    var this$1 = this;\n\n    var numPoints = this._shell.getNumPoints();\n    for (var i = 0; i < this._holes.length; i++) {\n      numPoints += this$1._holes[i].getNumPoints();\n    }\n    return numPoints\n  };\n  Polygon.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var poly = this.copy();\n    poly._shell = this._shell.copy().reverse();\n    poly._holes = new Array(this._holes.length).fill(null);\n    for (var i = 0; i < this._holes.length; i++) {\n      poly._holes[i] = this$1._holes[i].copy().reverse();\n    }\n    return poly\n  };\n  Polygon.prototype.convexHull = function convexHull () {\n    return this.getExteriorRing().convexHull()\n  };\n  Polygon.prototype.compareToSameClass = function compareToSameClass () {\n    var this$1 = this;\n\n    if (arguments.length === 1) {\n      var o = arguments[0];\n      var thisShell = this._shell;\n      var otherShell = o._shell;\n      return thisShell.compareToSameClass(otherShell)\n    } else if (arguments.length === 2) {\n      var o$1 = arguments[0];\n      var comp = arguments[1];\n      var poly = o$1;\n      var thisShell$1 = this._shell;\n      var otherShell$1 = poly._shell;\n      var shellComp = thisShell$1.compareToSameClass(otherShell$1, comp);\n      if (shellComp !== 0) { return shellComp }\n      var nHole1 = this.getNumInteriorRing();\n      var nHole2 = poly.getNumInteriorRing();\n      var i = 0;\n      while (i < nHole1 && i < nHole2) {\n        var thisHole = this$1.getInteriorRingN(i);\n        var otherHole = poly.getInteriorRingN(i);\n        var holeComp = thisHole.compareToSameClass(otherHole, comp);\n        if (holeComp !== 0) { return holeComp }\n        i++;\n      }\n      if (i < nHole1) { return 1 }\n      if (i < nHole2) { return -1 }\n      return 0\n    }\n  };\n  Polygon.prototype.apply = function apply (filter) {\n    var this$1 = this;\n\n    if (hasInterface(filter, CoordinateFilter)) {\n      this._shell.apply(filter);\n      for (var i$1 = 0; i$1 < this._holes.length; i$1++) {\n        this$1._holes[i$1].apply(filter);\n      }\n    } else if (hasInterface(filter, CoordinateSequenceFilter)) {\n      this._shell.apply(filter);\n      if (!filter.isDone()) {\n        for (var i$2 = 0; i$2 < this._holes.length; i$2++) {\n          this$1._holes[i$2].apply(filter);\n          if (filter.isDone()) { break }\n        }\n      }\n      if (filter.isGeometryChanged()) { this.geometryChanged(); }\n    } else if (hasInterface(filter, GeometryFilter)) {\n      filter.filter(this);\n    } else if (hasInterface(filter, GeometryComponentFilter)) {\n      filter.filter(this);\n      this._shell.apply(filter);\n      for (var i = 0; i < this._holes.length; i++) {\n        this$1._holes[i].apply(filter);\n      }\n    }\n  };\n  Polygon.prototype.getBoundary = function getBoundary () {\n    var this$1 = this;\n\n    if (this.isEmpty()) {\n      return this.getFactory().createMultiLineString()\n    }\n    var rings = new Array(this._holes.length + 1).fill(null);\n    rings[0] = this._shell;\n    for (var i = 0; i < this._holes.length; i++) {\n      rings[i + 1] = this$1._holes[i];\n    }\n    if (rings.length <= 1) { return this.getFactory().createLinearRing(rings[0].getCoordinateSequence()) }\n    return this.getFactory().createMultiLineString(rings)\n  };\n  Polygon.prototype.clone = function clone () {\n    var this$1 = this;\n\n    var poly = Geometry$$1.prototype.clone.call(this);\n    poly._shell = this._shell.clone();\n    poly._holes = new Array(this._holes.length).fill(null);\n    for (var i = 0; i < this._holes.length; i++) {\n      poly._holes[i] = this$1._holes[i].clone();\n    }\n    return poly\n  };\n  Polygon.prototype.getGeometryType = function getGeometryType () {\n    return 'Polygon'\n  };\n  Polygon.prototype.copy = function copy () {\n    var this$1 = this;\n\n    var shell = this._shell.copy();\n    var holes = new Array(this._holes.length).fill(null);\n    for (var i = 0; i < holes.length; i++) {\n      holes[i] = this$1._holes[i].copy();\n    }\n    return new Polygon(shell, holes, this._factory)\n  };\n  Polygon.prototype.getExteriorRing = function getExteriorRing () {\n    return this._shell\n  };\n  Polygon.prototype.isEmpty = function isEmpty () {\n    return this._shell.isEmpty()\n  };\n  Polygon.prototype.getInteriorRingN = function getInteriorRingN (n) {\n    return this._holes[n]\n  };\n  Polygon.prototype.interfaces_ = function interfaces_ () {\n    return [Polygonal]\n  };\n  Polygon.prototype.getClass = function getClass () {\n    return Polygon\n  };\n  staticAccessors.serialVersionUID.get = function () { return -3494792200821764533 };\n\n  Object.defineProperties( Polygon, staticAccessors );\n\n  return Polygon;\n}(Geometry));\n\nvar MultiPoint = (function (GeometryCollection$$1) {\n  function MultiPoint () {\n    GeometryCollection$$1.apply(this, arguments);\n  }\n\n  if ( GeometryCollection$$1 ) MultiPoint.__proto__ = GeometryCollection$$1;\n  MultiPoint.prototype = Object.create( GeometryCollection$$1 && GeometryCollection$$1.prototype );\n  MultiPoint.prototype.constructor = MultiPoint;\n\n  var staticAccessors = { serialVersionUID: { configurable: true } };\n\n  MultiPoint.prototype.getSortIndex = function getSortIndex () {\n    return Geometry.SORTINDEX_MULTIPOINT\n  };\n  MultiPoint.prototype.isValid = function isValid () {\n    return true\n  };\n  MultiPoint.prototype.equalsExact = function equalsExact () {\n    if (arguments.length === 2) {\n      var other = arguments[0];\n      var tolerance = arguments[1];\n      if (!this.isEquivalentClass(other)) {\n        return false\n      }\n      return GeometryCollection$$1.prototype.equalsExact.call(this, other, tolerance)\n    } else { return GeometryCollection$$1.prototype.equalsExact.apply(this, arguments) }\n  };\n  MultiPoint.prototype.getCoordinate = function getCoordinate () {\n    if (arguments.length === 1) {\n      var n = arguments[0];\n      return this._geometries[n].getCoordinate()\n    } else { return GeometryCollection$$1.prototype.getCoordinate.apply(this, arguments) }\n  };\n  MultiPoint.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    return Dimension.FALSE\n  };\n  MultiPoint.prototype.getDimension = function getDimension () {\n    return 0\n  };\n  MultiPoint.prototype.getBoundary = function getBoundary () {\n    return this.getFactory().createGeometryCollection(null)\n  };\n  MultiPoint.prototype.getGeometryType = function getGeometryType () {\n    return 'MultiPoint'\n  };\n  MultiPoint.prototype.copy = function copy () {\n    var this$1 = this;\n\n    var points = new Array(this._geometries.length).fill(null);\n    for (var i = 0; i < points.length; i++) {\n      points[i] = this$1._geometries[i].copy();\n    }\n    return new MultiPoint(points, this._factory)\n  };\n  MultiPoint.prototype.interfaces_ = function interfaces_ () {\n    return [Puntal]\n  };\n  MultiPoint.prototype.getClass = function getClass () {\n    return MultiPoint\n  };\n  staticAccessors.serialVersionUID.get = function () { return -8048474874175355449 };\n\n  Object.defineProperties( MultiPoint, staticAccessors );\n\n  return MultiPoint;\n}(GeometryCollection));\n\nvar LinearRing = (function (LineString$$1) {\n  function LinearRing (points, factory) {\n    if (points instanceof Coordinate && factory instanceof GeometryFactory) {\n      points = factory.getCoordinateSequenceFactory().create(points);\n    }\n    LineString$$1.call(this, points, factory);\n    this.validateConstruction();\n  }\n\n  if ( LineString$$1 ) LinearRing.__proto__ = LineString$$1;\n  LinearRing.prototype = Object.create( LineString$$1 && LineString$$1.prototype );\n  LinearRing.prototype.constructor = LinearRing;\n\n  var staticAccessors = { MINIMUM_VALID_SIZE: { configurable: true },serialVersionUID: { configurable: true } };\n  LinearRing.prototype.getSortIndex = function getSortIndex () {\n    return Geometry.SORTINDEX_LINEARRING\n  };\n  LinearRing.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    return Dimension.FALSE\n  };\n  LinearRing.prototype.isClosed = function isClosed () {\n    if (this.isEmpty()) {\n      return true\n    }\n    return LineString$$1.prototype.isClosed.call(this)\n  };\n  LinearRing.prototype.reverse = function reverse () {\n    var seq = this._points.copy();\n    CoordinateSequences.reverse(seq);\n    var rev = this.getFactory().createLinearRing(seq);\n    return rev\n  };\n  LinearRing.prototype.validateConstruction = function validateConstruction () {\n    if (!this.isEmpty() && !LineString$$1.prototype.isClosed.call(this)) {\n      throw new IllegalArgumentException('Points of LinearRing do not form a closed linestring')\n    }\n    if (this.getCoordinateSequence().size() >= 1 && this.getCoordinateSequence().size() < LinearRing.MINIMUM_VALID_SIZE) {\n      throw new IllegalArgumentException('Invalid number of points in LinearRing (found ' + this.getCoordinateSequence().size() + ' - must be 0 or >= 4)')\n    }\n  };\n  LinearRing.prototype.getGeometryType = function getGeometryType () {\n    return 'LinearRing'\n  };\n  LinearRing.prototype.copy = function copy () {\n    return new LinearRing(this._points.copy(), this._factory)\n  };\n  LinearRing.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  LinearRing.prototype.getClass = function getClass () {\n    return LinearRing\n  };\n  staticAccessors.MINIMUM_VALID_SIZE.get = function () { return 4 };\n  staticAccessors.serialVersionUID.get = function () { return -4261142084085851829 };\n\n  Object.defineProperties( LinearRing, staticAccessors );\n\n  return LinearRing;\n}(LineString$1));\n\nvar MultiPolygon = (function (GeometryCollection$$1) {\n  function MultiPolygon () {\n    GeometryCollection$$1.apply(this, arguments);\n  }\n\n  if ( GeometryCollection$$1 ) MultiPolygon.__proto__ = GeometryCollection$$1;\n  MultiPolygon.prototype = Object.create( GeometryCollection$$1 && GeometryCollection$$1.prototype );\n  MultiPolygon.prototype.constructor = MultiPolygon;\n\n  var staticAccessors = { serialVersionUID: { configurable: true } };\n\n  MultiPolygon.prototype.getSortIndex = function getSortIndex () {\n    return Geometry.SORTINDEX_MULTIPOLYGON\n  };\n  MultiPolygon.prototype.equalsExact = function equalsExact () {\n    if (arguments.length === 2) {\n      var other = arguments[0];\n      var tolerance = arguments[1];\n      if (!this.isEquivalentClass(other)) {\n        return false\n      }\n      return GeometryCollection$$1.prototype.equalsExact.call(this, other, tolerance)\n    } else { return GeometryCollection$$1.prototype.equalsExact.apply(this, arguments) }\n  };\n  MultiPolygon.prototype.getBoundaryDimension = function getBoundaryDimension () {\n    return 1\n  };\n  MultiPolygon.prototype.getDimension = function getDimension () {\n    return 2\n  };\n  MultiPolygon.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var n = this._geometries.length;\n    var revGeoms = new Array(n).fill(null);\n    for (var i = 0; i < this._geometries.length; i++) {\n      revGeoms[i] = this$1._geometries[i].reverse();\n    }\n    return this.getFactory().createMultiPolygon(revGeoms)\n  };\n  MultiPolygon.prototype.getBoundary = function getBoundary () {\n    var this$1 = this;\n\n    if (this.isEmpty()) {\n      return this.getFactory().createMultiLineString()\n    }\n    var allRings = new ArrayList();\n    for (var i = 0; i < this._geometries.length; i++) {\n      var polygon = this$1._geometries[i];\n      var rings = polygon.getBoundary();\n      for (var j = 0; j < rings.getNumGeometries(); j++) {\n        allRings.add(rings.getGeometryN(j));\n      }\n    }\n    var allRingsArray = new Array(allRings.size()).fill(null);\n    return this.getFactory().createMultiLineString(allRings.toArray(allRingsArray))\n  };\n  MultiPolygon.prototype.getGeometryType = function getGeometryType () {\n    return 'MultiPolygon'\n  };\n  MultiPolygon.prototype.copy = function copy () {\n    var this$1 = this;\n\n    var polygons = new Array(this._geometries.length).fill(null);\n    for (var i = 0; i < polygons.length; i++) {\n      polygons[i] = this$1._geometries[i].copy();\n    }\n    return new MultiPolygon(polygons, this._factory)\n  };\n  MultiPolygon.prototype.interfaces_ = function interfaces_ () {\n    return [Polygonal]\n  };\n  MultiPolygon.prototype.getClass = function getClass () {\n    return MultiPolygon\n  };\n  staticAccessors.serialVersionUID.get = function () { return -551033529766975875 };\n\n  Object.defineProperties( MultiPolygon, staticAccessors );\n\n  return MultiPolygon;\n}(GeometryCollection));\n\nvar GeometryEditor = function GeometryEditor (factory) {\n  this._factory = factory || null;\n  this._isUserDataCopied = false;\n};\n\nvar staticAccessors$16 = { NoOpGeometryOperation: { configurable: true },CoordinateOperation: { configurable: true },CoordinateSequenceOperation: { configurable: true } };\nGeometryEditor.prototype.setCopyUserData = function setCopyUserData (isUserDataCopied) {\n  this._isUserDataCopied = isUserDataCopied;\n};\nGeometryEditor.prototype.edit = function edit (geometry, operation) {\n  if (geometry === null) { return null }\n  var result = this.editInternal(geometry, operation);\n  if (this._isUserDataCopied) {\n    result.setUserData(geometry.getUserData());\n  }\n  return result\n};\nGeometryEditor.prototype.editInternal = function editInternal (geometry, operation) {\n  if (this._factory === null) { this._factory = geometry.getFactory(); }\n  if (geometry instanceof GeometryCollection) {\n    return this.editGeometryCollection(geometry, operation)\n  }\n  if (geometry instanceof Polygon) {\n    return this.editPolygon(geometry, operation)\n  }\n  if (geometry instanceof Point) {\n    return operation.edit(geometry, this._factory)\n  }\n  if (geometry instanceof LineString$1) {\n    return operation.edit(geometry, this._factory)\n  }\n  Assert.shouldNeverReachHere('Unsupported Geometry class: ' + geometry.getClass().getName());\n  return null\n};\nGeometryEditor.prototype.editGeometryCollection = function editGeometryCollection (collection, operation) {\n    var this$1 = this;\n\n  var collectionForType = operation.edit(collection, this._factory);\n  var geometries = new ArrayList();\n  for (var i = 0; i < collectionForType.getNumGeometries(); i++) {\n    var geometry = this$1.edit(collectionForType.getGeometryN(i), operation);\n    if (geometry === null || geometry.isEmpty()) {\n      continue\n    }\n    geometries.add(geometry);\n  }\n  if (collectionForType.getClass() === MultiPoint) {\n    return this._factory.createMultiPoint(geometries.toArray([]))\n  }\n  if (collectionForType.getClass() === MultiLineString) {\n    return this._factory.createMultiLineString(geometries.toArray([]))\n  }\n  if (collectionForType.getClass() === MultiPolygon) {\n    return this._factory.createMultiPolygon(geometries.toArray([]))\n  }\n  return this._factory.createGeometryCollection(geometries.toArray([]))\n};\nGeometryEditor.prototype.editPolygon = function editPolygon (polygon, operation) {\n    var this$1 = this;\n\n  var newPolygon = operation.edit(polygon, this._factory);\n  if (newPolygon === null) { newPolygon = this._factory.createPolygon(null); }\n  if (newPolygon.isEmpty()) {\n    return newPolygon\n  }\n  var shell = this.edit(newPolygon.getExteriorRing(), operation);\n  if (shell === null || shell.isEmpty()) {\n    return this._factory.createPolygon()\n  }\n  var holes = new ArrayList();\n  for (var i = 0; i < newPolygon.getNumInteriorRing(); i++) {\n    var hole = this$1.edit(newPolygon.getInteriorRingN(i), operation);\n    if (hole === null || hole.isEmpty()) {\n      continue\n    }\n    holes.add(hole);\n  }\n  return this._factory.createPolygon(shell, holes.toArray([]))\n};\nGeometryEditor.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryEditor.prototype.getClass = function getClass () {\n  return GeometryEditor\n};\nGeometryEditor.GeometryEditorOperation = function GeometryEditorOperation () {};\nstaticAccessors$16.NoOpGeometryOperation.get = function () { return NoOpGeometryOperation };\nstaticAccessors$16.CoordinateOperation.get = function () { return CoordinateOperation };\nstaticAccessors$16.CoordinateSequenceOperation.get = function () { return CoordinateSequenceOperation };\n\nObject.defineProperties( GeometryEditor, staticAccessors$16 );\n\nvar NoOpGeometryOperation = function NoOpGeometryOperation () {};\n\nNoOpGeometryOperation.prototype.edit = function edit (geometry, factory) {\n  return geometry\n};\nNoOpGeometryOperation.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryEditor.GeometryEditorOperation]\n};\nNoOpGeometryOperation.prototype.getClass = function getClass () {\n  return NoOpGeometryOperation\n};\n\nvar CoordinateOperation = function CoordinateOperation () {};\n\nCoordinateOperation.prototype.edit = function edit (geometry, factory) {\n  var coords = this.editCoordinates(geometry.getCoordinates(), geometry);\n  if (coords === null) { return geometry }\n  if (geometry instanceof LinearRing) {\n    return factory.createLinearRing(coords)\n  }\n  if (geometry instanceof LineString$1) {\n    return factory.createLineString(coords)\n  }\n  if (geometry instanceof Point) {\n    if (coords.length > 0) {\n      return factory.createPoint(coords[0])\n    } else {\n      return factory.createPoint()\n    }\n  }\n  return geometry\n};\nCoordinateOperation.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryEditor.GeometryEditorOperation]\n};\nCoordinateOperation.prototype.getClass = function getClass () {\n  return CoordinateOperation\n};\n\nvar CoordinateSequenceOperation = function CoordinateSequenceOperation () {};\n\nCoordinateSequenceOperation.prototype.edit = function edit (geometry, factory) {\n  if (geometry instanceof LinearRing) {\n    return factory.createLinearRing(this.edit(geometry.getCoordinateSequence(), geometry))\n  }\n  if (geometry instanceof LineString$1) {\n    return factory.createLineString(this.edit(geometry.getCoordinateSequence(), geometry))\n  }\n  if (geometry instanceof Point) {\n    return factory.createPoint(this.edit(geometry.getCoordinateSequence(), geometry))\n  }\n  return geometry\n};\nCoordinateSequenceOperation.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryEditor.GeometryEditorOperation]\n};\nCoordinateSequenceOperation.prototype.getClass = function getClass () {\n  return CoordinateSequenceOperation\n};\n\nvar CoordinateArraySequence = function CoordinateArraySequence () {\n  var this$1 = this;\n\n  this._dimension = 3;\n  this._coordinates = null;\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof Array) {\n      this._coordinates = arguments[0];\n      this._dimension = 3;\n    } else if (Number.isInteger(arguments[0])) {\n      var size = arguments[0];\n      this._coordinates = new Array(size).fill(null);\n      for (var i = 0; i < size; i++) {\n        this$1._coordinates[i] = new Coordinate();\n      }\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var coordSeq = arguments[0];\n      if (coordSeq === null) {\n        this._coordinates = new Array(0).fill(null);\n        return null\n      }\n      this._dimension = coordSeq.getDimension();\n      this._coordinates = new Array(coordSeq.size()).fill(null);\n      for (var i$1 = 0; i$1 < this._coordinates.length; i$1++) {\n        this$1._coordinates[i$1] = coordSeq.getCoordinateCopy(i$1);\n      }\n    }\n  } else if (arguments.length === 2) {\n    if (arguments[0] instanceof Array && Number.isInteger(arguments[1])) {\n      var coordinates = arguments[0];\n      var dimension = arguments[1];\n      this._coordinates = coordinates;\n      this._dimension = dimension;\n      if (coordinates === null) { this._coordinates = new Array(0).fill(null); }\n    } else if (Number.isInteger(arguments[0]) && Number.isInteger(arguments[1])) {\n      var size$1 = arguments[0];\n      var dimension$1 = arguments[1];\n      this._coordinates = new Array(size$1).fill(null);\n      this._dimension = dimension$1;\n      for (var i$2 = 0; i$2 < size$1; i$2++) {\n        this$1._coordinates[i$2] = new Coordinate();\n      }\n    }\n  }\n};\n\nvar staticAccessors$18 = { serialVersionUID: { configurable: true } };\nCoordinateArraySequence.prototype.setOrdinate = function setOrdinate (index, ordinateIndex, value) {\n  switch (ordinateIndex) {\n    case CoordinateSequence.X:\n      this._coordinates[index].x = value;\n      break\n    case CoordinateSequence.Y:\n      this._coordinates[index].y = value;\n      break\n    case CoordinateSequence.Z:\n      this._coordinates[index].z = value;\n      break\n    default:\n      throw new IllegalArgumentException('invalid ordinateIndex')\n  }\n};\nCoordinateArraySequence.prototype.size = function size () {\n  return this._coordinates.length\n};\nCoordinateArraySequence.prototype.getOrdinate = function getOrdinate (index, ordinateIndex) {\n  switch (ordinateIndex) {\n    case CoordinateSequence.X:\n      return this._coordinates[index].x\n    case CoordinateSequence.Y:\n      return this._coordinates[index].y\n    case CoordinateSequence.Z:\n      return this._coordinates[index].z\n    default:\n  }\n  return Double.NaN\n};\nCoordinateArraySequence.prototype.getCoordinate = function getCoordinate () {\n  if (arguments.length === 1) {\n    var i = arguments[0];\n    return this._coordinates[i]\n  } else if (arguments.length === 2) {\n    var index = arguments[0];\n    var coord = arguments[1];\n    coord.x = this._coordinates[index].x;\n    coord.y = this._coordinates[index].y;\n    coord.z = this._coordinates[index].z;\n  }\n};\nCoordinateArraySequence.prototype.getCoordinateCopy = function getCoordinateCopy (i) {\n  return new Coordinate(this._coordinates[i])\n};\nCoordinateArraySequence.prototype.getDimension = function getDimension () {\n  return this._dimension\n};\nCoordinateArraySequence.prototype.getX = function getX (index) {\n  return this._coordinates[index].x\n};\nCoordinateArraySequence.prototype.clone = function clone () {\n    var this$1 = this;\n\n  var cloneCoordinates = new Array(this.size()).fill(null);\n  for (var i = 0; i < this._coordinates.length; i++) {\n    cloneCoordinates[i] = this$1._coordinates[i].clone();\n  }\n  return new CoordinateArraySequence(cloneCoordinates, this._dimension)\n};\nCoordinateArraySequence.prototype.expandEnvelope = function expandEnvelope (env) {\n    var this$1 = this;\n\n  for (var i = 0; i < this._coordinates.length; i++) {\n    env.expandToInclude(this$1._coordinates[i]);\n  }\n  return env\n};\nCoordinateArraySequence.prototype.copy = function copy () {\n    var this$1 = this;\n\n  var cloneCoordinates = new Array(this.size()).fill(null);\n  for (var i = 0; i < this._coordinates.length; i++) {\n    cloneCoordinates[i] = this$1._coordinates[i].copy();\n  }\n  return new CoordinateArraySequence(cloneCoordinates, this._dimension)\n};\nCoordinateArraySequence.prototype.toString = function toString () {\n    var this$1 = this;\n\n  if (this._coordinates.length > 0) {\n    var strBuf = new StringBuffer(17 * this._coordinates.length);\n    strBuf.append('(');\n    strBuf.append(this._coordinates[0]);\n    for (var i = 1; i < this._coordinates.length; i++) {\n      strBuf.append(', ');\n      strBuf.append(this$1._coordinates[i]);\n    }\n    strBuf.append(')');\n    return strBuf.toString()\n  } else {\n    return '()'\n  }\n};\nCoordinateArraySequence.prototype.getY = function getY (index) {\n  return this._coordinates[index].y\n};\nCoordinateArraySequence.prototype.toCoordinateArray = function toCoordinateArray () {\n  return this._coordinates\n};\nCoordinateArraySequence.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateSequence, Serializable]\n};\nCoordinateArraySequence.prototype.getClass = function getClass () {\n  return CoordinateArraySequence\n};\nstaticAccessors$18.serialVersionUID.get = function () { return -915438501601840650 };\n\nObject.defineProperties( CoordinateArraySequence, staticAccessors$18 );\n\nvar CoordinateArraySequenceFactory = function CoordinateArraySequenceFactory () {};\n\nvar staticAccessors$17 = { serialVersionUID: { configurable: true },instanceObject: { configurable: true } };\n\nCoordinateArraySequenceFactory.prototype.readResolve = function readResolve () {\n  return CoordinateArraySequenceFactory.instance()\n};\nCoordinateArraySequenceFactory.prototype.create = function create () {\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof Array) {\n      var coordinates = arguments[0];\n      return new CoordinateArraySequence(coordinates)\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var coordSeq = arguments[0];\n      return new CoordinateArraySequence(coordSeq)\n    }\n  } else if (arguments.length === 2) {\n    var size = arguments[0];\n    var dimension = arguments[1];\n    if (dimension > 3) { dimension = 3; }\n    if (dimension < 2) { return new CoordinateArraySequence(size) }\n    return new CoordinateArraySequence(size, dimension)\n  }\n};\nCoordinateArraySequenceFactory.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateSequenceFactory, Serializable]\n};\nCoordinateArraySequenceFactory.prototype.getClass = function getClass () {\n  return CoordinateArraySequenceFactory\n};\nCoordinateArraySequenceFactory.instance = function instance () {\n  return CoordinateArraySequenceFactory.instanceObject\n};\n\nstaticAccessors$17.serialVersionUID.get = function () { return -4099577099607551657 };\nstaticAccessors$17.instanceObject.get = function () { return new CoordinateArraySequenceFactory() };\n\nObject.defineProperties( CoordinateArraySequenceFactory, staticAccessors$17 );\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/HashMap.html\n *\n * @extends {javascript.util.Map}\n * @constructor\n * @private\n */\nvar HashMap = (function (MapInterface) {\n  function HashMap () {\n    MapInterface.call(this);\n    this.map_ = new Map();\n  }\n\n  if ( MapInterface ) HashMap.__proto__ = MapInterface;\n  HashMap.prototype = Object.create( MapInterface && MapInterface.prototype );\n  HashMap.prototype.constructor = HashMap;\n  /**\n   * @override\n   */\n  HashMap.prototype.get = function get (key) {\n    return this.map_.get(key) || null\n  };\n\n  /**\n   * @override\n   */\n  HashMap.prototype.put = function put (key, value) {\n    this.map_.set(key, value);\n    return value\n  };\n\n  /**\n   * @override\n   */\n  HashMap.prototype.values = function values () {\n    var arrayList = new ArrayList();\n    var it = this.map_.values();\n    var o = it.next();\n    while (!o.done) {\n      arrayList.add(o.value);\n      o = it.next();\n    }\n    return arrayList\n  };\n\n  /**\n   * @override\n   */\n  HashMap.prototype.entrySet = function entrySet () {\n    var hashSet = new HashSet();\n    this.map_.entries().forEach(function (entry) { return hashSet.add(entry); });\n    return hashSet\n  };\n\n  /**\n   * @override\n   */\n  HashMap.prototype.size = function size () {\n    return this.map_.size()\n  };\n\n  return HashMap;\n}(Map$1));\n\nvar PrecisionModel = function PrecisionModel () {\n  this._modelType = null;\n  this._scale = null;\n  if (arguments.length === 0) {\n    this._modelType = PrecisionModel.FLOATING;\n  } else if (arguments.length === 1) {\n    if (arguments[0] instanceof Type) {\n      var modelType = arguments[0];\n      this._modelType = modelType;\n      if (modelType === PrecisionModel.FIXED) {\n        this.setScale(1.0);\n      }\n    } else if (typeof arguments[0] === 'number') {\n      var scale = arguments[0];\n      this._modelType = PrecisionModel.FIXED;\n      this.setScale(scale);\n    } else if (arguments[0] instanceof PrecisionModel) {\n      var pm = arguments[0];\n      this._modelType = pm._modelType;\n      this._scale = pm._scale;\n    }\n  }\n};\n\nvar staticAccessors$19 = { serialVersionUID: { configurable: true },maximumPreciseValue: { configurable: true } };\nPrecisionModel.prototype.equals = function equals (other) {\n  if (!(other instanceof PrecisionModel)) {\n    return false\n  }\n  var otherPrecisionModel = other;\n  return this._modelType === otherPrecisionModel._modelType && this._scale === otherPrecisionModel._scale\n};\nPrecisionModel.prototype.compareTo = function compareTo (o) {\n  var other = o;\n  var sigDigits = this.getMaximumSignificantDigits();\n  var otherSigDigits = other.getMaximumSignificantDigits();\n  return new Integer(sigDigits).compareTo(new Integer(otherSigDigits))\n};\nPrecisionModel.prototype.getScale = function getScale () {\n  return this._scale\n};\nPrecisionModel.prototype.isFloating = function isFloating () {\n  return this._modelType === PrecisionModel.FLOATING || this._modelType === PrecisionModel.FLOATING_SINGLE\n};\nPrecisionModel.prototype.getType = function getType () {\n  return this._modelType\n};\nPrecisionModel.prototype.toString = function toString () {\n  var description = 'UNKNOWN';\n  if (this._modelType === PrecisionModel.FLOATING) {\n    description = 'Floating';\n  } else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n    description = 'Floating-Single';\n  } else if (this._modelType === PrecisionModel.FIXED) {\n    description = 'Fixed (Scale=' + this.getScale() + ')';\n  }\n  return description\n};\nPrecisionModel.prototype.makePrecise = function makePrecise () {\n  if (typeof arguments[0] === 'number') {\n    var val = arguments[0];\n    if (Double.isNaN(val)) { return val }\n    if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n      var floatSingleVal = val;\n      return floatSingleVal\n    }\n    if (this._modelType === PrecisionModel.FIXED) {\n      return Math.round(val * this._scale) / this._scale\n    }\n    return val\n  } else if (arguments[0] instanceof Coordinate) {\n    var coord = arguments[0];\n    if (this._modelType === PrecisionModel.FLOATING) { return null }\n    coord.x = this.makePrecise(coord.x);\n    coord.y = this.makePrecise(coord.y);\n  }\n};\nPrecisionModel.prototype.getMaximumSignificantDigits = function getMaximumSignificantDigits () {\n  var maxSigDigits = 16;\n  if (this._modelType === PrecisionModel.FLOATING) {\n    maxSigDigits = 16;\n  } else if (this._modelType === PrecisionModel.FLOATING_SINGLE) {\n    maxSigDigits = 6;\n  } else if (this._modelType === PrecisionModel.FIXED) {\n    maxSigDigits = 1 + Math.trunc(Math.ceil(Math.log(this.getScale()) / Math.log(10)));\n  }\n  return maxSigDigits\n};\nPrecisionModel.prototype.setScale = function setScale (scale) {\n  this._scale = Math.abs(scale);\n};\nPrecisionModel.prototype.interfaces_ = function interfaces_ () {\n  return [Serializable, Comparable]\n};\nPrecisionModel.prototype.getClass = function getClass () {\n  return PrecisionModel\n};\nPrecisionModel.mostPrecise = function mostPrecise (pm1, pm2) {\n  if (pm1.compareTo(pm2) >= 0) { return pm1 }\n  return pm2\n};\nstaticAccessors$19.serialVersionUID.get = function () { return 7777263578777803835 };\nstaticAccessors$19.maximumPreciseValue.get = function () { return 9007199254740992.0 };\n\nObject.defineProperties( PrecisionModel, staticAccessors$19 );\n\nvar Type = function Type (name) {\n  this._name = name || null;\n  Type.nameToTypeMap.put(name, this);\n};\n\nvar staticAccessors$1$1 = { serialVersionUID: { configurable: true },nameToTypeMap: { configurable: true } };\nType.prototype.readResolve = function readResolve () {\n  return Type.nameToTypeMap.get(this._name)\n};\nType.prototype.toString = function toString () {\n  return this._name\n};\nType.prototype.interfaces_ = function interfaces_ () {\n  return [Serializable]\n};\nType.prototype.getClass = function getClass () {\n  return Type\n};\nstaticAccessors$1$1.serialVersionUID.get = function () { return -5528602631731589822 };\nstaticAccessors$1$1.nameToTypeMap.get = function () { return new HashMap() };\n\nObject.defineProperties( Type, staticAccessors$1$1 );\n\nPrecisionModel.Type = Type;\nPrecisionModel.FIXED = new Type('FIXED');\nPrecisionModel.FLOATING = new Type('FLOATING');\nPrecisionModel.FLOATING_SINGLE = new Type('FLOATING SINGLE');\n\nvar GeometryFactory = function GeometryFactory () {\n  this._precisionModel = new PrecisionModel();\n  this._SRID = 0;\n  this._coordinateSequenceFactory = GeometryFactory.getDefaultCoordinateSequenceFactory();\n\n  if (arguments.length === 0) {\n  } else if (arguments.length === 1) {\n    if (hasInterface(arguments[0], CoordinateSequenceFactory)) {\n      this._coordinateSequenceFactory = arguments[0];\n    } else if (arguments[0] instanceof PrecisionModel) {\n      this._precisionModel = arguments[0];\n    }\n  } else if (arguments.length === 2) {\n    this._precisionModel = arguments[0];\n    this._SRID = arguments[1];\n  } else if (arguments.length === 3) {\n    this._precisionModel = arguments[0];\n    this._SRID = arguments[1];\n    this._coordinateSequenceFactory = arguments[2];\n  }\n};\n\nvar staticAccessors$2 = { serialVersionUID: { configurable: true } };\nGeometryFactory.prototype.toGeometry = function toGeometry (envelope) {\n  if (envelope.isNull()) {\n    return this.createPoint(null)\n  }\n  if (envelope.getMinX() === envelope.getMaxX() && envelope.getMinY() === envelope.getMaxY()) {\n    return this.createPoint(new Coordinate(envelope.getMinX(), envelope.getMinY()))\n  }\n  if (envelope.getMinX() === envelope.getMaxX() || envelope.getMinY() === envelope.getMaxY()) {\n    return this.createLineString([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY())])\n  }\n  return this.createPolygon(this.createLinearRing([new Coordinate(envelope.getMinX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMaxY()), new Coordinate(envelope.getMaxX(), envelope.getMinY()), new Coordinate(envelope.getMinX(), envelope.getMinY())]), null)\n};\nGeometryFactory.prototype.createLineString = function createLineString (coordinates) {\n  if (!coordinates) { return new LineString$1(this.getCoordinateSequenceFactory().create([]), this) }\n  else if (coordinates instanceof Array) { return new LineString$1(this.getCoordinateSequenceFactory().create(coordinates), this) }\n  else if (hasInterface(coordinates, CoordinateSequence)) { return new LineString$1(coordinates, this) }\n};\nGeometryFactory.prototype.createMultiLineString = function createMultiLineString () {\n  if (arguments.length === 0) {\n    return new MultiLineString(null, this)\n  } else if (arguments.length === 1) {\n    var lineStrings = arguments[0];\n    return new MultiLineString(lineStrings, this)\n  }\n};\nGeometryFactory.prototype.buildGeometry = function buildGeometry (geomList) {\n  var geomClass = null;\n  var isHeterogeneous = false;\n  var hasGeometryCollection = false;\n  for (var i = geomList.iterator(); i.hasNext();) {\n    var geom = i.next();\n    var partClass = geom.getClass();\n    if (geomClass === null) {\n      geomClass = partClass;\n    }\n    if (partClass !== geomClass) {\n      isHeterogeneous = true;\n    }\n    if (geom.isGeometryCollectionOrDerived()) { hasGeometryCollection = true; }\n  }\n  if (geomClass === null) {\n    return this.createGeometryCollection()\n  }\n  if (isHeterogeneous || hasGeometryCollection) {\n    return this.createGeometryCollection(GeometryFactory.toGeometryArray(geomList))\n  }\n  var geom0 = geomList.iterator().next();\n  var isCollection = geomList.size() > 1;\n  if (isCollection) {\n    if (geom0 instanceof Polygon) {\n      return this.createMultiPolygon(GeometryFactory.toPolygonArray(geomList))\n    } else if (geom0 instanceof LineString$1) {\n      return this.createMultiLineString(GeometryFactory.toLineStringArray(geomList))\n    } else if (geom0 instanceof Point) {\n      return this.createMultiPoint(GeometryFactory.toPointArray(geomList))\n    }\n    Assert.shouldNeverReachHere('Unhandled class: ' + geom0.getClass().getName());\n  }\n  return geom0\n};\nGeometryFactory.prototype.createMultiPointFromCoords = function createMultiPointFromCoords (coordinates) {\n  return this.createMultiPoint(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null)\n};\nGeometryFactory.prototype.createPoint = function createPoint () {\n  if (arguments.length === 0) {\n    return this.createPoint(this.getCoordinateSequenceFactory().create([]))\n  } else if (arguments.length === 1) {\n    if (arguments[0] instanceof Coordinate) {\n      var coordinate = arguments[0];\n      return this.createPoint(coordinate !== null ? this.getCoordinateSequenceFactory().create([coordinate]) : null)\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var coordinates = arguments[0];\n      return new Point(coordinates, this)\n    }\n  }\n};\nGeometryFactory.prototype.getCoordinateSequenceFactory = function getCoordinateSequenceFactory () {\n  return this._coordinateSequenceFactory\n};\nGeometryFactory.prototype.createPolygon = function createPolygon () {\n  if (arguments.length === 0) {\n    return new Polygon(null, null, this)\n  } else if (arguments.length === 1) {\n    if (hasInterface(arguments[0], CoordinateSequence)) {\n      var coordinates = arguments[0];\n      return this.createPolygon(this.createLinearRing(coordinates))\n    } else if (arguments[0] instanceof Array) {\n      var coordinates$1 = arguments[0];\n      return this.createPolygon(this.createLinearRing(coordinates$1))\n    } else if (arguments[0] instanceof LinearRing) {\n      var shell = arguments[0];\n      return this.createPolygon(shell, null)\n    }\n  } else if (arguments.length === 2) {\n    var shell$1 = arguments[0];\n    var holes = arguments[1];\n    return new Polygon(shell$1, holes, this)\n  }\n};\nGeometryFactory.prototype.getSRID = function getSRID () {\n  return this._SRID\n};\nGeometryFactory.prototype.createGeometryCollection = function createGeometryCollection () {\n  if (arguments.length === 0) {\n    return new GeometryCollection(null, this)\n  } else if (arguments.length === 1) {\n    var geometries = arguments[0];\n    return new GeometryCollection(geometries, this)\n  }\n};\nGeometryFactory.prototype.createGeometry = function createGeometry (g) {\n  var editor = new GeometryEditor(this);\n  return editor.edit(g, {\n    edit: function () {\n      if (arguments.length === 2) {\n        var coordSeq = arguments[0];\n        // const geometry = arguments[1]\n        return this._coordinateSequenceFactory.create(coordSeq)\n      }\n    }\n  })\n};\nGeometryFactory.prototype.getPrecisionModel = function getPrecisionModel () {\n  return this._precisionModel\n};\nGeometryFactory.prototype.createLinearRing = function createLinearRing () {\n  if (arguments.length === 0) {\n    return this.createLinearRing(this.getCoordinateSequenceFactory().create([]))\n  } else if (arguments.length === 1) {\n    if (arguments[0] instanceof Array) {\n      var coordinates = arguments[0];\n      return this.createLinearRing(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null)\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var coordinates$1 = arguments[0];\n      return new LinearRing(coordinates$1, this)\n    }\n  }\n};\nGeometryFactory.prototype.createMultiPolygon = function createMultiPolygon () {\n  if (arguments.length === 0) {\n    return new MultiPolygon(null, this)\n  } else if (arguments.length === 1) {\n    var polygons = arguments[0];\n    return new MultiPolygon(polygons, this)\n  }\n};\nGeometryFactory.prototype.createMultiPoint = function createMultiPoint () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    return new MultiPoint(null, this)\n  } else if (arguments.length === 1) {\n    if (arguments[0] instanceof Array) {\n      var point = arguments[0];\n      return new MultiPoint(point, this)\n    } else if (arguments[0] instanceof Array) {\n      var coordinates = arguments[0];\n      return this.createMultiPoint(coordinates !== null ? this.getCoordinateSequenceFactory().create(coordinates) : null)\n    } else if (hasInterface(arguments[0], CoordinateSequence)) {\n      var coordinates$1 = arguments[0];\n      if (coordinates$1 === null) {\n        return this.createMultiPoint(new Array(0).fill(null))\n      }\n      var points = new Array(coordinates$1.size()).fill(null);\n      for (var i = 0; i < coordinates$1.size(); i++) {\n        var ptSeq = this$1.getCoordinateSequenceFactory().create(1, coordinates$1.getDimension());\n        CoordinateSequences.copy(coordinates$1, i, ptSeq, 0, 1);\n        points[i] = this$1.createPoint(ptSeq);\n      }\n      return this.createMultiPoint(points)\n    }\n  }\n};\nGeometryFactory.prototype.interfaces_ = function interfaces_ () {\n  return [Serializable]\n};\nGeometryFactory.prototype.getClass = function getClass () {\n  return GeometryFactory\n};\nGeometryFactory.toMultiPolygonArray = function toMultiPolygonArray (multiPolygons) {\n  var multiPolygonArray = new Array(multiPolygons.size()).fill(null);\n  return multiPolygons.toArray(multiPolygonArray)\n};\nGeometryFactory.toGeometryArray = function toGeometryArray (geometries) {\n  if (geometries === null) { return null }\n  var geometryArray = new Array(geometries.size()).fill(null);\n  return geometries.toArray(geometryArray)\n};\nGeometryFactory.getDefaultCoordinateSequenceFactory = function getDefaultCoordinateSequenceFactory () {\n  return CoordinateArraySequenceFactory.instance()\n};\nGeometryFactory.toMultiLineStringArray = function toMultiLineStringArray (multiLineStrings) {\n  var multiLineStringArray = new Array(multiLineStrings.size()).fill(null);\n  return multiLineStrings.toArray(multiLineStringArray)\n};\nGeometryFactory.toLineStringArray = function toLineStringArray (lineStrings) {\n  var lineStringArray = new Array(lineStrings.size()).fill(null);\n  return lineStrings.toArray(lineStringArray)\n};\nGeometryFactory.toMultiPointArray = function toMultiPointArray (multiPoints) {\n  var multiPointArray = new Array(multiPoints.size()).fill(null);\n  return multiPoints.toArray(multiPointArray)\n};\nGeometryFactory.toLinearRingArray = function toLinearRingArray (linearRings) {\n  var linearRingArray = new Array(linearRings.size()).fill(null);\n  return linearRings.toArray(linearRingArray)\n};\nGeometryFactory.toPointArray = function toPointArray (points) {\n  var pointArray = new Array(points.size()).fill(null);\n  return points.toArray(pointArray)\n};\nGeometryFactory.toPolygonArray = function toPolygonArray (polygons) {\n  var polygonArray = new Array(polygons.size()).fill(null);\n  return polygons.toArray(polygonArray)\n};\nGeometryFactory.createPointFromInternalCoord = function createPointFromInternalCoord (coord, exemplar) {\n  exemplar.getPrecisionModel().makePrecise(coord);\n  return exemplar.getFactory().createPoint(coord)\n};\nstaticAccessors$2.serialVersionUID.get = function () { return -6820524753094095635 };\n\nObject.defineProperties( GeometryFactory, staticAccessors$2 );\n\nvar geometryTypes = ['Point', 'MultiPoint', 'LineString', 'MultiLineString', 'Polygon', 'MultiPolygon'];\n\n/**\n * Class for reading and writing Well-Known Text.Create a new parser for GeoJSON\n * NOTE: Adapted from OpenLayers 2.11 implementation.\n */\n\n/**\n * Create a new parser for GeoJSON\n *\n * @param {GeometryFactory} geometryFactory\n * @return An instance of GeoJsonParser.\n * @constructor\n * @private\n */\nvar GeoJSONParser = function GeoJSONParser (geometryFactory) {\n  this.geometryFactory = geometryFactory || new GeometryFactory();\n};\n/**\n * Deserialize a GeoJSON object and return the Geometry or Feature(Collection) with JSTS Geometries\n *\n * @param {}\n *        A GeoJSON object.\n * @return {} A Geometry instance or object representing a Feature(Collection) with Geometry instances.\n * @private\n */\nGeoJSONParser.prototype.read = function read (json) {\n  var obj;\n  if (typeof json === 'string') {\n    obj = JSON.parse(json);\n  } else {\n    obj = json;\n  }\n\n  var type = obj.type;\n\n  if (!parse[type]) {\n    throw new Error('Unknown GeoJSON type: ' + obj.type)\n  }\n\n  if (geometryTypes.indexOf(type) !== -1) {\n    return parse[type].apply(this, [obj.coordinates])\n  } else if (type === 'GeometryCollection') {\n    return parse[type].apply(this, [obj.geometries])\n  }\n\n  // feature or feature collection\n  return parse[type].apply(this, [obj])\n};\n\n/**\n * Serialize a Geometry object into GeoJSON\n *\n * @param {Geometry}\n *        geometry A Geometry or array of Geometries.\n * @return {Object} A GeoJSON object represting the input Geometry/Geometries.\n * @private\n */\nGeoJSONParser.prototype.write = function write (geometry) {\n  var type = geometry.getGeometryType();\n\n  if (!extract$1$1[type]) {\n    throw new Error('Geometry is not supported')\n  }\n\n  return extract$1$1[type].apply(this, [geometry])\n};\n\nvar parse = {\n  /**\n   * Parse a GeoJSON Feature object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} Feature with geometry/bbox converted to JSTS Geometries.\n   */\n  Feature: function (obj) {\n    var feature = {};\n\n    // copy features\n    for (var key in obj) {\n      feature[key] = obj[key];\n    }\n\n    // parse geometry\n    if (obj.geometry) {\n      var type = obj.geometry.type;\n      if (!parse[type]) {\n        throw new Error('Unknown GeoJSON type: ' + obj.type)\n      }\n      feature.geometry = this.read(obj.geometry);\n    }\n\n    // bbox\n    if (obj.bbox) {\n      feature.bbox = parse.bbox.apply(this, [obj.bbox]);\n    }\n\n    return feature\n  },\n\n  /**\n   * Parse a GeoJSON FeatureCollection object\n   *\n   * @param {Object}\n   *          obj Object to parse.\n   *\n   * @return {Object} FeatureCollection with geometry/bbox converted to JSTS Geometries.\n   */\n  FeatureCollection: function (obj) {\n    var this$1 = this;\n\n    var featureCollection = {};\n\n    if (obj.features) {\n      featureCollection.features = [];\n\n      for (var i = 0; i < obj.features.length; ++i) {\n        featureCollection.features.push(this$1.read(obj.features[i]));\n      }\n    }\n\n    if (obj.bbox) {\n      featureCollection.bbox = this.parse.bbox.apply(this, [obj.bbox]);\n    }\n\n    return featureCollection\n  },\n\n  /**\n   * Convert the ordinates in an array to an array of Coordinates\n   *\n   * @param {Array}\n   *          array Array with {Number}s.\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  coordinates: function (array) {\n    var coordinates = [];\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i];\n      coordinates.push(new Coordinate(sub[0], sub[1]));\n    }\n    return coordinates\n  },\n\n  /**\n   * Convert the bbox to a LinearRing\n   *\n   * @param {Array}\n   *          array Array with [xMin, yMin, xMax, yMax].\n   *\n   * @return {Array} Array with Coordinates.\n   */\n  bbox: function (array) {\n    return this.geometryFactory.createLinearRing([\n      new Coordinate(array[0], array[1]),\n      new Coordinate(array[2], array[1]),\n      new Coordinate(array[2], array[3]),\n      new Coordinate(array[0], array[3]),\n      new Coordinate(array[0], array[1])\n    ])\n  },\n\n  /**\n   * Convert an Array with ordinates to a Point\n   *\n   * @param {Array}\n   *          array Array with ordinates.\n   *\n   * @return {Point} Point.\n   */\n  Point: function (array) {\n    var coordinate = new Coordinate(array[0], array[1]);\n    return this.geometryFactory.createPoint(coordinate)\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiPoint\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiPoint} MultiPoint.\n   */\n  MultiPoint: function (array) {\n    var this$1 = this;\n\n    var points = [];\n    for (var i = 0; i < array.length; ++i) {\n      points.push(parse.Point.apply(this$1, [array[i]]));\n    }\n    return this.geometryFactory.createMultiPoint(points)\n  },\n\n  /**\n   * Convert an Array with coordinates to a LineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {LineString} LineString.\n   */\n  LineString: function (array) {\n    var coordinates = parse.coordinates.apply(this, [array]);\n    return this.geometryFactory.createLineString(coordinates)\n  },\n\n  /**\n   * Convert an Array with coordinates to a MultiLineString\n   *\n   * @param {Array}\n   *          array Array with coordinates.\n   *\n   * @return {MultiLineString} MultiLineString.\n   */\n  MultiLineString: function (array) {\n    var this$1 = this;\n\n    var lineStrings = [];\n    for (var i = 0; i < array.length; ++i) {\n      lineStrings.push(parse.LineString.apply(this$1, [array[i]]));\n    }\n    return this.geometryFactory.createMultiLineString(lineStrings)\n  },\n\n  /**\n   * Convert an Array to a Polygon\n   *\n   * @param {Array}\n   *          array Array with shell and holes.\n   *\n   * @return {Polygon} Polygon.\n   */\n  Polygon: function (array) {\n    var this$1 = this;\n\n    var shellCoordinates = parse.coordinates.apply(this, [array[0]]);\n    var shell = this.geometryFactory.createLinearRing(shellCoordinates);\n    var holes = [];\n    for (var i = 1; i < array.length; ++i) {\n      var hole = array[i];\n      var coordinates = parse.coordinates.apply(this$1, [hole]);\n      var linearRing = this$1.geometryFactory.createLinearRing(coordinates);\n      holes.push(linearRing);\n    }\n    return this.geometryFactory.createPolygon(shell, holes)\n  },\n\n  /**\n   * Convert an Array to a MultiPolygon\n   *\n   * @param {Array}\n   *          array Array of arrays with shell and rings.\n   *\n   * @return {MultiPolygon} MultiPolygon.\n   */\n  MultiPolygon: function (array) {\n    var this$1 = this;\n\n    var polygons = [];\n    for (var i = 0; i < array.length; ++i) {\n      var polygon = array[i];\n      polygons.push(parse.Polygon.apply(this$1, [polygon]));\n    }\n    return this.geometryFactory.createMultiPolygon(polygons)\n  },\n\n  /**\n   * Convert an Array to a GeometryCollection\n   *\n   * @param {Array}\n   *          array Array of GeoJSON geometries.\n   *\n   * @return {GeometryCollection} GeometryCollection.\n   */\n  GeometryCollection: function (array) {\n    var this$1 = this;\n\n    var geometries = [];\n    for (var i = 0; i < array.length; ++i) {\n      var geometry = array[i];\n      geometries.push(this$1.read(geometry));\n    }\n    return this.geometryFactory.createGeometryCollection(geometries)\n  }\n};\n\nvar extract$1$1 = {\n  /**\n   * Convert a Coordinate to an Array\n   *\n   * @param {Coordinate}\n   *          coordinate Coordinate to convert.\n   *\n   * @return {Array} Array of ordinates.\n   */\n  coordinate: function (coordinate) {\n    return [coordinate.x, coordinate.y]\n  },\n\n  /**\n   * Convert a Point to a GeoJSON object\n   *\n   * @param {Point}\n   *          point Point to convert.\n   *\n   * @return {Array} Array of 2 ordinates (paired to a coordinate).\n   */\n  Point: function (point) {\n    var array = extract$1$1.coordinate.apply(this, [point.getCoordinate()]);\n    return {\n      type: 'Point',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiPoint to a GeoJSON object\n   *\n   * @param {MultiPoint}\n   *          multipoint MultiPoint to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  MultiPoint: function (multipoint) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0; i < multipoint._geometries.length; ++i) {\n      var point = multipoint._geometries[i];\n      var geoJson = extract$1$1.Point.apply(this$1, [point]);\n      array.push(geoJson.coordinates);\n    }\n    return {\n      type: 'MultiPoint',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a LineString to a GeoJSON object\n   *\n   * @param {LineString}\n   *          linestring LineString to convert.\n   *\n   * @return {Array} Array of coordinates.\n   */\n  LineString: function (linestring) {\n    var this$1 = this;\n\n    var array = [];\n    var coordinates = linestring.getCoordinates();\n    for (var i = 0; i < coordinates.length; ++i) {\n      var coordinate = coordinates[i];\n      array.push(extract$1$1.coordinate.apply(this$1, [coordinate]));\n    }\n    return {\n      type: 'LineString',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiLineString to a GeoJSON object\n   *\n   * @param {MultiLineString}\n   *          multilinestring MultiLineString to convert.\n   *\n   * @return {Array} Array of Array of coordinates.\n   */\n  MultiLineString: function (multilinestring) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0; i < multilinestring._geometries.length; ++i) {\n      var linestring = multilinestring._geometries[i];\n      var geoJson = extract$1$1.LineString.apply(this$1, [linestring]);\n      array.push(geoJson.coordinates);\n    }\n    return {\n      type: 'MultiLineString',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a Polygon to a GeoJSON object\n   *\n   * @param {Polygon}\n   *          polygon Polygon to convert.\n   *\n   * @return {Array} Array with shell, holes.\n   */\n  Polygon: function (polygon) {\n    var this$1 = this;\n\n    var array = [];\n    var shellGeoJson = extract$1$1.LineString.apply(this, [polygon._shell]);\n    array.push(shellGeoJson.coordinates);\n    for (var i = 0; i < polygon._holes.length; ++i) {\n      var hole = polygon._holes[i];\n      var holeGeoJson = extract$1$1.LineString.apply(this$1, [hole]);\n      array.push(holeGeoJson.coordinates);\n    }\n    return {\n      type: 'Polygon',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a MultiPolygon to a GeoJSON object\n   *\n   * @param {MultiPolygon}\n   *          multipolygon MultiPolygon to convert.\n   *\n   * @return {Array} Array of polygons.\n   */\n  MultiPolygon: function (multipolygon) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0; i < multipolygon._geometries.length; ++i) {\n      var polygon = multipolygon._geometries[i];\n      var geoJson = extract$1$1.Polygon.apply(this$1, [polygon]);\n      array.push(geoJson.coordinates);\n    }\n    return {\n      type: 'MultiPolygon',\n      coordinates: array\n    }\n  },\n\n  /**\n   * Convert a GeometryCollection to a GeoJSON object\n   *\n   * @param {GeometryCollection}\n   *          collection GeometryCollection to convert.\n   *\n   * @return {Array} Array of geometries.\n   */\n  GeometryCollection: function (collection) {\n    var this$1 = this;\n\n    var array = [];\n    for (var i = 0; i < collection._geometries.length; ++i) {\n      var geometry = collection._geometries[i];\n      var type = geometry.getGeometryType();\n      array.push(extract$1$1[type].apply(this$1, [geometry]));\n    }\n    return {\n      type: 'GeometryCollection',\n      geometries: array\n    }\n  }\n};\n\n/**\n * Converts a geometry in GeoJSON to a {@link Geometry}.\n */\n\n/**\n * A <code>GeoJSONReader</code> is parameterized by a <code>GeometryFactory</code>,\n * to allow it to create <code>Geometry</code> objects of the appropriate\n * implementation. In particular, the <code>GeometryFactory</code> determines\n * the <code>PrecisionModel</code> and <code>SRID</code> that is used.\n *\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nvar GeoJSONReader = function GeoJSONReader (geometryFactory) {\n  this.geometryFactory = geometryFactory || new GeometryFactory();\n  this.precisionModel = this.geometryFactory.getPrecisionModel();\n  this.parser = new GeoJSONParser(this.geometryFactory);\n};\n/**\n * Reads a GeoJSON representation of a {@link Geometry}\n *\n * Will also parse GeoJSON Features/FeatureCollections as custom objects.\n *\n * @param {Object|String} geoJson a GeoJSON Object or String.\n * @return {Geometry|Object} a <code>Geometry or Feature/FeatureCollection representation.</code>\n * @memberof GeoJSONReader\n */\nGeoJSONReader.prototype.read = function read (geoJson) {\n  var geometry = this.parser.read(geoJson);\n\n  if (this.precisionModel.getType() === PrecisionModel.FIXED) {\n    this.reducePrecision(geometry);\n  }\n\n  return geometry\n};\n\n// NOTE: this is a hack\nGeoJSONReader.prototype.reducePrecision = function reducePrecision (geometry) {\n    var this$1 = this;\n\n  var i, len;\n\n  if (geometry.coordinate) {\n    this.precisionModel.makePrecise(geometry.coordinate);\n  } else if (geometry.points) {\n    for (i = 0, len = geometry.points.length; i < len; i++) {\n      this$1.precisionModel.makePrecise(geometry.points[i]);\n    }\n  } else if (geometry.geometries) {\n    for (i = 0, len = geometry.geometries.length; i < len; i++) {\n      this$1.reducePrecision(geometry.geometries[i]);\n    }\n  }\n};\n\n/**\n * @module GeoJSONWriter\n */\n\n/**\n * Writes the GeoJSON representation of a {@link Geometry}. The\n * The GeoJSON format is defined <A\n * HREF=\"http://geojson.org/geojson-spec.html\">here</A>.\n */\n\n/**\n * The <code>GeoJSONWriter</code> outputs coordinates rounded to the precision\n * model. Only the maximum number of decimal places necessary to represent the\n * ordinates to the required precision will be output.\n *\n * @param {GeometryFactory} geometryFactory\n * @constructor\n */\nvar GeoJSONWriter = function GeoJSONWriter () {\n  this.parser = new GeoJSONParser(this.geometryFactory);\n};\n/**\n * Converts a <code>Geometry</code> to its GeoJSON representation.\n *\n * @param {Geometry}\n *        geometry a <code>Geometry</code> to process.\n * @return {Object} The GeoJSON representation of the Geometry.\n * @memberof GeoJSONWriter\n */\nGeoJSONWriter.prototype.write = function write (geometry) {\n  return this.parser.write(geometry)\n};\n\n/* eslint-disable no-undef */\n\n// io\n\nvar Position = function Position () {};\n\nvar staticAccessors$20 = { ON: { configurable: true },LEFT: { configurable: true },RIGHT: { configurable: true } };\n\nPosition.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPosition.prototype.getClass = function getClass () {\n  return Position\n};\nPosition.opposite = function opposite (position) {\n  if (position === Position.LEFT) { return Position.RIGHT }\n  if (position === Position.RIGHT) { return Position.LEFT }\n  return position\n};\nstaticAccessors$20.ON.get = function () { return 0 };\nstaticAccessors$20.LEFT.get = function () { return 1 };\nstaticAccessors$20.RIGHT.get = function () { return 2 };\n\nObject.defineProperties( Position, staticAccessors$20 );\n\n/**\n * @param {string=} message Optional message\n * @extends {Error}\n * @constructor\n * @private\n */\nfunction EmptyStackException (message) {\n  this.message = message || '';\n}\nEmptyStackException.prototype = new Error();\n\n/**\n * @type {string}\n */\nEmptyStackException.prototype.name = 'EmptyStackException';\n\n/**\n * @see http://download.oracle.com/javase/6/docs/api/java/util/Stack.html\n *\n * @extends {List}\n * @constructor\n * @private\n */\nfunction Stack () {\n  /**\n   * @type {Array}\n   * @private\n   */\n  this.array_ = [];\n}\nStack.prototype = new List();\n\n/**\n * @override\n */\nStack.prototype.add = function (e) {\n  this.array_.push(e);\n  return true\n};\n\n/**\n * @override\n */\nStack.prototype.get = function (index) {\n  if (index < 0 || index >= this.size()) {\n    throw new Error()\n  }\n\n  return this.array_[index]\n};\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.push = function (e) {\n  this.array_.push(e);\n  return e\n};\n\n/**\n * Pushes an item onto the top of this stack.\n * @param {Object} e\n * @return {Object}\n */\nStack.prototype.pop = function (e) {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException()\n  }\n\n  return this.array_.pop()\n};\n\n/**\n * Looks at the object at the top of this stack without removing it from the\n * stack.\n * @return {Object}\n */\nStack.prototype.peek = function () {\n  if (this.array_.length === 0) {\n    throw new EmptyStackException()\n  }\n\n  return this.array_[this.array_.length - 1]\n};\n\n/**\n * Tests if this stack is empty.\n * @return {boolean} true if and only if this stack contains no items; false\n *         otherwise.\n */\nStack.prototype.empty = function () {\n  if (this.array_.length === 0) {\n    return true\n  } else {\n    return false\n  }\n};\n\n/**\n * @return {boolean}\n */\nStack.prototype.isEmpty = function () {\n  return this.empty()\n};\n\n/**\n * Returns the 1-based position where an object is on this stack. If the object\n * o occurs as an item in this stack, this method returns the distance from the\n * top of the stack of the occurrence nearest the top of the stack; the topmost\n * item on the stack is considered to be at distance 1. The equals method is\n * used to compare o to the items in this stack.\n *\n * NOTE: does not currently actually use equals. (=== is used)\n *\n * @param {Object} o\n * @return {number} the 1-based position from the top of the stack where the\n *         object is located; the return value -1 indicates that the object is\n *         not on the stack.\n */\nStack.prototype.search = function (o) {\n  return this.array_.indexOf(o)\n};\n\n/**\n * @return {number}\n * @export\n */\nStack.prototype.size = function () {\n  return this.array_.length\n};\n\n/**\n * @return {Array}\n */\nStack.prototype.toArray = function () {\n  var this$1 = this;\n\n  var array = [];\n\n  for (var i = 0, len = this.array_.length; i < len; i++) {\n    array.push(this$1.array_[i]);\n  }\n\n  return array\n};\n\nvar RightmostEdgeFinder = function RightmostEdgeFinder () {\n  this._minIndex = -1;\n  this._minCoord = null;\n  this._minDe = null;\n  this._orientedDe = null;\n};\nRightmostEdgeFinder.prototype.getCoordinate = function getCoordinate () {\n  return this._minCoord\n};\nRightmostEdgeFinder.prototype.getRightmostSide = function getRightmostSide (de, index) {\n  var side = this.getRightmostSideOfSegment(de, index);\n  if (side < 0) { side = this.getRightmostSideOfSegment(de, index - 1); }\n  if (side < 0) {\n    this._minCoord = null;\n    this.checkForRightmostCoordinate(de);\n  }\n  return side\n};\nRightmostEdgeFinder.prototype.findRightmostEdgeAtVertex = function findRightmostEdgeAtVertex () {\n  var pts = this._minDe.getEdge().getCoordinates();\n  Assert.isTrue(this._minIndex > 0 && this._minIndex < pts.length, 'rightmost point expected to be interior vertex of edge');\n  var pPrev = pts[this._minIndex - 1];\n  var pNext = pts[this._minIndex + 1];\n  var orientation = CGAlgorithms.computeOrientation(this._minCoord, pNext, pPrev);\n  var usePrev = false;\n  if (pPrev.y < this._minCoord.y && pNext.y < this._minCoord.y && orientation === CGAlgorithms.COUNTERCLOCKWISE) {\n    usePrev = true;\n  } else if (pPrev.y > this._minCoord.y && pNext.y > this._minCoord.y && orientation === CGAlgorithms.CLOCKWISE) {\n    usePrev = true;\n  }\n  if (usePrev) {\n    this._minIndex = this._minIndex - 1;\n  }\n};\nRightmostEdgeFinder.prototype.getRightmostSideOfSegment = function getRightmostSideOfSegment (de, i) {\n  var e = de.getEdge();\n  var coord = e.getCoordinates();\n  if (i < 0 || i + 1 >= coord.length) { return -1 }\n  if (coord[i].y === coord[i + 1].y) { return -1 }\n  var pos = Position.LEFT;\n  if (coord[i].y < coord[i + 1].y) { pos = Position.RIGHT; }\n  return pos\n};\nRightmostEdgeFinder.prototype.getEdge = function getEdge () {\n  return this._orientedDe\n};\nRightmostEdgeFinder.prototype.checkForRightmostCoordinate = function checkForRightmostCoordinate (de) {\n    var this$1 = this;\n\n  var coord = de.getEdge().getCoordinates();\n  for (var i = 0; i < coord.length - 1; i++) {\n    if (this$1._minCoord === null || coord[i].x > this$1._minCoord.x) {\n      this$1._minDe = de;\n      this$1._minIndex = i;\n      this$1._minCoord = coord[i];\n    }\n  }\n};\nRightmostEdgeFinder.prototype.findRightmostEdgeAtNode = function findRightmostEdgeAtNode () {\n  var node = this._minDe.getNode();\n  var star = node.getEdges();\n  this._minDe = star.getRightmostEdge();\n  if (!this._minDe.isForward()) {\n    this._minDe = this._minDe.getSym();\n    this._minIndex = this._minDe.getEdge().getCoordinates().length - 1;\n  }\n};\nRightmostEdgeFinder.prototype.findEdge = function findEdge (dirEdgeList) {\n    var this$1 = this;\n\n  for (var i = dirEdgeList.iterator(); i.hasNext();) {\n    var de = i.next();\n    if (!de.isForward()) { continue }\n    this$1.checkForRightmostCoordinate(de);\n  }\n  Assert.isTrue(this._minIndex !== 0 || this._minCoord.equals(this._minDe.getCoordinate()), 'inconsistency in rightmost processing');\n  if (this._minIndex === 0) {\n    this.findRightmostEdgeAtNode();\n  } else {\n    this.findRightmostEdgeAtVertex();\n  }\n  this._orientedDe = this._minDe;\n  var rightmostSide = this.getRightmostSide(this._minDe, this._minIndex);\n  if (rightmostSide === Position.LEFT) {\n    this._orientedDe = this._minDe.getSym();\n  }\n};\nRightmostEdgeFinder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nRightmostEdgeFinder.prototype.getClass = function getClass () {\n  return RightmostEdgeFinder\n};\n\nvar TopologyException = (function (RuntimeException$$1) {\n  function TopologyException (msg, pt) {\n    RuntimeException$$1.call(this, TopologyException.msgWithCoord(msg, pt));\n    this.pt = pt ? new Coordinate(pt) : null;\n    this.name = 'TopologyException';\n  }\n\n  if ( RuntimeException$$1 ) TopologyException.__proto__ = RuntimeException$$1;\n  TopologyException.prototype = Object.create( RuntimeException$$1 && RuntimeException$$1.prototype );\n  TopologyException.prototype.constructor = TopologyException;\n  TopologyException.prototype.getCoordinate = function getCoordinate () {\n    return this.pt\n  };\n  TopologyException.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  TopologyException.prototype.getClass = function getClass () {\n    return TopologyException\n  };\n  TopologyException.msgWithCoord = function msgWithCoord (msg, pt) {\n    if (!pt) { return msg + ' [ ' + pt + ' ]' }\n    return msg\n  };\n\n  return TopologyException;\n}(RuntimeException));\n\nvar LinkedList = function LinkedList () {\n  this.array_ = [];\n};\nLinkedList.prototype.addLast = function addLast (e) {\n  this.array_.push(e);\n};\nLinkedList.prototype.removeFirst = function removeFirst () {\n  return this.array_.shift()\n};\nLinkedList.prototype.isEmpty = function isEmpty () {\n  return this.array_.length === 0\n};\n\nvar BufferSubgraph = function BufferSubgraph () {\n  this._finder = null;\n  this._dirEdgeList = new ArrayList();\n  this._nodes = new ArrayList();\n  this._rightMostCoord = null;\n  this._env = null;\n  this._finder = new RightmostEdgeFinder();\n};\nBufferSubgraph.prototype.clearVisitedEdges = function clearVisitedEdges () {\n  for (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n    var de = it.next();\n    de.setVisited(false);\n  }\n};\nBufferSubgraph.prototype.getRightmostCoordinate = function getRightmostCoordinate () {\n  return this._rightMostCoord\n};\nBufferSubgraph.prototype.computeNodeDepth = function computeNodeDepth (n) {\n    var this$1 = this;\n\n  var startEdge = null;\n  for (var i = n.getEdges().iterator(); i.hasNext();) {\n    var de = i.next();\n    if (de.isVisited() || de.getSym().isVisited()) {\n      startEdge = de;\n      break\n    }\n  }\n  if (startEdge === null) { throw new TopologyException('unable to find edge to compute depths at ' + n.getCoordinate()) }\n  n.getEdges().computeDepths(startEdge);\n  for (var i$1 = n.getEdges().iterator(); i$1.hasNext();) {\n    var de$1 = i$1.next();\n    de$1.setVisited(true);\n    this$1.copySymDepths(de$1);\n  }\n};\nBufferSubgraph.prototype.computeDepth = function computeDepth (outsideDepth) {\n  this.clearVisitedEdges();\n  var de = this._finder.getEdge();\n  // const n = de.getNode()\n  // const label = de.getLabel()\n  de.setEdgeDepths(Position.RIGHT, outsideDepth);\n  this.copySymDepths(de);\n  this.computeDepths(de);\n};\nBufferSubgraph.prototype.create = function create (node) {\n  this.addReachable(node);\n  this._finder.findEdge(this._dirEdgeList);\n  this._rightMostCoord = this._finder.getCoordinate();\n};\nBufferSubgraph.prototype.findResultEdges = function findResultEdges () {\n  for (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n    var de = it.next();\n    if (de.getDepth(Position.RIGHT) >= 1 && de.getDepth(Position.LEFT) <= 0 && !de.isInteriorAreaEdge()) {\n      de.setInResult(true);\n    }\n  }\n};\nBufferSubgraph.prototype.computeDepths = function computeDepths (startEdge) {\n    var this$1 = this;\n\n  var nodesVisited = new HashSet();\n  var nodeQueue = new LinkedList();\n  var startNode = startEdge.getNode();\n  nodeQueue.addLast(startNode);\n  nodesVisited.add(startNode);\n  startEdge.setVisited(true);\n  while (!nodeQueue.isEmpty()) {\n    var n = nodeQueue.removeFirst();\n    nodesVisited.add(n);\n    this$1.computeNodeDepth(n);\n    for (var i = n.getEdges().iterator(); i.hasNext();) {\n      var de = i.next();\n      var sym = de.getSym();\n      if (sym.isVisited()) { continue }\n      var adjNode = sym.getNode();\n      if (!nodesVisited.contains(adjNode)) {\n        nodeQueue.addLast(adjNode);\n        nodesVisited.add(adjNode);\n      }\n    }\n  }\n};\nBufferSubgraph.prototype.compareTo = function compareTo (o) {\n  var graph = o;\n  if (this._rightMostCoord.x < graph._rightMostCoord.x) {\n    return -1\n  }\n  if (this._rightMostCoord.x > graph._rightMostCoord.x) {\n    return 1\n  }\n  return 0\n};\nBufferSubgraph.prototype.getEnvelope = function getEnvelope () {\n  if (this._env === null) {\n    var edgeEnv = new Envelope();\n    for (var it = this._dirEdgeList.iterator(); it.hasNext();) {\n      var dirEdge = it.next();\n      var pts = dirEdge.getEdge().getCoordinates();\n      for (var i = 0; i < pts.length - 1; i++) {\n        edgeEnv.expandToInclude(pts[i]);\n      }\n    }\n    this._env = edgeEnv;\n  }\n  return this._env\n};\nBufferSubgraph.prototype.addReachable = function addReachable (startNode) {\n    var this$1 = this;\n\n  var nodeStack = new Stack();\n  nodeStack.add(startNode);\n  while (!nodeStack.empty()) {\n    var node = nodeStack.pop();\n    this$1.add(node, nodeStack);\n  }\n};\nBufferSubgraph.prototype.copySymDepths = function copySymDepths (de) {\n  var sym = de.getSym();\n  sym.setDepth(Position.LEFT, de.getDepth(Position.RIGHT));\n  sym.setDepth(Position.RIGHT, de.getDepth(Position.LEFT));\n};\nBufferSubgraph.prototype.add = function add (node, nodeStack) {\n    var this$1 = this;\n\n  node.setVisited(true);\n  this._nodes.add(node);\n  for (var i = node.getEdges().iterator(); i.hasNext();) {\n    var de = i.next();\n    this$1._dirEdgeList.add(de);\n    var sym = de.getSym();\n    var symNode = sym.getNode();\n    if (!symNode.isVisited()) { nodeStack.push(symNode); }\n  }\n};\nBufferSubgraph.prototype.getNodes = function getNodes () {\n  return this._nodes\n};\nBufferSubgraph.prototype.getDirectedEdges = function getDirectedEdges () {\n  return this._dirEdgeList\n};\nBufferSubgraph.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nBufferSubgraph.prototype.getClass = function getClass () {\n  return BufferSubgraph\n};\n\nvar TopologyLocation = function TopologyLocation () {\n  var this$1 = this;\n\n  this.location = null;\n  if (arguments.length === 1) {\n    if (arguments[0] instanceof Array) {\n      var location = arguments[0];\n      this.init(location.length);\n    } else if (Number.isInteger(arguments[0])) {\n      var on = arguments[0];\n      this.init(1);\n      this.location[Position.ON] = on;\n    } else if (arguments[0] instanceof TopologyLocation) {\n      var gl = arguments[0];\n      this.init(gl.location.length);\n      if (gl !== null) {\n        for (var i = 0; i < this.location.length; i++) {\n          this$1.location[i] = gl.location[i];\n        }\n      }\n    }\n  } else if (arguments.length === 3) {\n    var on$1 = arguments[0];\n    var left = arguments[1];\n    var right = arguments[2];\n    this.init(3);\n    this.location[Position.ON] = on$1;\n    this.location[Position.LEFT] = left;\n    this.location[Position.RIGHT] = right;\n  }\n};\nTopologyLocation.prototype.setAllLocations = function setAllLocations (locValue) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.location.length; i++) {\n    this$1.location[i] = locValue;\n  }\n};\nTopologyLocation.prototype.isNull = function isNull () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.location.length; i++) {\n    if (this$1.location[i] !== Location.NONE) { return false }\n  }\n  return true\n};\nTopologyLocation.prototype.setAllLocationsIfNull = function setAllLocationsIfNull (locValue) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.location.length; i++) {\n    if (this$1.location[i] === Location.NONE) { this$1.location[i] = locValue; }\n  }\n};\nTopologyLocation.prototype.isLine = function isLine () {\n  return this.location.length === 1\n};\nTopologyLocation.prototype.merge = function merge (gl) {\n    var this$1 = this;\n\n  if (gl.location.length > this.location.length) {\n    var newLoc = new Array(3).fill(null);\n    newLoc[Position.ON] = this.location[Position.ON];\n    newLoc[Position.LEFT] = Location.NONE;\n    newLoc[Position.RIGHT] = Location.NONE;\n    this.location = newLoc;\n  }\n  for (var i = 0; i < this.location.length; i++) {\n    if (this$1.location[i] === Location.NONE && i < gl.location.length) { this$1.location[i] = gl.location[i]; }\n  }\n};\nTopologyLocation.prototype.getLocations = function getLocations () {\n  return this.location\n};\nTopologyLocation.prototype.flip = function flip () {\n  if (this.location.length <= 1) { return null }\n  var temp = this.location[Position.LEFT];\n  this.location[Position.LEFT] = this.location[Position.RIGHT];\n  this.location[Position.RIGHT] = temp;\n};\nTopologyLocation.prototype.toString = function toString () {\n  var buf = new StringBuffer();\n  if (this.location.length > 1) { buf.append(Location.toLocationSymbol(this.location[Position.LEFT])); }\n  buf.append(Location.toLocationSymbol(this.location[Position.ON]));\n  if (this.location.length > 1) { buf.append(Location.toLocationSymbol(this.location[Position.RIGHT])); }\n  return buf.toString()\n};\nTopologyLocation.prototype.setLocations = function setLocations (on, left, right) {\n  this.location[Position.ON] = on;\n  this.location[Position.LEFT] = left;\n  this.location[Position.RIGHT] = right;\n};\nTopologyLocation.prototype.get = function get (posIndex) {\n  if (posIndex < this.location.length) { return this.location[posIndex] }\n  return Location.NONE\n};\nTopologyLocation.prototype.isArea = function isArea () {\n  return this.location.length > 1\n};\nTopologyLocation.prototype.isAnyNull = function isAnyNull () {\n    var this$1 = this;\n\n  for (var i = 0; i < this.location.length; i++) {\n    if (this$1.location[i] === Location.NONE) { return true }\n  }\n  return false\n};\nTopologyLocation.prototype.setLocation = function setLocation () {\n  if (arguments.length === 1) {\n    var locValue = arguments[0];\n    this.setLocation(Position.ON, locValue);\n  } else if (arguments.length === 2) {\n    var locIndex = arguments[0];\n    var locValue$1 = arguments[1];\n    this.location[locIndex] = locValue$1;\n  }\n};\nTopologyLocation.prototype.init = function init (size) {\n  this.location = new Array(size).fill(null);\n  this.setAllLocations(Location.NONE);\n};\nTopologyLocation.prototype.isEqualOnSide = function isEqualOnSide (le, locIndex) {\n  return this.location[locIndex] === le.location[locIndex]\n};\nTopologyLocation.prototype.allPositionsEqual = function allPositionsEqual (loc) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.location.length; i++) {\n    if (this$1.location[i] !== loc) { return false }\n  }\n  return true\n};\nTopologyLocation.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nTopologyLocation.prototype.getClass = function getClass () {\n  return TopologyLocation\n};\n\nvar Label = function Label () {\n  this.elt = new Array(2).fill(null);\n  if (arguments.length === 1) {\n    if (Number.isInteger(arguments[0])) {\n      var onLoc = arguments[0];\n      this.elt[0] = new TopologyLocation(onLoc);\n      this.elt[1] = new TopologyLocation(onLoc);\n    } else if (arguments[0] instanceof Label) {\n      var lbl = arguments[0];\n      this.elt[0] = new TopologyLocation(lbl.elt[0]);\n      this.elt[1] = new TopologyLocation(lbl.elt[1]);\n    }\n  } else if (arguments.length === 2) {\n    var geomIndex = arguments[0];\n    var onLoc$1 = arguments[1];\n    this.elt[0] = new TopologyLocation(Location.NONE);\n    this.elt[1] = new TopologyLocation(Location.NONE);\n    this.elt[geomIndex].setLocation(onLoc$1);\n  } else if (arguments.length === 3) {\n    var onLoc$2 = arguments[0];\n    var leftLoc = arguments[1];\n    var rightLoc = arguments[2];\n    this.elt[0] = new TopologyLocation(onLoc$2, leftLoc, rightLoc);\n    this.elt[1] = new TopologyLocation(onLoc$2, leftLoc, rightLoc);\n  } else if (arguments.length === 4) {\n    var geomIndex$1 = arguments[0];\n    var onLoc$3 = arguments[1];\n    var leftLoc$1 = arguments[2];\n    var rightLoc$1 = arguments[3];\n    this.elt[0] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n    this.elt[1] = new TopologyLocation(Location.NONE, Location.NONE, Location.NONE);\n    this.elt[geomIndex$1].setLocations(onLoc$3, leftLoc$1, rightLoc$1);\n  }\n};\nLabel.prototype.getGeometryCount = function getGeometryCount () {\n  var count = 0;\n  if (!this.elt[0].isNull()) { count++; }\n  if (!this.elt[1].isNull()) { count++; }\n  return count\n};\nLabel.prototype.setAllLocations = function setAllLocations (geomIndex, location) {\n  this.elt[geomIndex].setAllLocations(location);\n};\nLabel.prototype.isNull = function isNull (geomIndex) {\n  return this.elt[geomIndex].isNull()\n};\nLabel.prototype.setAllLocationsIfNull = function setAllLocationsIfNull () {\n  if (arguments.length === 1) {\n    var location = arguments[0];\n    this.setAllLocationsIfNull(0, location);\n    this.setAllLocationsIfNull(1, location);\n  } else if (arguments.length === 2) {\n    var geomIndex = arguments[0];\n    var location$1 = arguments[1];\n    this.elt[geomIndex].setAllLocationsIfNull(location$1);\n  }\n};\nLabel.prototype.isLine = function isLine (geomIndex) {\n  return this.elt[geomIndex].isLine()\n};\nLabel.prototype.merge = function merge (lbl) {\n    var this$1 = this;\n\n  for (var i = 0; i < 2; i++) {\n    if (this$1.elt[i] === null && lbl.elt[i] !== null) {\n      this$1.elt[i] = new TopologyLocation(lbl.elt[i]);\n    } else {\n      this$1.elt[i].merge(lbl.elt[i]);\n    }\n  }\n};\nLabel.prototype.flip = function flip () {\n  this.elt[0].flip();\n  this.elt[1].flip();\n};\nLabel.prototype.getLocation = function getLocation () {\n  if (arguments.length === 1) {\n    var geomIndex = arguments[0];\n    return this.elt[geomIndex].get(Position.ON)\n  } else if (arguments.length === 2) {\n    var geomIndex$1 = arguments[0];\n    var posIndex = arguments[1];\n    return this.elt[geomIndex$1].get(posIndex)\n  }\n};\nLabel.prototype.toString = function toString () {\n  var buf = new StringBuffer();\n  if (this.elt[0] !== null) {\n    buf.append('A:');\n    buf.append(this.elt[0].toString());\n  }\n  if (this.elt[1] !== null) {\n    buf.append(' B:');\n    buf.append(this.elt[1].toString());\n  }\n  return buf.toString()\n};\nLabel.prototype.isArea = function isArea () {\n  if (arguments.length === 0) {\n    return this.elt[0].isArea() || this.elt[1].isArea()\n  } else if (arguments.length === 1) {\n    var geomIndex = arguments[0];\n    return this.elt[geomIndex].isArea()\n  }\n};\nLabel.prototype.isAnyNull = function isAnyNull (geomIndex) {\n  return this.elt[geomIndex].isAnyNull()\n};\nLabel.prototype.setLocation = function setLocation () {\n  if (arguments.length === 2) {\n    var geomIndex = arguments[0];\n    var location = arguments[1];\n    this.elt[geomIndex].setLocation(Position.ON, location);\n  } else if (arguments.length === 3) {\n    var geomIndex$1 = arguments[0];\n    var posIndex = arguments[1];\n    var location$1 = arguments[2];\n    this.elt[geomIndex$1].setLocation(posIndex, location$1);\n  }\n};\nLabel.prototype.isEqualOnSide = function isEqualOnSide (lbl, side) {\n  return this.elt[0].isEqualOnSide(lbl.elt[0], side) && this.elt[1].isEqualOnSide(lbl.elt[1], side)\n};\nLabel.prototype.allPositionsEqual = function allPositionsEqual (geomIndex, loc) {\n  return this.elt[geomIndex].allPositionsEqual(loc)\n};\nLabel.prototype.toLine = function toLine (geomIndex) {\n  if (this.elt[geomIndex].isArea()) { this.elt[geomIndex] = new TopologyLocation(this.elt[geomIndex].location[0]); }\n};\nLabel.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nLabel.prototype.getClass = function getClass () {\n  return Label\n};\nLabel.toLineLabel = function toLineLabel (label) {\n  var lineLabel = new Label(Location.NONE);\n  for (var i = 0; i < 2; i++) {\n    lineLabel.setLocation(i, label.getLocation(i));\n  }\n  return lineLabel\n};\n\nvar EdgeRing$1 = function EdgeRing () {\n  this._startDe = null;\n  this._maxNodeDegree = -1;\n  this._edges = new ArrayList();\n  this._pts = new ArrayList();\n  this._label = new Label(Location.NONE);\n  this._ring = null;\n  this._isHole = null;\n  this._shell = null;\n  this._holes = new ArrayList();\n  this._geometryFactory = null;\n  var start = arguments[0];\n  var geometryFactory = arguments[1];\n  this._geometryFactory = geometryFactory;\n  this.computePoints(start);\n  this.computeRing();\n};\nEdgeRing$1.prototype.computeRing = function computeRing () {\n    var this$1 = this;\n\n  if (this._ring !== null) { return null }\n  var coord = new Array(this._pts.size()).fill(null);\n  for (var i = 0; i < this._pts.size(); i++) {\n    coord[i] = this$1._pts.get(i);\n  }\n  this._ring = this._geometryFactory.createLinearRing(coord);\n  this._isHole = CGAlgorithms.isCCW(this._ring.getCoordinates());\n};\nEdgeRing$1.prototype.isIsolated = function isIsolated () {\n  return this._label.getGeometryCount() === 1\n};\nEdgeRing$1.prototype.computePoints = function computePoints (start) {\n    var this$1 = this;\n\n  this._startDe = start;\n  var de = start;\n  var isFirstEdge = true;\n  do {\n    if (de === null) { throw new TopologyException('Found null DirectedEdge') }\n    if (de.getEdgeRing() === this$1) { throw new TopologyException('Directed Edge visited twice during ring-building at ' + de.getCoordinate()) }\n    this$1._edges.add(de);\n    var label = de.getLabel();\n    Assert.isTrue(label.isArea());\n    this$1.mergeLabel(label);\n    this$1.addPoints(de.getEdge(), de.isForward(), isFirstEdge);\n    isFirstEdge = false;\n    this$1.setEdgeRing(de, this$1);\n    de = this$1.getNext(de);\n  } while (de !== this._startDe)\n};\nEdgeRing$1.prototype.getLinearRing = function getLinearRing () {\n  return this._ring\n};\nEdgeRing$1.prototype.getCoordinate = function getCoordinate (i) {\n  return this._pts.get(i)\n};\nEdgeRing$1.prototype.computeMaxNodeDegree = function computeMaxNodeDegree () {\n    var this$1 = this;\n\n  this._maxNodeDegree = 0;\n  var de = this._startDe;\n  do {\n    var node = de.getNode();\n    var degree = node.getEdges().getOutgoingDegree(this$1);\n    if (degree > this$1._maxNodeDegree) { this$1._maxNodeDegree = degree; }\n    de = this$1.getNext(de);\n  } while (de !== this._startDe)\n  this._maxNodeDegree *= 2;\n};\nEdgeRing$1.prototype.addPoints = function addPoints (edge, isForward, isFirstEdge) {\n    var this$1 = this;\n\n  var edgePts = edge.getCoordinates();\n  if (isForward) {\n    var startIndex = 1;\n    if (isFirstEdge) { startIndex = 0; }\n    for (var i = startIndex; i < edgePts.length; i++) {\n      this$1._pts.add(edgePts[i]);\n    }\n  } else {\n    var startIndex$1 = edgePts.length - 2;\n    if (isFirstEdge) { startIndex$1 = edgePts.length - 1; }\n    for (var i$1 = startIndex$1; i$1 >= 0; i$1--) {\n      this$1._pts.add(edgePts[i$1]);\n    }\n  }\n};\nEdgeRing$1.prototype.isHole = function isHole () {\n  return this._isHole\n};\nEdgeRing$1.prototype.setInResult = function setInResult () {\n  var de = this._startDe;\n  do {\n    de.getEdge().setInResult(true);\n    de = de.getNext();\n  } while (de !== this._startDe)\n};\nEdgeRing$1.prototype.containsPoint = function containsPoint (p) {\n  var shell = this.getLinearRing();\n  var env = shell.getEnvelopeInternal();\n  if (!env.contains(p)) { return false }\n  if (!CGAlgorithms.isPointInRing(p, shell.getCoordinates())) { return false }\n  for (var i = this._holes.iterator(); i.hasNext();) {\n    var hole = i.next();\n    if (hole.containsPoint(p)) { return false }\n  }\n  return true\n};\nEdgeRing$1.prototype.addHole = function addHole (ring) {\n  this._holes.add(ring);\n};\nEdgeRing$1.prototype.isShell = function isShell () {\n  return this._shell === null\n};\nEdgeRing$1.prototype.getLabel = function getLabel () {\n  return this._label\n};\nEdgeRing$1.prototype.getEdges = function getEdges () {\n  return this._edges\n};\nEdgeRing$1.prototype.getMaxNodeDegree = function getMaxNodeDegree () {\n  if (this._maxNodeDegree < 0) { this.computeMaxNodeDegree(); }\n  return this._maxNodeDegree\n};\nEdgeRing$1.prototype.getShell = function getShell () {\n  return this._shell\n};\nEdgeRing$1.prototype.mergeLabel = function mergeLabel () {\n  if (arguments.length === 1) {\n    var deLabel = arguments[0];\n    this.mergeLabel(deLabel, 0);\n    this.mergeLabel(deLabel, 1);\n  } else if (arguments.length === 2) {\n    var deLabel$1 = arguments[0];\n    var geomIndex = arguments[1];\n    var loc = deLabel$1.getLocation(geomIndex, Position.RIGHT);\n    if (loc === Location.NONE) { return null }\n    if (this._label.getLocation(geomIndex) === Location.NONE) {\n      this._label.setLocation(geomIndex, loc);\n      return null\n    }\n  }\n};\nEdgeRing$1.prototype.setShell = function setShell (shell) {\n  this._shell = shell;\n  if (shell !== null) { shell.addHole(this); }\n};\nEdgeRing$1.prototype.toPolygon = function toPolygon (geometryFactory) {\n    var this$1 = this;\n\n  var holeLR = new Array(this._holes.size()).fill(null);\n  for (var i = 0; i < this._holes.size(); i++) {\n    holeLR[i] = this$1._holes.get(i).getLinearRing();\n  }\n  var poly = geometryFactory.createPolygon(this.getLinearRing(), holeLR);\n  return poly\n};\nEdgeRing$1.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nEdgeRing$1.prototype.getClass = function getClass () {\n  return EdgeRing$1\n};\n\nvar MinimalEdgeRing = (function (EdgeRing$$1) {\n  function MinimalEdgeRing () {\n    var start = arguments[0];\n    var geometryFactory = arguments[1];\n    EdgeRing$$1.call(this, start, geometryFactory);\n  }\n\n  if ( EdgeRing$$1 ) MinimalEdgeRing.__proto__ = EdgeRing$$1;\n  MinimalEdgeRing.prototype = Object.create( EdgeRing$$1 && EdgeRing$$1.prototype );\n  MinimalEdgeRing.prototype.constructor = MinimalEdgeRing;\n  MinimalEdgeRing.prototype.setEdgeRing = function setEdgeRing (de, er) {\n    de.setMinEdgeRing(er);\n  };\n  MinimalEdgeRing.prototype.getNext = function getNext (de) {\n    return de.getNextMin()\n  };\n  MinimalEdgeRing.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  MinimalEdgeRing.prototype.getClass = function getClass () {\n    return MinimalEdgeRing\n  };\n\n  return MinimalEdgeRing;\n}(EdgeRing$1));\n\nvar MaximalEdgeRing = (function (EdgeRing$$1) {\n  function MaximalEdgeRing () {\n    var start = arguments[0];\n    var geometryFactory = arguments[1];\n    EdgeRing$$1.call(this, start, geometryFactory);\n  }\n\n  if ( EdgeRing$$1 ) MaximalEdgeRing.__proto__ = EdgeRing$$1;\n  MaximalEdgeRing.prototype = Object.create( EdgeRing$$1 && EdgeRing$$1.prototype );\n  MaximalEdgeRing.prototype.constructor = MaximalEdgeRing;\n  MaximalEdgeRing.prototype.buildMinimalRings = function buildMinimalRings () {\n    var this$1 = this;\n\n    var minEdgeRings = new ArrayList();\n    var de = this._startDe;\n    do {\n      if (de.getMinEdgeRing() === null) {\n        var minEr = new MinimalEdgeRing(de, this$1._geometryFactory);\n        minEdgeRings.add(minEr);\n      }\n      de = de.getNext();\n    } while (de !== this._startDe)\n    return minEdgeRings\n  };\n  MaximalEdgeRing.prototype.setEdgeRing = function setEdgeRing (de, er) {\n    de.setEdgeRing(er);\n  };\n  MaximalEdgeRing.prototype.linkDirectedEdgesForMinimalEdgeRings = function linkDirectedEdgesForMinimalEdgeRings () {\n    var this$1 = this;\n\n    var de = this._startDe;\n    do {\n      var node = de.getNode();\n      node.getEdges().linkMinimalDirectedEdges(this$1);\n      de = de.getNext();\n    } while (de !== this._startDe)\n  };\n  MaximalEdgeRing.prototype.getNext = function getNext (de) {\n    return de.getNext()\n  };\n  MaximalEdgeRing.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  MaximalEdgeRing.prototype.getClass = function getClass () {\n    return MaximalEdgeRing\n  };\n\n  return MaximalEdgeRing;\n}(EdgeRing$1));\n\nvar GraphComponent = function GraphComponent () {\n  this._label = null;\n  this._isInResult = false;\n  this._isCovered = false;\n  this._isCoveredSet = false;\n  this._isVisited = false;\n  if (arguments.length === 0) {} else if (arguments.length === 1) {\n    var label = arguments[0];\n    this._label = label;\n  }\n};\nGraphComponent.prototype.setVisited = function setVisited (isVisited) {\n  this._isVisited = isVisited;\n};\nGraphComponent.prototype.setInResult = function setInResult (isInResult) {\n  this._isInResult = isInResult;\n};\nGraphComponent.prototype.isCovered = function isCovered () {\n  return this._isCovered\n};\nGraphComponent.prototype.isCoveredSet = function isCoveredSet () {\n  return this._isCoveredSet\n};\nGraphComponent.prototype.setLabel = function setLabel (label) {\n  this._label = label;\n};\nGraphComponent.prototype.getLabel = function getLabel () {\n  return this._label\n};\nGraphComponent.prototype.setCovered = function setCovered (isCovered) {\n  this._isCovered = isCovered;\n  this._isCoveredSet = true;\n};\nGraphComponent.prototype.updateIM = function updateIM (im) {\n  Assert.isTrue(this._label.getGeometryCount() >= 2, 'found partial label');\n  this.computeIM(im);\n};\nGraphComponent.prototype.isInResult = function isInResult () {\n  return this._isInResult\n};\nGraphComponent.prototype.isVisited = function isVisited () {\n  return this._isVisited\n};\nGraphComponent.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGraphComponent.prototype.getClass = function getClass () {\n  return GraphComponent\n};\n\nvar Node$2 = (function (GraphComponent$$1) {\n  function Node () {\n    GraphComponent$$1.call(this);\n    this._coord = null;\n    this._edges = null;\n    var coord = arguments[0];\n    var edges = arguments[1];\n    this._coord = coord;\n    this._edges = edges;\n    this._label = new Label(0, Location.NONE);\n  }\n\n  if ( GraphComponent$$1 ) Node.__proto__ = GraphComponent$$1;\n  Node.prototype = Object.create( GraphComponent$$1 && GraphComponent$$1.prototype );\n  Node.prototype.constructor = Node;\n  Node.prototype.isIncidentEdgeInResult = function isIncidentEdgeInResult () {\n    for (var it = this.getEdges().getEdges().iterator(); it.hasNext();) {\n      var de = it.next();\n      if (de.getEdge().isInResult()) { return true }\n    }\n    return false\n  };\n  Node.prototype.isIsolated = function isIsolated () {\n    return this._label.getGeometryCount() === 1\n  };\n  Node.prototype.getCoordinate = function getCoordinate () {\n    return this._coord\n  };\n  Node.prototype.print = function print (out) {\n    out.println('node ' + this._coord + ' lbl: ' + this._label);\n  };\n  Node.prototype.computeIM = function computeIM (im) {};\n  Node.prototype.computeMergedLocation = function computeMergedLocation (label2, eltIndex) {\n    var loc = Location.NONE;\n    loc = this._label.getLocation(eltIndex);\n    if (!label2.isNull(eltIndex)) {\n      var nLoc = label2.getLocation(eltIndex);\n      if (loc !== Location.BOUNDARY) { loc = nLoc; }\n    }\n    return loc\n  };\n  Node.prototype.setLabel = function setLabel () {\n    if (arguments.length === 2) {\n      var argIndex = arguments[0];\n      var onLocation = arguments[1];\n      if (this._label === null) {\n        this._label = new Label(argIndex, onLocation);\n      } else { this._label.setLocation(argIndex, onLocation); }\n    } else { return GraphComponent$$1.prototype.setLabel.apply(this, arguments) }\n  };\n  Node.prototype.getEdges = function getEdges () {\n    return this._edges\n  };\n  Node.prototype.mergeLabel = function mergeLabel () {\n    var this$1 = this;\n\n    if (arguments[0] instanceof Node) {\n      var n = arguments[0];\n      this.mergeLabel(n._label);\n    } else if (arguments[0] instanceof Label) {\n      var label2 = arguments[0];\n      for (var i = 0; i < 2; i++) {\n        var loc = this$1.computeMergedLocation(label2, i);\n        var thisLoc = this$1._label.getLocation(i);\n        if (thisLoc === Location.NONE) { this$1._label.setLocation(i, loc); }\n      }\n    }\n  };\n  Node.prototype.add = function add (e) {\n    this._edges.insert(e);\n    e.setNode(this);\n  };\n  Node.prototype.setLabelBoundary = function setLabelBoundary (argIndex) {\n    if (this._label === null) { return null }\n    var loc = Location.NONE;\n    if (this._label !== null) { loc = this._label.getLocation(argIndex); }\n    var newLoc = null;\n    switch (loc) {\n      case Location.BOUNDARY:\n        newLoc = Location.INTERIOR;\n        break\n      case Location.INTERIOR:\n        newLoc = Location.BOUNDARY;\n        break\n      default:\n        newLoc = Location.BOUNDARY;\n        break\n    }\n    this._label.setLocation(argIndex, newLoc);\n  };\n  Node.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  Node.prototype.getClass = function getClass () {\n    return Node\n  };\n\n  return Node;\n}(GraphComponent));\n\nvar NodeMap = function NodeMap () {\n  this.nodeMap = new TreeMap();\n  this.nodeFact = null;\n  var nodeFact = arguments[0];\n  this.nodeFact = nodeFact;\n};\nNodeMap.prototype.find = function find (coord) {\n  return this.nodeMap.get(coord)\n};\nNodeMap.prototype.addNode = function addNode () {\n  if (arguments[0] instanceof Coordinate) {\n    var coord = arguments[0];\n    var node = this.nodeMap.get(coord);\n    if (node === null) {\n      node = this.nodeFact.createNode(coord);\n      this.nodeMap.put(coord, node);\n    }\n    return node\n  } else if (arguments[0] instanceof Node$2) {\n    var n = arguments[0];\n    var node$1 = this.nodeMap.get(n.getCoordinate());\n    if (node$1 === null) {\n      this.nodeMap.put(n.getCoordinate(), n);\n      return n\n    }\n    node$1.mergeLabel(n);\n    return node$1\n  }\n};\nNodeMap.prototype.print = function print (out) {\n  for (var it = this.iterator(); it.hasNext();) {\n    var n = it.next();\n    n.print(out);\n  }\n};\nNodeMap.prototype.iterator = function iterator () {\n  return this.nodeMap.values().iterator()\n};\nNodeMap.prototype.values = function values () {\n  return this.nodeMap.values()\n};\nNodeMap.prototype.getBoundaryNodes = function getBoundaryNodes (geomIndex) {\n  var bdyNodes = new ArrayList();\n  for (var i = this.iterator(); i.hasNext();) {\n    var node = i.next();\n    if (node.getLabel().getLocation(geomIndex) === Location.BOUNDARY) { bdyNodes.add(node); }\n  }\n  return bdyNodes\n};\nNodeMap.prototype.add = function add (e) {\n  var p = e.getCoordinate();\n  var n = this.addNode(p);\n  n.add(e);\n};\nNodeMap.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nNodeMap.prototype.getClass = function getClass () {\n  return NodeMap\n};\n\nvar Quadrant = function Quadrant () {};\n\nvar staticAccessors$21 = { NE: { configurable: true },NW: { configurable: true },SW: { configurable: true },SE: { configurable: true } };\n\nQuadrant.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nQuadrant.prototype.getClass = function getClass () {\n  return Quadrant\n};\nQuadrant.isNorthern = function isNorthern (quad) {\n  return quad === Quadrant.NE || quad === Quadrant.NW\n};\nQuadrant.isOpposite = function isOpposite (quad1, quad2) {\n  if (quad1 === quad2) { return false }\n  var diff = (quad1 - quad2 + 4) % 4;\n  if (diff === 2) { return true }\n  return false\n};\nQuadrant.commonHalfPlane = function commonHalfPlane (quad1, quad2) {\n  if (quad1 === quad2) { return quad1 }\n  var diff = (quad1 - quad2 + 4) % 4;\n  if (diff === 2) { return -1 }\n  var min = quad1 < quad2 ? quad1 : quad2;\n  var max = quad1 > quad2 ? quad1 : quad2;\n  if (min === 0 && max === 3) { return 3 }\n  return min\n};\nQuadrant.isInHalfPlane = function isInHalfPlane (quad, halfPlane) {\n  if (halfPlane === Quadrant.SE) {\n    return quad === Quadrant.SE || quad === Quadrant.SW\n  }\n  return quad === halfPlane || quad === halfPlane + 1\n};\nQuadrant.quadrant = function quadrant () {\n  if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\n    var dx = arguments[0];\n    var dy = arguments[1];\n    if (dx === 0.0 && dy === 0.0) { throw new IllegalArgumentException('Cannot compute the quadrant for point ( ' + dx + ', ' + dy + ' )') }\n    if (dx >= 0.0) {\n      if (dy >= 0.0) { return Quadrant.NE; } else { return Quadrant.SE }\n    } else {\n      if (dy >= 0.0) { return Quadrant.NW; } else { return Quadrant.SW }\n    }\n  } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    if (p1.x === p0.x && p1.y === p0.y) { throw new IllegalArgumentException('Cannot compute the quadrant for two identical points ' + p0) }\n    if (p1.x >= p0.x) {\n      if (p1.y >= p0.y) { return Quadrant.NE; } else { return Quadrant.SE }\n    } else {\n      if (p1.y >= p0.y) { return Quadrant.NW; } else { return Quadrant.SW }\n    }\n  }\n};\nstaticAccessors$21.NE.get = function () { return 0 };\nstaticAccessors$21.NW.get = function () { return 1 };\nstaticAccessors$21.SW.get = function () { return 2 };\nstaticAccessors$21.SE.get = function () { return 3 };\n\nObject.defineProperties( Quadrant, staticAccessors$21 );\n\nvar EdgeEnd = function EdgeEnd () {\n  this._edge = null;\n  this._label = null;\n  this._node = null;\n  this._p0 = null;\n  this._p1 = null;\n  this._dx = null;\n  this._dy = null;\n  this._quadrant = null;\n  if (arguments.length === 1) {\n    var edge = arguments[0];\n    this._edge = edge;\n  } else if (arguments.length === 3) {\n    var edge$1 = arguments[0];\n    var p0 = arguments[1];\n    var p1 = arguments[2];\n    var label = null;\n    this._edge = edge$1;\n    this.init(p0, p1);\n    this._label = label;\n  } else if (arguments.length === 4) {\n    var edge$2 = arguments[0];\n    var p0$1 = arguments[1];\n    var p1$1 = arguments[2];\n    var label$1 = arguments[3];\n    this._edge = edge$2;\n    this.init(p0$1, p1$1);\n    this._label = label$1;\n  }\n};\nEdgeEnd.prototype.compareDirection = function compareDirection (e) {\n  if (this._dx === e._dx && this._dy === e._dy) { return 0 }\n  if (this._quadrant > e._quadrant) { return 1 }\n  if (this._quadrant < e._quadrant) { return -1 }\n  return CGAlgorithms.computeOrientation(e._p0, e._p1, this._p1)\n};\nEdgeEnd.prototype.getDy = function getDy () {\n  return this._dy\n};\nEdgeEnd.prototype.getCoordinate = function getCoordinate () {\n  return this._p0\n};\nEdgeEnd.prototype.setNode = function setNode (node) {\n  this._node = node;\n};\nEdgeEnd.prototype.print = function print (out) {\n  var angle = Math.atan2(this._dy, this._dx);\n  var className = this.getClass().getName();\n  var lastDotPos = className.lastIndexOf('.');\n  var name = className.substring(lastDotPos + 1);\n  out.print('  ' + name + ': ' + this._p0 + ' - ' + this._p1 + ' ' + this._quadrant + ':' + angle + '   ' + this._label);\n};\nEdgeEnd.prototype.compareTo = function compareTo (obj) {\n  var e = obj;\n  return this.compareDirection(e)\n};\nEdgeEnd.prototype.getDirectedCoordinate = function getDirectedCoordinate () {\n  return this._p1\n};\nEdgeEnd.prototype.getDx = function getDx () {\n  return this._dx\n};\nEdgeEnd.prototype.getLabel = function getLabel () {\n  return this._label\n};\nEdgeEnd.prototype.getEdge = function getEdge () {\n  return this._edge\n};\nEdgeEnd.prototype.getQuadrant = function getQuadrant () {\n  return this._quadrant\n};\nEdgeEnd.prototype.getNode = function getNode () {\n  return this._node\n};\nEdgeEnd.prototype.toString = function toString () {\n  var angle = Math.atan2(this._dy, this._dx);\n  var className = this.getClass().getName();\n  var lastDotPos = className.lastIndexOf('.');\n  var name = className.substring(lastDotPos + 1);\n  return '  ' + name + ': ' + this._p0 + ' - ' + this._p1 + ' ' + this._quadrant + ':' + angle + '   ' + this._label\n};\nEdgeEnd.prototype.computeLabel = function computeLabel (boundaryNodeRule) {};\nEdgeEnd.prototype.init = function init (p0, p1) {\n  this._p0 = p0;\n  this._p1 = p1;\n  this._dx = p1.x - p0.x;\n  this._dy = p1.y - p0.y;\n  this._quadrant = Quadrant.quadrant(this._dx, this._dy);\n  Assert.isTrue(!(this._dx === 0 && this._dy === 0), 'EdgeEnd with identical endpoints found');\n};\nEdgeEnd.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nEdgeEnd.prototype.getClass = function getClass () {\n  return EdgeEnd\n};\n\nvar DirectedEdge = (function (EdgeEnd$$1) {\n  function DirectedEdge () {\n    var edge = arguments[0];\n    var isForward = arguments[1];\n    EdgeEnd$$1.call(this, edge);\n    this._isForward = null;\n    this._isInResult = false;\n    this._isVisited = false;\n    this._sym = null;\n    this._next = null;\n    this._nextMin = null;\n    this._edgeRing = null;\n    this._minEdgeRing = null;\n    this._depth = [0, -999, -999];\n    this._isForward = isForward;\n    if (isForward) {\n      this.init(edge.getCoordinate(0), edge.getCoordinate(1));\n    } else {\n      var n = edge.getNumPoints() - 1;\n      this.init(edge.getCoordinate(n), edge.getCoordinate(n - 1));\n    }\n    this.computeDirectedLabel();\n  }\n\n  if ( EdgeEnd$$1 ) DirectedEdge.__proto__ = EdgeEnd$$1;\n  DirectedEdge.prototype = Object.create( EdgeEnd$$1 && EdgeEnd$$1.prototype );\n  DirectedEdge.prototype.constructor = DirectedEdge;\n  DirectedEdge.prototype.getNextMin = function getNextMin () {\n    return this._nextMin\n  };\n  DirectedEdge.prototype.getDepth = function getDepth (position) {\n    return this._depth[position]\n  };\n  DirectedEdge.prototype.setVisited = function setVisited (isVisited) {\n    this._isVisited = isVisited;\n  };\n  DirectedEdge.prototype.computeDirectedLabel = function computeDirectedLabel () {\n    this._label = new Label(this._edge.getLabel());\n    if (!this._isForward) { this._label.flip(); }\n  };\n  DirectedEdge.prototype.getNext = function getNext () {\n    return this._next\n  };\n  DirectedEdge.prototype.setDepth = function setDepth (position, depthVal) {\n    if (this._depth[position] !== -999) {\n      if (this._depth[position] !== depthVal) { throw new TopologyException('assigned depths do not match', this.getCoordinate()) }\n    }\n    this._depth[position] = depthVal;\n  };\n  DirectedEdge.prototype.isInteriorAreaEdge = function isInteriorAreaEdge () {\n    var this$1 = this;\n\n    var isInteriorAreaEdge = true;\n    for (var i = 0; i < 2; i++) {\n      if (!(this$1._label.isArea(i) && this$1._label.getLocation(i, Position.LEFT) === Location.INTERIOR && this$1._label.getLocation(i, Position.RIGHT) === Location.INTERIOR)) {\n        isInteriorAreaEdge = false;\n      }\n    }\n    return isInteriorAreaEdge\n  };\n  DirectedEdge.prototype.setNextMin = function setNextMin (nextMin) {\n    this._nextMin = nextMin;\n  };\n  DirectedEdge.prototype.print = function print (out) {\n    EdgeEnd$$1.prototype.print.call(this, out);\n    out.print(' ' + this._depth[Position.LEFT] + '/' + this._depth[Position.RIGHT]);\n    out.print(' (' + this.getDepthDelta() + ')');\n    if (this._isInResult) { out.print(' inResult'); }\n  };\n  DirectedEdge.prototype.setMinEdgeRing = function setMinEdgeRing (minEdgeRing) {\n    this._minEdgeRing = minEdgeRing;\n  };\n  DirectedEdge.prototype.isLineEdge = function isLineEdge () {\n    var isLine = this._label.isLine(0) || this._label.isLine(1);\n    var isExteriorIfArea0 = !this._label.isArea(0) || this._label.allPositionsEqual(0, Location.EXTERIOR);\n    var isExteriorIfArea1 = !this._label.isArea(1) || this._label.allPositionsEqual(1, Location.EXTERIOR);\n    return isLine && isExteriorIfArea0 && isExteriorIfArea1\n  };\n  DirectedEdge.prototype.setEdgeRing = function setEdgeRing (edgeRing) {\n    this._edgeRing = edgeRing;\n  };\n  DirectedEdge.prototype.getMinEdgeRing = function getMinEdgeRing () {\n    return this._minEdgeRing\n  };\n  DirectedEdge.prototype.getDepthDelta = function getDepthDelta () {\n    var depthDelta = this._edge.getDepthDelta();\n    if (!this._isForward) { depthDelta = -depthDelta; }\n    return depthDelta\n  };\n  DirectedEdge.prototype.setInResult = function setInResult (isInResult) {\n    this._isInResult = isInResult;\n  };\n  DirectedEdge.prototype.getSym = function getSym () {\n    return this._sym\n  };\n  DirectedEdge.prototype.isForward = function isForward () {\n    return this._isForward\n  };\n  DirectedEdge.prototype.getEdge = function getEdge () {\n    return this._edge\n  };\n  DirectedEdge.prototype.printEdge = function printEdge (out) {\n    this.print(out);\n    out.print(' ');\n    if (this._isForward) { this._edge.print(out); } else { this._edge.printReverse(out); }\n  };\n  DirectedEdge.prototype.setSym = function setSym (de) {\n    this._sym = de;\n  };\n  DirectedEdge.prototype.setVisitedEdge = function setVisitedEdge (isVisited) {\n    this.setVisited(isVisited);\n    this._sym.setVisited(isVisited);\n  };\n  DirectedEdge.prototype.setEdgeDepths = function setEdgeDepths (position, depth) {\n    var depthDelta = this.getEdge().getDepthDelta();\n    if (!this._isForward) { depthDelta = -depthDelta; }\n    var directionFactor = 1;\n    if (position === Position.LEFT) { directionFactor = -1; }\n    var oppositePos = Position.opposite(position);\n    var delta = depthDelta * directionFactor;\n    var oppositeDepth = depth + delta;\n    this.setDepth(position, depth);\n    this.setDepth(oppositePos, oppositeDepth);\n  };\n  DirectedEdge.prototype.getEdgeRing = function getEdgeRing () {\n    return this._edgeRing\n  };\n  DirectedEdge.prototype.isInResult = function isInResult () {\n    return this._isInResult\n  };\n  DirectedEdge.prototype.setNext = function setNext (next) {\n    this._next = next;\n  };\n  DirectedEdge.prototype.isVisited = function isVisited () {\n    return this._isVisited\n  };\n  DirectedEdge.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  DirectedEdge.prototype.getClass = function getClass () {\n    return DirectedEdge\n  };\n  DirectedEdge.depthFactor = function depthFactor (currLocation, nextLocation) {\n    if (currLocation === Location.EXTERIOR && nextLocation === Location.INTERIOR) { return 1; } else if (currLocation === Location.INTERIOR && nextLocation === Location.EXTERIOR) { return -1 }\n    return 0\n  };\n\n  return DirectedEdge;\n}(EdgeEnd));\n\nvar NodeFactory = function NodeFactory () {};\n\nNodeFactory.prototype.createNode = function createNode (coord) {\n  return new Node$2(coord, null)\n};\nNodeFactory.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nNodeFactory.prototype.getClass = function getClass () {\n  return NodeFactory\n};\n\nvar PlanarGraph = function PlanarGraph () {\n  this._edges = new ArrayList();\n  this._nodes = null;\n  this._edgeEndList = new ArrayList();\n  if (arguments.length === 0) {\n    this._nodes = new NodeMap(new NodeFactory());\n  } else if (arguments.length === 1) {\n    var nodeFact = arguments[0];\n    this._nodes = new NodeMap(nodeFact);\n  }\n};\nPlanarGraph.prototype.printEdges = function printEdges (out) {\n    var this$1 = this;\n\n  out.println('Edges:');\n  for (var i = 0; i < this._edges.size(); i++) {\n    out.println('edge ' + i + ':');\n    var e = this$1._edges.get(i);\n    e.print(out);\n    e.eiList.print(out);\n  }\n};\nPlanarGraph.prototype.find = function find (coord) {\n  return this._nodes.find(coord)\n};\nPlanarGraph.prototype.addNode = function addNode () {\n  if (arguments[0] instanceof Node$2) {\n    var node = arguments[0];\n    return this._nodes.addNode(node)\n  } else if (arguments[0] instanceof Coordinate) {\n    var coord = arguments[0];\n    return this._nodes.addNode(coord)\n  }\n};\nPlanarGraph.prototype.getNodeIterator = function getNodeIterator () {\n  return this._nodes.iterator()\n};\nPlanarGraph.prototype.linkResultDirectedEdges = function linkResultDirectedEdges () {\n  for (var nodeit = this._nodes.iterator(); nodeit.hasNext();) {\n    var node = nodeit.next();\n    node.getEdges().linkResultDirectedEdges();\n  }\n};\nPlanarGraph.prototype.debugPrintln = function debugPrintln (o) {\n  System.out.println(o);\n};\nPlanarGraph.prototype.isBoundaryNode = function isBoundaryNode (geomIndex, coord) {\n  var node = this._nodes.find(coord);\n  if (node === null) { return false }\n  var label = node.getLabel();\n  if (label !== null && label.getLocation(geomIndex) === Location.BOUNDARY) { return true }\n  return false\n};\nPlanarGraph.prototype.linkAllDirectedEdges = function linkAllDirectedEdges () {\n  for (var nodeit = this._nodes.iterator(); nodeit.hasNext();) {\n    var node = nodeit.next();\n    node.getEdges().linkAllDirectedEdges();\n  }\n};\nPlanarGraph.prototype.matchInSameDirection = function matchInSameDirection (p0, p1, ep0, ep1) {\n  if (!p0.equals(ep0)) { return false }\n  if (CGAlgorithms.computeOrientation(p0, p1, ep1) === CGAlgorithms.COLLINEAR && Quadrant.quadrant(p0, p1) === Quadrant.quadrant(ep0, ep1)) { return true }\n  return false\n};\nPlanarGraph.prototype.getEdgeEnds = function getEdgeEnds () {\n  return this._edgeEndList\n};\nPlanarGraph.prototype.debugPrint = function debugPrint (o) {\n  System.out.print(o);\n};\nPlanarGraph.prototype.getEdgeIterator = function getEdgeIterator () {\n  return this._edges.iterator()\n};\nPlanarGraph.prototype.findEdgeInSameDirection = function findEdgeInSameDirection (p0, p1) {\n    var this$1 = this;\n\n  for (var i = 0; i < this._edges.size(); i++) {\n    var e = this$1._edges.get(i);\n    var eCoord = e.getCoordinates();\n    if (this$1.matchInSameDirection(p0, p1, eCoord[0], eCoord[1])) { return e }\n    if (this$1.matchInSameDirection(p0, p1, eCoord[eCoord.length - 1], eCoord[eCoord.length - 2])) { return e }\n  }\n  return null\n};\nPlanarGraph.prototype.insertEdge = function insertEdge (e) {\n  this._edges.add(e);\n};\nPlanarGraph.prototype.findEdgeEnd = function findEdgeEnd (e) {\n  for (var i = this.getEdgeEnds().iterator(); i.hasNext();) {\n    var ee = i.next();\n    if (ee.getEdge() === e) { return ee }\n  }\n  return null\n};\nPlanarGraph.prototype.addEdges = function addEdges (edgesToAdd) {\n    var this$1 = this;\n\n  for (var it = edgesToAdd.iterator(); it.hasNext();) {\n    var e = it.next();\n    this$1._edges.add(e);\n    var de1 = new DirectedEdge(e, true);\n    var de2 = new DirectedEdge(e, false);\n    de1.setSym(de2);\n    de2.setSym(de1);\n    this$1.add(de1);\n    this$1.add(de2);\n  }\n};\nPlanarGraph.prototype.add = function add (e) {\n  this._nodes.add(e);\n  this._edgeEndList.add(e);\n};\nPlanarGraph.prototype.getNodes = function getNodes () {\n  return this._nodes.values()\n};\nPlanarGraph.prototype.findEdge = function findEdge (p0, p1) {\n    var this$1 = this;\n\n  for (var i = 0; i < this._edges.size(); i++) {\n    var e = this$1._edges.get(i);\n    var eCoord = e.getCoordinates();\n    if (p0.equals(eCoord[0]) && p1.equals(eCoord[1])) { return e }\n  }\n  return null\n};\nPlanarGraph.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPlanarGraph.prototype.getClass = function getClass () {\n  return PlanarGraph\n};\nPlanarGraph.linkResultDirectedEdges = function linkResultDirectedEdges (nodes) {\n  for (var nodeit = nodes.iterator(); nodeit.hasNext();) {\n    var node = nodeit.next();\n    node.getEdges().linkResultDirectedEdges();\n  }\n};\n\nvar PolygonBuilder = function PolygonBuilder () {\n  this._geometryFactory = null;\n  this._shellList = new ArrayList();\n  var geometryFactory = arguments[0];\n  this._geometryFactory = geometryFactory;\n};\nPolygonBuilder.prototype.sortShellsAndHoles = function sortShellsAndHoles (edgeRings, shellList, freeHoleList) {\n  for (var it = edgeRings.iterator(); it.hasNext();) {\n    var er = it.next();\n    if (er.isHole()) {\n      freeHoleList.add(er);\n    } else {\n      shellList.add(er);\n    }\n  }\n};\nPolygonBuilder.prototype.computePolygons = function computePolygons (shellList) {\n    var this$1 = this;\n\n  var resultPolyList = new ArrayList();\n  for (var it = shellList.iterator(); it.hasNext();) {\n    var er = it.next();\n    var poly = er.toPolygon(this$1._geometryFactory);\n    resultPolyList.add(poly);\n  }\n  return resultPolyList\n};\nPolygonBuilder.prototype.placeFreeHoles = function placeFreeHoles (shellList, freeHoleList) {\n    var this$1 = this;\n\n  for (var it = freeHoleList.iterator(); it.hasNext();) {\n    var hole = it.next();\n    if (hole.getShell() === null) {\n      var shell = this$1.findEdgeRingContaining(hole, shellList);\n      if (shell === null) { throw new TopologyException('unable to assign hole to a shell', hole.getCoordinate(0)) }\n      hole.setShell(shell);\n    }\n  }\n};\nPolygonBuilder.prototype.buildMinimalEdgeRings = function buildMinimalEdgeRings (maxEdgeRings, shellList, freeHoleList) {\n    var this$1 = this;\n\n  var edgeRings = new ArrayList();\n  for (var it = maxEdgeRings.iterator(); it.hasNext();) {\n    var er = it.next();\n    if (er.getMaxNodeDegree() > 2) {\n      er.linkDirectedEdgesForMinimalEdgeRings();\n      var minEdgeRings = er.buildMinimalRings();\n      var shell = this$1.findShell(minEdgeRings);\n      if (shell !== null) {\n        this$1.placePolygonHoles(shell, minEdgeRings);\n        shellList.add(shell);\n      } else {\n        freeHoleList.addAll(minEdgeRings);\n      }\n    } else {\n      edgeRings.add(er);\n    }\n  }\n  return edgeRings\n};\nPolygonBuilder.prototype.containsPoint = function containsPoint (p) {\n  for (var it = this._shellList.iterator(); it.hasNext();) {\n    var er = it.next();\n    if (er.containsPoint(p)) { return true }\n  }\n  return false\n};\nPolygonBuilder.prototype.buildMaximalEdgeRings = function buildMaximalEdgeRings (dirEdges) {\n    var this$1 = this;\n\n  var maxEdgeRings = new ArrayList();\n  for (var it = dirEdges.iterator(); it.hasNext();) {\n    var de = it.next();\n    if (de.isInResult() && de.getLabel().isArea()) {\n      if (de.getEdgeRing() === null) {\n        var er = new MaximalEdgeRing(de, this$1._geometryFactory);\n        maxEdgeRings.add(er);\n        er.setInResult();\n      }\n    }\n  }\n  return maxEdgeRings\n};\nPolygonBuilder.prototype.placePolygonHoles = function placePolygonHoles (shell, minEdgeRings) {\n  for (var it = minEdgeRings.iterator(); it.hasNext();) {\n    var er = it.next();\n    if (er.isHole()) {\n      er.setShell(shell);\n    }\n  }\n};\nPolygonBuilder.prototype.getPolygons = function getPolygons () {\n  var resultPolyList = this.computePolygons(this._shellList);\n  return resultPolyList\n};\nPolygonBuilder.prototype.findEdgeRingContaining = function findEdgeRingContaining (testEr, shellList) {\n  var testRing = testEr.getLinearRing();\n  var testEnv = testRing.getEnvelopeInternal();\n  var testPt = testRing.getCoordinateN(0);\n  var minShell = null;\n  var minEnv = null;\n  for (var it = shellList.iterator(); it.hasNext();) {\n    var tryShell = it.next();\n    var tryRing = tryShell.getLinearRing();\n    var tryEnv = tryRing.getEnvelopeInternal();\n    if (minShell !== null) { minEnv = minShell.getLinearRing().getEnvelopeInternal(); }\n    var isContained = false;\n    if (tryEnv.contains(testEnv) && CGAlgorithms.isPointInRing(testPt, tryRing.getCoordinates())) { isContained = true; }\n    if (isContained) {\n      if (minShell === null || minEnv.contains(tryEnv)) {\n        minShell = tryShell;\n      }\n    }\n  }\n  return minShell\n};\nPolygonBuilder.prototype.findShell = function findShell (minEdgeRings) {\n  var shellCount = 0;\n  var shell = null;\n  for (var it = minEdgeRings.iterator(); it.hasNext();) {\n    var er = it.next();\n    if (!er.isHole()) {\n      shell = er;\n      shellCount++;\n    }\n  }\n  Assert.isTrue(shellCount <= 1, 'found two shells in MinimalEdgeRing list');\n  return shell\n};\nPolygonBuilder.prototype.add = function add () {\n  if (arguments.length === 1) {\n    var graph = arguments[0];\n    this.add(graph.getEdgeEnds(), graph.getNodes());\n  } else if (arguments.length === 2) {\n    var dirEdges = arguments[0];\n    var nodes = arguments[1];\n    PlanarGraph.linkResultDirectedEdges(nodes);\n    var maxEdgeRings = this.buildMaximalEdgeRings(dirEdges);\n    var freeHoleList = new ArrayList();\n    var edgeRings = this.buildMinimalEdgeRings(maxEdgeRings, this._shellList, freeHoleList);\n    this.sortShellsAndHoles(edgeRings, this._shellList, freeHoleList);\n    this.placeFreeHoles(this._shellList, freeHoleList);\n  }\n};\nPolygonBuilder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPolygonBuilder.prototype.getClass = function getClass () {\n  return PolygonBuilder\n};\n\nvar Boundable = function Boundable () {};\n\nBoundable.prototype.getBounds = function getBounds () {};\nBoundable.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBoundable.prototype.getClass = function getClass () {\n  return Boundable\n};\n\nvar ItemBoundable = function ItemBoundable () {\n  this._bounds = null;\n  this._item = null;\n  var bounds = arguments[0];\n  var item = arguments[1];\n  this._bounds = bounds;\n  this._item = item;\n};\nItemBoundable.prototype.getItem = function getItem () {\n  return this._item\n};\nItemBoundable.prototype.getBounds = function getBounds () {\n  return this._bounds\n};\nItemBoundable.prototype.interfaces_ = function interfaces_ () {\n  return [Boundable, Serializable]\n};\nItemBoundable.prototype.getClass = function getClass () {\n  return ItemBoundable\n};\n\nvar PriorityQueue = function PriorityQueue () {\n  this._size = null;\n  this._items = null;\n  this._size = 0;\n  this._items = new ArrayList();\n  this._items.add(null);\n};\nPriorityQueue.prototype.poll = function poll () {\n  if (this.isEmpty()) { return null }\n  var minItem = this._items.get(1);\n  this._items.set(1, this._items.get(this._size));\n  this._size -= 1;\n  this.reorder(1);\n  return minItem\n};\nPriorityQueue.prototype.size = function size () {\n  return this._size\n};\nPriorityQueue.prototype.reorder = function reorder (hole) {\n    var this$1 = this;\n\n  var child = null;\n  var tmp = this._items.get(hole);\n  for (; hole * 2 <= this._size; hole = child) {\n    child = hole * 2;\n    if (child !== this$1._size && this$1._items.get(child + 1).compareTo(this$1._items.get(child)) < 0) { child++; }\n    if (this$1._items.get(child).compareTo(tmp) < 0) { this$1._items.set(hole, this$1._items.get(child)); } else { break }\n  }\n  this._items.set(hole, tmp);\n};\nPriorityQueue.prototype.clear = function clear () {\n  this._size = 0;\n  this._items.clear();\n};\nPriorityQueue.prototype.isEmpty = function isEmpty () {\n  return this._size === 0\n};\nPriorityQueue.prototype.add = function add (x) {\n    var this$1 = this;\n\n  this._items.add(null);\n  this._size += 1;\n  var hole = this._size;\n  this._items.set(0, x);\n  for (; x.compareTo(this._items.get(Math.trunc(hole / 2))) < 0; hole /= 2) {\n    this$1._items.set(hole, this$1._items.get(Math.trunc(hole / 2)));\n  }\n  this._items.set(hole, x);\n};\nPriorityQueue.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPriorityQueue.prototype.getClass = function getClass () {\n  return PriorityQueue\n};\n\nvar ItemVisitor = function ItemVisitor () {};\n\nItemVisitor.prototype.visitItem = function visitItem (item) {};\nItemVisitor.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nItemVisitor.prototype.getClass = function getClass () {\n  return ItemVisitor\n};\n\nvar SpatialIndex = function SpatialIndex () {};\n\nSpatialIndex.prototype.insert = function insert (itemEnv, item) {};\nSpatialIndex.prototype.remove = function remove (itemEnv, item) {};\nSpatialIndex.prototype.query = function query () {\n  // if (arguments.length === 1) {\n  // const searchEnv = arguments[0]\n  // } else if (arguments.length === 2) {\n  // const searchEnv = arguments[0]\n  // const visitor = arguments[1]\n  // }\n};\nSpatialIndex.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSpatialIndex.prototype.getClass = function getClass () {\n  return SpatialIndex\n};\n\nvar AbstractNode = function AbstractNode () {\n  this._childBoundables = new ArrayList();\n  this._bounds = null;\n  this._level = null;\n  if (arguments.length === 0) {} else if (arguments.length === 1) {\n    var level = arguments[0];\n    this._level = level;\n  }\n};\n\nvar staticAccessors$22 = { serialVersionUID: { configurable: true } };\nAbstractNode.prototype.getLevel = function getLevel () {\n  return this._level\n};\nAbstractNode.prototype.size = function size () {\n  return this._childBoundables.size()\n};\nAbstractNode.prototype.getChildBoundables = function getChildBoundables () {\n  return this._childBoundables\n};\nAbstractNode.prototype.addChildBoundable = function addChildBoundable (childBoundable) {\n  Assert.isTrue(this._bounds === null);\n  this._childBoundables.add(childBoundable);\n};\nAbstractNode.prototype.isEmpty = function isEmpty () {\n  return this._childBoundables.isEmpty()\n};\nAbstractNode.prototype.getBounds = function getBounds () {\n  if (this._bounds === null) {\n    this._bounds = this.computeBounds();\n  }\n  return this._bounds\n};\nAbstractNode.prototype.interfaces_ = function interfaces_ () {\n  return [Boundable, Serializable]\n};\nAbstractNode.prototype.getClass = function getClass () {\n  return AbstractNode\n};\nstaticAccessors$22.serialVersionUID.get = function () { return 6493722185909573708 };\n\nObject.defineProperties( AbstractNode, staticAccessors$22 );\n\nvar Collections = function Collections () {};\n\nCollections.reverseOrder = function reverseOrder () {\n  return {\n    compare: function compare (a, b) {\n      return b.compareTo(a)\n    }\n  }\n};\nCollections.min = function min (l) {\n  Collections.sort(l);\n  return l.get(0)\n};\nCollections.sort = function sort (l, c) {\n  var a = l.toArray();\n  if (c) {\n    Arrays.sort(a, c);\n  } else {\n    Arrays.sort(a);\n  }\n  var i = l.iterator();\n  for (var pos = 0, alen = a.length; pos < alen; pos++) {\n    i.next();\n    i.set(a[pos]);\n  }\n};\nCollections.singletonList = function singletonList (o) {\n  var arrayList = new ArrayList();\n  arrayList.add(o);\n  return arrayList\n};\n\nvar BoundablePair = function BoundablePair () {\n  this._boundable1 = null;\n  this._boundable2 = null;\n  this._distance = null;\n  this._itemDistance = null;\n  var boundable1 = arguments[0];\n  var boundable2 = arguments[1];\n  var itemDistance = arguments[2];\n  this._boundable1 = boundable1;\n  this._boundable2 = boundable2;\n  this._itemDistance = itemDistance;\n  this._distance = this.distance();\n};\nBoundablePair.prototype.expandToQueue = function expandToQueue (priQ, minDistance) {\n  var isComp1 = BoundablePair.isComposite(this._boundable1);\n  var isComp2 = BoundablePair.isComposite(this._boundable2);\n  if (isComp1 && isComp2) {\n    if (BoundablePair.area(this._boundable1) > BoundablePair.area(this._boundable2)) {\n      this.expand(this._boundable1, this._boundable2, priQ, minDistance);\n      return null\n    } else {\n      this.expand(this._boundable2, this._boundable1, priQ, minDistance);\n      return null\n    }\n  } else if (isComp1) {\n    this.expand(this._boundable1, this._boundable2, priQ, minDistance);\n    return null\n  } else if (isComp2) {\n    this.expand(this._boundable2, this._boundable1, priQ, minDistance);\n    return null\n  }\n  throw new IllegalArgumentException('neither boundable is composite')\n};\nBoundablePair.prototype.isLeaves = function isLeaves () {\n  return !(BoundablePair.isComposite(this._boundable1) || BoundablePair.isComposite(this._boundable2))\n};\nBoundablePair.prototype.compareTo = function compareTo (o) {\n  var nd = o;\n  if (this._distance < nd._distance) { return -1 }\n  if (this._distance > nd._distance) { return 1 }\n  return 0\n};\nBoundablePair.prototype.expand = function expand (bndComposite, bndOther, priQ, minDistance) {\n    var this$1 = this;\n\n  var children = bndComposite.getChildBoundables();\n  for (var i = children.iterator(); i.hasNext();) {\n    var child = i.next();\n    var bp = new BoundablePair(child, bndOther, this$1._itemDistance);\n    if (bp.getDistance() < minDistance) {\n      priQ.add(bp);\n    }\n  }\n};\nBoundablePair.prototype.getBoundable = function getBoundable (i) {\n  if (i === 0) { return this._boundable1 }\n  return this._boundable2\n};\nBoundablePair.prototype.getDistance = function getDistance () {\n  return this._distance\n};\nBoundablePair.prototype.distance = function distance () {\n  if (this.isLeaves()) {\n    return this._itemDistance.distance(this._boundable1, this._boundable2)\n  }\n  return this._boundable1.getBounds().distance(this._boundable2.getBounds())\n};\nBoundablePair.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nBoundablePair.prototype.getClass = function getClass () {\n  return BoundablePair\n};\nBoundablePair.area = function area (b) {\n  return b.getBounds().getArea()\n};\nBoundablePair.isComposite = function isComposite (item) {\n  return item instanceof AbstractNode\n};\n\nvar AbstractSTRtree = function AbstractSTRtree () {\n  this._root = null;\n  this._built = false;\n  this._itemBoundables = new ArrayList();\n  this._nodeCapacity = null;\n  if (arguments.length === 0) {\n    var nodeCapacity = AbstractSTRtree.DEFAULT_NODE_CAPACITY;\n    this._nodeCapacity = nodeCapacity;\n  } else if (arguments.length === 1) {\n    var nodeCapacity$1 = arguments[0];\n    Assert.isTrue(nodeCapacity$1 > 1, 'Node capacity must be greater than 1');\n    this._nodeCapacity = nodeCapacity$1;\n  }\n};\n\nvar staticAccessors$23 = { IntersectsOp: { configurable: true },serialVersionUID: { configurable: true },DEFAULT_NODE_CAPACITY: { configurable: true } };\nAbstractSTRtree.prototype.getNodeCapacity = function getNodeCapacity () {\n  return this._nodeCapacity\n};\nAbstractSTRtree.prototype.lastNode = function lastNode (nodes) {\n  return nodes.get(nodes.size() - 1)\n};\nAbstractSTRtree.prototype.size = function size () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    if (this.isEmpty()) {\n      return 0\n    }\n    this.build();\n    return this.size(this._root)\n  } else if (arguments.length === 1) {\n    var node = arguments[0];\n    var size = 0;\n    for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n      var childBoundable = i.next();\n      if (childBoundable instanceof AbstractNode) {\n        size += this$1.size(childBoundable);\n      } else if (childBoundable instanceof ItemBoundable) {\n        size += 1;\n      }\n    }\n    return size\n  }\n};\nAbstractSTRtree.prototype.removeItem = function removeItem (node, item) {\n  var childToRemove = null;\n  for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n    var childBoundable = i.next();\n    if (childBoundable instanceof ItemBoundable) {\n      if (childBoundable.getItem() === item) { childToRemove = childBoundable; }\n    }\n  }\n  if (childToRemove !== null) {\n    node.getChildBoundables().remove(childToRemove);\n    return true\n  }\n  return false\n};\nAbstractSTRtree.prototype.itemsTree = function itemsTree () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    this.build();\n    var valuesTree = this.itemsTree(this._root);\n    if (valuesTree === null) { return new ArrayList() }\n    return valuesTree\n  } else if (arguments.length === 1) {\n    var node = arguments[0];\n    var valuesTreeForNode = new ArrayList();\n    for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n      var childBoundable = i.next();\n      if (childBoundable instanceof AbstractNode) {\n        var valuesTreeForChild = this$1.itemsTree(childBoundable);\n        if (valuesTreeForChild !== null) { valuesTreeForNode.add(valuesTreeForChild); }\n      } else if (childBoundable instanceof ItemBoundable) {\n        valuesTreeForNode.add(childBoundable.getItem());\n      } else {\n        Assert.shouldNeverReachHere();\n      }\n    }\n    if (valuesTreeForNode.size() <= 0) { return null }\n    return valuesTreeForNode\n  }\n};\nAbstractSTRtree.prototype.insert = function insert (bounds, item) {\n  Assert.isTrue(!this._built, 'Cannot insert items into an STR packed R-tree after it has been built.');\n  this._itemBoundables.add(new ItemBoundable(bounds, item));\n};\nAbstractSTRtree.prototype.boundablesAtLevel = function boundablesAtLevel () {\n    var this$1 = this;\n\n  if (arguments.length === 1) {\n    var level = arguments[0];\n    var boundables = new ArrayList();\n    this.boundablesAtLevel(level, this._root, boundables);\n    return boundables\n  } else if (arguments.length === 3) {\n    var level$1 = arguments[0];\n    var top = arguments[1];\n    var boundables$1 = arguments[2];\n    Assert.isTrue(level$1 > -2);\n    if (top.getLevel() === level$1) {\n      boundables$1.add(top);\n      return null\n    }\n    for (var i = top.getChildBoundables().iterator(); i.hasNext();) {\n      var boundable = i.next();\n      if (boundable instanceof AbstractNode) {\n        this$1.boundablesAtLevel(level$1, boundable, boundables$1);\n      } else {\n        Assert.isTrue(boundable instanceof ItemBoundable);\n        if (level$1 === -1) {\n          boundables$1.add(boundable);\n        }\n      }\n    }\n    return null\n  }\n};\nAbstractSTRtree.prototype.query = function query () {\n    var this$1 = this;\n\n  if (arguments.length === 1) {\n    var searchBounds = arguments[0];\n    this.build();\n    var matches = new ArrayList();\n    if (this.isEmpty()) {\n      return matches\n    }\n    if (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n      this.query(searchBounds, this._root, matches);\n    }\n    return matches\n  } else if (arguments.length === 2) {\n    var searchBounds$1 = arguments[0];\n    var visitor = arguments[1];\n    this.build();\n    if (this.isEmpty()) {\n      return null\n    }\n    if (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds$1)) {\n      this.query(searchBounds$1, this._root, visitor);\n    }\n  } else if (arguments.length === 3) {\n    if (hasInterface(arguments[2], ItemVisitor) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n      var searchBounds$2 = arguments[0];\n      var node = arguments[1];\n      var visitor$1 = arguments[2];\n      var childBoundables = node.getChildBoundables();\n      for (var i = 0; i < childBoundables.size(); i++) {\n        var childBoundable = childBoundables.get(i);\n        if (!this$1.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds$2)) {\n          continue\n        }\n        if (childBoundable instanceof AbstractNode) {\n          this$1.query(searchBounds$2, childBoundable, visitor$1);\n        } else if (childBoundable instanceof ItemBoundable) {\n          visitor$1.visitItem(childBoundable.getItem());\n        } else {\n          Assert.shouldNeverReachHere();\n        }\n      }\n    } else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n      var searchBounds$3 = arguments[0];\n      var node$1 = arguments[1];\n      var matches$1 = arguments[2];\n      var childBoundables$1 = node$1.getChildBoundables();\n      for (var i$1 = 0; i$1 < childBoundables$1.size(); i$1++) {\n        var childBoundable$1 = childBoundables$1.get(i$1);\n        if (!this$1.getIntersectsOp().intersects(childBoundable$1.getBounds(), searchBounds$3)) {\n          continue\n        }\n        if (childBoundable$1 instanceof AbstractNode) {\n          this$1.query(searchBounds$3, childBoundable$1, matches$1);\n        } else if (childBoundable$1 instanceof ItemBoundable) {\n          matches$1.add(childBoundable$1.getItem());\n        } else {\n          Assert.shouldNeverReachHere();\n        }\n      }\n    }\n  }\n};\nAbstractSTRtree.prototype.build = function build () {\n  if (this._built) { return null }\n  this._root = this._itemBoundables.isEmpty() ? this.createNode(0) : this.createHigherLevels(this._itemBoundables, -1);\n  this._itemBoundables = null;\n  this._built = true;\n};\nAbstractSTRtree.prototype.getRoot = function getRoot () {\n  this.build();\n  return this._root\n};\nAbstractSTRtree.prototype.remove = function remove () {\n    var this$1 = this;\n\n  if (arguments.length === 2) {\n    var searchBounds = arguments[0];\n    var item = arguments[1];\n    this.build();\n    if (this.getIntersectsOp().intersects(this._root.getBounds(), searchBounds)) {\n      return this.remove(searchBounds, this._root, item)\n    }\n    return false\n  } else if (arguments.length === 3) {\n    var searchBounds$1 = arguments[0];\n    var node = arguments[1];\n    var item$1 = arguments[2];\n    var found = this.removeItem(node, item$1);\n    if (found) { return true }\n    var childToPrune = null;\n    for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n      var childBoundable = i.next();\n      if (!this$1.getIntersectsOp().intersects(childBoundable.getBounds(), searchBounds$1)) {\n        continue\n      }\n      if (childBoundable instanceof AbstractNode) {\n        found = this$1.remove(searchBounds$1, childBoundable, item$1);\n        if (found) {\n          childToPrune = childBoundable;\n          break\n        }\n      }\n    }\n    if (childToPrune !== null) {\n      if (childToPrune.getChildBoundables().isEmpty()) {\n        node.getChildBoundables().remove(childToPrune);\n      }\n    }\n    return found\n  }\n};\nAbstractSTRtree.prototype.createHigherLevels = function createHigherLevels (boundablesOfALevel, level) {\n  Assert.isTrue(!boundablesOfALevel.isEmpty());\n  var parentBoundables = this.createParentBoundables(boundablesOfALevel, level + 1);\n  if (parentBoundables.size() === 1) {\n    return parentBoundables.get(0)\n  }\n  return this.createHigherLevels(parentBoundables, level + 1)\n};\nAbstractSTRtree.prototype.depth = function depth () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    if (this.isEmpty()) {\n      return 0\n    }\n    this.build();\n    return this.depth(this._root)\n  } else if (arguments.length === 1) {\n    var node = arguments[0];\n    var maxChildDepth = 0;\n    for (var i = node.getChildBoundables().iterator(); i.hasNext();) {\n      var childBoundable = i.next();\n      if (childBoundable instanceof AbstractNode) {\n        var childDepth = this$1.depth(childBoundable);\n        if (childDepth > maxChildDepth) { maxChildDepth = childDepth; }\n      }\n    }\n    return maxChildDepth + 1\n  }\n};\nAbstractSTRtree.prototype.createParentBoundables = function createParentBoundables (childBoundables, newLevel) {\n    var this$1 = this;\n\n  Assert.isTrue(!childBoundables.isEmpty());\n  var parentBoundables = new ArrayList();\n  parentBoundables.add(this.createNode(newLevel));\n  var sortedChildBoundables = new ArrayList(childBoundables);\n  Collections.sort(sortedChildBoundables, this.getComparator());\n  for (var i = sortedChildBoundables.iterator(); i.hasNext();) {\n    var childBoundable = i.next();\n    if (this$1.lastNode(parentBoundables).getChildBoundables().size() === this$1.getNodeCapacity()) {\n      parentBoundables.add(this$1.createNode(newLevel));\n    }\n    this$1.lastNode(parentBoundables).addChildBoundable(childBoundable);\n  }\n  return parentBoundables\n};\nAbstractSTRtree.prototype.isEmpty = function isEmpty () {\n  if (!this._built) { return this._itemBoundables.isEmpty() }\n  return this._root.isEmpty()\n};\nAbstractSTRtree.prototype.interfaces_ = function interfaces_ () {\n  return [Serializable]\n};\nAbstractSTRtree.prototype.getClass = function getClass () {\n  return AbstractSTRtree\n};\nAbstractSTRtree.compareDoubles = function compareDoubles (a, b) {\n  return a > b ? 1 : a < b ? -1 : 0\n};\nstaticAccessors$23.IntersectsOp.get = function () { return IntersectsOp };\nstaticAccessors$23.serialVersionUID.get = function () { return -3886435814360241337 };\nstaticAccessors$23.DEFAULT_NODE_CAPACITY.get = function () { return 10 };\n\nObject.defineProperties( AbstractSTRtree, staticAccessors$23 );\n\nvar IntersectsOp = function IntersectsOp () {};\n\nvar ItemDistance = function ItemDistance () {};\n\nItemDistance.prototype.distance = function distance (item1, item2) {};\nItemDistance.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nItemDistance.prototype.getClass = function getClass () {\n  return ItemDistance\n};\n\nvar STRtree = (function (AbstractSTRtree$$1) {\n  function STRtree (nodeCapacity) {\n    nodeCapacity = nodeCapacity || STRtree.DEFAULT_NODE_CAPACITY;\n    AbstractSTRtree$$1.call(this, nodeCapacity);\n  }\n\n  if ( AbstractSTRtree$$1 ) STRtree.__proto__ = AbstractSTRtree$$1;\n  STRtree.prototype = Object.create( AbstractSTRtree$$1 && AbstractSTRtree$$1.prototype );\n  STRtree.prototype.constructor = STRtree;\n\n  var staticAccessors = { STRtreeNode: { configurable: true },serialVersionUID: { configurable: true },xComparator: { configurable: true },yComparator: { configurable: true },intersectsOp: { configurable: true },DEFAULT_NODE_CAPACITY: { configurable: true } };\n  STRtree.prototype.createParentBoundablesFromVerticalSlices = function createParentBoundablesFromVerticalSlices (verticalSlices, newLevel) {\n    var this$1 = this;\n\n    Assert.isTrue(verticalSlices.length > 0);\n    var parentBoundables = new ArrayList();\n    for (var i = 0; i < verticalSlices.length; i++) {\n      parentBoundables.addAll(this$1.createParentBoundablesFromVerticalSlice(verticalSlices[i], newLevel));\n    }\n    return parentBoundables\n  };\n  STRtree.prototype.createNode = function createNode (level) {\n    return new STRtreeNode(level)\n  };\n  STRtree.prototype.size = function size () {\n    if (arguments.length === 0) {\n      return AbstractSTRtree$$1.prototype.size.call(this)\n    } else { return AbstractSTRtree$$1.prototype.size.apply(this, arguments) }\n  };\n  STRtree.prototype.insert = function insert () {\n    if (arguments.length === 2) {\n      var itemEnv = arguments[0];\n      var item = arguments[1];\n      if (itemEnv.isNull()) {\n        return null\n      }\n      AbstractSTRtree$$1.prototype.insert.call(this, itemEnv, item);\n    } else { return AbstractSTRtree$$1.prototype.insert.apply(this, arguments) }\n  };\n  STRtree.prototype.getIntersectsOp = function getIntersectsOp () {\n    return STRtree.intersectsOp\n  };\n  STRtree.prototype.verticalSlices = function verticalSlices (childBoundables, sliceCount) {\n    var sliceCapacity = Math.trunc(Math.ceil(childBoundables.size() / sliceCount));\n    var slices = new Array(sliceCount).fill(null);\n    var i = childBoundables.iterator();\n    for (var j = 0; j < sliceCount; j++) {\n      slices[j] = new ArrayList();\n      var boundablesAddedToSlice = 0;\n      while (i.hasNext() && boundablesAddedToSlice < sliceCapacity) {\n        var childBoundable = i.next();\n        slices[j].add(childBoundable);\n        boundablesAddedToSlice++;\n      }\n    }\n    return slices\n  };\n  STRtree.prototype.query = function query () {\n    if (arguments.length === 1) {\n      var searchEnv = arguments[0];\n      return AbstractSTRtree$$1.prototype.query.call(this, searchEnv)\n    } else if (arguments.length === 2) {\n      var searchEnv$1 = arguments[0];\n      var visitor = arguments[1];\n      AbstractSTRtree$$1.prototype.query.call(this, searchEnv$1, visitor);\n    } else if (arguments.length === 3) {\n      if (hasInterface(arguments[2], ItemVisitor) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n        var searchBounds = arguments[0];\n        var node = arguments[1];\n        var visitor$1 = arguments[2];\n        AbstractSTRtree$$1.prototype.query.call(this, searchBounds, node, visitor$1);\n      } else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Object && arguments[1] instanceof AbstractNode)) {\n        var searchBounds$1 = arguments[0];\n        var node$1 = arguments[1];\n        var matches = arguments[2];\n        AbstractSTRtree$$1.prototype.query.call(this, searchBounds$1, node$1, matches);\n      }\n    }\n  };\n  STRtree.prototype.getComparator = function getComparator () {\n    return STRtree.yComparator\n  };\n  STRtree.prototype.createParentBoundablesFromVerticalSlice = function createParentBoundablesFromVerticalSlice (childBoundables, newLevel) {\n    return AbstractSTRtree$$1.prototype.createParentBoundables.call(this, childBoundables, newLevel)\n  };\n  STRtree.prototype.remove = function remove () {\n    if (arguments.length === 2) {\n      var itemEnv = arguments[0];\n      var item = arguments[1];\n      return AbstractSTRtree$$1.prototype.remove.call(this, itemEnv, item)\n    } else { return AbstractSTRtree$$1.prototype.remove.apply(this, arguments) }\n  };\n  STRtree.prototype.depth = function depth () {\n    if (arguments.length === 0) {\n      return AbstractSTRtree$$1.prototype.depth.call(this)\n    } else { return AbstractSTRtree$$1.prototype.depth.apply(this, arguments) }\n  };\n  STRtree.prototype.createParentBoundables = function createParentBoundables (childBoundables, newLevel) {\n    Assert.isTrue(!childBoundables.isEmpty());\n    var minLeafCount = Math.trunc(Math.ceil(childBoundables.size() / this.getNodeCapacity()));\n    var sortedChildBoundables = new ArrayList(childBoundables);\n    Collections.sort(sortedChildBoundables, STRtree.xComparator);\n    var verticalSlices = this.verticalSlices(sortedChildBoundables, Math.trunc(Math.ceil(Math.sqrt(minLeafCount))));\n    return this.createParentBoundablesFromVerticalSlices(verticalSlices, newLevel)\n  };\n  STRtree.prototype.nearestNeighbour = function nearestNeighbour () {\n    if (arguments.length === 1) {\n      if (hasInterface(arguments[0], ItemDistance)) {\n        var itemDist = arguments[0];\n        var bp = new BoundablePair(this.getRoot(), this.getRoot(), itemDist);\n        return this.nearestNeighbour(bp)\n      } else if (arguments[0] instanceof BoundablePair) {\n        var initBndPair = arguments[0];\n        return this.nearestNeighbour(initBndPair, Double.POSITIVE_INFINITY)\n      }\n    } else if (arguments.length === 2) {\n      if (arguments[0] instanceof STRtree && hasInterface(arguments[1], ItemDistance)) {\n        var tree = arguments[0];\n        var itemDist$1 = arguments[1];\n        var bp$1 = new BoundablePair(this.getRoot(), tree.getRoot(), itemDist$1);\n        return this.nearestNeighbour(bp$1)\n      } else if (arguments[0] instanceof BoundablePair && typeof arguments[1] === 'number') {\n        var initBndPair$1 = arguments[0];\n        var maxDistance = arguments[1];\n        var distanceLowerBound = maxDistance;\n        var minPair = null;\n        var priQ = new PriorityQueue();\n        priQ.add(initBndPair$1);\n        while (!priQ.isEmpty() && distanceLowerBound > 0.0) {\n          var bndPair = priQ.poll();\n          var currentDistance = bndPair.getDistance();\n          if (currentDistance >= distanceLowerBound) { break }\n          if (bndPair.isLeaves()) {\n            distanceLowerBound = currentDistance;\n            minPair = bndPair;\n          } else {\n            bndPair.expandToQueue(priQ, distanceLowerBound);\n          }\n        }\n        return [minPair.getBoundable(0).getItem(), minPair.getBoundable(1).getItem()]\n      }\n    } else if (arguments.length === 3) {\n      var env = arguments[0];\n      var item = arguments[1];\n      var itemDist$2 = arguments[2];\n      var bnd = new ItemBoundable(env, item);\n      var bp$2 = new BoundablePair(this.getRoot(), bnd, itemDist$2);\n      return this.nearestNeighbour(bp$2)[0]\n    }\n  };\n  STRtree.prototype.interfaces_ = function interfaces_ () {\n    return [SpatialIndex, Serializable]\n  };\n  STRtree.prototype.getClass = function getClass () {\n    return STRtree\n  };\n  STRtree.centreX = function centreX (e) {\n    return STRtree.avg(e.getMinX(), e.getMaxX())\n  };\n  STRtree.avg = function avg (a, b) {\n    return (a + b) / 2\n  };\n  STRtree.centreY = function centreY (e) {\n    return STRtree.avg(e.getMinY(), e.getMaxY())\n  };\n  staticAccessors.STRtreeNode.get = function () { return STRtreeNode };\n  staticAccessors.serialVersionUID.get = function () { return 259274702368956900 };\n  staticAccessors.xComparator.get = function () {\n    return {\n      interfaces_: function () {\n        return [Comparator]\n      },\n      compare: function (o1, o2) {\n        return AbstractSTRtree$$1.compareDoubles(STRtree.centreX(o1.getBounds()), STRtree.centreX(o2.getBounds()))\n      }\n    }\n  };\n  staticAccessors.yComparator.get = function () {\n    return {\n      interfaces_: function () {\n        return [Comparator]\n      },\n      compare: function (o1, o2) {\n        return AbstractSTRtree$$1.compareDoubles(STRtree.centreY(o1.getBounds()), STRtree.centreY(o2.getBounds()))\n      }\n    }\n  };\n  staticAccessors.intersectsOp.get = function () {\n    return {\n      interfaces_: function () {\n        return [AbstractSTRtree$$1.IntersectsOp]\n      },\n      intersects: function (aBounds, bBounds) {\n        return aBounds.intersects(bBounds)\n      }\n    }\n  };\n  staticAccessors.DEFAULT_NODE_CAPACITY.get = function () { return 10 };\n\n  Object.defineProperties( STRtree, staticAccessors );\n\n  return STRtree;\n}(AbstractSTRtree));\n\nvar STRtreeNode = (function (AbstractNode$$1) {\n  function STRtreeNode () {\n    var level = arguments[0];\n    AbstractNode$$1.call(this, level);\n  }\n\n  if ( AbstractNode$$1 ) STRtreeNode.__proto__ = AbstractNode$$1;\n  STRtreeNode.prototype = Object.create( AbstractNode$$1 && AbstractNode$$1.prototype );\n  STRtreeNode.prototype.constructor = STRtreeNode;\n  STRtreeNode.prototype.computeBounds = function computeBounds () {\n    var bounds = null;\n    for (var i = this.getChildBoundables().iterator(); i.hasNext();) {\n      var childBoundable = i.next();\n      if (bounds === null) {\n        bounds = new Envelope(childBoundable.getBounds());\n      } else {\n        bounds.expandToInclude(childBoundable.getBounds());\n      }\n    }\n    return bounds\n  };\n  STRtreeNode.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  STRtreeNode.prototype.getClass = function getClass () {\n    return STRtreeNode\n  };\n\n  return STRtreeNode;\n}(AbstractNode));\n\nvar SegmentPointComparator = function SegmentPointComparator () {};\n\nSegmentPointComparator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSegmentPointComparator.prototype.getClass = function getClass () {\n  return SegmentPointComparator\n};\nSegmentPointComparator.relativeSign = function relativeSign (x0, x1) {\n  if (x0 < x1) { return -1 }\n  if (x0 > x1) { return 1 }\n  return 0\n};\nSegmentPointComparator.compare = function compare (octant, p0, p1) {\n  if (p0.equals2D(p1)) { return 0 }\n  var xSign = SegmentPointComparator.relativeSign(p0.x, p1.x);\n  var ySign = SegmentPointComparator.relativeSign(p0.y, p1.y);\n  switch (octant) {\n    case 0:\n      return SegmentPointComparator.compareValue(xSign, ySign)\n    case 1:\n      return SegmentPointComparator.compareValue(ySign, xSign)\n    case 2:\n      return SegmentPointComparator.compareValue(ySign, -xSign)\n    case 3:\n      return SegmentPointComparator.compareValue(-xSign, ySign)\n    case 4:\n      return SegmentPointComparator.compareValue(-xSign, -ySign)\n    case 5:\n      return SegmentPointComparator.compareValue(-ySign, -xSign)\n    case 6:\n      return SegmentPointComparator.compareValue(-ySign, xSign)\n    case 7:\n      return SegmentPointComparator.compareValue(xSign, -ySign)\n    default:\n  }\n  Assert.shouldNeverReachHere('invalid octant value');\n  return 0\n};\nSegmentPointComparator.compareValue = function compareValue (compareSign0, compareSign1) {\n  if (compareSign0 < 0) { return -1 }\n  if (compareSign0 > 0) { return 1 }\n  if (compareSign1 < 0) { return -1 }\n  if (compareSign1 > 0) { return 1 }\n  return 0\n};\n\nvar SegmentNode = function SegmentNode () {\n  this._segString = null;\n  this.coord = null;\n  this.segmentIndex = null;\n  this._segmentOctant = null;\n  this._isInterior = null;\n  var segString = arguments[0];\n  var coord = arguments[1];\n  var segmentIndex = arguments[2];\n  var segmentOctant = arguments[3];\n  this._segString = segString;\n  this.coord = new Coordinate(coord);\n  this.segmentIndex = segmentIndex;\n  this._segmentOctant = segmentOctant;\n  this._isInterior = !coord.equals2D(segString.getCoordinate(segmentIndex));\n};\nSegmentNode.prototype.getCoordinate = function getCoordinate () {\n  return this.coord\n};\nSegmentNode.prototype.print = function print (out) {\n  out.print(this.coord);\n  out.print(' seg # = ' + this.segmentIndex);\n};\nSegmentNode.prototype.compareTo = function compareTo (obj) {\n  var other = obj;\n  if (this.segmentIndex < other.segmentIndex) { return -1 }\n  if (this.segmentIndex > other.segmentIndex) { return 1 }\n  if (this.coord.equals2D(other.coord)) { return 0 }\n  return SegmentPointComparator.compare(this._segmentOctant, this.coord, other.coord)\n};\nSegmentNode.prototype.isEndPoint = function isEndPoint (maxSegmentIndex) {\n  if (this.segmentIndex === 0 && !this._isInterior) { return true }\n  if (this.segmentIndex === maxSegmentIndex) { return true }\n  return false\n};\nSegmentNode.prototype.isInterior = function isInterior () {\n  return this._isInterior\n};\nSegmentNode.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nSegmentNode.prototype.getClass = function getClass () {\n  return SegmentNode\n};\n\n// import Iterator from '../../../../java/util/Iterator'\nvar SegmentNodeList = function SegmentNodeList () {\n  this._nodeMap = new TreeMap();\n  this._edge = null;\n  var edge = arguments[0];\n  this._edge = edge;\n};\nSegmentNodeList.prototype.getSplitCoordinates = function getSplitCoordinates () {\n    var this$1 = this;\n\n  var coordList = new CoordinateList();\n  this.addEndpoints();\n  var it = this.iterator();\n  var eiPrev = it.next();\n  while (it.hasNext()) {\n    var ei = it.next();\n    this$1.addEdgeCoordinates(eiPrev, ei, coordList);\n    eiPrev = ei;\n  }\n  return coordList.toCoordinateArray()\n};\nSegmentNodeList.prototype.addCollapsedNodes = function addCollapsedNodes () {\n    var this$1 = this;\n\n  var collapsedVertexIndexes = new ArrayList();\n  this.findCollapsesFromInsertedNodes(collapsedVertexIndexes);\n  this.findCollapsesFromExistingVertices(collapsedVertexIndexes);\n  for (var it = collapsedVertexIndexes.iterator(); it.hasNext();) {\n    var vertexIndex = it.next().intValue();\n    this$1.add(this$1._edge.getCoordinate(vertexIndex), vertexIndex);\n  }\n};\nSegmentNodeList.prototype.print = function print (out) {\n  out.println('Intersections:');\n  for (var it = this.iterator(); it.hasNext();) {\n    var ei = it.next();\n    ei.print(out);\n  }\n};\nSegmentNodeList.prototype.findCollapsesFromExistingVertices = function findCollapsesFromExistingVertices (collapsedVertexIndexes) {\n    var this$1 = this;\n\n  for (var i = 0; i < this._edge.size() - 2; i++) {\n    var p0 = this$1._edge.getCoordinate(i);\n    // const p1 = this._edge.getCoordinate(i + 1)\n    var p2 = this$1._edge.getCoordinate(i + 2);\n    if (p0.equals2D(p2)) {\n      collapsedVertexIndexes.add(new Integer(i + 1));\n    }\n  }\n};\nSegmentNodeList.prototype.addEdgeCoordinates = function addEdgeCoordinates (ei0, ei1, coordList) {\n    var this$1 = this;\n\n  // let npts = ei1.segmentIndex - ei0.segmentIndex + 2\n  var lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n  var useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n  // if (!useIntPt1) {\n  // npts--\n  // }\n  // const ipt = 0\n  coordList.add(new Coordinate(ei0.coord), false);\n  for (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n    coordList.add(this$1._edge.getCoordinate(i));\n  }\n  if (useIntPt1) {\n    coordList.add(new Coordinate(ei1.coord));\n  }\n};\nSegmentNodeList.prototype.iterator = function iterator () {\n  return this._nodeMap.values().iterator()\n};\nSegmentNodeList.prototype.addSplitEdges = function addSplitEdges (edgeList) {\n    var this$1 = this;\n\n  this.addEndpoints();\n  this.addCollapsedNodes();\n  var it = this.iterator();\n  var eiPrev = it.next();\n  while (it.hasNext()) {\n    var ei = it.next();\n    var newEdge = this$1.createSplitEdge(eiPrev, ei);\n    edgeList.add(newEdge);\n    eiPrev = ei;\n  }\n};\nSegmentNodeList.prototype.findCollapseIndex = function findCollapseIndex (ei0, ei1, collapsedVertexIndex) {\n  if (!ei0.coord.equals2D(ei1.coord)) { return false }\n  var numVerticesBetween = ei1.segmentIndex - ei0.segmentIndex;\n  if (!ei1.isInterior()) {\n    numVerticesBetween--;\n  }\n  if (numVerticesBetween === 1) {\n    collapsedVertexIndex[0] = ei0.segmentIndex + 1;\n    return true\n  }\n  return false\n};\nSegmentNodeList.prototype.findCollapsesFromInsertedNodes = function findCollapsesFromInsertedNodes (collapsedVertexIndexes) {\n    var this$1 = this;\n\n  var collapsedVertexIndex = new Array(1).fill(null);\n  var it = this.iterator();\n  var eiPrev = it.next();\n  while (it.hasNext()) {\n    var ei = it.next();\n    var isCollapsed = this$1.findCollapseIndex(eiPrev, ei, collapsedVertexIndex);\n    if (isCollapsed) { collapsedVertexIndexes.add(new Integer(collapsedVertexIndex[0])); }\n    eiPrev = ei;\n  }\n};\nSegmentNodeList.prototype.getEdge = function getEdge () {\n  return this._edge\n};\nSegmentNodeList.prototype.addEndpoints = function addEndpoints () {\n  var maxSegIndex = this._edge.size() - 1;\n  this.add(this._edge.getCoordinate(0), 0);\n  this.add(this._edge.getCoordinate(maxSegIndex), maxSegIndex);\n};\nSegmentNodeList.prototype.createSplitEdge = function createSplitEdge (ei0, ei1) {\n    var this$1 = this;\n\n  var npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n  var lastSegStartPt = this._edge.getCoordinate(ei1.segmentIndex);\n  var useIntPt1 = ei1.isInterior() || !ei1.coord.equals2D(lastSegStartPt);\n  if (!useIntPt1) {\n    npts--;\n  }\n  var pts = new Array(npts).fill(null);\n  var ipt = 0;\n  pts[ipt++] = new Coordinate(ei0.coord);\n  for (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n    pts[ipt++] = this$1._edge.getCoordinate(i);\n  }\n  if (useIntPt1) { pts[ipt] = new Coordinate(ei1.coord); }\n  return new NodedSegmentString(pts, this._edge.getData())\n};\nSegmentNodeList.prototype.add = function add (intPt, segmentIndex) {\n  var eiNew = new SegmentNode(this._edge, intPt, segmentIndex, this._edge.getSegmentOctant(segmentIndex));\n  var ei = this._nodeMap.get(eiNew);\n  if (ei !== null) {\n    Assert.isTrue(ei.coord.equals2D(intPt), 'Found equal nodes with different coordinates');\n    return ei\n  }\n  this._nodeMap.put(eiNew, eiNew);\n  return eiNew\n};\nSegmentNodeList.prototype.checkSplitEdgesCorrectness = function checkSplitEdgesCorrectness (splitEdges) {\n  var edgePts = this._edge.getCoordinates();\n  var split0 = splitEdges.get(0);\n  var pt0 = split0.getCoordinate(0);\n  if (!pt0.equals2D(edgePts[0])) { throw new RuntimeException('bad split edge start point at ' + pt0) }\n  var splitn = splitEdges.get(splitEdges.size() - 1);\n  var splitnPts = splitn.getCoordinates();\n  var ptn = splitnPts[splitnPts.length - 1];\n  if (!ptn.equals2D(edgePts[edgePts.length - 1])) { throw new RuntimeException('bad split edge end point at ' + ptn) }\n};\nSegmentNodeList.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSegmentNodeList.prototype.getClass = function getClass () {\n  return SegmentNodeList\n};\n\n\n\n// class NodeVertexIterator {\n//   constructor () {\n//     this._nodeList = null\n//     this._edge = null\n//     this._nodeIt = null\n//     this._currNode = null\n//     this._nextNode = null\n//     this._currSegIndex = 0\n//     let nodeList = arguments[0]\n//     this._nodeList = nodeList\n//     this._edge = nodeList.getEdge()\n//     this._nodeIt = nodeList.iterator()\n//     this.readNextNode()\n//   }\n//   next () {\n//     if (this._currNode === null) {\n//       this._currNode = this._nextNode\n//       this._currSegIndex = this._currNode.segmentIndex\n//       this.readNextNode()\n//       return this._currNode\n//     }\n//     if (this._nextNode === null) return null\n//     if (this._nextNode.segmentIndex === this._currNode.segmentIndex) {\n//       this._currNode = this._nextNode\n//       this._currSegIndex = this._currNode.segmentIndex\n//       this.readNextNode()\n//       return this._currNode\n//     }\n//     if (this._nextNode.segmentIndex > this._currNode.segmentIndex) {}\n//     return null\n//   }\n//   remove () {\n//     // throw new UnsupportedOperationException(this.getClass().getName())\n//   }\n//   hasNext () {\n//     if (this._nextNode === null) return false\n//     return true\n//   }\n//   readNextNode () {\n//     if (this._nodeIt.hasNext()) this._nextNode = this._nodeIt.next(); else this._nextNode = null\n//   }\n//   interfaces_ () {\n//     return [Iterator]\n//   }\n//   getClass () {\n//     return NodeVertexIterator\n//   }\n// }\n\nvar Octant = function Octant () {};\n\nOctant.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nOctant.prototype.getClass = function getClass () {\n  return Octant\n};\nOctant.octant = function octant () {\n  if (typeof arguments[0] === 'number' && typeof arguments[1] === 'number') {\n    var dx = arguments[0];\n    var dy = arguments[1];\n    if (dx === 0.0 && dy === 0.0) { throw new IllegalArgumentException('Cannot compute the octant for point ( ' + dx + ', ' + dy + ' )') }\n    var adx = Math.abs(dx);\n    var ady = Math.abs(dy);\n    if (dx >= 0) {\n      if (dy >= 0) {\n        if (adx >= ady) { return 0; } else { return 1 }\n      } else {\n        if (adx >= ady) { return 7; } else { return 6 }\n      }\n    } else {\n      if (dy >= 0) {\n        if (adx >= ady) { return 3; } else { return 2 }\n      } else {\n        if (adx >= ady) { return 4; } else { return 5 }\n      }\n    }\n  } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Coordinate) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    var dx$1 = p1.x - p0.x;\n    var dy$1 = p1.y - p0.y;\n    if (dx$1 === 0.0 && dy$1 === 0.0) { throw new IllegalArgumentException('Cannot compute the octant for two identical points ' + p0) }\n    return Octant.octant(dx$1, dy$1)\n  }\n};\n\nvar SegmentString = function SegmentString () {};\n\nSegmentString.prototype.getCoordinates = function getCoordinates () {};\nSegmentString.prototype.size = function size () {};\nSegmentString.prototype.getCoordinate = function getCoordinate (i) {};\nSegmentString.prototype.isClosed = function isClosed () {};\nSegmentString.prototype.setData = function setData (data) {};\nSegmentString.prototype.getData = function getData () {};\nSegmentString.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSegmentString.prototype.getClass = function getClass () {\n  return SegmentString\n};\n\nvar NodableSegmentString = function NodableSegmentString () {};\n\nNodableSegmentString.prototype.addIntersection = function addIntersection (intPt, segmentIndex) {};\nNodableSegmentString.prototype.interfaces_ = function interfaces_ () {\n  return [SegmentString]\n};\nNodableSegmentString.prototype.getClass = function getClass () {\n  return NodableSegmentString\n};\n\nvar NodedSegmentString = function NodedSegmentString () {\n  this._nodeList = new SegmentNodeList(this);\n  this._pts = null;\n  this._data = null;\n  var pts = arguments[0];\n  var data = arguments[1];\n  this._pts = pts;\n  this._data = data;\n};\nNodedSegmentString.prototype.getCoordinates = function getCoordinates () {\n  return this._pts\n};\nNodedSegmentString.prototype.size = function size () {\n  return this._pts.length\n};\nNodedSegmentString.prototype.getCoordinate = function getCoordinate (i) {\n  return this._pts[i]\n};\nNodedSegmentString.prototype.isClosed = function isClosed () {\n  return this._pts[0].equals(this._pts[this._pts.length - 1])\n};\nNodedSegmentString.prototype.getSegmentOctant = function getSegmentOctant (index) {\n  if (index === this._pts.length - 1) { return -1 }\n  return this.safeOctant(this.getCoordinate(index), this.getCoordinate(index + 1))\n};\nNodedSegmentString.prototype.setData = function setData (data) {\n  this._data = data;\n};\nNodedSegmentString.prototype.safeOctant = function safeOctant (p0, p1) {\n  if (p0.equals2D(p1)) { return 0 }\n  return Octant.octant(p0, p1)\n};\nNodedSegmentString.prototype.getData = function getData () {\n  return this._data\n};\nNodedSegmentString.prototype.addIntersection = function addIntersection () {\n  if (arguments.length === 2) {\n    var intPt$1 = arguments[0];\n    var segmentIndex = arguments[1];\n    this.addIntersectionNode(intPt$1, segmentIndex);\n  } else if (arguments.length === 4) {\n    var li = arguments[0];\n    var segmentIndex$1 = arguments[1];\n    // const geomIndex = arguments[2]\n    var intIndex = arguments[3];\n    var intPt = new Coordinate(li.getIntersection(intIndex));\n    this.addIntersection(intPt, segmentIndex$1);\n  }\n};\nNodedSegmentString.prototype.toString = function toString () {\n  return WKTWriter.toLineString(new CoordinateArraySequence(this._pts))\n};\nNodedSegmentString.prototype.getNodeList = function getNodeList () {\n  return this._nodeList\n};\nNodedSegmentString.prototype.addIntersectionNode = function addIntersectionNode (intPt, segmentIndex) {\n  var normalizedSegmentIndex = segmentIndex;\n  var nextSegIndex = normalizedSegmentIndex + 1;\n  if (nextSegIndex < this._pts.length) {\n    var nextPt = this._pts[nextSegIndex];\n    if (intPt.equals2D(nextPt)) {\n      normalizedSegmentIndex = nextSegIndex;\n    }\n  }\n  var ei = this._nodeList.add(intPt, normalizedSegmentIndex);\n  return ei\n};\nNodedSegmentString.prototype.addIntersections = function addIntersections (li, segmentIndex, geomIndex) {\n    var this$1 = this;\n\n  for (var i = 0; i < li.getIntersectionNum(); i++) {\n    this$1.addIntersection(li, segmentIndex, geomIndex, i);\n  }\n};\nNodedSegmentString.prototype.interfaces_ = function interfaces_ () {\n  return [NodableSegmentString]\n};\nNodedSegmentString.prototype.getClass = function getClass () {\n  return NodedSegmentString\n};\nNodedSegmentString.getNodedSubstrings = function getNodedSubstrings () {\n  if (arguments.length === 1) {\n    var segStrings = arguments[0];\n    var resultEdgelist = new ArrayList();\n    NodedSegmentString.getNodedSubstrings(segStrings, resultEdgelist);\n    return resultEdgelist\n  } else if (arguments.length === 2) {\n    var segStrings$1 = arguments[0];\n    var resultEdgelist$1 = arguments[1];\n    for (var i = segStrings$1.iterator(); i.hasNext();) {\n      var ss = i.next();\n      ss.getNodeList().addSplitEdges(resultEdgelist$1);\n    }\n  }\n};\n\nvar LineSegment = function LineSegment () {\n  this.p0 = null;\n  this.p1 = null;\n  if (arguments.length === 0) {\n    this.p0 = new Coordinate();\n    this.p1 = new Coordinate();\n  } else if (arguments.length === 1) {\n    var ls = arguments[0];\n    this.p0 = new Coordinate(ls.p0);\n    this.p1 = new Coordinate(ls.p1);\n  } else if (arguments.length === 2) {\n    this.p0 = arguments[0];\n    this.p1 = arguments[1];\n  } else if (arguments.length === 4) {\n    var x0 = arguments[0];\n    var y0 = arguments[1];\n    var x1 = arguments[2];\n    var y1 = arguments[3];\n    this.p0 = new Coordinate(x0, y0);\n    this.p1 = new Coordinate(x1, y1);\n  }\n};\n\nvar staticAccessors$24 = { serialVersionUID: { configurable: true } };\nLineSegment.prototype.minX = function minX () {\n  return Math.min(this.p0.x, this.p1.x)\n};\nLineSegment.prototype.orientationIndex = function orientationIndex () {\n  if (arguments[0] instanceof LineSegment) {\n    var seg = arguments[0];\n    var orient0 = CGAlgorithms.orientationIndex(this.p0, this.p1, seg.p0);\n    var orient1 = CGAlgorithms.orientationIndex(this.p0, this.p1, seg.p1);\n    if (orient0 >= 0 && orient1 >= 0) { return Math.max(orient0, orient1) }\n    if (orient0 <= 0 && orient1 <= 0) { return Math.max(orient0, orient1) }\n    return 0\n  } else if (arguments[0] instanceof Coordinate) {\n    var p = arguments[0];\n    return CGAlgorithms.orientationIndex(this.p0, this.p1, p)\n  }\n};\nLineSegment.prototype.toGeometry = function toGeometry (geomFactory) {\n  return geomFactory.createLineString([this.p0, this.p1])\n};\nLineSegment.prototype.isVertical = function isVertical () {\n  return this.p0.x === this.p1.x\n};\nLineSegment.prototype.equals = function equals (o) {\n  if (!(o instanceof LineSegment)) {\n    return false\n  }\n  var other = o;\n  return this.p0.equals(other.p0) && this.p1.equals(other.p1)\n};\nLineSegment.prototype.intersection = function intersection (line) {\n  var li = new RobustLineIntersector();\n  li.computeIntersection(this.p0, this.p1, line.p0, line.p1);\n  if (li.hasIntersection()) { return li.getIntersection(0) }\n  return null\n};\nLineSegment.prototype.project = function project () {\n  if (arguments[0] instanceof Coordinate) {\n    var p = arguments[0];\n    if (p.equals(this.p0) || p.equals(this.p1)) { return new Coordinate(p) }\n    var r = this.projectionFactor(p);\n    var coord = new Coordinate();\n    coord.x = this.p0.x + r * (this.p1.x - this.p0.x);\n    coord.y = this.p0.y + r * (this.p1.y - this.p0.y);\n    return coord\n  } else if (arguments[0] instanceof LineSegment) {\n    var seg = arguments[0];\n    var pf0 = this.projectionFactor(seg.p0);\n    var pf1 = this.projectionFactor(seg.p1);\n    if (pf0 >= 1.0 && pf1 >= 1.0) { return null }\n    if (pf0 <= 0.0 && pf1 <= 0.0) { return null }\n    var newp0 = this.project(seg.p0);\n    if (pf0 < 0.0) { newp0 = this.p0; }\n    if (pf0 > 1.0) { newp0 = this.p1; }\n    var newp1 = this.project(seg.p1);\n    if (pf1 < 0.0) { newp1 = this.p0; }\n    if (pf1 > 1.0) { newp1 = this.p1; }\n    return new LineSegment(newp0, newp1)\n  }\n};\nLineSegment.prototype.normalize = function normalize () {\n  if (this.p1.compareTo(this.p0) < 0) { this.reverse(); }\n};\nLineSegment.prototype.angle = function angle () {\n  return Math.atan2(this.p1.y - this.p0.y, this.p1.x - this.p0.x)\n};\nLineSegment.prototype.getCoordinate = function getCoordinate (i) {\n  if (i === 0) { return this.p0 }\n  return this.p1\n};\nLineSegment.prototype.distancePerpendicular = function distancePerpendicular (p) {\n  return CGAlgorithms.distancePointLinePerpendicular(p, this.p0, this.p1)\n};\nLineSegment.prototype.minY = function minY () {\n  return Math.min(this.p0.y, this.p1.y)\n};\nLineSegment.prototype.midPoint = function midPoint () {\n  return LineSegment.midPoint(this.p0, this.p1)\n};\nLineSegment.prototype.projectionFactor = function projectionFactor (p) {\n  if (p.equals(this.p0)) { return 0.0 }\n  if (p.equals(this.p1)) { return 1.0 }\n  var dx = this.p1.x - this.p0.x;\n  var dy = this.p1.y - this.p0.y;\n  var len = dx * dx + dy * dy;\n  if (len <= 0.0) { return Double.NaN }\n  var r = ((p.x - this.p0.x) * dx + (p.y - this.p0.y) * dy) / len;\n  return r\n};\nLineSegment.prototype.closestPoints = function closestPoints (line) {\n  var intPt = this.intersection(line);\n  if (intPt !== null) {\n    return [intPt, intPt]\n  }\n  var closestPt = new Array(2).fill(null);\n  var minDistance = Double.MAX_VALUE;\n  var dist = null;\n  var close00 = this.closestPoint(line.p0);\n  minDistance = close00.distance(line.p0);\n  closestPt[0] = close00;\n  closestPt[1] = line.p0;\n  var close01 = this.closestPoint(line.p1);\n  dist = close01.distance(line.p1);\n  if (dist < minDistance) {\n    minDistance = dist;\n    closestPt[0] = close01;\n    closestPt[1] = line.p1;\n  }\n  var close10 = line.closestPoint(this.p0);\n  dist = close10.distance(this.p0);\n  if (dist < minDistance) {\n    minDistance = dist;\n    closestPt[0] = this.p0;\n    closestPt[1] = close10;\n  }\n  var close11 = line.closestPoint(this.p1);\n  dist = close11.distance(this.p1);\n  if (dist < minDistance) {\n    minDistance = dist;\n    closestPt[0] = this.p1;\n    closestPt[1] = close11;\n  }\n  return closestPt\n};\nLineSegment.prototype.closestPoint = function closestPoint (p) {\n  var factor = this.projectionFactor(p);\n  if (factor > 0 && factor < 1) {\n    return this.project(p)\n  }\n  var dist0 = this.p0.distance(p);\n  var dist1 = this.p1.distance(p);\n  if (dist0 < dist1) { return this.p0 }\n  return this.p1\n};\nLineSegment.prototype.maxX = function maxX () {\n  return Math.max(this.p0.x, this.p1.x)\n};\nLineSegment.prototype.getLength = function getLength () {\n  return this.p0.distance(this.p1)\n};\nLineSegment.prototype.compareTo = function compareTo (o) {\n  var other = o;\n  var comp0 = this.p0.compareTo(other.p0);\n  if (comp0 !== 0) { return comp0 }\n  return this.p1.compareTo(other.p1)\n};\nLineSegment.prototype.reverse = function reverse () {\n  var temp = this.p0;\n  this.p0 = this.p1;\n  this.p1 = temp;\n};\nLineSegment.prototype.equalsTopo = function equalsTopo (other) {\n  return this.p0.equals(other.p0) &&\n        (this.p1.equals(other.p1) || this.p0.equals(other.p1)) &&\n         this.p1.equals(other.p0)\n};\nLineSegment.prototype.lineIntersection = function lineIntersection (line) {\n  try {\n    var intPt = HCoordinate.intersection(this.p0, this.p1, line.p0, line.p1);\n    return intPt\n  } catch (ex) {\n    if (ex instanceof NotRepresentableException) {} else { throw ex }\n  } finally {}\n  return null\n};\nLineSegment.prototype.maxY = function maxY () {\n  return Math.max(this.p0.y, this.p1.y)\n};\nLineSegment.prototype.pointAlongOffset = function pointAlongOffset (segmentLengthFraction, offsetDistance) {\n  var segx = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n  var segy = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n  var dx = this.p1.x - this.p0.x;\n  var dy = this.p1.y - this.p0.y;\n  var len = Math.sqrt(dx * dx + dy * dy);\n  var ux = 0.0;\n  var uy = 0.0;\n  if (offsetDistance !== 0.0) {\n    if (len <= 0.0) { throw new Error('Cannot compute offset from zero-length line segment') }\n    ux = offsetDistance * dx / len;\n    uy = offsetDistance * dy / len;\n  }\n  var offsetx = segx - uy;\n  var offsety = segy + ux;\n  var coord = new Coordinate(offsetx, offsety);\n  return coord\n};\nLineSegment.prototype.setCoordinates = function setCoordinates () {\n  if (arguments.length === 1) {\n    var ls = arguments[0];\n    this.setCoordinates(ls.p0, ls.p1);\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    this.p0.x = p0.x;\n    this.p0.y = p0.y;\n    this.p1.x = p1.x;\n    this.p1.y = p1.y;\n  }\n};\nLineSegment.prototype.segmentFraction = function segmentFraction (inputPt) {\n  var segFrac = this.projectionFactor(inputPt);\n  if (segFrac < 0.0) { segFrac = 0.0; } else if (segFrac > 1.0 || Double.isNaN(segFrac)) { segFrac = 1.0; }\n  return segFrac\n};\nLineSegment.prototype.toString = function toString () {\n  return 'LINESTRING( ' + this.p0.x + ' ' + this.p0.y + ', ' + this.p1.x + ' ' + this.p1.y + ')'\n};\nLineSegment.prototype.isHorizontal = function isHorizontal () {\n  return this.p0.y === this.p1.y\n};\nLineSegment.prototype.distance = function distance () {\n  if (arguments[0] instanceof LineSegment) {\n    var ls = arguments[0];\n    return CGAlgorithms.distanceLineLine(this.p0, this.p1, ls.p0, ls.p1)\n  } else if (arguments[0] instanceof Coordinate) {\n    var p = arguments[0];\n    return CGAlgorithms.distancePointLine(p, this.p0, this.p1)\n  }\n};\nLineSegment.prototype.pointAlong = function pointAlong (segmentLengthFraction) {\n  var coord = new Coordinate();\n  coord.x = this.p0.x + segmentLengthFraction * (this.p1.x - this.p0.x);\n  coord.y = this.p0.y + segmentLengthFraction * (this.p1.y - this.p0.y);\n  return coord\n};\nLineSegment.prototype.hashCode = function hashCode () {\n  var bits0 = Double.doubleToLongBits(this.p0.x);\n  bits0 ^= Double.doubleToLongBits(this.p0.y) * 31;\n  var hash0 = Math.trunc(bits0) ^ Math.trunc(bits0 >> 32);\n  var bits1 = Double.doubleToLongBits(this.p1.x);\n  bits1 ^= Double.doubleToLongBits(this.p1.y) * 31;\n  var hash1 = Math.trunc(bits1) ^ Math.trunc(bits1 >> 32);\n  return hash0 ^ hash1\n};\nLineSegment.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable, Serializable]\n};\nLineSegment.prototype.getClass = function getClass () {\n  return LineSegment\n};\nLineSegment.midPoint = function midPoint (p0, p1) {\n  return new Coordinate((p0.x + p1.x) / 2, (p0.y + p1.y) / 2)\n};\nstaticAccessors$24.serialVersionUID.get = function () { return 3252005833466256227 };\n\nObject.defineProperties( LineSegment, staticAccessors$24 );\n\nvar MonotoneChainOverlapAction = function MonotoneChainOverlapAction () {\n  this.tempEnv1 = new Envelope();\n  this.tempEnv2 = new Envelope();\n  this._overlapSeg1 = new LineSegment();\n  this._overlapSeg2 = new LineSegment();\n};\nMonotoneChainOverlapAction.prototype.overlap = function overlap () {\n  if (arguments.length === 2) {\n    // const seg1 = arguments[0]\n    // const seg2 = arguments[1]\n  } else if (arguments.length === 4) {\n    var mc1 = arguments[0];\n    var start1 = arguments[1];\n    var mc2 = arguments[2];\n    var start2 = arguments[3];\n    mc1.getLineSegment(start1, this._overlapSeg1);\n    mc2.getLineSegment(start2, this._overlapSeg2);\n    this.overlap(this._overlapSeg1, this._overlapSeg2);\n  }\n};\nMonotoneChainOverlapAction.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMonotoneChainOverlapAction.prototype.getClass = function getClass () {\n  return MonotoneChainOverlapAction\n};\n\nvar MonotoneChain = function MonotoneChain () {\n  this._pts = null;\n  this._start = null;\n  this._end = null;\n  this._env = null;\n  this._context = null;\n  this._id = null;\n  var pts = arguments[0];\n  var start = arguments[1];\n  var end = arguments[2];\n  var context = arguments[3];\n  this._pts = pts;\n  this._start = start;\n  this._end = end;\n  this._context = context;\n};\nMonotoneChain.prototype.getLineSegment = function getLineSegment (index, ls) {\n  ls.p0 = this._pts[index];\n  ls.p1 = this._pts[index + 1];\n};\nMonotoneChain.prototype.computeSelect = function computeSelect (searchEnv, start0, end0, mcs) {\n  var p0 = this._pts[start0];\n  var p1 = this._pts[end0];\n  mcs.tempEnv1.init(p0, p1);\n  if (end0 - start0 === 1) {\n    mcs.select(this, start0);\n    return null\n  }\n  if (!searchEnv.intersects(mcs.tempEnv1)) { return null }\n  var mid = Math.trunc((start0 + end0) / 2);\n  if (start0 < mid) {\n    this.computeSelect(searchEnv, start0, mid, mcs);\n  }\n  if (mid < end0) {\n    this.computeSelect(searchEnv, mid, end0, mcs);\n  }\n};\nMonotoneChain.prototype.getCoordinates = function getCoordinates () {\n    var this$1 = this;\n\n  var coord = new Array(this._end - this._start + 1).fill(null);\n  var index = 0;\n  for (var i = this._start; i <= this._end; i++) {\n    coord[index++] = this$1._pts[i];\n  }\n  return coord\n};\nMonotoneChain.prototype.computeOverlaps = function computeOverlaps (mc, mco) {\n  this.computeOverlapsInternal(this._start, this._end, mc, mc._start, mc._end, mco);\n};\nMonotoneChain.prototype.setId = function setId (id) {\n  this._id = id;\n};\nMonotoneChain.prototype.select = function select (searchEnv, mcs) {\n  this.computeSelect(searchEnv, this._start, this._end, mcs);\n};\nMonotoneChain.prototype.getEnvelope = function getEnvelope () {\n  if (this._env === null) {\n    var p0 = this._pts[this._start];\n    var p1 = this._pts[this._end];\n    this._env = new Envelope(p0, p1);\n  }\n  return this._env\n};\nMonotoneChain.prototype.getEndIndex = function getEndIndex () {\n  return this._end\n};\nMonotoneChain.prototype.getStartIndex = function getStartIndex () {\n  return this._start\n};\nMonotoneChain.prototype.getContext = function getContext () {\n  return this._context\n};\nMonotoneChain.prototype.getId = function getId () {\n  return this._id\n};\nMonotoneChain.prototype.computeOverlapsInternal = function computeOverlapsInternal (start0, end0, mc, start1, end1, mco) {\n  var p00 = this._pts[start0];\n  var p01 = this._pts[end0];\n  var p10 = mc._pts[start1];\n  var p11 = mc._pts[end1];\n  if (end0 - start0 === 1 && end1 - start1 === 1) {\n    mco.overlap(this, start0, mc, start1);\n    return null\n  }\n  mco.tempEnv1.init(p00, p01);\n  mco.tempEnv2.init(p10, p11);\n  if (!mco.tempEnv1.intersects(mco.tempEnv2)) { return null }\n  var mid0 = Math.trunc((start0 + end0) / 2);\n  var mid1 = Math.trunc((start1 + end1) / 2);\n  if (start0 < mid0) {\n    if (start1 < mid1) { this.computeOverlapsInternal(start0, mid0, mc, start1, mid1, mco); }\n    if (mid1 < end1) { this.computeOverlapsInternal(start0, mid0, mc, mid1, end1, mco); }\n  }\n  if (mid0 < end0) {\n    if (start1 < mid1) { this.computeOverlapsInternal(mid0, end0, mc, start1, mid1, mco); }\n    if (mid1 < end1) { this.computeOverlapsInternal(mid0, end0, mc, mid1, end1, mco); }\n  }\n};\nMonotoneChain.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMonotoneChain.prototype.getClass = function getClass () {\n  return MonotoneChain\n};\n\nvar MonotoneChainBuilder = function MonotoneChainBuilder () {};\n\nMonotoneChainBuilder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMonotoneChainBuilder.prototype.getClass = function getClass () {\n  return MonotoneChainBuilder\n};\nMonotoneChainBuilder.getChainStartIndices = function getChainStartIndices (pts) {\n  var start = 0;\n  var startIndexList = new ArrayList();\n  startIndexList.add(new Integer(start));\n  do {\n    var last = MonotoneChainBuilder.findChainEnd(pts, start);\n    startIndexList.add(new Integer(last));\n    start = last;\n  } while (start < pts.length - 1)\n  var startIndex = MonotoneChainBuilder.toIntArray(startIndexList);\n  return startIndex\n};\nMonotoneChainBuilder.findChainEnd = function findChainEnd (pts, start) {\n  var safeStart = start;\n  while (safeStart < pts.length - 1 && pts[safeStart].equals2D(pts[safeStart + 1])) {\n    safeStart++;\n  }\n  if (safeStart >= pts.length - 1) {\n    return pts.length - 1\n  }\n  var chainQuad = Quadrant.quadrant(pts[safeStart], pts[safeStart + 1]);\n  var last = start + 1;\n  while (last < pts.length) {\n    if (!pts[last - 1].equals2D(pts[last])) {\n      var quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n      if (quad !== chainQuad) { break }\n    }\n    last++;\n  }\n  return last - 1\n};\nMonotoneChainBuilder.getChains = function getChains () {\n  if (arguments.length === 1) {\n    var pts = arguments[0];\n    return MonotoneChainBuilder.getChains(pts, null)\n  } else if (arguments.length === 2) {\n    var pts$1 = arguments[0];\n    var context = arguments[1];\n    var mcList = new ArrayList();\n    var startIndex = MonotoneChainBuilder.getChainStartIndices(pts$1);\n    for (var i = 0; i < startIndex.length - 1; i++) {\n      var mc = new MonotoneChain(pts$1, startIndex[i], startIndex[i + 1], context);\n      mcList.add(mc);\n    }\n    return mcList\n  }\n};\nMonotoneChainBuilder.toIntArray = function toIntArray (list) {\n  var array = new Array(list.size()).fill(null);\n  for (var i = 0; i < array.length; i++) {\n    array[i] = list.get(i).intValue();\n  }\n  return array\n};\n\nvar Noder = function Noder () {};\n\nNoder.prototype.computeNodes = function computeNodes (segStrings) {};\nNoder.prototype.getNodedSubstrings = function getNodedSubstrings () {};\nNoder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nNoder.prototype.getClass = function getClass () {\n  return Noder\n};\n\nvar SinglePassNoder = function SinglePassNoder () {\n  this._segInt = null;\n  if (arguments.length === 0) {} else if (arguments.length === 1) {\n    var segInt = arguments[0];\n    this.setSegmentIntersector(segInt);\n  }\n};\nSinglePassNoder.prototype.setSegmentIntersector = function setSegmentIntersector (segInt) {\n  this._segInt = segInt;\n};\nSinglePassNoder.prototype.interfaces_ = function interfaces_ () {\n  return [Noder]\n};\nSinglePassNoder.prototype.getClass = function getClass () {\n  return SinglePassNoder\n};\n\nvar MCIndexNoder = (function (SinglePassNoder$$1) {\n  function MCIndexNoder (si) {\n    if (si) { SinglePassNoder$$1.call(this, si); }\n    else { SinglePassNoder$$1.call(this); }\n    this._monoChains = new ArrayList();\n    this._index = new STRtree();\n    this._idCounter = 0;\n    this._nodedSegStrings = null;\n    this._nOverlaps = 0;\n  }\n\n  if ( SinglePassNoder$$1 ) MCIndexNoder.__proto__ = SinglePassNoder$$1;\n  MCIndexNoder.prototype = Object.create( SinglePassNoder$$1 && SinglePassNoder$$1.prototype );\n  MCIndexNoder.prototype.constructor = MCIndexNoder;\n\n  var staticAccessors = { SegmentOverlapAction: { configurable: true } };\n  MCIndexNoder.prototype.getMonotoneChains = function getMonotoneChains () {\n    return this._monoChains\n  };\n  MCIndexNoder.prototype.getNodedSubstrings = function getNodedSubstrings () {\n    return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings)\n  };\n  MCIndexNoder.prototype.getIndex = function getIndex () {\n    return this._index\n  };\n  MCIndexNoder.prototype.add = function add (segStr) {\n    var this$1 = this;\n\n    var segChains = MonotoneChainBuilder.getChains(segStr.getCoordinates(), segStr);\n    for (var i = segChains.iterator(); i.hasNext();) {\n      var mc = i.next();\n      mc.setId(this$1._idCounter++);\n      this$1._index.insert(mc.getEnvelope(), mc);\n      this$1._monoChains.add(mc);\n    }\n  };\n  MCIndexNoder.prototype.computeNodes = function computeNodes (inputSegStrings) {\n    var this$1 = this;\n\n    this._nodedSegStrings = inputSegStrings;\n    for (var i = inputSegStrings.iterator(); i.hasNext();) {\n      this$1.add(i.next());\n    }\n    this.intersectChains();\n  };\n  MCIndexNoder.prototype.intersectChains = function intersectChains () {\n    var this$1 = this;\n\n    var overlapAction = new SegmentOverlapAction(this._segInt);\n    for (var i = this._monoChains.iterator(); i.hasNext();) {\n      var queryChain = i.next();\n      var overlapChains = this$1._index.query(queryChain.getEnvelope());\n      for (var j = overlapChains.iterator(); j.hasNext();) {\n        var testChain = j.next();\n        if (testChain.getId() > queryChain.getId()) {\n          queryChain.computeOverlaps(testChain, overlapAction);\n          this$1._nOverlaps++;\n        }\n        if (this$1._segInt.isDone()) { return null }\n      }\n    }\n  };\n  MCIndexNoder.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  MCIndexNoder.prototype.getClass = function getClass () {\n    return MCIndexNoder\n  };\n  staticAccessors.SegmentOverlapAction.get = function () { return SegmentOverlapAction };\n\n  Object.defineProperties( MCIndexNoder, staticAccessors );\n\n  return MCIndexNoder;\n}(SinglePassNoder));\n\nvar SegmentOverlapAction = (function (MonotoneChainOverlapAction$$1) {\n  function SegmentOverlapAction () {\n    MonotoneChainOverlapAction$$1.call(this);\n    this._si = null;\n    var si = arguments[0];\n    this._si = si;\n  }\n\n  if ( MonotoneChainOverlapAction$$1 ) SegmentOverlapAction.__proto__ = MonotoneChainOverlapAction$$1;\n  SegmentOverlapAction.prototype = Object.create( MonotoneChainOverlapAction$$1 && MonotoneChainOverlapAction$$1.prototype );\n  SegmentOverlapAction.prototype.constructor = SegmentOverlapAction;\n  SegmentOverlapAction.prototype.overlap = function overlap () {\n    if (arguments.length === 4) {\n      var mc1 = arguments[0];\n      var start1 = arguments[1];\n      var mc2 = arguments[2];\n      var start2 = arguments[3];\n      var ss1 = mc1.getContext();\n      var ss2 = mc2.getContext();\n      this._si.processIntersections(ss1, start1, ss2, start2);\n    } else { return MonotoneChainOverlapAction$$1.prototype.overlap.apply(this, arguments) }\n  };\n  SegmentOverlapAction.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  SegmentOverlapAction.prototype.getClass = function getClass () {\n    return SegmentOverlapAction\n  };\n\n  return SegmentOverlapAction;\n}(MonotoneChainOverlapAction));\n\nvar BufferParameters = function BufferParameters () {\n  this._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n  this._endCapStyle = BufferParameters.CAP_ROUND;\n  this._joinStyle = BufferParameters.JOIN_ROUND;\n  this._mitreLimit = BufferParameters.DEFAULT_MITRE_LIMIT;\n  this._isSingleSided = false;\n  this._simplifyFactor = BufferParameters.DEFAULT_SIMPLIFY_FACTOR;\n\n  if (arguments.length === 0) {} else if (arguments.length === 1) {\n    var quadrantSegments = arguments[0];\n    this.setQuadrantSegments(quadrantSegments);\n  } else if (arguments.length === 2) {\n    var quadrantSegments$1 = arguments[0];\n    var endCapStyle = arguments[1];\n    this.setQuadrantSegments(quadrantSegments$1);\n    this.setEndCapStyle(endCapStyle);\n  } else if (arguments.length === 4) {\n    var quadrantSegments$2 = arguments[0];\n    var endCapStyle$1 = arguments[1];\n    var joinStyle = arguments[2];\n    var mitreLimit = arguments[3];\n    this.setQuadrantSegments(quadrantSegments$2);\n    this.setEndCapStyle(endCapStyle$1);\n    this.setJoinStyle(joinStyle);\n    this.setMitreLimit(mitreLimit);\n  }\n};\n\nvar staticAccessors$25 = { CAP_ROUND: { configurable: true },CAP_FLAT: { configurable: true },CAP_SQUARE: { configurable: true },JOIN_ROUND: { configurable: true },JOIN_MITRE: { configurable: true },JOIN_BEVEL: { configurable: true },DEFAULT_QUADRANT_SEGMENTS: { configurable: true },DEFAULT_MITRE_LIMIT: { configurable: true },DEFAULT_SIMPLIFY_FACTOR: { configurable: true } };\nBufferParameters.prototype.getEndCapStyle = function getEndCapStyle () {\n  return this._endCapStyle\n};\nBufferParameters.prototype.isSingleSided = function isSingleSided () {\n  return this._isSingleSided\n};\nBufferParameters.prototype.setQuadrantSegments = function setQuadrantSegments (quadSegs) {\n  this._quadrantSegments = quadSegs;\n  if (this._quadrantSegments === 0) { this._joinStyle = BufferParameters.JOIN_BEVEL; }\n  if (this._quadrantSegments < 0) {\n    this._joinStyle = BufferParameters.JOIN_MITRE;\n    this._mitreLimit = Math.abs(this._quadrantSegments);\n  }\n  if (quadSegs <= 0) {\n    this._quadrantSegments = 1;\n  }\n  if (this._joinStyle !== BufferParameters.JOIN_ROUND) {\n    this._quadrantSegments = BufferParameters.DEFAULT_QUADRANT_SEGMENTS;\n  }\n};\nBufferParameters.prototype.getJoinStyle = function getJoinStyle () {\n  return this._joinStyle\n};\nBufferParameters.prototype.setJoinStyle = function setJoinStyle (joinStyle) {\n  this._joinStyle = joinStyle;\n};\nBufferParameters.prototype.setSimplifyFactor = function setSimplifyFactor (simplifyFactor) {\n  this._simplifyFactor = simplifyFactor < 0 ? 0 : simplifyFactor;\n};\nBufferParameters.prototype.getSimplifyFactor = function getSimplifyFactor () {\n  return this._simplifyFactor\n};\nBufferParameters.prototype.getQuadrantSegments = function getQuadrantSegments () {\n  return this._quadrantSegments\n};\nBufferParameters.prototype.setEndCapStyle = function setEndCapStyle (endCapStyle) {\n  this._endCapStyle = endCapStyle;\n};\nBufferParameters.prototype.getMitreLimit = function getMitreLimit () {\n  return this._mitreLimit\n};\nBufferParameters.prototype.setMitreLimit = function setMitreLimit (mitreLimit) {\n  this._mitreLimit = mitreLimit;\n};\nBufferParameters.prototype.setSingleSided = function setSingleSided (isSingleSided) {\n  this._isSingleSided = isSingleSided;\n};\nBufferParameters.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBufferParameters.prototype.getClass = function getClass () {\n  return BufferParameters\n};\nBufferParameters.bufferDistanceError = function bufferDistanceError (quadSegs) {\n  var alpha = Math.PI / 2.0 / quadSegs;\n  return 1 - Math.cos(alpha / 2.0)\n};\nstaticAccessors$25.CAP_ROUND.get = function () { return 1 };\nstaticAccessors$25.CAP_FLAT.get = function () { return 2 };\nstaticAccessors$25.CAP_SQUARE.get = function () { return 3 };\nstaticAccessors$25.JOIN_ROUND.get = function () { return 1 };\nstaticAccessors$25.JOIN_MITRE.get = function () { return 2 };\nstaticAccessors$25.JOIN_BEVEL.get = function () { return 3 };\nstaticAccessors$25.DEFAULT_QUADRANT_SEGMENTS.get = function () { return 8 };\nstaticAccessors$25.DEFAULT_MITRE_LIMIT.get = function () { return 5.0 };\nstaticAccessors$25.DEFAULT_SIMPLIFY_FACTOR.get = function () { return 0.01 };\n\nObject.defineProperties( BufferParameters, staticAccessors$25 );\n\nvar BufferInputLineSimplifier = function BufferInputLineSimplifier (inputLine) {\n  this._distanceTol = null;\n  this._isDeleted = null;\n  this._angleOrientation = CGAlgorithms.COUNTERCLOCKWISE;\n  this._inputLine = inputLine || null;\n};\n\nvar staticAccessors$26 = { INIT: { configurable: true },DELETE: { configurable: true },KEEP: { configurable: true },NUM_PTS_TO_CHECK: { configurable: true } };\nBufferInputLineSimplifier.prototype.isDeletable = function isDeletable (i0, i1, i2, distanceTol) {\n  var p0 = this._inputLine[i0];\n  var p1 = this._inputLine[i1];\n  var p2 = this._inputLine[i2];\n  if (!this.isConcave(p0, p1, p2)) { return false }\n  if (!this.isShallow(p0, p1, p2, distanceTol)) { return false }\n  return this.isShallowSampled(p0, p1, i0, i2, distanceTol)\n};\nBufferInputLineSimplifier.prototype.deleteShallowConcavities = function deleteShallowConcavities () {\n    var this$1 = this;\n\n  var index = 1;\n  // const maxIndex = this._inputLine.length - 1\n  var midIndex = this.findNextNonDeletedIndex(index);\n  var lastIndex = this.findNextNonDeletedIndex(midIndex);\n  var isChanged = false;\n  while (lastIndex < this._inputLine.length) {\n    var isMiddleVertexDeleted = false;\n    if (this$1.isDeletable(index, midIndex, lastIndex, this$1._distanceTol)) {\n      this$1._isDeleted[midIndex] = BufferInputLineSimplifier.DELETE;\n      isMiddleVertexDeleted = true;\n      isChanged = true;\n    }\n    if (isMiddleVertexDeleted) { index = lastIndex; } else { index = midIndex; }\n    midIndex = this$1.findNextNonDeletedIndex(index);\n    lastIndex = this$1.findNextNonDeletedIndex(midIndex);\n  }\n  return isChanged\n};\nBufferInputLineSimplifier.prototype.isShallowConcavity = function isShallowConcavity (p0, p1, p2, distanceTol) {\n  var orientation = CGAlgorithms.computeOrientation(p0, p1, p2);\n  var isAngleToSimplify = orientation === this._angleOrientation;\n  if (!isAngleToSimplify) { return false }\n  var dist = CGAlgorithms.distancePointLine(p1, p0, p2);\n  return dist < distanceTol\n};\nBufferInputLineSimplifier.prototype.isShallowSampled = function isShallowSampled (p0, p2, i0, i2, distanceTol) {\n    var this$1 = this;\n\n  var inc = Math.trunc((i2 - i0) / BufferInputLineSimplifier.NUM_PTS_TO_CHECK);\n  if (inc <= 0) { inc = 1; }\n  for (var i = i0; i < i2; i += inc) {\n    if (!this$1.isShallow(p0, p2, this$1._inputLine[i], distanceTol)) { return false }\n  }\n  return true\n};\nBufferInputLineSimplifier.prototype.isConcave = function isConcave (p0, p1, p2) {\n  var orientation = CGAlgorithms.computeOrientation(p0, p1, p2);\n  var isConcave = orientation === this._angleOrientation;\n  return isConcave\n};\nBufferInputLineSimplifier.prototype.simplify = function simplify (distanceTol) {\n    var this$1 = this;\n\n  this._distanceTol = Math.abs(distanceTol);\n  if (distanceTol < 0) { this._angleOrientation = CGAlgorithms.CLOCKWISE; }\n  this._isDeleted = new Array(this._inputLine.length).fill(null);\n  var isChanged = false;\n  do {\n    isChanged = this$1.deleteShallowConcavities();\n  } while (isChanged)\n  return this.collapseLine()\n};\nBufferInputLineSimplifier.prototype.findNextNonDeletedIndex = function findNextNonDeletedIndex (index) {\n  var next = index + 1;\n  while (next < this._inputLine.length && this._isDeleted[next] === BufferInputLineSimplifier.DELETE) { next++; }\n  return next\n};\nBufferInputLineSimplifier.prototype.isShallow = function isShallow (p0, p1, p2, distanceTol) {\n  var dist = CGAlgorithms.distancePointLine(p1, p0, p2);\n  return dist < distanceTol\n};\nBufferInputLineSimplifier.prototype.collapseLine = function collapseLine () {\n    var this$1 = this;\n\n  var coordList = new CoordinateList();\n  for (var i = 0; i < this._inputLine.length; i++) {\n    if (this$1._isDeleted[i] !== BufferInputLineSimplifier.DELETE) { coordList.add(this$1._inputLine[i]); }\n  }\n  return coordList.toCoordinateArray()\n};\nBufferInputLineSimplifier.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBufferInputLineSimplifier.prototype.getClass = function getClass () {\n  return BufferInputLineSimplifier\n};\nBufferInputLineSimplifier.simplify = function simplify (inputLine, distanceTol) {\n  var simp = new BufferInputLineSimplifier(inputLine);\n  return simp.simplify(distanceTol)\n};\nstaticAccessors$26.INIT.get = function () { return 0 };\nstaticAccessors$26.DELETE.get = function () { return 1 };\nstaticAccessors$26.KEEP.get = function () { return 1 };\nstaticAccessors$26.NUM_PTS_TO_CHECK.get = function () { return 10 };\n\nObject.defineProperties( BufferInputLineSimplifier, staticAccessors$26 );\n\nvar OffsetSegmentString = function OffsetSegmentString () {\n  this._ptList = null;\n  this._precisionModel = null;\n  this._minimimVertexDistance = 0.0;\n  this._ptList = new ArrayList();\n};\n\nvar staticAccessors$28 = { COORDINATE_ARRAY_TYPE: { configurable: true } };\nOffsetSegmentString.prototype.getCoordinates = function getCoordinates () {\n  var coord = this._ptList.toArray(OffsetSegmentString.COORDINATE_ARRAY_TYPE);\n  return coord\n};\nOffsetSegmentString.prototype.setPrecisionModel = function setPrecisionModel (precisionModel) {\n  this._precisionModel = precisionModel;\n};\nOffsetSegmentString.prototype.addPt = function addPt (pt) {\n  var bufPt = new Coordinate(pt);\n  this._precisionModel.makePrecise(bufPt);\n  if (this.isRedundant(bufPt)) { return null }\n  this._ptList.add(bufPt);\n};\nOffsetSegmentString.prototype.revere = function revere () {};\nOffsetSegmentString.prototype.addPts = function addPts (pt, isForward) {\n    var this$1 = this;\n\n  if (isForward) {\n    for (var i = 0; i < pt.length; i++) {\n      this$1.addPt(pt[i]);\n    }\n  } else {\n    for (var i$1 = pt.length - 1; i$1 >= 0; i$1--) {\n      this$1.addPt(pt[i$1]);\n    }\n  }\n};\nOffsetSegmentString.prototype.isRedundant = function isRedundant (pt) {\n  if (this._ptList.size() < 1) { return false }\n  var lastPt = this._ptList.get(this._ptList.size() - 1);\n  var ptDist = pt.distance(lastPt);\n  if (ptDist < this._minimimVertexDistance) { return true }\n  return false\n};\nOffsetSegmentString.prototype.toString = function toString () {\n  var fact = new GeometryFactory();\n  var line = fact.createLineString(this.getCoordinates());\n  return line.toString()\n};\nOffsetSegmentString.prototype.closeRing = function closeRing () {\n  if (this._ptList.size() < 1) { return null }\n  var startPt = new Coordinate(this._ptList.get(0));\n  var lastPt = this._ptList.get(this._ptList.size() - 1);\n  // const last2Pt = null\n  // if (this._ptList.size() >= 2) last2Pt = this._ptList.get(this._ptList.size() - 2)\n  if (startPt.equals(lastPt)) { return null }\n  this._ptList.add(startPt);\n};\nOffsetSegmentString.prototype.setMinimumVertexDistance = function setMinimumVertexDistance (minimimVertexDistance) {\n  this._minimimVertexDistance = minimimVertexDistance;\n};\nOffsetSegmentString.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nOffsetSegmentString.prototype.getClass = function getClass () {\n  return OffsetSegmentString\n};\nstaticAccessors$28.COORDINATE_ARRAY_TYPE.get = function () { return new Array(0).fill(null) };\n\nObject.defineProperties( OffsetSegmentString, staticAccessors$28 );\n\nvar Angle = function Angle () {};\n\nvar staticAccessors$29 = { PI_TIMES_2: { configurable: true },PI_OVER_2: { configurable: true },PI_OVER_4: { configurable: true },COUNTERCLOCKWISE: { configurable: true },CLOCKWISE: { configurable: true },NONE: { configurable: true } };\n\nAngle.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nAngle.prototype.getClass = function getClass () {\n  return Angle\n};\nAngle.toDegrees = function toDegrees (radians) {\n  return radians * 180 / Math.PI\n};\nAngle.normalize = function normalize (angle) {\n  while (angle > Math.PI) { angle -= Angle.PI_TIMES_2; }\n  while (angle <= -Math.PI) { angle += Angle.PI_TIMES_2; }\n  return angle\n};\nAngle.angle = function angle () {\n  if (arguments.length === 1) {\n    var p = arguments[0];\n    return Math.atan2(p.y, p.x)\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    var dx = p1.x - p0.x;\n    var dy = p1.y - p0.y;\n    return Math.atan2(dy, dx)\n  }\n};\nAngle.isAcute = function isAcute (p0, p1, p2) {\n  var dx0 = p0.x - p1.x;\n  var dy0 = p0.y - p1.y;\n  var dx1 = p2.x - p1.x;\n  var dy1 = p2.y - p1.y;\n  var dotprod = dx0 * dx1 + dy0 * dy1;\n  return dotprod > 0\n};\nAngle.isObtuse = function isObtuse (p0, p1, p2) {\n  var dx0 = p0.x - p1.x;\n  var dy0 = p0.y - p1.y;\n  var dx1 = p2.x - p1.x;\n  var dy1 = p2.y - p1.y;\n  var dotprod = dx0 * dx1 + dy0 * dy1;\n  return dotprod < 0\n};\nAngle.interiorAngle = function interiorAngle (p0, p1, p2) {\n  var anglePrev = Angle.angle(p1, p0);\n  var angleNext = Angle.angle(p1, p2);\n  return Math.abs(angleNext - anglePrev)\n};\nAngle.normalizePositive = function normalizePositive (angle) {\n  if (angle < 0.0) {\n    while (angle < 0.0) { angle += Angle.PI_TIMES_2; }\n    if (angle >= Angle.PI_TIMES_2) { angle = 0.0; }\n  } else {\n    while (angle >= Angle.PI_TIMES_2) { angle -= Angle.PI_TIMES_2; }\n    if (angle < 0.0) { angle = 0.0; }\n  }\n  return angle\n};\nAngle.angleBetween = function angleBetween (tip1, tail, tip2) {\n  var a1 = Angle.angle(tail, tip1);\n  var a2 = Angle.angle(tail, tip2);\n  return Angle.diff(a1, a2)\n};\nAngle.diff = function diff (ang1, ang2) {\n  var delAngle = null;\n  if (ang1 < ang2) {\n    delAngle = ang2 - ang1;\n  } else {\n    delAngle = ang1 - ang2;\n  }\n  if (delAngle > Math.PI) {\n    delAngle = 2 * Math.PI - delAngle;\n  }\n  return delAngle\n};\nAngle.toRadians = function toRadians (angleDegrees) {\n  return angleDegrees * Math.PI / 180.0\n};\nAngle.getTurn = function getTurn (ang1, ang2) {\n  var crossproduct = Math.sin(ang2 - ang1);\n  if (crossproduct > 0) {\n    return Angle.COUNTERCLOCKWISE\n  }\n  if (crossproduct < 0) {\n    return Angle.CLOCKWISE\n  }\n  return Angle.NONE\n};\nAngle.angleBetweenOriented = function angleBetweenOriented (tip1, tail, tip2) {\n  var a1 = Angle.angle(tail, tip1);\n  var a2 = Angle.angle(tail, tip2);\n  var angDel = a2 - a1;\n  if (angDel <= -Math.PI) { return angDel + Angle.PI_TIMES_2 }\n  if (angDel > Math.PI) { return angDel - Angle.PI_TIMES_2 }\n  return angDel\n};\nstaticAccessors$29.PI_TIMES_2.get = function () { return 2.0 * Math.PI };\nstaticAccessors$29.PI_OVER_2.get = function () { return Math.PI / 2.0 };\nstaticAccessors$29.PI_OVER_4.get = function () { return Math.PI / 4.0 };\nstaticAccessors$29.COUNTERCLOCKWISE.get = function () { return CGAlgorithms.COUNTERCLOCKWISE };\nstaticAccessors$29.CLOCKWISE.get = function () { return CGAlgorithms.CLOCKWISE };\nstaticAccessors$29.NONE.get = function () { return CGAlgorithms.COLLINEAR };\n\nObject.defineProperties( Angle, staticAccessors$29 );\n\nvar OffsetSegmentGenerator = function OffsetSegmentGenerator () {\n  this._maxCurveSegmentError = 0.0;\n  this._filletAngleQuantum = null;\n  this._closingSegLengthFactor = 1;\n  this._segList = null;\n  this._distance = 0.0;\n  this._precisionModel = null;\n  this._bufParams = null;\n  this._li = null;\n  this._s0 = null;\n  this._s1 = null;\n  this._s2 = null;\n  this._seg0 = new LineSegment();\n  this._seg1 = new LineSegment();\n  this._offset0 = new LineSegment();\n  this._offset1 = new LineSegment();\n  this._side = 0;\n  this._hasNarrowConcaveAngle = false;\n  var precisionModel = arguments[0];\n  var bufParams = arguments[1];\n  var distance = arguments[2];\n  this._precisionModel = precisionModel;\n  this._bufParams = bufParams;\n  this._li = new RobustLineIntersector();\n  this._filletAngleQuantum = Math.PI / 2.0 / bufParams.getQuadrantSegments();\n  if (bufParams.getQuadrantSegments() >= 8 && bufParams.getJoinStyle() === BufferParameters.JOIN_ROUND) { this._closingSegLengthFactor = OffsetSegmentGenerator.MAX_CLOSING_SEG_LEN_FACTOR; }\n  this.init(distance);\n};\n\nvar staticAccessors$27 = { OFFSET_SEGMENT_SEPARATION_FACTOR: { configurable: true },INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: true },CURVE_VERTEX_SNAP_DISTANCE_FACTOR: { configurable: true },MAX_CLOSING_SEG_LEN_FACTOR: { configurable: true } };\nOffsetSegmentGenerator.prototype.addNextSegment = function addNextSegment (p, addStartPoint) {\n  this._s0 = this._s1;\n  this._s1 = this._s2;\n  this._s2 = p;\n  this._seg0.setCoordinates(this._s0, this._s1);\n  this.computeOffsetSegment(this._seg0, this._side, this._distance, this._offset0);\n  this._seg1.setCoordinates(this._s1, this._s2);\n  this.computeOffsetSegment(this._seg1, this._side, this._distance, this._offset1);\n  if (this._s1.equals(this._s2)) { return null }\n  var orientation = CGAlgorithms.computeOrientation(this._s0, this._s1, this._s2);\n  var outsideTurn = (orientation === CGAlgorithms.CLOCKWISE && this._side === Position.LEFT) || (orientation === CGAlgorithms.COUNTERCLOCKWISE && this._side === Position.RIGHT);\n  if (orientation === 0) {\n    this.addCollinear(addStartPoint);\n  } else if (outsideTurn) {\n    this.addOutsideTurn(orientation, addStartPoint);\n  } else {\n    this.addInsideTurn(orientation, addStartPoint);\n  }\n};\nOffsetSegmentGenerator.prototype.addLineEndCap = function addLineEndCap (p0, p1) {\n  var seg = new LineSegment(p0, p1);\n  var offsetL = new LineSegment();\n  this.computeOffsetSegment(seg, Position.LEFT, this._distance, offsetL);\n  var offsetR = new LineSegment();\n  this.computeOffsetSegment(seg, Position.RIGHT, this._distance, offsetR);\n  var dx = p1.x - p0.x;\n  var dy = p1.y - p0.y;\n  var angle = Math.atan2(dy, dx);\n  switch (this._bufParams.getEndCapStyle()) {\n    case BufferParameters.CAP_ROUND:\n      this._segList.addPt(offsetL.p1);\n      this.addFilletArc(p1, angle + Math.PI / 2, angle - Math.PI / 2, CGAlgorithms.CLOCKWISE, this._distance);\n      this._segList.addPt(offsetR.p1);\n      break\n    case BufferParameters.CAP_FLAT:\n      this._segList.addPt(offsetL.p1);\n      this._segList.addPt(offsetR.p1);\n      break\n    case BufferParameters.CAP_SQUARE:\n      var squareCapSideOffset = new Coordinate();\n      squareCapSideOffset.x = Math.abs(this._distance) * Math.cos(angle);\n      squareCapSideOffset.y = Math.abs(this._distance) * Math.sin(angle);\n      var squareCapLOffset = new Coordinate(offsetL.p1.x + squareCapSideOffset.x, offsetL.p1.y + squareCapSideOffset.y);\n      var squareCapROffset = new Coordinate(offsetR.p1.x + squareCapSideOffset.x, offsetR.p1.y + squareCapSideOffset.y);\n      this._segList.addPt(squareCapLOffset);\n      this._segList.addPt(squareCapROffset);\n      break\n    default:\n  }\n};\nOffsetSegmentGenerator.prototype.getCoordinates = function getCoordinates () {\n  var pts = this._segList.getCoordinates();\n  return pts\n};\nOffsetSegmentGenerator.prototype.addMitreJoin = function addMitreJoin (p, offset0, offset1, distance) {\n  var isMitreWithinLimit = true;\n  var intPt = null;\n  try {\n    intPt = HCoordinate.intersection(offset0.p0, offset0.p1, offset1.p0, offset1.p1);\n    var mitreRatio = distance <= 0.0 ? 1.0 : intPt.distance(p) / Math.abs(distance);\n    if (mitreRatio > this._bufParams.getMitreLimit()) { isMitreWithinLimit = false; }\n  } catch (ex) {\n    if (ex instanceof NotRepresentableException) {\n      intPt = new Coordinate(0, 0);\n      isMitreWithinLimit = false;\n    } else { throw ex }\n  } finally {}\n  if (isMitreWithinLimit) {\n    this._segList.addPt(intPt);\n  } else {\n    this.addLimitedMitreJoin(offset0, offset1, distance, this._bufParams.getMitreLimit());\n  }\n};\nOffsetSegmentGenerator.prototype.addFilletCorner = function addFilletCorner (p, p0, p1, direction, radius) {\n  var dx0 = p0.x - p.x;\n  var dy0 = p0.y - p.y;\n  var startAngle = Math.atan2(dy0, dx0);\n  var dx1 = p1.x - p.x;\n  var dy1 = p1.y - p.y;\n  var endAngle = Math.atan2(dy1, dx1);\n  if (direction === CGAlgorithms.CLOCKWISE) {\n    if (startAngle <= endAngle) { startAngle += 2.0 * Math.PI; }\n  } else {\n    if (startAngle >= endAngle) { startAngle -= 2.0 * Math.PI; }\n  }\n  this._segList.addPt(p0);\n  this.addFilletArc(p, startAngle, endAngle, direction, radius);\n  this._segList.addPt(p1);\n};\nOffsetSegmentGenerator.prototype.addOutsideTurn = function addOutsideTurn (orientation, addStartPoint) {\n  if (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.OFFSET_SEGMENT_SEPARATION_FACTOR) {\n    this._segList.addPt(this._offset0.p1);\n    return null\n  }\n  if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n    this.addMitreJoin(this._s1, this._offset0, this._offset1, this._distance);\n  } else if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL) {\n    this.addBevelJoin(this._offset0, this._offset1);\n  } else {\n    if (addStartPoint) { this._segList.addPt(this._offset0.p1); }\n    this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, orientation, this._distance);\n    this._segList.addPt(this._offset1.p0);\n  }\n};\nOffsetSegmentGenerator.prototype.createSquare = function createSquare (p) {\n  this._segList.addPt(new Coordinate(p.x + this._distance, p.y + this._distance));\n  this._segList.addPt(new Coordinate(p.x + this._distance, p.y - this._distance));\n  this._segList.addPt(new Coordinate(p.x - this._distance, p.y - this._distance));\n  this._segList.addPt(new Coordinate(p.x - this._distance, p.y + this._distance));\n  this._segList.closeRing();\n};\nOffsetSegmentGenerator.prototype.addSegments = function addSegments (pt, isForward) {\n  this._segList.addPts(pt, isForward);\n};\nOffsetSegmentGenerator.prototype.addFirstSegment = function addFirstSegment () {\n  this._segList.addPt(this._offset1.p0);\n};\nOffsetSegmentGenerator.prototype.addLastSegment = function addLastSegment () {\n  this._segList.addPt(this._offset1.p1);\n};\nOffsetSegmentGenerator.prototype.initSideSegments = function initSideSegments (s1, s2, side) {\n  this._s1 = s1;\n  this._s2 = s2;\n  this._side = side;\n  this._seg1.setCoordinates(s1, s2);\n  this.computeOffsetSegment(this._seg1, side, this._distance, this._offset1);\n};\nOffsetSegmentGenerator.prototype.addLimitedMitreJoin = function addLimitedMitreJoin (offset0, offset1, distance, mitreLimit) {\n  var basePt = this._seg0.p1;\n  var ang0 = Angle.angle(basePt, this._seg0.p0);\n  // const ang1 = Angle.angle(basePt, this._seg1.p1)\n  var angDiff = Angle.angleBetweenOriented(this._seg0.p0, basePt, this._seg1.p1);\n  var angDiffHalf = angDiff / 2;\n  var midAng = Angle.normalize(ang0 + angDiffHalf);\n  var mitreMidAng = Angle.normalize(midAng + Math.PI);\n  var mitreDist = mitreLimit * distance;\n  var bevelDelta = mitreDist * Math.abs(Math.sin(angDiffHalf));\n  var bevelHalfLen = distance - bevelDelta;\n  var bevelMidX = basePt.x + mitreDist * Math.cos(mitreMidAng);\n  var bevelMidY = basePt.y + mitreDist * Math.sin(mitreMidAng);\n  var bevelMidPt = new Coordinate(bevelMidX, bevelMidY);\n  var mitreMidLine = new LineSegment(basePt, bevelMidPt);\n  var bevelEndLeft = mitreMidLine.pointAlongOffset(1.0, bevelHalfLen);\n  var bevelEndRight = mitreMidLine.pointAlongOffset(1.0, -bevelHalfLen);\n  if (this._side === Position.LEFT) {\n    this._segList.addPt(bevelEndLeft);\n    this._segList.addPt(bevelEndRight);\n  } else {\n    this._segList.addPt(bevelEndRight);\n    this._segList.addPt(bevelEndLeft);\n  }\n};\nOffsetSegmentGenerator.prototype.computeOffsetSegment = function computeOffsetSegment (seg, side, distance, offset) {\n  var sideSign = side === Position.LEFT ? 1 : -1;\n  var dx = seg.p1.x - seg.p0.x;\n  var dy = seg.p1.y - seg.p0.y;\n  var len = Math.sqrt(dx * dx + dy * dy);\n  var ux = sideSign * distance * dx / len;\n  var uy = sideSign * distance * dy / len;\n  offset.p0.x = seg.p0.x - uy;\n  offset.p0.y = seg.p0.y + ux;\n  offset.p1.x = seg.p1.x - uy;\n  offset.p1.y = seg.p1.y + ux;\n};\nOffsetSegmentGenerator.prototype.addFilletArc = function addFilletArc (p, startAngle, endAngle, direction, radius) {\n    var this$1 = this;\n\n  var directionFactor = direction === CGAlgorithms.CLOCKWISE ? -1 : 1;\n  var totalAngle = Math.abs(startAngle - endAngle);\n  var nSegs = Math.trunc(totalAngle / this._filletAngleQuantum + 0.5);\n  if (nSegs < 1) { return null }\n  var initAngle = 0.0;\n  var currAngleInc = totalAngle / nSegs;\n  var currAngle = initAngle;\n  var pt = new Coordinate();\n  while (currAngle < totalAngle) {\n    var angle = startAngle + directionFactor * currAngle;\n    pt.x = p.x + radius * Math.cos(angle);\n    pt.y = p.y + radius * Math.sin(angle);\n    this$1._segList.addPt(pt);\n    currAngle += currAngleInc;\n  }\n};\nOffsetSegmentGenerator.prototype.addInsideTurn = function addInsideTurn (orientation, addStartPoint) {\n  this._li.computeIntersection(this._offset0.p0, this._offset0.p1, this._offset1.p0, this._offset1.p1);\n  if (this._li.hasIntersection()) {\n    this._segList.addPt(this._li.getIntersection(0));\n  } else {\n    this._hasNarrowConcaveAngle = true;\n    if (this._offset0.p1.distance(this._offset1.p0) < this._distance * OffsetSegmentGenerator.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR) {\n      this._segList.addPt(this._offset0.p1);\n    } else {\n      this._segList.addPt(this._offset0.p1);\n      if (this._closingSegLengthFactor > 0) {\n        var mid0 = new Coordinate((this._closingSegLengthFactor * this._offset0.p1.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset0.p1.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n        this._segList.addPt(mid0);\n        var mid1 = new Coordinate((this._closingSegLengthFactor * this._offset1.p0.x + this._s1.x) / (this._closingSegLengthFactor + 1), (this._closingSegLengthFactor * this._offset1.p0.y + this._s1.y) / (this._closingSegLengthFactor + 1));\n        this._segList.addPt(mid1);\n      } else {\n        this._segList.addPt(this._s1);\n      }\n      this._segList.addPt(this._offset1.p0);\n    }\n  }\n};\nOffsetSegmentGenerator.prototype.createCircle = function createCircle (p) {\n  var pt = new Coordinate(p.x + this._distance, p.y);\n  this._segList.addPt(pt);\n  this.addFilletArc(p, 0.0, 2.0 * Math.PI, -1, this._distance);\n  this._segList.closeRing();\n};\nOffsetSegmentGenerator.prototype.addBevelJoin = function addBevelJoin (offset0, offset1) {\n  this._segList.addPt(offset0.p1);\n  this._segList.addPt(offset1.p0);\n};\nOffsetSegmentGenerator.prototype.init = function init (distance) {\n  this._distance = distance;\n  this._maxCurveSegmentError = distance * (1 - Math.cos(this._filletAngleQuantum / 2.0));\n  this._segList = new OffsetSegmentString();\n  this._segList.setPrecisionModel(this._precisionModel);\n  this._segList.setMinimumVertexDistance(distance * OffsetSegmentGenerator.CURVE_VERTEX_SNAP_DISTANCE_FACTOR);\n};\nOffsetSegmentGenerator.prototype.addCollinear = function addCollinear (addStartPoint) {\n  this._li.computeIntersection(this._s0, this._s1, this._s1, this._s2);\n  var numInt = this._li.getIntersectionNum();\n  if (numInt >= 2) {\n    if (this._bufParams.getJoinStyle() === BufferParameters.JOIN_BEVEL || this._bufParams.getJoinStyle() === BufferParameters.JOIN_MITRE) {\n      if (addStartPoint) { this._segList.addPt(this._offset0.p1); }\n      this._segList.addPt(this._offset1.p0);\n    } else {\n      this.addFilletCorner(this._s1, this._offset0.p1, this._offset1.p0, CGAlgorithms.CLOCKWISE, this._distance);\n    }\n  }\n};\nOffsetSegmentGenerator.prototype.closeRing = function closeRing () {\n  this._segList.closeRing();\n};\nOffsetSegmentGenerator.prototype.hasNarrowConcaveAngle = function hasNarrowConcaveAngle () {\n  return this._hasNarrowConcaveAngle\n};\nOffsetSegmentGenerator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nOffsetSegmentGenerator.prototype.getClass = function getClass () {\n  return OffsetSegmentGenerator\n};\nstaticAccessors$27.OFFSET_SEGMENT_SEPARATION_FACTOR.get = function () { return 1.0E-3 };\nstaticAccessors$27.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get = function () { return 1.0E-3 };\nstaticAccessors$27.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get = function () { return 1.0E-6 };\nstaticAccessors$27.MAX_CLOSING_SEG_LEN_FACTOR.get = function () { return 80 };\n\nObject.defineProperties( OffsetSegmentGenerator, staticAccessors$27 );\n\nvar OffsetCurveBuilder = function OffsetCurveBuilder () {\n  this._distance = 0.0;\n  this._precisionModel = null;\n  this._bufParams = null;\n  var precisionModel = arguments[0];\n  var bufParams = arguments[1];\n  this._precisionModel = precisionModel;\n  this._bufParams = bufParams;\n};\nOffsetCurveBuilder.prototype.getOffsetCurve = function getOffsetCurve (inputPts, distance) {\n  this._distance = distance;\n  if (distance === 0.0) { return null }\n  var isRightSide = distance < 0.0;\n  var posDistance = Math.abs(distance);\n  var segGen = this.getSegGen(posDistance);\n  if (inputPts.length <= 1) {\n    this.computePointCurve(inputPts[0], segGen);\n  } else {\n    this.computeOffsetCurve(inputPts, isRightSide, segGen);\n  }\n  var curvePts = segGen.getCoordinates();\n  if (isRightSide) { CoordinateArrays.reverse(curvePts); }\n  return curvePts\n};\nOffsetCurveBuilder.prototype.computeSingleSidedBufferCurve = function computeSingleSidedBufferCurve (inputPts, isRightSide, segGen) {\n  var distTol = this.simplifyTolerance(this._distance);\n  if (isRightSide) {\n    segGen.addSegments(inputPts, true);\n    var simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n    var n2 = simp2.length - 1;\n    segGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n    segGen.addFirstSegment();\n    for (var i = n2 - 2; i >= 0; i--) {\n      segGen.addNextSegment(simp2[i], true);\n    }\n  } else {\n    segGen.addSegments(inputPts, false);\n    var simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n    var n1 = simp1.length - 1;\n    segGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n    segGen.addFirstSegment();\n    for (var i$1 = 2; i$1 <= n1; i$1++) {\n      segGen.addNextSegment(simp1[i$1], true);\n    }\n  }\n  segGen.addLastSegment();\n  segGen.closeRing();\n};\nOffsetCurveBuilder.prototype.computeRingBufferCurve = function computeRingBufferCurve (inputPts, side, segGen) {\n  var distTol = this.simplifyTolerance(this._distance);\n  if (side === Position.RIGHT) { distTol = -distTol; }\n  var simp = BufferInputLineSimplifier.simplify(inputPts, distTol);\n  var n = simp.length - 1;\n  segGen.initSideSegments(simp[n - 1], simp[0], side);\n  for (var i = 1; i <= n; i++) {\n    var addStartPoint = i !== 1;\n    segGen.addNextSegment(simp[i], addStartPoint);\n  }\n  segGen.closeRing();\n};\nOffsetCurveBuilder.prototype.computeLineBufferCurve = function computeLineBufferCurve (inputPts, segGen) {\n  var distTol = this.simplifyTolerance(this._distance);\n  var simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n  var n1 = simp1.length - 1;\n  segGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n  for (var i = 2; i <= n1; i++) {\n    segGen.addNextSegment(simp1[i], true);\n  }\n  segGen.addLastSegment();\n  segGen.addLineEndCap(simp1[n1 - 1], simp1[n1]);\n  var simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n  var n2 = simp2.length - 1;\n  segGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n  for (var i$1 = n2 - 2; i$1 >= 0; i$1--) {\n    segGen.addNextSegment(simp2[i$1], true);\n  }\n  segGen.addLastSegment();\n  segGen.addLineEndCap(simp2[1], simp2[0]);\n  segGen.closeRing();\n};\nOffsetCurveBuilder.prototype.computePointCurve = function computePointCurve (pt, segGen) {\n  switch (this._bufParams.getEndCapStyle()) {\n    case BufferParameters.CAP_ROUND:\n      segGen.createCircle(pt);\n      break\n    case BufferParameters.CAP_SQUARE:\n      segGen.createSquare(pt);\n      break\n    default:\n  }\n};\nOffsetCurveBuilder.prototype.getLineCurve = function getLineCurve (inputPts, distance) {\n  this._distance = distance;\n  if (distance < 0.0 && !this._bufParams.isSingleSided()) { return null }\n  if (distance === 0.0) { return null }\n  var posDistance = Math.abs(distance);\n  var segGen = this.getSegGen(posDistance);\n  if (inputPts.length <= 1) {\n    this.computePointCurve(inputPts[0], segGen);\n  } else {\n    if (this._bufParams.isSingleSided()) {\n      var isRightSide = distance < 0.0;\n      this.computeSingleSidedBufferCurve(inputPts, isRightSide, segGen);\n    } else { this.computeLineBufferCurve(inputPts, segGen); }\n  }\n  var lineCoord = segGen.getCoordinates();\n  return lineCoord\n};\nOffsetCurveBuilder.prototype.getBufferParameters = function getBufferParameters () {\n  return this._bufParams\n};\nOffsetCurveBuilder.prototype.simplifyTolerance = function simplifyTolerance (bufDistance) {\n  return bufDistance * this._bufParams.getSimplifyFactor()\n};\nOffsetCurveBuilder.prototype.getRingCurve = function getRingCurve (inputPts, side, distance) {\n  this._distance = distance;\n  if (inputPts.length <= 2) { return this.getLineCurve(inputPts, distance) }\n  if (distance === 0.0) {\n    return OffsetCurveBuilder.copyCoordinates(inputPts)\n  }\n  var segGen = this.getSegGen(distance);\n  this.computeRingBufferCurve(inputPts, side, segGen);\n  return segGen.getCoordinates()\n};\nOffsetCurveBuilder.prototype.computeOffsetCurve = function computeOffsetCurve (inputPts, isRightSide, segGen) {\n  var distTol = this.simplifyTolerance(this._distance);\n  if (isRightSide) {\n    var simp2 = BufferInputLineSimplifier.simplify(inputPts, -distTol);\n    var n2 = simp2.length - 1;\n    segGen.initSideSegments(simp2[n2], simp2[n2 - 1], Position.LEFT);\n    segGen.addFirstSegment();\n    for (var i = n2 - 2; i >= 0; i--) {\n      segGen.addNextSegment(simp2[i], true);\n    }\n  } else {\n    var simp1 = BufferInputLineSimplifier.simplify(inputPts, distTol);\n    var n1 = simp1.length - 1;\n    segGen.initSideSegments(simp1[0], simp1[1], Position.LEFT);\n    segGen.addFirstSegment();\n    for (var i$1 = 2; i$1 <= n1; i$1++) {\n      segGen.addNextSegment(simp1[i$1], true);\n    }\n  }\n  segGen.addLastSegment();\n};\nOffsetCurveBuilder.prototype.getSegGen = function getSegGen (distance) {\n  return new OffsetSegmentGenerator(this._precisionModel, this._bufParams, distance)\n};\nOffsetCurveBuilder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nOffsetCurveBuilder.prototype.getClass = function getClass () {\n  return OffsetCurveBuilder\n};\nOffsetCurveBuilder.copyCoordinates = function copyCoordinates (pts) {\n  var copy = new Array(pts.length).fill(null);\n  for (var i = 0; i < copy.length; i++) {\n    copy[i] = new Coordinate(pts[i]);\n  }\n  return copy\n};\n\nvar SubgraphDepthLocater = function SubgraphDepthLocater () {\n  this._subgraphs = null;\n  this._seg = new LineSegment();\n  this._cga = new CGAlgorithms();\n  var subgraphs = arguments[0];\n  this._subgraphs = subgraphs;\n};\n\nvar staticAccessors$30 = { DepthSegment: { configurable: true } };\nSubgraphDepthLocater.prototype.findStabbedSegments = function findStabbedSegments () {\n    var this$1 = this;\n\n  if (arguments.length === 1) {\n    var stabbingRayLeftPt = arguments[0];\n    var stabbedSegments = new ArrayList();\n    for (var i = this._subgraphs.iterator(); i.hasNext();) {\n      var bsg = i.next();\n      var env = bsg.getEnvelope();\n      if (stabbingRayLeftPt.y < env.getMinY() || stabbingRayLeftPt.y > env.getMaxY()) { continue }\n      this$1.findStabbedSegments(stabbingRayLeftPt, bsg.getDirectedEdges(), stabbedSegments);\n    }\n    return stabbedSegments\n  } else if (arguments.length === 3) {\n    if (hasInterface(arguments[2], List) && (arguments[0] instanceof Coordinate && arguments[1] instanceof DirectedEdge)) {\n      var stabbingRayLeftPt$1 = arguments[0];\n      var dirEdge = arguments[1];\n      var stabbedSegments$1 = arguments[2];\n      var pts = dirEdge.getEdge().getCoordinates();\n      for (var i$1 = 0; i$1 < pts.length - 1; i$1++) {\n        this$1._seg.p0 = pts[i$1];\n        this$1._seg.p1 = pts[i$1 + 1];\n        if (this$1._seg.p0.y > this$1._seg.p1.y) { this$1._seg.reverse(); }\n        var maxx = Math.max(this$1._seg.p0.x, this$1._seg.p1.x);\n        if (maxx < stabbingRayLeftPt$1.x) { continue }\n        if (this$1._seg.isHorizontal()) { continue }\n        if (stabbingRayLeftPt$1.y < this$1._seg.p0.y || stabbingRayLeftPt$1.y > this$1._seg.p1.y) { continue }\n        if (CGAlgorithms.computeOrientation(this$1._seg.p0, this$1._seg.p1, stabbingRayLeftPt$1) === CGAlgorithms.RIGHT) { continue }\n        var depth = dirEdge.getDepth(Position.LEFT);\n        if (!this$1._seg.p0.equals(pts[i$1])) { depth = dirEdge.getDepth(Position.RIGHT); }\n        var ds = new DepthSegment(this$1._seg, depth);\n        stabbedSegments$1.add(ds);\n      }\n    } else if (hasInterface(arguments[2], List) && (arguments[0] instanceof Coordinate && hasInterface(arguments[1], List))) {\n      var stabbingRayLeftPt$2 = arguments[0];\n      var dirEdges = arguments[1];\n      var stabbedSegments$2 = arguments[2];\n      for (var i$2 = dirEdges.iterator(); i$2.hasNext();) {\n        var de = i$2.next();\n        if (!de.isForward()) { continue }\n        this$1.findStabbedSegments(stabbingRayLeftPt$2, de, stabbedSegments$2);\n      }\n    }\n  }\n};\nSubgraphDepthLocater.prototype.getDepth = function getDepth (p) {\n  var stabbedSegments = this.findStabbedSegments(p);\n  if (stabbedSegments.size() === 0) { return 0 }\n  var ds = Collections.min(stabbedSegments);\n  return ds._leftDepth\n};\nSubgraphDepthLocater.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSubgraphDepthLocater.prototype.getClass = function getClass () {\n  return SubgraphDepthLocater\n};\nstaticAccessors$30.DepthSegment.get = function () { return DepthSegment };\n\nObject.defineProperties( SubgraphDepthLocater, staticAccessors$30 );\n\nvar DepthSegment = function DepthSegment () {\n  this._upwardSeg = null;\n  this._leftDepth = null;\n  var seg = arguments[0];\n  var depth = arguments[1];\n  this._upwardSeg = new LineSegment(seg);\n  this._leftDepth = depth;\n};\nDepthSegment.prototype.compareTo = function compareTo (obj) {\n  var other = obj;\n  if (this._upwardSeg.minX() >= other._upwardSeg.maxX()) { return 1 }\n  if (this._upwardSeg.maxX() <= other._upwardSeg.minX()) { return -1 }\n  var orientIndex = this._upwardSeg.orientationIndex(other._upwardSeg);\n  if (orientIndex !== 0) { return orientIndex }\n  orientIndex = -1 * other._upwardSeg.orientationIndex(this._upwardSeg);\n  if (orientIndex !== 0) { return orientIndex }\n  return this._upwardSeg.compareTo(other._upwardSeg)\n};\nDepthSegment.prototype.compareX = function compareX (seg0, seg1) {\n  var compare0 = seg0.p0.compareTo(seg1.p0);\n  if (compare0 !== 0) { return compare0 }\n  return seg0.p1.compareTo(seg1.p1)\n};\nDepthSegment.prototype.toString = function toString () {\n  return this._upwardSeg.toString()\n};\nDepthSegment.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nDepthSegment.prototype.getClass = function getClass () {\n  return DepthSegment\n};\n\nvar Triangle$1 = function Triangle (p0, p1, p2) {\n  this.p0 = p0 || null;\n  this.p1 = p1 || null;\n  this.p2 = p2 || null;\n};\nTriangle$1.prototype.area = function area () {\n  return Triangle$1.area(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.signedArea = function signedArea () {\n  return Triangle$1.signedArea(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.interpolateZ = function interpolateZ (p) {\n  if (p === null) { throw new IllegalArgumentException('Supplied point is null.') }\n  return Triangle$1.interpolateZ(p, this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.longestSideLength = function longestSideLength () {\n  return Triangle$1.longestSideLength(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.isAcute = function isAcute () {\n  return Triangle$1.isAcute(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.circumcentre = function circumcentre () {\n  return Triangle$1.circumcentre(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.area3D = function area3D () {\n  return Triangle$1.area3D(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.centroid = function centroid () {\n  return Triangle$1.centroid(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.inCentre = function inCentre () {\n  return Triangle$1.inCentre(this.p0, this.p1, this.p2)\n};\nTriangle$1.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nTriangle$1.prototype.getClass = function getClass () {\n  return Triangle$1\n};\nTriangle$1.area = function area (a, b, c) {\n  return Math.abs(((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2)\n};\nTriangle$1.signedArea = function signedArea (a, b, c) {\n  return ((c.x - a.x) * (b.y - a.y) - (b.x - a.x) * (c.y - a.y)) / 2\n};\nTriangle$1.det = function det (m00, m01, m10, m11) {\n  return m00 * m11 - m01 * m10\n};\nTriangle$1.interpolateZ = function interpolateZ (p, v0, v1, v2) {\n  var x0 = v0.x;\n  var y0 = v0.y;\n  var a = v1.x - x0;\n  var b = v2.x - x0;\n  var c = v1.y - y0;\n  var d = v2.y - y0;\n  var det = a * d - b * c;\n  var dx = p.x - x0;\n  var dy = p.y - y0;\n  var t = (d * dx - b * dy) / det;\n  var u = (-c * dx + a * dy) / det;\n  var z = v0.z + t * (v1.z - v0.z) + u * (v2.z - v0.z);\n  return z\n};\nTriangle$1.longestSideLength = function longestSideLength (a, b, c) {\n  var lenAB = a.distance(b);\n  var lenBC = b.distance(c);\n  var lenCA = c.distance(a);\n  var maxLen = lenAB;\n  if (lenBC > maxLen) { maxLen = lenBC; }\n  if (lenCA > maxLen) { maxLen = lenCA; }\n  return maxLen\n};\nTriangle$1.isAcute = function isAcute (a, b, c) {\n  if (!Angle.isAcute(a, b, c)) { return false }\n  if (!Angle.isAcute(b, c, a)) { return false }\n  if (!Angle.isAcute(c, a, b)) { return false }\n  return true\n};\nTriangle$1.circumcentre = function circumcentre (a, b, c) {\n  var cx = c.x;\n  var cy = c.y;\n  var ax = a.x - cx;\n  var ay = a.y - cy;\n  var bx = b.x - cx;\n  var by = b.y - cy;\n  var denom = 2 * Triangle$1.det(ax, ay, bx, by);\n  var numx = Triangle$1.det(ay, ax * ax + ay * ay, by, bx * bx + by * by);\n  var numy = Triangle$1.det(ax, ax * ax + ay * ay, bx, bx * bx + by * by);\n  var ccx = cx - numx / denom;\n  var ccy = cy + numy / denom;\n  return new Coordinate(ccx, ccy)\n};\nTriangle$1.perpendicularBisector = function perpendicularBisector (a, b) {\n  var dx = b.x - a.x;\n  var dy = b.y - a.y;\n  var l1 = new HCoordinate(a.x + dx / 2.0, a.y + dy / 2.0, 1.0);\n  var l2 = new HCoordinate(a.x - dy + dx / 2.0, a.y + dx + dy / 2.0, 1.0);\n  return new HCoordinate(l1, l2)\n};\nTriangle$1.angleBisector = function angleBisector (a, b, c) {\n  var len0 = b.distance(a);\n  var len2 = b.distance(c);\n  var frac = len0 / (len0 + len2);\n  var dx = c.x - a.x;\n  var dy = c.y - a.y;\n  var splitPt = new Coordinate(a.x + frac * dx, a.y + frac * dy);\n  return splitPt\n};\nTriangle$1.area3D = function area3D (a, b, c) {\n  var ux = b.x - a.x;\n  var uy = b.y - a.y;\n  var uz = b.z - a.z;\n  var vx = c.x - a.x;\n  var vy = c.y - a.y;\n  var vz = c.z - a.z;\n  var crossx = uy * vz - uz * vy;\n  var crossy = uz * vx - ux * vz;\n  var crossz = ux * vy - uy * vx;\n  var absSq = crossx * crossx + crossy * crossy + crossz * crossz;\n  var area3D = Math.sqrt(absSq) / 2;\n  return area3D\n};\nTriangle$1.centroid = function centroid (a, b, c) {\n  var x = (a.x + b.x + c.x) / 3;\n  var y = (a.y + b.y + c.y) / 3;\n  return new Coordinate(x, y)\n};\nTriangle$1.inCentre = function inCentre (a, b, c) {\n  var len0 = b.distance(c);\n  var len1 = a.distance(c);\n  var len2 = a.distance(b);\n  var circum = len0 + len1 + len2;\n  var inCentreX = (len0 * a.x + len1 * b.x + len2 * c.x) / circum;\n  var inCentreY = (len0 * a.y + len1 * b.y + len2 * c.y) / circum;\n  return new Coordinate(inCentreX, inCentreY)\n};\n\nvar OffsetCurveSetBuilder = function OffsetCurveSetBuilder () {\n  this._inputGeom = null;\n  this._distance = null;\n  this._curveBuilder = null;\n  this._curveList = new ArrayList();\n  var inputGeom = arguments[0];\n  var distance = arguments[1];\n  var curveBuilder = arguments[2];\n  this._inputGeom = inputGeom;\n  this._distance = distance;\n  this._curveBuilder = curveBuilder;\n};\nOffsetCurveSetBuilder.prototype.addPoint = function addPoint (p) {\n  if (this._distance <= 0.0) { return null }\n  var coord = p.getCoordinates();\n  var curve = this._curveBuilder.getLineCurve(coord, this._distance);\n  this.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n};\nOffsetCurveSetBuilder.prototype.addPolygon = function addPolygon (p) {\n    var this$1 = this;\n\n  var offsetDistance = this._distance;\n  var offsetSide = Position.LEFT;\n  if (this._distance < 0.0) {\n    offsetDistance = -this._distance;\n    offsetSide = Position.RIGHT;\n  }\n  var shell = p.getExteriorRing();\n  var shellCoord = CoordinateArrays.removeRepeatedPoints(shell.getCoordinates());\n  if (this._distance < 0.0 && this.isErodedCompletely(shell, this._distance)) { return null }\n  if (this._distance <= 0.0 && shellCoord.length < 3) { return null }\n  this.addPolygonRing(shellCoord, offsetDistance, offsetSide, Location.EXTERIOR, Location.INTERIOR);\n  for (var i = 0; i < p.getNumInteriorRing(); i++) {\n    var hole = p.getInteriorRingN(i);\n    var holeCoord = CoordinateArrays.removeRepeatedPoints(hole.getCoordinates());\n    if (this$1._distance > 0.0 && this$1.isErodedCompletely(hole, -this$1._distance)) { continue }\n    this$1.addPolygonRing(holeCoord, offsetDistance, Position.opposite(offsetSide), Location.INTERIOR, Location.EXTERIOR);\n  }\n};\nOffsetCurveSetBuilder.prototype.isTriangleErodedCompletely = function isTriangleErodedCompletely (triangleCoord, bufferDistance) {\n  var tri = new Triangle$1(triangleCoord[0], triangleCoord[1], triangleCoord[2]);\n  var inCentre = tri.inCentre();\n  var distToCentre = CGAlgorithms.distancePointLine(inCentre, tri.p0, tri.p1);\n  return distToCentre < Math.abs(bufferDistance)\n};\nOffsetCurveSetBuilder.prototype.addLineString = function addLineString (line) {\n  if (this._distance <= 0.0 && !this._curveBuilder.getBufferParameters().isSingleSided()) { return null }\n  var coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n  var curve = this._curveBuilder.getLineCurve(coord, this._distance);\n  this.addCurve(curve, Location.EXTERIOR, Location.INTERIOR);\n};\nOffsetCurveSetBuilder.prototype.addCurve = function addCurve (coord, leftLoc, rightLoc) {\n  if (coord === null || coord.length < 2) { return null }\n  var e = new NodedSegmentString(coord, new Label(0, Location.BOUNDARY, leftLoc, rightLoc));\n  this._curveList.add(e);\n};\nOffsetCurveSetBuilder.prototype.getCurves = function getCurves () {\n  this.add(this._inputGeom);\n  return this._curveList\n};\nOffsetCurveSetBuilder.prototype.addPolygonRing = function addPolygonRing (coord, offsetDistance, side, cwLeftLoc, cwRightLoc) {\n  if (offsetDistance === 0.0 && coord.length < LinearRing.MINIMUM_VALID_SIZE) { return null }\n  var leftLoc = cwLeftLoc;\n  var rightLoc = cwRightLoc;\n  if (coord.length >= LinearRing.MINIMUM_VALID_SIZE && CGAlgorithms.isCCW(coord)) {\n    leftLoc = cwRightLoc;\n    rightLoc = cwLeftLoc;\n    side = Position.opposite(side);\n  }\n  var curve = this._curveBuilder.getRingCurve(coord, side, offsetDistance);\n  this.addCurve(curve, leftLoc, rightLoc);\n};\nOffsetCurveSetBuilder.prototype.add = function add (g) {\n  if (g.isEmpty()) { return null }\n  if (g instanceof Polygon) { this.addPolygon(g); }\n  else if (g instanceof LineString$1) { this.addLineString(g); }\n  else if (g instanceof Point) { this.addPoint(g); }\n  else if (g instanceof MultiPoint) { this.addCollection(g); }\n  else if (g instanceof MultiLineString) { this.addCollection(g); }\n  else if (g instanceof MultiPolygon) { this.addCollection(g); }\n  else if (g instanceof GeometryCollection) { this.addCollection(g); }\n  // else throw new UnsupportedOperationException(g.getClass().getName())\n};\nOffsetCurveSetBuilder.prototype.isErodedCompletely = function isErodedCompletely (ring, bufferDistance) {\n  var ringCoord = ring.getCoordinates();\n  // const minDiam = 0.0\n  if (ringCoord.length < 4) { return bufferDistance < 0 }\n  if (ringCoord.length === 4) { return this.isTriangleErodedCompletely(ringCoord, bufferDistance) }\n  var env = ring.getEnvelopeInternal();\n  var envMinDimension = Math.min(env.getHeight(), env.getWidth());\n  if (bufferDistance < 0.0 && 2 * Math.abs(bufferDistance) > envMinDimension) { return true }\n  return false\n};\nOffsetCurveSetBuilder.prototype.addCollection = function addCollection (gc) {\n    var this$1 = this;\n\n  for (var i = 0; i < gc.getNumGeometries(); i++) {\n    var g = gc.getGeometryN(i);\n    this$1.add(g);\n  }\n};\nOffsetCurveSetBuilder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nOffsetCurveSetBuilder.prototype.getClass = function getClass () {\n  return OffsetCurveSetBuilder\n};\n\nvar PointOnGeometryLocator = function PointOnGeometryLocator () {};\n\nPointOnGeometryLocator.prototype.locate = function locate (p) {};\nPointOnGeometryLocator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPointOnGeometryLocator.prototype.getClass = function getClass () {\n  return PointOnGeometryLocator\n};\n\nvar GeometryCollectionIterator = function GeometryCollectionIterator () {\n  this._parent = null;\n  this._atStart = null;\n  this._max = null;\n  this._index = null;\n  this._subcollectionIterator = null;\n  var parent = arguments[0];\n  this._parent = parent;\n  this._atStart = true;\n  this._index = 0;\n  this._max = parent.getNumGeometries();\n};\nGeometryCollectionIterator.prototype.next = function next () {\n  if (this._atStart) {\n    this._atStart = false;\n    if (GeometryCollectionIterator.isAtomic(this._parent)) { this._index++; }\n    return this._parent\n  }\n  if (this._subcollectionIterator !== null) {\n    if (this._subcollectionIterator.hasNext()) {\n      return this._subcollectionIterator.next()\n    } else {\n      this._subcollectionIterator = null;\n    }\n  }\n  if (this._index >= this._max) {\n    throw new NoSuchElementException()\n  }\n  var obj = this._parent.getGeometryN(this._index++);\n  if (obj instanceof GeometryCollection) {\n    this._subcollectionIterator = new GeometryCollectionIterator(obj);\n    return this._subcollectionIterator.next()\n  }\n  return obj\n};\nGeometryCollectionIterator.prototype.remove = function remove () {\n  throw new Error(this.getClass().getName())\n};\nGeometryCollectionIterator.prototype.hasNext = function hasNext () {\n  if (this._atStart) {\n    return true\n  }\n  if (this._subcollectionIterator !== null) {\n    if (this._subcollectionIterator.hasNext()) {\n      return true\n    }\n    this._subcollectionIterator = null;\n  }\n  if (this._index >= this._max) {\n    return false\n  }\n  return true\n};\nGeometryCollectionIterator.prototype.interfaces_ = function interfaces_ () {\n  return [Iterator]\n};\nGeometryCollectionIterator.prototype.getClass = function getClass () {\n  return GeometryCollectionIterator\n};\nGeometryCollectionIterator.isAtomic = function isAtomic (geom) {\n  return !(geom instanceof GeometryCollection)\n};\n\nvar SimplePointInAreaLocator = function SimplePointInAreaLocator () {\n  this._geom = null;\n  var geom = arguments[0];\n  this._geom = geom;\n};\nSimplePointInAreaLocator.prototype.locate = function locate (p) {\n  return SimplePointInAreaLocator.locate(p, this._geom)\n};\nSimplePointInAreaLocator.prototype.interfaces_ = function interfaces_ () {\n  return [PointOnGeometryLocator]\n};\nSimplePointInAreaLocator.prototype.getClass = function getClass () {\n  return SimplePointInAreaLocator\n};\nSimplePointInAreaLocator.isPointInRing = function isPointInRing (p, ring) {\n  if (!ring.getEnvelopeInternal().intersects(p)) { return false }\n  return CGAlgorithms.isPointInRing(p, ring.getCoordinates())\n};\nSimplePointInAreaLocator.containsPointInPolygon = function containsPointInPolygon (p, poly) {\n  if (poly.isEmpty()) { return false }\n  var shell = poly.getExteriorRing();\n  if (!SimplePointInAreaLocator.isPointInRing(p, shell)) { return false }\n  for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n    var hole = poly.getInteriorRingN(i);\n    if (SimplePointInAreaLocator.isPointInRing(p, hole)) { return false }\n  }\n  return true\n};\nSimplePointInAreaLocator.containsPoint = function containsPoint (p, geom) {\n  if (geom instanceof Polygon) {\n    return SimplePointInAreaLocator.containsPointInPolygon(p, geom)\n  } else if (geom instanceof GeometryCollection) {\n    var geomi = new GeometryCollectionIterator(geom);\n    while (geomi.hasNext()) {\n      var g2 = geomi.next();\n      if (g2 !== geom) { if (SimplePointInAreaLocator.containsPoint(p, g2)) { return true } }\n    }\n  }\n  return false\n};\nSimplePointInAreaLocator.locate = function locate (p, geom) {\n  if (geom.isEmpty()) { return Location.EXTERIOR }\n  if (SimplePointInAreaLocator.containsPoint(p, geom)) { return Location.INTERIOR }\n  return Location.EXTERIOR\n};\n\nvar EdgeEndStar = function EdgeEndStar () {\n  this._edgeMap = new TreeMap();\n  this._edgeList = null;\n  this._ptInAreaLocation = [Location.NONE, Location.NONE];\n};\nEdgeEndStar.prototype.getNextCW = function getNextCW (ee) {\n  this.getEdges();\n  var i = this._edgeList.indexOf(ee);\n  var iNextCW = i - 1;\n  if (i === 0) { iNextCW = this._edgeList.size() - 1; }\n  return this._edgeList.get(iNextCW)\n};\nEdgeEndStar.prototype.propagateSideLabels = function propagateSideLabels (geomIndex) {\n  var startLoc = Location.NONE;\n  for (var it = this.iterator(); it.hasNext();) {\n    var e = it.next();\n    var label = e.getLabel();\n    if (label.isArea(geomIndex) && label.getLocation(geomIndex, Position.LEFT) !== Location.NONE) { startLoc = label.getLocation(geomIndex, Position.LEFT); }\n  }\n  if (startLoc === Location.NONE) { return null }\n  var currLoc = startLoc;\n  for (var it$1 = this.iterator(); it$1.hasNext();) {\n    var e$1 = it$1.next();\n    var label$1 = e$1.getLabel();\n    if (label$1.getLocation(geomIndex, Position.ON) === Location.NONE) { label$1.setLocation(geomIndex, Position.ON, currLoc); }\n    if (label$1.isArea(geomIndex)) {\n      var leftLoc = label$1.getLocation(geomIndex, Position.LEFT);\n      var rightLoc = label$1.getLocation(geomIndex, Position.RIGHT);\n      if (rightLoc !== Location.NONE) {\n        if (rightLoc !== currLoc) { throw new TopologyException('side location conflict', e$1.getCoordinate()) }\n        if (leftLoc === Location.NONE) {\n          Assert.shouldNeverReachHere('found single null side (at ' + e$1.getCoordinate() + ')');\n        }\n        currLoc = leftLoc;\n      } else {\n        Assert.isTrue(label$1.getLocation(geomIndex, Position.LEFT) === Location.NONE, 'found single null side');\n        label$1.setLocation(geomIndex, Position.RIGHT, currLoc);\n        label$1.setLocation(geomIndex, Position.LEFT, currLoc);\n      }\n    }\n  }\n};\nEdgeEndStar.prototype.getCoordinate = function getCoordinate () {\n  var it = this.iterator();\n  if (!it.hasNext()) { return null }\n  var e = it.next();\n  return e.getCoordinate()\n};\nEdgeEndStar.prototype.print = function print (out) {\n  System.out.println('EdgeEndStar:   ' + this.getCoordinate());\n  for (var it = this.iterator(); it.hasNext();) {\n    var e = it.next();\n    e.print(out);\n  }\n};\nEdgeEndStar.prototype.isAreaLabelsConsistent = function isAreaLabelsConsistent (geomGraph) {\n  this.computeEdgeEndLabels(geomGraph.getBoundaryNodeRule());\n  return this.checkAreaLabelsConsistent(0)\n};\nEdgeEndStar.prototype.checkAreaLabelsConsistent = function checkAreaLabelsConsistent (geomIndex) {\n  var edges = this.getEdges();\n  if (edges.size() <= 0) { return true }\n  var lastEdgeIndex = edges.size() - 1;\n  var startLabel = edges.get(lastEdgeIndex).getLabel();\n  var startLoc = startLabel.getLocation(geomIndex, Position.LEFT);\n  Assert.isTrue(startLoc !== Location.NONE, 'Found unlabelled area edge');\n  var currLoc = startLoc;\n  for (var it = this.iterator(); it.hasNext();) {\n    var e = it.next();\n    var label = e.getLabel();\n    Assert.isTrue(label.isArea(geomIndex), 'Found non-area edge');\n    var leftLoc = label.getLocation(geomIndex, Position.LEFT);\n    var rightLoc = label.getLocation(geomIndex, Position.RIGHT);\n    if (leftLoc === rightLoc) {\n      return false\n    }\n    if (rightLoc !== currLoc) {\n      return false\n    }\n    currLoc = leftLoc;\n  }\n  return true\n};\nEdgeEndStar.prototype.findIndex = function findIndex (eSearch) {\n    var this$1 = this;\n\n  this.iterator();\n  for (var i = 0; i < this._edgeList.size(); i++) {\n    var e = this$1._edgeList.get(i);\n    if (e === eSearch) { return i }\n  }\n  return -1\n};\nEdgeEndStar.prototype.iterator = function iterator () {\n  return this.getEdges().iterator()\n};\nEdgeEndStar.prototype.getEdges = function getEdges () {\n  if (this._edgeList === null) {\n    this._edgeList = new ArrayList(this._edgeMap.values());\n  }\n  return this._edgeList\n};\nEdgeEndStar.prototype.getLocation = function getLocation (geomIndex, p, geom) {\n  if (this._ptInAreaLocation[geomIndex] === Location.NONE) {\n    this._ptInAreaLocation[geomIndex] = SimplePointInAreaLocator.locate(p, geom[geomIndex].getGeometry());\n  }\n  return this._ptInAreaLocation[geomIndex]\n};\nEdgeEndStar.prototype.toString = function toString () {\n  var buf = new StringBuffer();\n  buf.append('EdgeEndStar:   ' + this.getCoordinate());\n  buf.append('\\n');\n  for (var it = this.iterator(); it.hasNext();) {\n    var e = it.next();\n    buf.append(e);\n    buf.append('\\n');\n  }\n  return buf.toString()\n};\nEdgeEndStar.prototype.computeEdgeEndLabels = function computeEdgeEndLabels (boundaryNodeRule) {\n  for (var it = this.iterator(); it.hasNext();) {\n    var ee = it.next();\n    ee.computeLabel(boundaryNodeRule);\n  }\n};\nEdgeEndStar.prototype.computeLabelling = function computeLabelling (geomGraph) {\n    var this$1 = this;\n\n  this.computeEdgeEndLabels(geomGraph[0].getBoundaryNodeRule());\n  this.propagateSideLabels(0);\n  this.propagateSideLabels(1);\n  var hasDimensionalCollapseEdge = [false, false];\n  for (var it = this.iterator(); it.hasNext();) {\n    var e = it.next();\n    var label = e.getLabel();\n    for (var geomi = 0; geomi < 2; geomi++) {\n      if (label.isLine(geomi) && label.getLocation(geomi) === Location.BOUNDARY) { hasDimensionalCollapseEdge[geomi] = true; }\n    }\n  }\n  for (var it$1 = this.iterator(); it$1.hasNext();) {\n    var e$1 = it$1.next();\n    var label$1 = e$1.getLabel();\n    for (var geomi$1 = 0; geomi$1 < 2; geomi$1++) {\n      if (label$1.isAnyNull(geomi$1)) {\n        var loc = Location.NONE;\n        if (hasDimensionalCollapseEdge[geomi$1]) {\n          loc = Location.EXTERIOR;\n        } else {\n          var p = e$1.getCoordinate();\n          loc = this$1.getLocation(geomi$1, p, geomGraph);\n        }\n        label$1.setAllLocationsIfNull(geomi$1, loc);\n      }\n    }\n  }\n};\nEdgeEndStar.prototype.getDegree = function getDegree () {\n  return this._edgeMap.size()\n};\nEdgeEndStar.prototype.insertEdgeEnd = function insertEdgeEnd (e, obj) {\n  this._edgeMap.put(e, obj);\n  this._edgeList = null;\n};\nEdgeEndStar.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nEdgeEndStar.prototype.getClass = function getClass () {\n  return EdgeEndStar\n};\n\nvar DirectedEdgeStar = (function (EdgeEndStar$$1) {\n  function DirectedEdgeStar () {\n    EdgeEndStar$$1.call(this);\n    this._resultAreaEdgeList = null;\n    this._label = null;\n    this._SCANNING_FOR_INCOMING = 1;\n    this._LINKING_TO_OUTGOING = 2;\n  }\n\n  if ( EdgeEndStar$$1 ) DirectedEdgeStar.__proto__ = EdgeEndStar$$1;\n  DirectedEdgeStar.prototype = Object.create( EdgeEndStar$$1 && EdgeEndStar$$1.prototype );\n  DirectedEdgeStar.prototype.constructor = DirectedEdgeStar;\n  DirectedEdgeStar.prototype.linkResultDirectedEdges = function linkResultDirectedEdges () {\n    var this$1 = this;\n\n    this.getResultAreaEdges();\n    var firstOut = null;\n    var incoming = null;\n    var state = this._SCANNING_FOR_INCOMING;\n    for (var i = 0; i < this._resultAreaEdgeList.size(); i++) {\n      var nextOut = this$1._resultAreaEdgeList.get(i);\n      var nextIn = nextOut.getSym();\n      if (!nextOut.getLabel().isArea()) { continue }\n      if (firstOut === null && nextOut.isInResult()) { firstOut = nextOut; }\n      switch (state) {\n        case this$1._SCANNING_FOR_INCOMING:\n          if (!nextIn.isInResult()) { continue }\n          incoming = nextIn;\n          state = this$1._LINKING_TO_OUTGOING;\n          break\n        case this$1._LINKING_TO_OUTGOING:\n          if (!nextOut.isInResult()) { continue }\n          incoming.setNext(nextOut);\n          state = this$1._SCANNING_FOR_INCOMING;\n          break\n        default:\n      }\n    }\n    if (state === this._LINKING_TO_OUTGOING) {\n      if (firstOut === null) { throw new TopologyException('no outgoing dirEdge found', this.getCoordinate()) }\n      Assert.isTrue(firstOut.isInResult(), 'unable to link last incoming dirEdge');\n      incoming.setNext(firstOut);\n    }\n  };\n  DirectedEdgeStar.prototype.insert = function insert (ee) {\n    var de = ee;\n    this.insertEdgeEnd(de, de);\n  };\n  DirectedEdgeStar.prototype.getRightmostEdge = function getRightmostEdge () {\n    var edges = this.getEdges();\n    var size = edges.size();\n    if (size < 1) { return null }\n    var de0 = edges.get(0);\n    if (size === 1) { return de0 }\n    var deLast = edges.get(size - 1);\n    var quad0 = de0.getQuadrant();\n    var quad1 = deLast.getQuadrant();\n    if (Quadrant.isNorthern(quad0) && Quadrant.isNorthern(quad1)) { return de0; } else if (!Quadrant.isNorthern(quad0) && !Quadrant.isNorthern(quad1)) { return deLast; } else {\n      // const nonHorizontalEdge = null\n      if (de0.getDy() !== 0) { return de0; } else if (deLast.getDy() !== 0) { return deLast }\n    }\n    Assert.shouldNeverReachHere('found two horizontal edges incident on node');\n    return null\n  };\n  DirectedEdgeStar.prototype.print = function print (out) {\n    System.out.println('DirectedEdgeStar: ' + this.getCoordinate());\n    for (var it = this.iterator(); it.hasNext();) {\n      var de = it.next();\n      out.print('out ');\n      de.print(out);\n      out.println();\n      out.print('in ');\n      de.getSym().print(out);\n      out.println();\n    }\n  };\n  DirectedEdgeStar.prototype.getResultAreaEdges = function getResultAreaEdges () {\n    var this$1 = this;\n\n    if (this._resultAreaEdgeList !== null) { return this._resultAreaEdgeList }\n    this._resultAreaEdgeList = new ArrayList();\n    for (var it = this.iterator(); it.hasNext();) {\n      var de = it.next();\n      if (de.isInResult() || de.getSym().isInResult()) { this$1._resultAreaEdgeList.add(de); }\n    }\n    return this._resultAreaEdgeList\n  };\n  DirectedEdgeStar.prototype.updateLabelling = function updateLabelling (nodeLabel) {\n    for (var it = this.iterator(); it.hasNext();) {\n      var de = it.next();\n      var label = de.getLabel();\n      label.setAllLocationsIfNull(0, nodeLabel.getLocation(0));\n      label.setAllLocationsIfNull(1, nodeLabel.getLocation(1));\n    }\n  };\n  DirectedEdgeStar.prototype.linkAllDirectedEdges = function linkAllDirectedEdges () {\n    var this$1 = this;\n\n    this.getEdges();\n    var prevOut = null;\n    var firstIn = null;\n    for (var i = this._edgeList.size() - 1; i >= 0; i--) {\n      var nextOut = this$1._edgeList.get(i);\n      var nextIn = nextOut.getSym();\n      if (firstIn === null) { firstIn = nextIn; }\n      if (prevOut !== null) { nextIn.setNext(prevOut); }\n      prevOut = nextOut;\n    }\n    firstIn.setNext(prevOut);\n  };\n  DirectedEdgeStar.prototype.computeDepths = function computeDepths () {\n    var this$1 = this;\n\n    if (arguments.length === 1) {\n      var de = arguments[0];\n      var edgeIndex = this.findIndex(de);\n      // const label = de.getLabel()\n      var startDepth = de.getDepth(Position.LEFT);\n      var targetLastDepth = de.getDepth(Position.RIGHT);\n      var nextDepth = this.computeDepths(edgeIndex + 1, this._edgeList.size(), startDepth);\n      var lastDepth = this.computeDepths(0, edgeIndex, nextDepth);\n      if (lastDepth !== targetLastDepth) { throw new TopologyException('depth mismatch at ' + de.getCoordinate()) }\n    } else if (arguments.length === 3) {\n      var startIndex = arguments[0];\n      var endIndex = arguments[1];\n      var startDepth$1 = arguments[2];\n      var currDepth = startDepth$1;\n      for (var i = startIndex; i < endIndex; i++) {\n        var nextDe = this$1._edgeList.get(i);\n        // const label = nextDe.getLabel()\n        nextDe.setEdgeDepths(Position.RIGHT, currDepth);\n        currDepth = nextDe.getDepth(Position.LEFT);\n      }\n      return currDepth\n    }\n  };\n  DirectedEdgeStar.prototype.mergeSymLabels = function mergeSymLabels () {\n    for (var it = this.iterator(); it.hasNext();) {\n      var de = it.next();\n      var label = de.getLabel();\n      label.merge(de.getSym().getLabel());\n    }\n  };\n  DirectedEdgeStar.prototype.linkMinimalDirectedEdges = function linkMinimalDirectedEdges (er) {\n    var this$1 = this;\n\n    var firstOut = null;\n    var incoming = null;\n    var state = this._SCANNING_FOR_INCOMING;\n    for (var i = this._resultAreaEdgeList.size() - 1; i >= 0; i--) {\n      var nextOut = this$1._resultAreaEdgeList.get(i);\n      var nextIn = nextOut.getSym();\n      if (firstOut === null && nextOut.getEdgeRing() === er) { firstOut = nextOut; }\n      switch (state) {\n        case this$1._SCANNING_FOR_INCOMING:\n          if (nextIn.getEdgeRing() !== er) { continue }\n          incoming = nextIn;\n          state = this$1._LINKING_TO_OUTGOING;\n          break\n        case this$1._LINKING_TO_OUTGOING:\n          if (nextOut.getEdgeRing() !== er) { continue }\n          incoming.setNextMin(nextOut);\n          state = this$1._SCANNING_FOR_INCOMING;\n          break\n        default:\n      }\n    }\n    if (state === this._LINKING_TO_OUTGOING) {\n      Assert.isTrue(firstOut !== null, 'found null for first outgoing dirEdge');\n      Assert.isTrue(firstOut.getEdgeRing() === er, 'unable to link last incoming dirEdge');\n      incoming.setNextMin(firstOut);\n    }\n  };\n  DirectedEdgeStar.prototype.getOutgoingDegree = function getOutgoingDegree () {\n    if (arguments.length === 0) {\n      var degree = 0;\n      for (var it = this.iterator(); it.hasNext();) {\n        var de = it.next();\n        if (de.isInResult()) { degree++; }\n      }\n      return degree\n    } else if (arguments.length === 1) {\n      var er = arguments[0];\n      var degree$1 = 0;\n      for (var it$1 = this.iterator(); it$1.hasNext();) {\n        var de$1 = it$1.next();\n        if (de$1.getEdgeRing() === er) { degree$1++; }\n      }\n      return degree$1\n    }\n  };\n  DirectedEdgeStar.prototype.getLabel = function getLabel () {\n    return this._label\n  };\n  DirectedEdgeStar.prototype.findCoveredLineEdges = function findCoveredLineEdges () {\n    var startLoc = Location.NONE;\n    for (var it = this.iterator(); it.hasNext();) {\n      var nextOut = it.next();\n      var nextIn = nextOut.getSym();\n      if (!nextOut.isLineEdge()) {\n        if (nextOut.isInResult()) {\n          startLoc = Location.INTERIOR;\n          break\n        }\n        if (nextIn.isInResult()) {\n          startLoc = Location.EXTERIOR;\n          break\n        }\n      }\n    }\n    if (startLoc === Location.NONE) { return null }\n    var currLoc = startLoc;\n    for (var it$1 = this.iterator(); it$1.hasNext();) {\n      var nextOut$1 = it$1.next();\n      var nextIn$1 = nextOut$1.getSym();\n      if (nextOut$1.isLineEdge()) {\n        nextOut$1.getEdge().setCovered(currLoc === Location.INTERIOR);\n      } else {\n        if (nextOut$1.isInResult()) { currLoc = Location.EXTERIOR; }\n        if (nextIn$1.isInResult()) { currLoc = Location.INTERIOR; }\n      }\n    }\n  };\n  DirectedEdgeStar.prototype.computeLabelling = function computeLabelling (geom) {\n    var this$1 = this;\n\n    EdgeEndStar$$1.prototype.computeLabelling.call(this, geom);\n    this._label = new Label(Location.NONE);\n    for (var it = this.iterator(); it.hasNext();) {\n      var ee = it.next();\n      var e = ee.getEdge();\n      var eLabel = e.getLabel();\n      for (var i = 0; i < 2; i++) {\n        var eLoc = eLabel.getLocation(i);\n        if (eLoc === Location.INTERIOR || eLoc === Location.BOUNDARY) { this$1._label.setLocation(i, Location.INTERIOR); }\n      }\n    }\n  };\n  DirectedEdgeStar.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  DirectedEdgeStar.prototype.getClass = function getClass () {\n    return DirectedEdgeStar\n  };\n\n  return DirectedEdgeStar;\n}(EdgeEndStar));\n\nvar OverlayNodeFactory = (function (NodeFactory$$1) {\n  function OverlayNodeFactory () {\n    NodeFactory$$1.apply(this, arguments);\n  }\n\n  if ( NodeFactory$$1 ) OverlayNodeFactory.__proto__ = NodeFactory$$1;\n  OverlayNodeFactory.prototype = Object.create( NodeFactory$$1 && NodeFactory$$1.prototype );\n  OverlayNodeFactory.prototype.constructor = OverlayNodeFactory;\n\n  OverlayNodeFactory.prototype.createNode = function createNode (coord) {\n    return new Node$2(coord, new DirectedEdgeStar())\n  };\n  OverlayNodeFactory.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  OverlayNodeFactory.prototype.getClass = function getClass () {\n    return OverlayNodeFactory\n  };\n\n  return OverlayNodeFactory;\n}(NodeFactory));\n\nvar OrientedCoordinateArray = function OrientedCoordinateArray () {\n  this._pts = null;\n  this._orientation = null;\n  var pts = arguments[0];\n  this._pts = pts;\n  this._orientation = OrientedCoordinateArray.orientation(pts);\n};\nOrientedCoordinateArray.prototype.compareTo = function compareTo (o1) {\n  var oca = o1;\n  var comp = OrientedCoordinateArray.compareOriented(this._pts, this._orientation, oca._pts, oca._orientation);\n  return comp\n};\nOrientedCoordinateArray.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nOrientedCoordinateArray.prototype.getClass = function getClass () {\n  return OrientedCoordinateArray\n};\nOrientedCoordinateArray.orientation = function orientation (pts) {\n  return CoordinateArrays.increasingDirection(pts) === 1\n};\nOrientedCoordinateArray.compareOriented = function compareOriented (pts1, orientation1, pts2, orientation2) {\n  var dir1 = orientation1 ? 1 : -1;\n  var dir2 = orientation2 ? 1 : -1;\n  var limit1 = orientation1 ? pts1.length : -1;\n  var limit2 = orientation2 ? pts2.length : -1;\n  var i1 = orientation1 ? 0 : pts1.length - 1;\n  var i2 = orientation2 ? 0 : pts2.length - 1;\n  // const comp = 0\n  while (true) {\n    var compPt = pts1[i1].compareTo(pts2[i2]);\n    if (compPt !== 0) { return compPt }\n    i1 += dir1;\n    i2 += dir2;\n    var done1 = i1 === limit1;\n    var done2 = i2 === limit2;\n    if (done1 && !done2) { return -1 }\n    if (!done1 && done2) { return 1 }\n    if (done1 && done2) { return 0 }\n  }\n};\n\nvar EdgeList = function EdgeList () {\n  this._edges = new ArrayList();\n  this._ocaMap = new TreeMap();\n};\nEdgeList.prototype.print = function print (out) {\n    var this$1 = this;\n\n  out.print('MULTILINESTRING ( ');\n  for (var j = 0; j < this._edges.size(); j++) {\n    var e = this$1._edges.get(j);\n    if (j > 0) { out.print(','); }\n    out.print('(');\n    var pts = e.getCoordinates();\n    for (var i = 0; i < pts.length; i++) {\n      if (i > 0) { out.print(','); }\n      out.print(pts[i].x + ' ' + pts[i].y);\n    }\n    out.println(')');\n  }\n  out.print(')  ');\n};\nEdgeList.prototype.addAll = function addAll (edgeColl) {\n    var this$1 = this;\n\n  for (var i = edgeColl.iterator(); i.hasNext();) {\n    this$1.add(i.next());\n  }\n};\nEdgeList.prototype.findEdgeIndex = function findEdgeIndex (e) {\n    var this$1 = this;\n\n  for (var i = 0; i < this._edges.size(); i++) {\n    if (this$1._edges.get(i).equals(e)) { return i }\n  }\n  return -1\n};\nEdgeList.prototype.iterator = function iterator () {\n  return this._edges.iterator()\n};\nEdgeList.prototype.getEdges = function getEdges () {\n  return this._edges\n};\nEdgeList.prototype.get = function get (i) {\n  return this._edges.get(i)\n};\nEdgeList.prototype.findEqualEdge = function findEqualEdge (e) {\n  var oca = new OrientedCoordinateArray(e.getCoordinates());\n  var matchEdge = this._ocaMap.get(oca);\n  return matchEdge\n};\nEdgeList.prototype.add = function add (e) {\n  this._edges.add(e);\n  var oca = new OrientedCoordinateArray(e.getCoordinates());\n  this._ocaMap.put(oca, e);\n};\nEdgeList.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nEdgeList.prototype.getClass = function getClass () {\n  return EdgeList\n};\n\nvar SegmentIntersector = function SegmentIntersector () {};\n\nSegmentIntersector.prototype.processIntersections = function processIntersections (e0, segIndex0, e1, segIndex1) {};\nSegmentIntersector.prototype.isDone = function isDone () {};\nSegmentIntersector.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSegmentIntersector.prototype.getClass = function getClass () {\n  return SegmentIntersector\n};\n\nvar IntersectionAdder = function IntersectionAdder () {\n  this._hasIntersection = false;\n  this._hasProper = false;\n  this._hasProperInterior = false;\n  this._hasInterior = false;\n  this._properIntersectionPoint = null;\n  this._li = null;\n  this._isSelfIntersection = null;\n  this.numIntersections = 0;\n  this.numInteriorIntersections = 0;\n  this.numProperIntersections = 0;\n  this.numTests = 0;\n  var li = arguments[0];\n  this._li = li;\n};\nIntersectionAdder.prototype.isTrivialIntersection = function isTrivialIntersection (e0, segIndex0, e1, segIndex1) {\n  if (e0 === e1) {\n    if (this._li.getIntersectionNum() === 1) {\n      if (IntersectionAdder.isAdjacentSegments(segIndex0, segIndex1)) { return true }\n      if (e0.isClosed()) {\n        var maxSegIndex = e0.size() - 1;\n        if ((segIndex0 === 0 && segIndex1 === maxSegIndex) ||\n            (segIndex1 === 0 && segIndex0 === maxSegIndex)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n};\nIntersectionAdder.prototype.getProperIntersectionPoint = function getProperIntersectionPoint () {\n  return this._properIntersectionPoint\n};\nIntersectionAdder.prototype.hasProperInteriorIntersection = function hasProperInteriorIntersection () {\n  return this._hasProperInterior\n};\nIntersectionAdder.prototype.getLineIntersector = function getLineIntersector () {\n  return this._li\n};\nIntersectionAdder.prototype.hasProperIntersection = function hasProperIntersection () {\n  return this._hasProper\n};\nIntersectionAdder.prototype.processIntersections = function processIntersections (e0, segIndex0, e1, segIndex1) {\n  if (e0 === e1 && segIndex0 === segIndex1) { return null }\n  this.numTests++;\n  var p00 = e0.getCoordinates()[segIndex0];\n  var p01 = e0.getCoordinates()[segIndex0 + 1];\n  var p10 = e1.getCoordinates()[segIndex1];\n  var p11 = e1.getCoordinates()[segIndex1 + 1];\n  this._li.computeIntersection(p00, p01, p10, p11);\n  if (this._li.hasIntersection()) {\n    this.numIntersections++;\n    if (this._li.isInteriorIntersection()) {\n      this.numInteriorIntersections++;\n      this._hasInterior = true;\n    }\n    if (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n      this._hasIntersection = true;\n      e0.addIntersections(this._li, segIndex0, 0);\n      e1.addIntersections(this._li, segIndex1, 1);\n      if (this._li.isProper()) {\n        this.numProperIntersections++;\n        this._hasProper = true;\n        this._hasProperInterior = true;\n      }\n    }\n  }\n};\nIntersectionAdder.prototype.hasIntersection = function hasIntersection () {\n  return this._hasIntersection\n};\nIntersectionAdder.prototype.isDone = function isDone () {\n  return false\n};\nIntersectionAdder.prototype.hasInteriorIntersection = function hasInteriorIntersection () {\n  return this._hasInterior\n};\nIntersectionAdder.prototype.interfaces_ = function interfaces_ () {\n  return [SegmentIntersector]\n};\nIntersectionAdder.prototype.getClass = function getClass () {\n  return IntersectionAdder\n};\nIntersectionAdder.isAdjacentSegments = function isAdjacentSegments (i1, i2) {\n  return Math.abs(i1 - i2) === 1\n};\n\nvar EdgeIntersection = function EdgeIntersection () {\n  this.coord = null;\n  this.segmentIndex = null;\n  this.dist = null;\n  var coord = arguments[0];\n  var segmentIndex = arguments[1];\n  var dist = arguments[2];\n  this.coord = new Coordinate(coord);\n  this.segmentIndex = segmentIndex;\n  this.dist = dist;\n};\nEdgeIntersection.prototype.getSegmentIndex = function getSegmentIndex () {\n  return this.segmentIndex\n};\nEdgeIntersection.prototype.getCoordinate = function getCoordinate () {\n  return this.coord\n};\nEdgeIntersection.prototype.print = function print (out) {\n  out.print(this.coord);\n  out.print(' seg # = ' + this.segmentIndex);\n  out.println(' dist = ' + this.dist);\n};\nEdgeIntersection.prototype.compareTo = function compareTo (obj) {\n  var other = obj;\n  return this.compare(other.segmentIndex, other.dist)\n};\nEdgeIntersection.prototype.isEndPoint = function isEndPoint (maxSegmentIndex) {\n  if (this.segmentIndex === 0 && this.dist === 0.0) { return true }\n  if (this.segmentIndex === maxSegmentIndex) { return true }\n  return false\n};\nEdgeIntersection.prototype.toString = function toString () {\n  return this.coord + ' seg # = ' + this.segmentIndex + ' dist = ' + this.dist\n};\nEdgeIntersection.prototype.getDistance = function getDistance () {\n  return this.dist\n};\nEdgeIntersection.prototype.compare = function compare (segmentIndex, dist) {\n  if (this.segmentIndex < segmentIndex) { return -1 }\n  if (this.segmentIndex > segmentIndex) { return 1 }\n  if (this.dist < dist) { return -1 }\n  if (this.dist > dist) { return 1 }\n  return 0\n};\nEdgeIntersection.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nEdgeIntersection.prototype.getClass = function getClass () {\n  return EdgeIntersection\n};\n\nvar EdgeIntersectionList = function EdgeIntersectionList () {\n  this._nodeMap = new TreeMap();\n  this.edge = null;\n  var edge = arguments[0];\n  this.edge = edge;\n};\nEdgeIntersectionList.prototype.print = function print (out) {\n  out.println('Intersections:');\n  for (var it = this.iterator(); it.hasNext();) {\n    var ei = it.next();\n    ei.print(out);\n  }\n};\nEdgeIntersectionList.prototype.iterator = function iterator () {\n  return this._nodeMap.values().iterator()\n};\nEdgeIntersectionList.prototype.addSplitEdges = function addSplitEdges (edgeList) {\n    var this$1 = this;\n\n  this.addEndpoints();\n  var it = this.iterator();\n  var eiPrev = it.next();\n  while (it.hasNext()) {\n    var ei = it.next();\n    var newEdge = this$1.createSplitEdge(eiPrev, ei);\n    edgeList.add(newEdge);\n    eiPrev = ei;\n  }\n};\nEdgeIntersectionList.prototype.addEndpoints = function addEndpoints () {\n  var maxSegIndex = this.edge.pts.length - 1;\n  this.add(this.edge.pts[0], 0, 0.0);\n  this.add(this.edge.pts[maxSegIndex], maxSegIndex, 0.0);\n};\nEdgeIntersectionList.prototype.createSplitEdge = function createSplitEdge (ei0, ei1) {\n    var this$1 = this;\n\n  var npts = ei1.segmentIndex - ei0.segmentIndex + 2;\n  var lastSegStartPt = this.edge.pts[ei1.segmentIndex];\n  var useIntPt1 = ei1.dist > 0.0 || !ei1.coord.equals2D(lastSegStartPt);\n  if (!useIntPt1) {\n    npts--;\n  }\n  var pts = new Array(npts).fill(null);\n  var ipt = 0;\n  pts[ipt++] = new Coordinate(ei0.coord);\n  for (var i = ei0.segmentIndex + 1; i <= ei1.segmentIndex; i++) {\n    pts[ipt++] = this$1.edge.pts[i];\n  }\n  if (useIntPt1) { pts[ipt] = ei1.coord; }\n  return new Edge$1(pts, new Label(this.edge._label))\n};\nEdgeIntersectionList.prototype.add = function add (intPt, segmentIndex, dist) {\n  var eiNew = new EdgeIntersection(intPt, segmentIndex, dist);\n  var ei = this._nodeMap.get(eiNew);\n  if (ei !== null) {\n    return ei\n  }\n  this._nodeMap.put(eiNew, eiNew);\n  return eiNew\n};\nEdgeIntersectionList.prototype.isIntersection = function isIntersection (pt) {\n  for (var it = this.iterator(); it.hasNext();) {\n    var ei = it.next();\n    if (ei.coord.equals(pt)) { return true }\n  }\n  return false\n};\nEdgeIntersectionList.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nEdgeIntersectionList.prototype.getClass = function getClass () {\n  return EdgeIntersectionList\n};\n\nvar MonotoneChainIndexer = function MonotoneChainIndexer () {};\n\nMonotoneChainIndexer.prototype.getChainStartIndices = function getChainStartIndices (pts) {\n    var this$1 = this;\n\n  var start = 0;\n  var startIndexList = new ArrayList();\n  startIndexList.add(new Integer(start));\n  do {\n    var last = this$1.findChainEnd(pts, start);\n    startIndexList.add(new Integer(last));\n    start = last;\n  } while (start < pts.length - 1)\n  var startIndex = MonotoneChainIndexer.toIntArray(startIndexList);\n  return startIndex\n};\nMonotoneChainIndexer.prototype.findChainEnd = function findChainEnd (pts, start) {\n  var chainQuad = Quadrant.quadrant(pts[start], pts[start + 1]);\n  var last = start + 1;\n  while (last < pts.length) {\n    var quad = Quadrant.quadrant(pts[last - 1], pts[last]);\n    if (quad !== chainQuad) { break }\n    last++;\n  }\n  return last - 1\n};\nMonotoneChainIndexer.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMonotoneChainIndexer.prototype.getClass = function getClass () {\n  return MonotoneChainIndexer\n};\nMonotoneChainIndexer.toIntArray = function toIntArray (list) {\n  var array = new Array(list.size()).fill(null);\n  for (var i = 0; i < array.length; i++) {\n    array[i] = list.get(i).intValue();\n  }\n  return array\n};\n\nvar MonotoneChainEdge = function MonotoneChainEdge () {\n  this.e = null;\n  this.pts = null;\n  this.startIndex = null;\n  this.env1 = new Envelope();\n  this.env2 = new Envelope();\n  var e = arguments[0];\n  this.e = e;\n  this.pts = e.getCoordinates();\n  var mcb = new MonotoneChainIndexer();\n  this.startIndex = mcb.getChainStartIndices(this.pts);\n};\nMonotoneChainEdge.prototype.getCoordinates = function getCoordinates () {\n  return this.pts\n};\nMonotoneChainEdge.prototype.getMaxX = function getMaxX (chainIndex) {\n  var x1 = this.pts[this.startIndex[chainIndex]].x;\n  var x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n  return x1 > x2 ? x1 : x2\n};\nMonotoneChainEdge.prototype.getMinX = function getMinX (chainIndex) {\n  var x1 = this.pts[this.startIndex[chainIndex]].x;\n  var x2 = this.pts[this.startIndex[chainIndex + 1]].x;\n  return x1 < x2 ? x1 : x2\n};\nMonotoneChainEdge.prototype.computeIntersectsForChain = function computeIntersectsForChain () {\n  if (arguments.length === 4) {\n    var chainIndex0 = arguments[0];\n    var mce = arguments[1];\n    var chainIndex1 = arguments[2];\n    var si = arguments[3];\n    this.computeIntersectsForChain(this.startIndex[chainIndex0], this.startIndex[chainIndex0 + 1], mce, mce.startIndex[chainIndex1], mce.startIndex[chainIndex1 + 1], si);\n  } else if (arguments.length === 6) {\n    var start0 = arguments[0];\n    var end0 = arguments[1];\n    var mce$1 = arguments[2];\n    var start1 = arguments[3];\n    var end1 = arguments[4];\n    var ei = arguments[5];\n    var p00 = this.pts[start0];\n    var p01 = this.pts[end0];\n    var p10 = mce$1.pts[start1];\n    var p11 = mce$1.pts[end1];\n    if (end0 - start0 === 1 && end1 - start1 === 1) {\n      ei.addIntersections(this.e, start0, mce$1.e, start1);\n      return null\n    }\n    this.env1.init(p00, p01);\n    this.env2.init(p10, p11);\n    if (!this.env1.intersects(this.env2)) { return null }\n    var mid0 = Math.trunc((start0 + end0) / 2);\n    var mid1 = Math.trunc((start1 + end1) / 2);\n    if (start0 < mid0) {\n      if (start1 < mid1) { this.computeIntersectsForChain(start0, mid0, mce$1, start1, mid1, ei); }\n      if (mid1 < end1) { this.computeIntersectsForChain(start0, mid0, mce$1, mid1, end1, ei); }\n    }\n    if (mid0 < end0) {\n      if (start1 < mid1) { this.computeIntersectsForChain(mid0, end0, mce$1, start1, mid1, ei); }\n      if (mid1 < end1) { this.computeIntersectsForChain(mid0, end0, mce$1, mid1, end1, ei); }\n    }\n  }\n};\nMonotoneChainEdge.prototype.getStartIndexes = function getStartIndexes () {\n  return this.startIndex\n};\nMonotoneChainEdge.prototype.computeIntersects = function computeIntersects (mce, si) {\n    var this$1 = this;\n\n  for (var i = 0; i < this.startIndex.length - 1; i++) {\n    for (var j = 0; j < mce.startIndex.length - 1; j++) {\n      this$1.computeIntersectsForChain(i, mce, j, si);\n    }\n  }\n};\nMonotoneChainEdge.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMonotoneChainEdge.prototype.getClass = function getClass () {\n  return MonotoneChainEdge\n};\n\nvar Depth = function Depth () {\n  var this$1 = this;\n\n  this._depth = Array(2).fill().map(function () { return Array(3); });\n  for (var i = 0; i < 2; i++) {\n    for (var j = 0; j < 3; j++) {\n      this$1._depth[i][j] = Depth.NULL_VALUE;\n    }\n  }\n};\n\nvar staticAccessors$31 = { NULL_VALUE: { configurable: true } };\nDepth.prototype.getDepth = function getDepth (geomIndex, posIndex) {\n  return this._depth[geomIndex][posIndex]\n};\nDepth.prototype.setDepth = function setDepth (geomIndex, posIndex, depthValue) {\n  this._depth[geomIndex][posIndex] = depthValue;\n};\nDepth.prototype.isNull = function isNull () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    for (var i = 0; i < 2; i++) {\n      for (var j = 0; j < 3; j++) {\n        if (this$1._depth[i][j] !== Depth.NULL_VALUE) { return false }\n      }\n    }\n    return true\n  } else if (arguments.length === 1) {\n    var geomIndex = arguments[0];\n    return this._depth[geomIndex][1] === Depth.NULL_VALUE\n  } else if (arguments.length === 2) {\n    var geomIndex$1 = arguments[0];\n    var posIndex = arguments[1];\n    return this._depth[geomIndex$1][posIndex] === Depth.NULL_VALUE\n  }\n};\nDepth.prototype.normalize = function normalize () {\n    var this$1 = this;\n\n  for (var i = 0; i < 2; i++) {\n    if (!this$1.isNull(i)) {\n      var minDepth = this$1._depth[i][1];\n      if (this$1._depth[i][2] < minDepth) { minDepth = this$1._depth[i][2]; }\n      if (minDepth < 0) { minDepth = 0; }\n      for (var j = 1; j < 3; j++) {\n        var newValue = 0;\n        if (this$1._depth[i][j] > minDepth) { newValue = 1; }\n        this$1._depth[i][j] = newValue;\n      }\n    }\n  }\n};\nDepth.prototype.getDelta = function getDelta (geomIndex) {\n  return this._depth[geomIndex][Position.RIGHT] - this._depth[geomIndex][Position.LEFT]\n};\nDepth.prototype.getLocation = function getLocation (geomIndex, posIndex) {\n  if (this._depth[geomIndex][posIndex] <= 0) { return Location.EXTERIOR }\n  return Location.INTERIOR\n};\nDepth.prototype.toString = function toString () {\n  return 'A: ' + this._depth[0][1] + ',' + this._depth[0][2] + ' B: ' + this._depth[1][1] + ',' + this._depth[1][2]\n};\nDepth.prototype.add = function add () {\n    var this$1 = this;\n\n  if (arguments.length === 1) {\n    var lbl = arguments[0];\n    for (var i = 0; i < 2; i++) {\n      for (var j = 1; j < 3; j++) {\n        var loc = lbl.getLocation(i, j);\n        if (loc === Location.EXTERIOR || loc === Location.INTERIOR) {\n          if (this$1.isNull(i, j)) {\n            this$1._depth[i][j] = Depth.depthAtLocation(loc);\n          } else { this$1._depth[i][j] += Depth.depthAtLocation(loc); }\n        }\n      }\n    }\n  } else if (arguments.length === 3) {\n    var geomIndex = arguments[0];\n    var posIndex = arguments[1];\n    var location = arguments[2];\n    if (location === Location.INTERIOR) { this._depth[geomIndex][posIndex]++; }\n  }\n};\nDepth.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nDepth.prototype.getClass = function getClass () {\n  return Depth\n};\nDepth.depthAtLocation = function depthAtLocation (location) {\n  if (location === Location.EXTERIOR) { return 0 }\n  if (location === Location.INTERIOR) { return 1 }\n  return Depth.NULL_VALUE\n};\nstaticAccessors$31.NULL_VALUE.get = function () { return -1 };\n\nObject.defineProperties( Depth, staticAccessors$31 );\n\nvar Edge$1 = (function (GraphComponent$$1) {\n  function Edge () {\n    GraphComponent$$1.call(this);\n    this.pts = null;\n    this._env = null;\n    this.eiList = new EdgeIntersectionList(this);\n    this._name = null;\n    this._mce = null;\n    this._isIsolated = true;\n    this._depth = new Depth();\n    this._depthDelta = 0;\n    if (arguments.length === 1) {\n      var pts = arguments[0];\n      Edge.call(this, pts, null);\n    } else if (arguments.length === 2) {\n      var pts$1 = arguments[0];\n      var label = arguments[1];\n      this.pts = pts$1;\n      this._label = label;\n    }\n  }\n\n  if ( GraphComponent$$1 ) Edge.__proto__ = GraphComponent$$1;\n  Edge.prototype = Object.create( GraphComponent$$1 && GraphComponent$$1.prototype );\n  Edge.prototype.constructor = Edge;\n  Edge.prototype.getDepth = function getDepth () {\n    return this._depth\n  };\n  Edge.prototype.getCollapsedEdge = function getCollapsedEdge () {\n    var newPts = new Array(2).fill(null);\n    newPts[0] = this.pts[0];\n    newPts[1] = this.pts[1];\n    var newe = new Edge(newPts, Label.toLineLabel(this._label));\n    return newe\n  };\n  Edge.prototype.isIsolated = function isIsolated () {\n    return this._isIsolated\n  };\n  Edge.prototype.getCoordinates = function getCoordinates () {\n    return this.pts\n  };\n  Edge.prototype.setIsolated = function setIsolated (isIsolated) {\n    this._isIsolated = isIsolated;\n  };\n  Edge.prototype.setName = function setName (name) {\n    this._name = name;\n  };\n  Edge.prototype.equals = function equals (o) {\n    var this$1 = this;\n\n    if (!(o instanceof Edge)) { return false }\n    var e = o;\n    if (this.pts.length !== e.pts.length) { return false }\n    var isEqualForward = true;\n    var isEqualReverse = true;\n    var iRev = this.pts.length;\n    for (var i = 0; i < this.pts.length; i++) {\n      if (!this$1.pts[i].equals2D(e.pts[i])) {\n        isEqualForward = false;\n      }\n      if (!this$1.pts[i].equals2D(e.pts[--iRev])) {\n        isEqualReverse = false;\n      }\n      if (!isEqualForward && !isEqualReverse) { return false }\n    }\n    return true\n  };\n  Edge.prototype.getCoordinate = function getCoordinate () {\n    if (arguments.length === 0) {\n      if (this.pts.length > 0) { return this.pts[0] }\n      return null\n    } else if (arguments.length === 1) {\n      var i = arguments[0];\n      return this.pts[i]\n    }\n  };\n  Edge.prototype.print = function print (out) {\n    var this$1 = this;\n\n    out.print('edge ' + this._name + ': ');\n    out.print('LINESTRING (');\n    for (var i = 0; i < this.pts.length; i++) {\n      if (i > 0) { out.print(','); }\n      out.print(this$1.pts[i].x + ' ' + this$1.pts[i].y);\n    }\n    out.print(')  ' + this._label + ' ' + this._depthDelta);\n  };\n  Edge.prototype.computeIM = function computeIM (im) {\n    Edge.updateIM(this._label, im);\n  };\n  Edge.prototype.isCollapsed = function isCollapsed () {\n    if (!this._label.isArea()) { return false }\n    if (this.pts.length !== 3) { return false }\n    if (this.pts[0].equals(this.pts[2])) { return true }\n    return false\n  };\n  Edge.prototype.isClosed = function isClosed () {\n    return this.pts[0].equals(this.pts[this.pts.length - 1])\n  };\n  Edge.prototype.getMaximumSegmentIndex = function getMaximumSegmentIndex () {\n    return this.pts.length - 1\n  };\n  Edge.prototype.getDepthDelta = function getDepthDelta () {\n    return this._depthDelta\n  };\n  Edge.prototype.getNumPoints = function getNumPoints () {\n    return this.pts.length\n  };\n  Edge.prototype.printReverse = function printReverse (out) {\n    var this$1 = this;\n\n    out.print('edge ' + this._name + ': ');\n    for (var i = this.pts.length - 1; i >= 0; i--) {\n      out.print(this$1.pts[i] + ' ');\n    }\n    out.println('');\n  };\n  Edge.prototype.getMonotoneChainEdge = function getMonotoneChainEdge () {\n    if (this._mce === null) { this._mce = new MonotoneChainEdge(this); }\n    return this._mce\n  };\n  Edge.prototype.getEnvelope = function getEnvelope () {\n    var this$1 = this;\n\n    if (this._env === null) {\n      this._env = new Envelope();\n      for (var i = 0; i < this.pts.length; i++) {\n        this$1._env.expandToInclude(this$1.pts[i]);\n      }\n    }\n    return this._env\n  };\n  Edge.prototype.addIntersection = function addIntersection (li, segmentIndex, geomIndex, intIndex) {\n    var intPt = new Coordinate(li.getIntersection(intIndex));\n    var normalizedSegmentIndex = segmentIndex;\n    var dist = li.getEdgeDistance(geomIndex, intIndex);\n    var nextSegIndex = normalizedSegmentIndex + 1;\n    if (nextSegIndex < this.pts.length) {\n      var nextPt = this.pts[nextSegIndex];\n      if (intPt.equals2D(nextPt)) {\n        normalizedSegmentIndex = nextSegIndex;\n        dist = 0.0;\n      }\n    }\n    this.eiList.add(intPt, normalizedSegmentIndex, dist);\n  };\n  Edge.prototype.toString = function toString () {\n    var this$1 = this;\n\n    var buf = new StringBuffer();\n    buf.append('edge ' + this._name + ': ');\n    buf.append('LINESTRING (');\n    for (var i = 0; i < this.pts.length; i++) {\n      if (i > 0) { buf.append(','); }\n      buf.append(this$1.pts[i].x + ' ' + this$1.pts[i].y);\n    }\n    buf.append(')  ' + this._label + ' ' + this._depthDelta);\n    return buf.toString()\n  };\n  Edge.prototype.isPointwiseEqual = function isPointwiseEqual (e) {\n    var this$1 = this;\n\n    if (this.pts.length !== e.pts.length) { return false }\n    for (var i = 0; i < this.pts.length; i++) {\n      if (!this$1.pts[i].equals2D(e.pts[i])) {\n        return false\n      }\n    }\n    return true\n  };\n  Edge.prototype.setDepthDelta = function setDepthDelta (depthDelta) {\n    this._depthDelta = depthDelta;\n  };\n  Edge.prototype.getEdgeIntersectionList = function getEdgeIntersectionList () {\n    return this.eiList\n  };\n  Edge.prototype.addIntersections = function addIntersections (li, segmentIndex, geomIndex) {\n    var this$1 = this;\n\n    for (var i = 0; i < li.getIntersectionNum(); i++) {\n      this$1.addIntersection(li, segmentIndex, geomIndex, i);\n    }\n  };\n  Edge.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  Edge.prototype.getClass = function getClass () {\n    return Edge\n  };\n  Edge.updateIM = function updateIM () {\n    if (arguments.length === 2) {\n      var label = arguments[0];\n      var im = arguments[1];\n      im.setAtLeastIfValid(label.getLocation(0, Position.ON), label.getLocation(1, Position.ON), 1);\n      if (label.isArea()) {\n        im.setAtLeastIfValid(label.getLocation(0, Position.LEFT), label.getLocation(1, Position.LEFT), 2);\n        im.setAtLeastIfValid(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), 2);\n      }\n    } else { return GraphComponent$$1.prototype.updateIM.apply(this, arguments) }\n  };\n\n  return Edge;\n}(GraphComponent));\n\nvar BufferBuilder = function BufferBuilder (bufParams) {\n  this._workingPrecisionModel = null;\n  this._workingNoder = null;\n  this._geomFact = null;\n  this._graph = null;\n  this._edgeList = new EdgeList();\n  this._bufParams = bufParams || null;\n};\nBufferBuilder.prototype.setWorkingPrecisionModel = function setWorkingPrecisionModel (pm) {\n  this._workingPrecisionModel = pm;\n};\nBufferBuilder.prototype.insertUniqueEdge = function insertUniqueEdge (e) {\n  var existingEdge = this._edgeList.findEqualEdge(e);\n  if (existingEdge !== null) {\n    var existingLabel = existingEdge.getLabel();\n    var labelToMerge = e.getLabel();\n    if (!existingEdge.isPointwiseEqual(e)) {\n      labelToMerge = new Label(e.getLabel());\n      labelToMerge.flip();\n    }\n    existingLabel.merge(labelToMerge);\n    var mergeDelta = BufferBuilder.depthDelta(labelToMerge);\n    var existingDelta = existingEdge.getDepthDelta();\n    var newDelta = existingDelta + mergeDelta;\n    existingEdge.setDepthDelta(newDelta);\n  } else {\n    this._edgeList.add(e);\n    e.setDepthDelta(BufferBuilder.depthDelta(e.getLabel()));\n  }\n};\nBufferBuilder.prototype.buildSubgraphs = function buildSubgraphs (subgraphList, polyBuilder) {\n  var processedGraphs = new ArrayList();\n  for (var i = subgraphList.iterator(); i.hasNext();) {\n    var subgraph = i.next();\n    var p = subgraph.getRightmostCoordinate();\n    var locater = new SubgraphDepthLocater(processedGraphs);\n    var outsideDepth = locater.getDepth(p);\n    subgraph.computeDepth(outsideDepth);\n    subgraph.findResultEdges();\n    processedGraphs.add(subgraph);\n    polyBuilder.add(subgraph.getDirectedEdges(), subgraph.getNodes());\n  }\n};\nBufferBuilder.prototype.createSubgraphs = function createSubgraphs (graph) {\n  var subgraphList = new ArrayList();\n  for (var i = graph.getNodes().iterator(); i.hasNext();) {\n    var node = i.next();\n    if (!node.isVisited()) {\n      var subgraph = new BufferSubgraph();\n      subgraph.create(node);\n      subgraphList.add(subgraph);\n    }\n  }\n  Collections.sort(subgraphList, Collections.reverseOrder());\n  return subgraphList\n};\nBufferBuilder.prototype.createEmptyResultGeometry = function createEmptyResultGeometry () {\n  var emptyGeom = this._geomFact.createPolygon();\n  return emptyGeom\n};\nBufferBuilder.prototype.getNoder = function getNoder (precisionModel) {\n  if (this._workingNoder !== null) { return this._workingNoder }\n  var noder = new MCIndexNoder();\n  var li = new RobustLineIntersector();\n  li.setPrecisionModel(precisionModel);\n  noder.setSegmentIntersector(new IntersectionAdder(li));\n  return noder\n};\nBufferBuilder.prototype.buffer = function buffer (g, distance) {\n  var precisionModel = this._workingPrecisionModel;\n  if (precisionModel === null) { precisionModel = g.getPrecisionModel(); }\n  this._geomFact = g.getFactory();\n  var curveBuilder = new OffsetCurveBuilder(precisionModel, this._bufParams);\n  var curveSetBuilder = new OffsetCurveSetBuilder(g, distance, curveBuilder);\n  var bufferSegStrList = curveSetBuilder.getCurves();\n  if (bufferSegStrList.size() <= 0) {\n    return this.createEmptyResultGeometry()\n  }\n  this.computeNodedEdges(bufferSegStrList, precisionModel);\n  this._graph = new PlanarGraph(new OverlayNodeFactory());\n  this._graph.addEdges(this._edgeList.getEdges());\n  var subgraphList = this.createSubgraphs(this._graph);\n  var polyBuilder = new PolygonBuilder(this._geomFact);\n  this.buildSubgraphs(subgraphList, polyBuilder);\n  var resultPolyList = polyBuilder.getPolygons();\n  if (resultPolyList.size() <= 0) {\n    return this.createEmptyResultGeometry()\n  }\n  var resultGeom = this._geomFact.buildGeometry(resultPolyList);\n  return resultGeom\n};\nBufferBuilder.prototype.computeNodedEdges = function computeNodedEdges (bufferSegStrList, precisionModel) {\n    var this$1 = this;\n\n  var noder = this.getNoder(precisionModel);\n  noder.computeNodes(bufferSegStrList);\n  var nodedSegStrings = noder.getNodedSubstrings();\n  for (var i = nodedSegStrings.iterator(); i.hasNext();) {\n    var segStr = i.next();\n    var pts = segStr.getCoordinates();\n    if (pts.length === 2 && pts[0].equals2D(pts[1])) { continue }\n    var oldLabel = segStr.getData();\n    var edge = new Edge$1(segStr.getCoordinates(), new Label(oldLabel));\n    this$1.insertUniqueEdge(edge);\n  }\n};\nBufferBuilder.prototype.setNoder = function setNoder (noder) {\n  this._workingNoder = noder;\n};\nBufferBuilder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBufferBuilder.prototype.getClass = function getClass () {\n  return BufferBuilder\n};\nBufferBuilder.depthDelta = function depthDelta (label) {\n  var lLoc = label.getLocation(0, Position.LEFT);\n  var rLoc = label.getLocation(0, Position.RIGHT);\n  if (lLoc === Location.INTERIOR && rLoc === Location.EXTERIOR) { return 1; } else if (lLoc === Location.EXTERIOR && rLoc === Location.INTERIOR) { return -1 }\n  return 0\n};\nBufferBuilder.convertSegStrings = function convertSegStrings (it) {\n  var fact = new GeometryFactory();\n  var lines = new ArrayList();\n  while (it.hasNext()) {\n    var ss = it.next();\n    var line = fact.createLineString(ss.getCoordinates());\n    lines.add(line);\n  }\n  return fact.buildGeometry(lines)\n};\n\nvar ScaledNoder = function ScaledNoder () {\n  this._noder = null;\n  this._scaleFactor = null;\n  this._offsetX = null;\n  this._offsetY = null;\n  this._isScaled = false;\n  if (arguments.length === 2) {\n    var noder = arguments[0];\n    var scaleFactor = arguments[1];\n    this._noder = noder;\n    this._scaleFactor = scaleFactor;\n    this._offsetX = 0.0;\n    this._offsetY = 0.0;\n    this._isScaled = !this.isIntegerPrecision();\n  } else if (arguments.length === 4) {\n    var noder$1 = arguments[0];\n    var scaleFactor$1 = arguments[1];\n    var offsetX = arguments[2];\n    var offsetY = arguments[3];\n    this._noder = noder$1;\n    this._scaleFactor = scaleFactor$1;\n    this._offsetX = offsetX;\n    this._offsetY = offsetY;\n    this._isScaled = !this.isIntegerPrecision();\n  }\n};\nScaledNoder.prototype.rescale = function rescale () {\n    var this$1 = this;\n\n  if (hasInterface(arguments[0], Collection)) {\n    var segStrings = arguments[0];\n    for (var i = segStrings.iterator(); i.hasNext();) {\n      var ss = i.next();\n      this$1.rescale(ss.getCoordinates());\n    }\n  } else if (arguments[0] instanceof Array) {\n    var pts = arguments[0];\n    // let p0 = null\n    // let p1 = null\n    // if (pts.length === 2) {\n    // p0 = new Coordinate(pts[0])\n    // p1 = new Coordinate(pts[1])\n    // }\n    for (var i$1 = 0; i$1 < pts.length; i$1++) {\n      pts[i$1].x = pts[i$1].x / this$1._scaleFactor + this$1._offsetX;\n      pts[i$1].y = pts[i$1].y / this$1._scaleFactor + this$1._offsetY;\n    }\n    if (pts.length === 2 && pts[0].equals2D(pts[1])) {\n      System.out.println(pts);\n    }\n  }\n};\nScaledNoder.prototype.scale = function scale () {\n    var this$1 = this;\n\n  if (hasInterface(arguments[0], Collection)) {\n    var segStrings = arguments[0];\n    var nodedSegmentStrings = new ArrayList();\n    for (var i = segStrings.iterator(); i.hasNext();) {\n      var ss = i.next();\n      nodedSegmentStrings.add(new NodedSegmentString(this$1.scale(ss.getCoordinates()), ss.getData()));\n    }\n    return nodedSegmentStrings\n  } else if (arguments[0] instanceof Array) {\n    var pts = arguments[0];\n    var roundPts = new Array(pts.length).fill(null);\n    for (var i$1 = 0; i$1 < pts.length; i$1++) {\n      roundPts[i$1] = new Coordinate(Math.round((pts[i$1].x - this$1._offsetX) * this$1._scaleFactor), Math.round((pts[i$1].y - this$1._offsetY) * this$1._scaleFactor), pts[i$1].z);\n    }\n    var roundPtsNoDup = CoordinateArrays.removeRepeatedPoints(roundPts);\n    return roundPtsNoDup\n  }\n};\nScaledNoder.prototype.isIntegerPrecision = function isIntegerPrecision () {\n  return this._scaleFactor === 1.0\n};\nScaledNoder.prototype.getNodedSubstrings = function getNodedSubstrings () {\n  var splitSS = this._noder.getNodedSubstrings();\n  if (this._isScaled) { this.rescale(splitSS); }\n  return splitSS\n};\nScaledNoder.prototype.computeNodes = function computeNodes (inputSegStrings) {\n  var intSegStrings = inputSegStrings;\n  if (this._isScaled) { intSegStrings = this.scale(inputSegStrings); }\n  this._noder.computeNodes(intSegStrings);\n};\nScaledNoder.prototype.interfaces_ = function interfaces_ () {\n  return [Noder]\n};\nScaledNoder.prototype.getClass = function getClass () {\n  return ScaledNoder\n};\n\nvar NodingValidator = function NodingValidator () {\n  this._li = new RobustLineIntersector();\n  this._segStrings = null;\n  var segStrings = arguments[0];\n  this._segStrings = segStrings;\n};\n\nvar staticAccessors$33 = { fact: { configurable: true } };\nNodingValidator.prototype.checkEndPtVertexIntersections = function checkEndPtVertexIntersections () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    for (var i = this._segStrings.iterator(); i.hasNext();) {\n      var ss = i.next();\n      var pts = ss.getCoordinates();\n      this$1.checkEndPtVertexIntersections(pts[0], this$1._segStrings);\n      this$1.checkEndPtVertexIntersections(pts[pts.length - 1], this$1._segStrings);\n    }\n  } else if (arguments.length === 2) {\n    var testPt = arguments[0];\n    var segStrings = arguments[1];\n    for (var i$1 = segStrings.iterator(); i$1.hasNext();) {\n      var ss$1 = i$1.next();\n      var pts$1 = ss$1.getCoordinates();\n      for (var j = 1; j < pts$1.length - 1; j++) {\n        if (pts$1[j].equals(testPt)) { throw new RuntimeException('found endpt/interior pt intersection at index ' + j + ' :pt ' + testPt) }\n      }\n    }\n  }\n};\nNodingValidator.prototype.checkInteriorIntersections = function checkInteriorIntersections () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    for (var i = this._segStrings.iterator(); i.hasNext();) {\n      var ss0 = i.next();\n      for (var j = this._segStrings.iterator(); j.hasNext();) {\n        var ss1 = j.next();\n        this$1.checkInteriorIntersections(ss0, ss1);\n      }\n    }\n  } else if (arguments.length === 2) {\n    var ss0$1 = arguments[0];\n    var ss1$1 = arguments[1];\n    var pts0 = ss0$1.getCoordinates();\n    var pts1 = ss1$1.getCoordinates();\n    for (var i0 = 0; i0 < pts0.length - 1; i0++) {\n      for (var i1 = 0; i1 < pts1.length - 1; i1++) {\n        this$1.checkInteriorIntersections(ss0$1, i0, ss1$1, i1);\n      }\n    }\n  } else if (arguments.length === 4) {\n    var e0 = arguments[0];\n    var segIndex0 = arguments[1];\n    var e1 = arguments[2];\n    var segIndex1 = arguments[3];\n    if (e0 === e1 && segIndex0 === segIndex1) { return null }\n    var p00 = e0.getCoordinates()[segIndex0];\n    var p01 = e0.getCoordinates()[segIndex0 + 1];\n    var p10 = e1.getCoordinates()[segIndex1];\n    var p11 = e1.getCoordinates()[segIndex1 + 1];\n    this._li.computeIntersection(p00, p01, p10, p11);\n    if (this._li.hasIntersection()) {\n      if (this._li.isProper() || this.hasInteriorIntersection(this._li, p00, p01) || this.hasInteriorIntersection(this._li, p10, p11)) {\n        throw new RuntimeException('found non-noded intersection at ' + p00 + '-' + p01 + ' and ' + p10 + '-' + p11)\n      }\n    }\n  }\n};\nNodingValidator.prototype.checkValid = function checkValid () {\n  this.checkEndPtVertexIntersections();\n  this.checkInteriorIntersections();\n  this.checkCollapses();\n};\nNodingValidator.prototype.checkCollapses = function checkCollapses () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    for (var i = this._segStrings.iterator(); i.hasNext();) {\n      var ss = i.next();\n      this$1.checkCollapses(ss);\n    }\n  } else if (arguments.length === 1) {\n    var ss$1 = arguments[0];\n    var pts = ss$1.getCoordinates();\n    for (var i$1 = 0; i$1 < pts.length - 2; i$1++) {\n      this$1.checkCollapse(pts[i$1], pts[i$1 + 1], pts[i$1 + 2]);\n    }\n  }\n};\nNodingValidator.prototype.hasInteriorIntersection = function hasInteriorIntersection (li, p0, p1) {\n  for (var i = 0; i < li.getIntersectionNum(); i++) {\n    var intPt = li.getIntersection(i);\n    if (!(intPt.equals(p0) || intPt.equals(p1))) { return true }\n  }\n  return false\n};\nNodingValidator.prototype.checkCollapse = function checkCollapse (p0, p1, p2) {\n  if (p0.equals(p2)) { throw new RuntimeException('found non-noded collapse at ' + NodingValidator.fact.createLineString([p0, p1, p2])) }\n};\nNodingValidator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nNodingValidator.prototype.getClass = function getClass () {\n  return NodingValidator\n};\nstaticAccessors$33.fact.get = function () { return new GeometryFactory() };\n\nObject.defineProperties( NodingValidator, staticAccessors$33 );\n\nvar HotPixel = function HotPixel () {\n  this._li = null;\n  this._pt = null;\n  this._originalPt = null;\n  this._ptScaled = null;\n  this._p0Scaled = null;\n  this._p1Scaled = null;\n  this._scaleFactor = null;\n  this._minx = null;\n  this._maxx = null;\n  this._miny = null;\n  this._maxy = null;\n  this._corner = new Array(4).fill(null);\n  this._safeEnv = null;\n  var pt = arguments[0];\n  var scaleFactor = arguments[1];\n  var li = arguments[2];\n  this._originalPt = pt;\n  this._pt = pt;\n  this._scaleFactor = scaleFactor;\n  this._li = li;\n  if (scaleFactor <= 0) { throw new IllegalArgumentException('Scale factor must be non-zero') }\n  if (scaleFactor !== 1.0) {\n    this._pt = new Coordinate(this.scale(pt.x), this.scale(pt.y));\n    this._p0Scaled = new Coordinate();\n    this._p1Scaled = new Coordinate();\n  }\n  this.initCorners(this._pt);\n};\n\nvar staticAccessors$34 = { SAFE_ENV_EXPANSION_FACTOR: { configurable: true } };\nHotPixel.prototype.intersectsScaled = function intersectsScaled (p0, p1) {\n  var segMinx = Math.min(p0.x, p1.x);\n  var segMaxx = Math.max(p0.x, p1.x);\n  var segMiny = Math.min(p0.y, p1.y);\n  var segMaxy = Math.max(p0.y, p1.y);\n  var isOutsidePixelEnv = this._maxx < segMinx || this._minx > segMaxx || this._maxy < segMiny || this._miny > segMaxy;\n  if (isOutsidePixelEnv) { return false }\n  var intersects = this.intersectsToleranceSquare(p0, p1);\n  Assert.isTrue(!(isOutsidePixelEnv && intersects), 'Found bad envelope test');\n  return intersects\n};\nHotPixel.prototype.initCorners = function initCorners (pt) {\n  var tolerance = 0.5;\n  this._minx = pt.x - tolerance;\n  this._maxx = pt.x + tolerance;\n  this._miny = pt.y - tolerance;\n  this._maxy = pt.y + tolerance;\n  this._corner[0] = new Coordinate(this._maxx, this._maxy);\n  this._corner[1] = new Coordinate(this._minx, this._maxy);\n  this._corner[2] = new Coordinate(this._minx, this._miny);\n  this._corner[3] = new Coordinate(this._maxx, this._miny);\n};\nHotPixel.prototype.intersects = function intersects (p0, p1) {\n  if (this._scaleFactor === 1.0) { return this.intersectsScaled(p0, p1) }\n  this.copyScaled(p0, this._p0Scaled);\n  this.copyScaled(p1, this._p1Scaled);\n  return this.intersectsScaled(this._p0Scaled, this._p1Scaled)\n};\nHotPixel.prototype.scale = function scale (val) {\n  return Math.round(val * this._scaleFactor)\n};\nHotPixel.prototype.getCoordinate = function getCoordinate () {\n  return this._originalPt\n};\nHotPixel.prototype.copyScaled = function copyScaled (p, pScaled) {\n  pScaled.x = this.scale(p.x);\n  pScaled.y = this.scale(p.y);\n};\nHotPixel.prototype.getSafeEnvelope = function getSafeEnvelope () {\n  if (this._safeEnv === null) {\n    var safeTolerance = HotPixel.SAFE_ENV_EXPANSION_FACTOR / this._scaleFactor;\n    this._safeEnv = new Envelope(this._originalPt.x - safeTolerance, this._originalPt.x + safeTolerance, this._originalPt.y - safeTolerance, this._originalPt.y + safeTolerance);\n  }\n  return this._safeEnv\n};\nHotPixel.prototype.intersectsPixelClosure = function intersectsPixelClosure (p0, p1) {\n  this._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n  if (this._li.hasIntersection()) { return true }\n  this._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n  if (this._li.hasIntersection()) { return true }\n  this._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n  if (this._li.hasIntersection()) { return true }\n  this._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n  if (this._li.hasIntersection()) { return true }\n  return false\n};\nHotPixel.prototype.intersectsToleranceSquare = function intersectsToleranceSquare (p0, p1) {\n  var intersectsLeft = false;\n  var intersectsBottom = false;\n  this._li.computeIntersection(p0, p1, this._corner[0], this._corner[1]);\n  if (this._li.isProper()) { return true }\n  this._li.computeIntersection(p0, p1, this._corner[1], this._corner[2]);\n  if (this._li.isProper()) { return true }\n  if (this._li.hasIntersection()) { intersectsLeft = true; }\n  this._li.computeIntersection(p0, p1, this._corner[2], this._corner[3]);\n  if (this._li.isProper()) { return true }\n  if (this._li.hasIntersection()) { intersectsBottom = true; }\n  this._li.computeIntersection(p0, p1, this._corner[3], this._corner[0]);\n  if (this._li.isProper()) { return true }\n  if (intersectsLeft && intersectsBottom) { return true }\n  if (p0.equals(this._pt)) { return true }\n  if (p1.equals(this._pt)) { return true }\n  return false\n};\nHotPixel.prototype.addSnappedNode = function addSnappedNode (segStr, segIndex) {\n  var p0 = segStr.getCoordinate(segIndex);\n  var p1 = segStr.getCoordinate(segIndex + 1);\n  if (this.intersects(p0, p1)) {\n    segStr.addIntersection(this.getCoordinate(), segIndex);\n    return true\n  }\n  return false\n};\nHotPixel.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nHotPixel.prototype.getClass = function getClass () {\n  return HotPixel\n};\nstaticAccessors$34.SAFE_ENV_EXPANSION_FACTOR.get = function () { return 0.75 };\n\nObject.defineProperties( HotPixel, staticAccessors$34 );\n\nvar MonotoneChainSelectAction = function MonotoneChainSelectAction () {\n  this.tempEnv1 = new Envelope();\n  this.selectedSegment = new LineSegment();\n};\nMonotoneChainSelectAction.prototype.select = function select () {\n  if (arguments.length === 1) {\n    // const seg = arguments[0]\n  } else if (arguments.length === 2) {\n    var mc = arguments[0];\n    var startIndex = arguments[1];\n    mc.getLineSegment(startIndex, this.selectedSegment);\n    this.select(this.selectedSegment);\n  }\n};\nMonotoneChainSelectAction.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMonotoneChainSelectAction.prototype.getClass = function getClass () {\n  return MonotoneChainSelectAction\n};\n\nvar MCIndexPointSnapper = function MCIndexPointSnapper () {\n  this._index = null;\n  var index = arguments[0];\n  this._index = index;\n};\n\nvar staticAccessors$35 = { HotPixelSnapAction: { configurable: true } };\nMCIndexPointSnapper.prototype.snap = function snap () {\n  if (arguments.length === 1) {\n    var hotPixel = arguments[0];\n    return this.snap(hotPixel, null, -1)\n  } else if (arguments.length === 3) {\n    var hotPixel$1 = arguments[0];\n    var parentEdge = arguments[1];\n    var hotPixelVertexIndex = arguments[2];\n    var pixelEnv = hotPixel$1.getSafeEnvelope();\n    var hotPixelSnapAction = new HotPixelSnapAction(hotPixel$1, parentEdge, hotPixelVertexIndex);\n    this._index.query(pixelEnv, {\n      interfaces_: function () {\n        return [ItemVisitor]\n      },\n      visitItem: function (item) {\n        var testChain = item;\n        testChain.select(pixelEnv, hotPixelSnapAction);\n      }\n    });\n    return hotPixelSnapAction.isNodeAdded()\n  }\n};\nMCIndexPointSnapper.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMCIndexPointSnapper.prototype.getClass = function getClass () {\n  return MCIndexPointSnapper\n};\nstaticAccessors$35.HotPixelSnapAction.get = function () { return HotPixelSnapAction };\n\nObject.defineProperties( MCIndexPointSnapper, staticAccessors$35 );\n\nvar HotPixelSnapAction = (function (MonotoneChainSelectAction$$1) {\n  function HotPixelSnapAction () {\n    MonotoneChainSelectAction$$1.call(this);\n    this._hotPixel = null;\n    this._parentEdge = null;\n    this._hotPixelVertexIndex = null;\n    this._isNodeAdded = false;\n    var hotPixel = arguments[0];\n    var parentEdge = arguments[1];\n    var hotPixelVertexIndex = arguments[2];\n    this._hotPixel = hotPixel;\n    this._parentEdge = parentEdge;\n    this._hotPixelVertexIndex = hotPixelVertexIndex;\n  }\n\n  if ( MonotoneChainSelectAction$$1 ) HotPixelSnapAction.__proto__ = MonotoneChainSelectAction$$1;\n  HotPixelSnapAction.prototype = Object.create( MonotoneChainSelectAction$$1 && MonotoneChainSelectAction$$1.prototype );\n  HotPixelSnapAction.prototype.constructor = HotPixelSnapAction;\n  HotPixelSnapAction.prototype.isNodeAdded = function isNodeAdded () {\n    return this._isNodeAdded\n  };\n  HotPixelSnapAction.prototype.select = function select () {\n    if (arguments.length === 2) {\n      var mc = arguments[0];\n      var startIndex = arguments[1];\n      var ss = mc.getContext();\n      if (this._parentEdge !== null) {\n        if (ss === this._parentEdge && startIndex === this._hotPixelVertexIndex) { return null }\n      }\n      this._isNodeAdded = this._hotPixel.addSnappedNode(ss, startIndex);\n    } else { return MonotoneChainSelectAction$$1.prototype.select.apply(this, arguments) }\n  };\n  HotPixelSnapAction.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  HotPixelSnapAction.prototype.getClass = function getClass () {\n    return HotPixelSnapAction\n  };\n\n  return HotPixelSnapAction;\n}(MonotoneChainSelectAction));\n\nvar InteriorIntersectionFinderAdder = function InteriorIntersectionFinderAdder () {\n  this._li = null;\n  this._interiorIntersections = null;\n  var li = arguments[0];\n  this._li = li;\n  this._interiorIntersections = new ArrayList();\n};\nInteriorIntersectionFinderAdder.prototype.processIntersections = function processIntersections (e0, segIndex0, e1, segIndex1) {\n    var this$1 = this;\n\n  if (e0 === e1 && segIndex0 === segIndex1) { return null }\n  var p00 = e0.getCoordinates()[segIndex0];\n  var p01 = e0.getCoordinates()[segIndex0 + 1];\n  var p10 = e1.getCoordinates()[segIndex1];\n  var p11 = e1.getCoordinates()[segIndex1 + 1];\n  this._li.computeIntersection(p00, p01, p10, p11);\n  if (this._li.hasIntersection()) {\n    if (this._li.isInteriorIntersection()) {\n      for (var intIndex = 0; intIndex < this._li.getIntersectionNum(); intIndex++) {\n        this$1._interiorIntersections.add(this$1._li.getIntersection(intIndex));\n      }\n      e0.addIntersections(this._li, segIndex0, 0);\n      e1.addIntersections(this._li, segIndex1, 1);\n    }\n  }\n};\nInteriorIntersectionFinderAdder.prototype.isDone = function isDone () {\n  return false\n};\nInteriorIntersectionFinderAdder.prototype.getInteriorIntersections = function getInteriorIntersections () {\n  return this._interiorIntersections\n};\nInteriorIntersectionFinderAdder.prototype.interfaces_ = function interfaces_ () {\n  return [SegmentIntersector]\n};\nInteriorIntersectionFinderAdder.prototype.getClass = function getClass () {\n  return InteriorIntersectionFinderAdder\n};\n\nvar MCIndexSnapRounder = function MCIndexSnapRounder () {\n  this._pm = null;\n  this._li = null;\n  this._scaleFactor = null;\n  this._noder = null;\n  this._pointSnapper = null;\n  this._nodedSegStrings = null;\n  var pm = arguments[0];\n  this._pm = pm;\n  this._li = new RobustLineIntersector();\n  this._li.setPrecisionModel(pm);\n  this._scaleFactor = pm.getScale();\n};\nMCIndexSnapRounder.prototype.checkCorrectness = function checkCorrectness (inputSegmentStrings) {\n  var resultSegStrings = NodedSegmentString.getNodedSubstrings(inputSegmentStrings);\n  var nv = new NodingValidator(resultSegStrings);\n  try {\n    nv.checkValid();\n  } catch (ex) {\n    if (ex instanceof Exception) {\n      ex.printStackTrace();\n    } else { throw ex }\n  } finally {}\n};\nMCIndexSnapRounder.prototype.getNodedSubstrings = function getNodedSubstrings () {\n  return NodedSegmentString.getNodedSubstrings(this._nodedSegStrings)\n};\nMCIndexSnapRounder.prototype.snapRound = function snapRound (segStrings, li) {\n  var intersections = this.findInteriorIntersections(segStrings, li);\n  this.computeIntersectionSnaps(intersections);\n  this.computeVertexSnaps(segStrings);\n};\nMCIndexSnapRounder.prototype.findInteriorIntersections = function findInteriorIntersections (segStrings, li) {\n  var intFinderAdder = new InteriorIntersectionFinderAdder(li);\n  this._noder.setSegmentIntersector(intFinderAdder);\n  this._noder.computeNodes(segStrings);\n  return intFinderAdder.getInteriorIntersections()\n};\nMCIndexSnapRounder.prototype.computeVertexSnaps = function computeVertexSnaps () {\n    var this$1 = this;\n\n  if (hasInterface(arguments[0], Collection)) {\n    var edges = arguments[0];\n    for (var i0 = edges.iterator(); i0.hasNext();) {\n      var edge0 = i0.next();\n      this$1.computeVertexSnaps(edge0);\n    }\n  } else if (arguments[0] instanceof NodedSegmentString) {\n    var e = arguments[0];\n    var pts0 = e.getCoordinates();\n    for (var i = 0; i < pts0.length; i++) {\n      var hotPixel = new HotPixel(pts0[i], this$1._scaleFactor, this$1._li);\n      var isNodeAdded = this$1._pointSnapper.snap(hotPixel, e, i);\n      if (isNodeAdded) {\n        e.addIntersection(pts0[i], i);\n      }\n    }\n  }\n};\nMCIndexSnapRounder.prototype.computeNodes = function computeNodes (inputSegmentStrings) {\n  this._nodedSegStrings = inputSegmentStrings;\n  this._noder = new MCIndexNoder();\n  this._pointSnapper = new MCIndexPointSnapper(this._noder.getIndex());\n  this.snapRound(inputSegmentStrings, this._li);\n};\nMCIndexSnapRounder.prototype.computeIntersectionSnaps = function computeIntersectionSnaps (snapPts) {\n    var this$1 = this;\n\n  for (var it = snapPts.iterator(); it.hasNext();) {\n    var snapPt = it.next();\n    var hotPixel = new HotPixel(snapPt, this$1._scaleFactor, this$1._li);\n    this$1._pointSnapper.snap(hotPixel);\n  }\n};\nMCIndexSnapRounder.prototype.interfaces_ = function interfaces_ () {\n  return [Noder]\n};\nMCIndexSnapRounder.prototype.getClass = function getClass () {\n  return MCIndexSnapRounder\n};\n\nvar BufferOp = function BufferOp () {\n  this._argGeom = null;\n  this._distance = null;\n  this._bufParams = new BufferParameters();\n  this._resultGeometry = null;\n  this._saveException = null;\n  if (arguments.length === 1) {\n    var g = arguments[0];\n    this._argGeom = g;\n  } else if (arguments.length === 2) {\n    var g$1 = arguments[0];\n    var bufParams = arguments[1];\n    this._argGeom = g$1;\n    this._bufParams = bufParams;\n  }\n};\n\nvar staticAccessors$32 = { CAP_ROUND: { configurable: true },CAP_BUTT: { configurable: true },CAP_FLAT: { configurable: true },CAP_SQUARE: { configurable: true },MAX_PRECISION_DIGITS: { configurable: true } };\nBufferOp.prototype.bufferFixedPrecision = function bufferFixedPrecision (fixedPM) {\n  var noder = new ScaledNoder(new MCIndexSnapRounder(new PrecisionModel(1.0)), fixedPM.getScale());\n  var bufBuilder = new BufferBuilder(this._bufParams);\n  bufBuilder.setWorkingPrecisionModel(fixedPM);\n  bufBuilder.setNoder(noder);\n  this._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n};\nBufferOp.prototype.bufferReducedPrecision = function bufferReducedPrecision () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    for (var precDigits = BufferOp.MAX_PRECISION_DIGITS; precDigits >= 0; precDigits--) {\n      try {\n        this$1.bufferReducedPrecision(precDigits);\n      } catch (ex) {\n        if (ex instanceof TopologyException) {\n          this$1._saveException = ex;\n        } else { throw ex }\n      } finally {}\n      if (this$1._resultGeometry !== null) { return null }\n    }\n    throw this._saveException\n  } else if (arguments.length === 1) {\n    var precisionDigits = arguments[0];\n    var sizeBasedScaleFactor = BufferOp.precisionScaleFactor(this._argGeom, this._distance, precisionDigits);\n    var fixedPM = new PrecisionModel(sizeBasedScaleFactor);\n    this.bufferFixedPrecision(fixedPM);\n  }\n};\nBufferOp.prototype.computeGeometry = function computeGeometry () {\n  this.bufferOriginalPrecision();\n  if (this._resultGeometry !== null) { return null }\n  var argPM = this._argGeom.getFactory().getPrecisionModel();\n  if (argPM.getType() === PrecisionModel.FIXED) { this.bufferFixedPrecision(argPM); } else { this.bufferReducedPrecision(); }\n};\nBufferOp.prototype.setQuadrantSegments = function setQuadrantSegments (quadrantSegments) {\n  this._bufParams.setQuadrantSegments(quadrantSegments);\n};\nBufferOp.prototype.bufferOriginalPrecision = function bufferOriginalPrecision () {\n  try {\n    var bufBuilder = new BufferBuilder(this._bufParams);\n    this._resultGeometry = bufBuilder.buffer(this._argGeom, this._distance);\n  } catch (ex) {\n    if (ex instanceof RuntimeException) {\n      this._saveException = ex;\n    } else { throw ex }\n  } finally {}\n};\nBufferOp.prototype.getResultGeometry = function getResultGeometry (distance) {\n  this._distance = distance;\n  this.computeGeometry();\n  return this._resultGeometry\n};\nBufferOp.prototype.setEndCapStyle = function setEndCapStyle (endCapStyle) {\n  this._bufParams.setEndCapStyle(endCapStyle);\n};\nBufferOp.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBufferOp.prototype.getClass = function getClass () {\n  return BufferOp\n};\nBufferOp.bufferOp = function bufferOp () {\n  if (arguments.length === 2) {\n    var g = arguments[0];\n    var distance = arguments[1];\n    var gBuf = new BufferOp(g);\n    var geomBuf = gBuf.getResultGeometry(distance);\n    return geomBuf\n  } else if (arguments.length === 3) {\n    if (Number.isInteger(arguments[2]) && (arguments[0] instanceof Geometry && typeof arguments[1] === 'number')) {\n      var g$1 = arguments[0];\n      var distance$1 = arguments[1];\n      var quadrantSegments = arguments[2];\n      var bufOp = new BufferOp(g$1);\n      bufOp.setQuadrantSegments(quadrantSegments);\n      var geomBuf$1 = bufOp.getResultGeometry(distance$1);\n      return geomBuf$1\n    } else if (arguments[2] instanceof BufferParameters && (arguments[0] instanceof Geometry && typeof arguments[1] === 'number')) {\n      var g$2 = arguments[0];\n      var distance$2 = arguments[1];\n      var params = arguments[2];\n      var bufOp$1 = new BufferOp(g$2, params);\n      var geomBuf$2 = bufOp$1.getResultGeometry(distance$2);\n      return geomBuf$2\n    }\n  } else if (arguments.length === 4) {\n    var g$3 = arguments[0];\n    var distance$3 = arguments[1];\n    var quadrantSegments$1 = arguments[2];\n    var endCapStyle = arguments[3];\n    var bufOp$2 = new BufferOp(g$3);\n    bufOp$2.setQuadrantSegments(quadrantSegments$1);\n    bufOp$2.setEndCapStyle(endCapStyle);\n    var geomBuf$3 = bufOp$2.getResultGeometry(distance$3);\n    return geomBuf$3\n  }\n};\nBufferOp.precisionScaleFactor = function precisionScaleFactor (g, distance, maxPrecisionDigits) {\n  var env = g.getEnvelopeInternal();\n  var envMax = MathUtil.max(Math.abs(env.getMaxX()), Math.abs(env.getMaxY()), Math.abs(env.getMinX()), Math.abs(env.getMinY()));\n  var expandByDistance = distance > 0.0 ? distance : 0.0;\n  var bufEnvMax = envMax + 2 * expandByDistance;\n  var bufEnvPrecisionDigits = Math.trunc(Math.log(bufEnvMax) / Math.log(10) + 1.0);\n  var minUnitLog10 = maxPrecisionDigits - bufEnvPrecisionDigits;\n  var scaleFactor = Math.pow(10.0, minUnitLog10);\n  return scaleFactor\n};\nstaticAccessors$32.CAP_ROUND.get = function () { return BufferParameters.CAP_ROUND };\nstaticAccessors$32.CAP_BUTT.get = function () { return BufferParameters.CAP_FLAT };\nstaticAccessors$32.CAP_FLAT.get = function () { return BufferParameters.CAP_FLAT };\nstaticAccessors$32.CAP_SQUARE.get = function () { return BufferParameters.CAP_SQUARE };\nstaticAccessors$32.MAX_PRECISION_DIGITS.get = function () { return 12 };\n\nObject.defineProperties( BufferOp, staticAccessors$32 );\n\nvar PointPairDistance = function PointPairDistance () {\n  this._pt = [new Coordinate(), new Coordinate()];\n  this._distance = Double.NaN;\n  this._isNull = true;\n};\nPointPairDistance.prototype.getCoordinates = function getCoordinates () {\n  return this._pt\n};\nPointPairDistance.prototype.getCoordinate = function getCoordinate (i) {\n  return this._pt[i]\n};\nPointPairDistance.prototype.setMinimum = function setMinimum () {\n  if (arguments.length === 1) {\n    var ptDist = arguments[0];\n    this.setMinimum(ptDist._pt[0], ptDist._pt[1]);\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    if (this._isNull) {\n      this.initialize(p0, p1);\n      return null\n    }\n    var dist = p0.distance(p1);\n    if (dist < this._distance) { this.initialize(p0, p1, dist); }\n  }\n};\nPointPairDistance.prototype.initialize = function initialize () {\n  if (arguments.length === 0) {\n    this._isNull = true;\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    this._pt[0].setCoordinate(p0);\n    this._pt[1].setCoordinate(p1);\n    this._distance = p0.distance(p1);\n    this._isNull = false;\n  } else if (arguments.length === 3) {\n    var p0$1 = arguments[0];\n    var p1$1 = arguments[1];\n    var distance = arguments[2];\n    this._pt[0].setCoordinate(p0$1);\n    this._pt[1].setCoordinate(p1$1);\n    this._distance = distance;\n    this._isNull = false;\n  }\n};\nPointPairDistance.prototype.getDistance = function getDistance () {\n  return this._distance\n};\nPointPairDistance.prototype.setMaximum = function setMaximum () {\n  if (arguments.length === 1) {\n    var ptDist = arguments[0];\n    this.setMaximum(ptDist._pt[0], ptDist._pt[1]);\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    if (this._isNull) {\n      this.initialize(p0, p1);\n      return null\n    }\n    var dist = p0.distance(p1);\n    if (dist > this._distance) { this.initialize(p0, p1, dist); }\n  }\n};\nPointPairDistance.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPointPairDistance.prototype.getClass = function getClass () {\n  return PointPairDistance\n};\n\nvar DistanceToPointFinder = function DistanceToPointFinder () {};\n\nDistanceToPointFinder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nDistanceToPointFinder.prototype.getClass = function getClass () {\n  return DistanceToPointFinder\n};\nDistanceToPointFinder.computeDistance = function computeDistance () {\n  if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof LineString$1 && arguments[1] instanceof Coordinate)) {\n    var line = arguments[0];\n    var pt = arguments[1];\n    var ptDist = arguments[2];\n    var coords = line.getCoordinates();\n    var tempSegment = new LineSegment();\n    for (var i = 0; i < coords.length - 1; i++) {\n      tempSegment.setCoordinates(coords[i], coords[i + 1]);\n      var closestPt = tempSegment.closestPoint(pt);\n      ptDist.setMinimum(closestPt, pt);\n    }\n  } else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof Polygon && arguments[1] instanceof Coordinate)) {\n    var poly = arguments[0];\n    var pt$1 = arguments[1];\n    var ptDist$1 = arguments[2];\n    DistanceToPointFinder.computeDistance(poly.getExteriorRing(), pt$1, ptDist$1);\n    for (var i$1 = 0; i$1 < poly.getNumInteriorRing(); i$1++) {\n      DistanceToPointFinder.computeDistance(poly.getInteriorRingN(i$1), pt$1, ptDist$1);\n    }\n  } else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof Geometry && arguments[1] instanceof Coordinate)) {\n    var geom = arguments[0];\n    var pt$2 = arguments[1];\n    var ptDist$2 = arguments[2];\n    if (geom instanceof LineString$1) {\n      DistanceToPointFinder.computeDistance(geom, pt$2, ptDist$2);\n    } else if (geom instanceof Polygon) {\n      DistanceToPointFinder.computeDistance(geom, pt$2, ptDist$2);\n    } else if (geom instanceof GeometryCollection) {\n      var gc = geom;\n      for (var i$2 = 0; i$2 < gc.getNumGeometries(); i$2++) {\n        var g = gc.getGeometryN(i$2);\n        DistanceToPointFinder.computeDistance(g, pt$2, ptDist$2);\n      }\n    } else {\n      ptDist$2.setMinimum(geom.getCoordinate(), pt$2);\n    }\n  } else if (arguments[2] instanceof PointPairDistance && (arguments[0] instanceof LineSegment && arguments[1] instanceof Coordinate)) {\n    var segment = arguments[0];\n    var pt$3 = arguments[1];\n    var ptDist$3 = arguments[2];\n    var closestPt$1 = segment.closestPoint(pt$3);\n    ptDist$3.setMinimum(closestPt$1, pt$3);\n  }\n};\n\nvar BufferCurveMaximumDistanceFinder = function BufferCurveMaximumDistanceFinder (inputGeom) {\n  this._maxPtDist = new PointPairDistance();\n  this._inputGeom = inputGeom || null;\n};\n\nvar staticAccessors$36 = { MaxPointDistanceFilter: { configurable: true },MaxMidpointDistanceFilter: { configurable: true } };\nBufferCurveMaximumDistanceFinder.prototype.computeMaxMidpointDistance = function computeMaxMidpointDistance (curve) {\n  var distFilter = new MaxMidpointDistanceFilter(this._inputGeom);\n  curve.apply(distFilter);\n  this._maxPtDist.setMaximum(distFilter.getMaxPointDistance());\n};\nBufferCurveMaximumDistanceFinder.prototype.computeMaxVertexDistance = function computeMaxVertexDistance (curve) {\n  var distFilter = new MaxPointDistanceFilter(this._inputGeom);\n  curve.apply(distFilter);\n  this._maxPtDist.setMaximum(distFilter.getMaxPointDistance());\n};\nBufferCurveMaximumDistanceFinder.prototype.findDistance = function findDistance (bufferCurve) {\n  this.computeMaxVertexDistance(bufferCurve);\n  this.computeMaxMidpointDistance(bufferCurve);\n  return this._maxPtDist.getDistance()\n};\nBufferCurveMaximumDistanceFinder.prototype.getDistancePoints = function getDistancePoints () {\n  return this._maxPtDist\n};\nBufferCurveMaximumDistanceFinder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBufferCurveMaximumDistanceFinder.prototype.getClass = function getClass () {\n  return BufferCurveMaximumDistanceFinder\n};\nstaticAccessors$36.MaxPointDistanceFilter.get = function () { return MaxPointDistanceFilter };\nstaticAccessors$36.MaxMidpointDistanceFilter.get = function () { return MaxMidpointDistanceFilter };\n\nObject.defineProperties( BufferCurveMaximumDistanceFinder, staticAccessors$36 );\n\nvar MaxPointDistanceFilter = function MaxPointDistanceFilter (geom) {\n  this._maxPtDist = new PointPairDistance();\n  this._minPtDist = new PointPairDistance();\n  this._geom = geom || null;\n};\nMaxPointDistanceFilter.prototype.filter = function filter (pt) {\n  this._minPtDist.initialize();\n  DistanceToPointFinder.computeDistance(this._geom, pt, this._minPtDist);\n  this._maxPtDist.setMaximum(this._minPtDist);\n};\nMaxPointDistanceFilter.prototype.getMaxPointDistance = function getMaxPointDistance () {\n  return this._maxPtDist\n};\nMaxPointDistanceFilter.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateFilter]\n};\nMaxPointDistanceFilter.prototype.getClass = function getClass () {\n  return MaxPointDistanceFilter\n};\n\nvar MaxMidpointDistanceFilter = function MaxMidpointDistanceFilter (geom) {\n  this._maxPtDist = new PointPairDistance();\n  this._minPtDist = new PointPairDistance();\n  this._geom = geom || null;\n};\nMaxMidpointDistanceFilter.prototype.filter = function filter (seq, index) {\n  if (index === 0) { return null }\n  var p0 = seq.getCoordinate(index - 1);\n  var p1 = seq.getCoordinate(index);\n  var midPt = new Coordinate((p0.x + p1.x) / 2, (p0.y + p1.y) / 2);\n  this._minPtDist.initialize();\n  DistanceToPointFinder.computeDistance(this._geom, midPt, this._minPtDist);\n  this._maxPtDist.setMaximum(this._minPtDist);\n};\nMaxMidpointDistanceFilter.prototype.isDone = function isDone () {\n  return false\n};\nMaxMidpointDistanceFilter.prototype.isGeometryChanged = function isGeometryChanged () {\n  return false\n};\nMaxMidpointDistanceFilter.prototype.getMaxPointDistance = function getMaxPointDistance () {\n  return this._maxPtDist\n};\nMaxMidpointDistanceFilter.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateSequenceFilter]\n};\nMaxMidpointDistanceFilter.prototype.getClass = function getClass () {\n  return MaxMidpointDistanceFilter\n};\n\nvar PolygonExtracter = function PolygonExtracter (comps) {\n  this._comps = comps || null;\n};\nPolygonExtracter.prototype.filter = function filter (geom) {\n  if (geom instanceof Polygon) { this._comps.add(geom); }\n};\nPolygonExtracter.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryFilter]\n};\nPolygonExtracter.prototype.getClass = function getClass () {\n  return PolygonExtracter\n};\nPolygonExtracter.getPolygons = function getPolygons () {\n  if (arguments.length === 1) {\n    var geom = arguments[0];\n    return PolygonExtracter.getPolygons(geom, new ArrayList())\n  } else if (arguments.length === 2) {\n    var geom$1 = arguments[0];\n    var list = arguments[1];\n    if (geom$1 instanceof Polygon) {\n      list.add(geom$1);\n    } else if (geom$1 instanceof GeometryCollection) {\n      geom$1.apply(new PolygonExtracter(list));\n    }\n    return list\n  }\n};\n\nvar LinearComponentExtracter = function LinearComponentExtracter () {\n  this._lines = null;\n  this._isForcedToLineString = false;\n  if (arguments.length === 1) {\n    var lines = arguments[0];\n    this._lines = lines;\n  } else if (arguments.length === 2) {\n    var lines$1 = arguments[0];\n    var isForcedToLineString = arguments[1];\n    this._lines = lines$1;\n    this._isForcedToLineString = isForcedToLineString;\n  }\n};\nLinearComponentExtracter.prototype.filter = function filter (geom) {\n  if (this._isForcedToLineString && geom instanceof LinearRing) {\n    var line = geom.getFactory().createLineString(geom.getCoordinateSequence());\n    this._lines.add(line);\n    return null\n  }\n  if (geom instanceof LineString$1) { this._lines.add(geom); }\n};\nLinearComponentExtracter.prototype.setForceToLineString = function setForceToLineString (isForcedToLineString) {\n  this._isForcedToLineString = isForcedToLineString;\n};\nLinearComponentExtracter.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryComponentFilter]\n};\nLinearComponentExtracter.prototype.getClass = function getClass () {\n  return LinearComponentExtracter\n};\nLinearComponentExtracter.getGeometry = function getGeometry () {\n  if (arguments.length === 1) {\n    var geom = arguments[0];\n    return geom.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom))\n  } else if (arguments.length === 2) {\n    var geom$1 = arguments[0];\n    var forceToLineString = arguments[1];\n    return geom$1.getFactory().buildGeometry(LinearComponentExtracter.getLines(geom$1, forceToLineString))\n  }\n};\nLinearComponentExtracter.getLines = function getLines () {\n  if (arguments.length === 1) {\n    var geom = arguments[0];\n    return LinearComponentExtracter.getLines(geom, false)\n  } else if (arguments.length === 2) {\n    if (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection)) {\n      var geoms = arguments[0];\n      var lines$1 = arguments[1];\n      for (var i = geoms.iterator(); i.hasNext();) {\n        var g = i.next();\n        LinearComponentExtracter.getLines(g, lines$1);\n      }\n      return lines$1\n    } else if (arguments[0] instanceof Geometry && typeof arguments[1] === 'boolean') {\n      var geom$1 = arguments[0];\n      var forceToLineString = arguments[1];\n      var lines = new ArrayList();\n      geom$1.apply(new LinearComponentExtracter(lines, forceToLineString));\n      return lines\n    } else if (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection)) {\n      var geom$2 = arguments[0];\n      var lines$2 = arguments[1];\n      if (geom$2 instanceof LineString$1) {\n        lines$2.add(geom$2);\n      } else {\n        geom$2.apply(new LinearComponentExtracter(lines$2));\n      }\n      return lines$2\n    }\n  } else if (arguments.length === 3) {\n    if (typeof arguments[2] === 'boolean' && (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], Collection))) {\n      var geoms$1 = arguments[0];\n      var lines$3 = arguments[1];\n      var forceToLineString$1 = arguments[2];\n      for (var i$1 = geoms$1.iterator(); i$1.hasNext();) {\n        var g$1 = i$1.next();\n        LinearComponentExtracter.getLines(g$1, lines$3, forceToLineString$1);\n      }\n      return lines$3\n    } else if (typeof arguments[2] === 'boolean' && (arguments[0] instanceof Geometry && hasInterface(arguments[1], Collection))) {\n      var geom$3 = arguments[0];\n      var lines$4 = arguments[1];\n      var forceToLineString$2 = arguments[2];\n      geom$3.apply(new LinearComponentExtracter(lines$4, forceToLineString$2));\n      return lines$4\n    }\n  }\n};\n\nvar PointLocator = function PointLocator () {\n  this._boundaryRule = BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;\n  this._isIn = null;\n  this._numBoundaries = null;\n  if (arguments.length === 0) {} else if (arguments.length === 1) {\n    var boundaryRule = arguments[0];\n    if (boundaryRule === null) { throw new IllegalArgumentException('Rule must be non-null') }\n    this._boundaryRule = boundaryRule;\n  }\n};\nPointLocator.prototype.locateInternal = function locateInternal () {\n    var this$1 = this;\n\n  if (arguments[0] instanceof Coordinate && arguments[1] instanceof Polygon) {\n    var p = arguments[0];\n    var poly = arguments[1];\n    if (poly.isEmpty()) { return Location.EXTERIOR }\n    var shell = poly.getExteriorRing();\n    var shellLoc = this.locateInPolygonRing(p, shell);\n    if (shellLoc === Location.EXTERIOR) { return Location.EXTERIOR }\n    if (shellLoc === Location.BOUNDARY) { return Location.BOUNDARY }\n    for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n      var hole = poly.getInteriorRingN(i);\n      var holeLoc = this$1.locateInPolygonRing(p, hole);\n      if (holeLoc === Location.INTERIOR) { return Location.EXTERIOR }\n      if (holeLoc === Location.BOUNDARY) { return Location.BOUNDARY }\n    }\n    return Location.INTERIOR\n  } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof LineString$1) {\n    var p$1 = arguments[0];\n    var l = arguments[1];\n    if (!l.getEnvelopeInternal().intersects(p$1)) { return Location.EXTERIOR }\n    var pt = l.getCoordinates();\n    if (!l.isClosed()) {\n      if (p$1.equals(pt[0]) || p$1.equals(pt[pt.length - 1])) {\n        return Location.BOUNDARY\n      }\n    }\n    if (CGAlgorithms.isOnLine(p$1, pt)) { return Location.INTERIOR }\n    return Location.EXTERIOR\n  } else if (arguments[0] instanceof Coordinate && arguments[1] instanceof Point) {\n    var p$2 = arguments[0];\n    var pt$1 = arguments[1];\n    var ptCoord = pt$1.getCoordinate();\n    if (ptCoord.equals2D(p$2)) { return Location.INTERIOR }\n    return Location.EXTERIOR\n  }\n};\nPointLocator.prototype.locateInPolygonRing = function locateInPolygonRing (p, ring) {\n  if (!ring.getEnvelopeInternal().intersects(p)) { return Location.EXTERIOR }\n  return CGAlgorithms.locatePointInRing(p, ring.getCoordinates())\n};\nPointLocator.prototype.intersects = function intersects (p, geom) {\n  return this.locate(p, geom) !== Location.EXTERIOR\n};\nPointLocator.prototype.updateLocationInfo = function updateLocationInfo (loc) {\n  if (loc === Location.INTERIOR) { this._isIn = true; }\n  if (loc === Location.BOUNDARY) { this._numBoundaries++; }\n};\nPointLocator.prototype.computeLocation = function computeLocation (p, geom) {\n    var this$1 = this;\n\n  if (geom instanceof Point) {\n    this.updateLocationInfo(this.locateInternal(p, geom));\n  }\n  if (geom instanceof LineString$1) {\n    this.updateLocationInfo(this.locateInternal(p, geom));\n  } else if (geom instanceof Polygon) {\n    this.updateLocationInfo(this.locateInternal(p, geom));\n  } else if (geom instanceof MultiLineString) {\n    var ml = geom;\n    for (var i = 0; i < ml.getNumGeometries(); i++) {\n      var l = ml.getGeometryN(i);\n      this$1.updateLocationInfo(this$1.locateInternal(p, l));\n    }\n  } else if (geom instanceof MultiPolygon) {\n    var mpoly = geom;\n    for (var i$1 = 0; i$1 < mpoly.getNumGeometries(); i$1++) {\n      var poly = mpoly.getGeometryN(i$1);\n      this$1.updateLocationInfo(this$1.locateInternal(p, poly));\n    }\n  } else if (geom instanceof GeometryCollection) {\n    var geomi = new GeometryCollectionIterator(geom);\n    while (geomi.hasNext()) {\n      var g2 = geomi.next();\n      if (g2 !== geom) { this$1.computeLocation(p, g2); }\n    }\n  }\n};\nPointLocator.prototype.locate = function locate (p, geom) {\n  if (geom.isEmpty()) { return Location.EXTERIOR }\n  if (geom instanceof LineString$1) {\n    return this.locateInternal(p, geom)\n  } else if (geom instanceof Polygon) {\n    return this.locateInternal(p, geom)\n  }\n  this._isIn = false;\n  this._numBoundaries = 0;\n  this.computeLocation(p, geom);\n  if (this._boundaryRule.isInBoundary(this._numBoundaries)) { return Location.BOUNDARY }\n  if (this._numBoundaries > 0 || this._isIn) { return Location.INTERIOR }\n  return Location.EXTERIOR\n};\nPointLocator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPointLocator.prototype.getClass = function getClass () {\n  return PointLocator\n};\n\nvar GeometryLocation = function GeometryLocation () {\n  this._component = null;\n  this._segIndex = null;\n  this._pt = null;\n  if (arguments.length === 2) {\n    var component = arguments[0];\n    var pt = arguments[1];\n    GeometryLocation.call(this, component, GeometryLocation.INSIDE_AREA, pt);\n  } else if (arguments.length === 3) {\n    var component$1 = arguments[0];\n    var segIndex = arguments[1];\n    var pt$1 = arguments[2];\n    this._component = component$1;\n    this._segIndex = segIndex;\n    this._pt = pt$1;\n  }\n};\n\nvar staticAccessors$38 = { INSIDE_AREA: { configurable: true } };\nGeometryLocation.prototype.isInsideArea = function isInsideArea () {\n  return this._segIndex === GeometryLocation.INSIDE_AREA\n};\nGeometryLocation.prototype.getCoordinate = function getCoordinate () {\n  return this._pt\n};\nGeometryLocation.prototype.getGeometryComponent = function getGeometryComponent () {\n  return this._component\n};\nGeometryLocation.prototype.getSegmentIndex = function getSegmentIndex () {\n  return this._segIndex\n};\nGeometryLocation.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryLocation.prototype.getClass = function getClass () {\n  return GeometryLocation\n};\nstaticAccessors$38.INSIDE_AREA.get = function () { return -1 };\n\nObject.defineProperties( GeometryLocation, staticAccessors$38 );\n\nvar PointExtracter = function PointExtracter (pts) {\n  this._pts = pts || null;\n};\nPointExtracter.prototype.filter = function filter (geom) {\n  if (geom instanceof Point) { this._pts.add(geom); }\n};\nPointExtracter.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryFilter]\n};\nPointExtracter.prototype.getClass = function getClass () {\n  return PointExtracter\n};\nPointExtracter.getPoints = function getPoints () {\n  if (arguments.length === 1) {\n    var geom = arguments[0];\n    if (geom instanceof Point) {\n      return Collections.singletonList(geom)\n    }\n    return PointExtracter.getPoints(geom, new ArrayList())\n  } else if (arguments.length === 2) {\n    var geom$1 = arguments[0];\n    var list = arguments[1];\n    if (geom$1 instanceof Point) {\n      list.add(geom$1);\n    } else if (geom$1 instanceof GeometryCollection) {\n      geom$1.apply(new PointExtracter(list));\n    }\n    return list\n  }\n};\n\nvar ConnectedElementLocationFilter = function ConnectedElementLocationFilter () {\n  this._locations = null;\n  var locations = arguments[0];\n  this._locations = locations;\n};\nConnectedElementLocationFilter.prototype.filter = function filter (geom) {\n  if (geom instanceof Point || geom instanceof LineString$1 || geom instanceof Polygon) { this._locations.add(new GeometryLocation(geom, 0, geom.getCoordinate())); }\n};\nConnectedElementLocationFilter.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryFilter]\n};\nConnectedElementLocationFilter.prototype.getClass = function getClass () {\n  return ConnectedElementLocationFilter\n};\nConnectedElementLocationFilter.getLocations = function getLocations (geom) {\n  var locations = new ArrayList();\n  geom.apply(new ConnectedElementLocationFilter(locations));\n  return locations\n};\n\nvar DistanceOp = function DistanceOp () {\n  this._geom = null;\n  this._terminateDistance = 0.0;\n  this._ptLocator = new PointLocator();\n  this._minDistanceLocation = null;\n  this._minDistance = Double.MAX_VALUE;\n  if (arguments.length === 2) {\n    var g0 = arguments[0];\n    var g1 = arguments[1];\n    this._geom = [g0, g1];\n    this._terminateDistance = 0.0;\n  } else if (arguments.length === 3) {\n    var g0$1 = arguments[0];\n    var g1$1 = arguments[1];\n    var terminateDistance = arguments[2];\n    this._geom = new Array(2).fill(null);\n    this._geom[0] = g0$1;\n    this._geom[1] = g1$1;\n    this._terminateDistance = terminateDistance;\n  }\n};\nDistanceOp.prototype.computeContainmentDistance = function computeContainmentDistance () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    var locPtPoly = new Array(2).fill(null);\n    this.computeContainmentDistance(0, locPtPoly);\n    if (this._minDistance <= this._terminateDistance) { return null }\n    this.computeContainmentDistance(1, locPtPoly);\n  } else if (arguments.length === 2) {\n    var polyGeomIndex = arguments[0];\n    var locPtPoly$1 = arguments[1];\n    var locationsIndex = 1 - polyGeomIndex;\n    var polys = PolygonExtracter.getPolygons(this._geom[polyGeomIndex]);\n    if (polys.size() > 0) {\n      var insideLocs = ConnectedElementLocationFilter.getLocations(this._geom[locationsIndex]);\n      this.computeContainmentDistance(insideLocs, polys, locPtPoly$1);\n      if (this._minDistance <= this._terminateDistance) {\n        this._minDistanceLocation[locationsIndex] = locPtPoly$1[0];\n        this._minDistanceLocation[polyGeomIndex] = locPtPoly$1[1];\n        return null\n      }\n    }\n  } else if (arguments.length === 3) {\n    if (arguments[2] instanceof Array && (hasInterface(arguments[0], List) && hasInterface(arguments[1], List))) {\n      var locs = arguments[0];\n      var polys$1 = arguments[1];\n      var locPtPoly$2 = arguments[2];\n      for (var i = 0; i < locs.size(); i++) {\n        var loc = locs.get(i);\n        for (var j = 0; j < polys$1.size(); j++) {\n          this$1.computeContainmentDistance(loc, polys$1.get(j), locPtPoly$2);\n          if (this$1._minDistance <= this$1._terminateDistance) { return null }\n        }\n      }\n    } else if (arguments[2] instanceof Array && (arguments[0] instanceof GeometryLocation && arguments[1] instanceof Polygon)) {\n      var ptLoc = arguments[0];\n      var poly = arguments[1];\n      var locPtPoly$3 = arguments[2];\n      var pt = ptLoc.getCoordinate();\n      if (Location.EXTERIOR !== this._ptLocator.locate(pt, poly)) {\n        this._minDistance = 0.0;\n        locPtPoly$3[0] = ptLoc;\n        locPtPoly$3[1] = new GeometryLocation(poly, pt);\n\n        return null\n      }\n    }\n  }\n};\nDistanceOp.prototype.computeMinDistanceLinesPoints = function computeMinDistanceLinesPoints (lines, points, locGeom) {\n    var this$1 = this;\n\n  for (var i = 0; i < lines.size(); i++) {\n    var line = lines.get(i);\n    for (var j = 0; j < points.size(); j++) {\n      var pt = points.get(j);\n      this$1.computeMinDistance(line, pt, locGeom);\n      if (this$1._minDistance <= this$1._terminateDistance) { return null }\n    }\n  }\n};\nDistanceOp.prototype.computeFacetDistance = function computeFacetDistance () {\n  var locGeom = new Array(2).fill(null);\n  var lines0 = LinearComponentExtracter.getLines(this._geom[0]);\n  var lines1 = LinearComponentExtracter.getLines(this._geom[1]);\n  var pts0 = PointExtracter.getPoints(this._geom[0]);\n  var pts1 = PointExtracter.getPoints(this._geom[1]);\n  this.computeMinDistanceLines(lines0, lines1, locGeom);\n  this.updateMinDistance(locGeom, false);\n  if (this._minDistance <= this._terminateDistance) { return null }\n  locGeom[0] = null;\n  locGeom[1] = null;\n  this.computeMinDistanceLinesPoints(lines0, pts1, locGeom);\n  this.updateMinDistance(locGeom, false);\n  if (this._minDistance <= this._terminateDistance) { return null }\n  locGeom[0] = null;\n  locGeom[1] = null;\n  this.computeMinDistanceLinesPoints(lines1, pts0, locGeom);\n  this.updateMinDistance(locGeom, true);\n  if (this._minDistance <= this._terminateDistance) { return null }\n  locGeom[0] = null;\n  locGeom[1] = null;\n  this.computeMinDistancePoints(pts0, pts1, locGeom);\n  this.updateMinDistance(locGeom, false);\n};\nDistanceOp.prototype.nearestLocations = function nearestLocations () {\n  this.computeMinDistance();\n  return this._minDistanceLocation\n};\nDistanceOp.prototype.updateMinDistance = function updateMinDistance (locGeom, flip) {\n  if (locGeom[0] === null) { return null }\n  if (flip) {\n    this._minDistanceLocation[0] = locGeom[1];\n    this._minDistanceLocation[1] = locGeom[0];\n  } else {\n    this._minDistanceLocation[0] = locGeom[0];\n    this._minDistanceLocation[1] = locGeom[1];\n  }\n};\nDistanceOp.prototype.nearestPoints = function nearestPoints () {\n  this.computeMinDistance();\n  var nearestPts = [this._minDistanceLocation[0].getCoordinate(), this._minDistanceLocation[1].getCoordinate()];\n  return nearestPts\n};\nDistanceOp.prototype.computeMinDistance = function computeMinDistance () {\n    var this$1 = this;\n\n  if (arguments.length === 0) {\n    if (this._minDistanceLocation !== null) { return null }\n    this._minDistanceLocation = new Array(2).fill(null);\n    this.computeContainmentDistance();\n    if (this._minDistance <= this._terminateDistance) { return null }\n    this.computeFacetDistance();\n  } else if (arguments.length === 3) {\n    if (arguments[2] instanceof Array && (arguments[0] instanceof LineString$1 && arguments[1] instanceof Point)) {\n      var line = arguments[0];\n      var pt = arguments[1];\n      var locGeom = arguments[2];\n      if (line.getEnvelopeInternal().distance(pt.getEnvelopeInternal()) > this._minDistance) { return null }\n      var coord0 = line.getCoordinates();\n      var coord = pt.getCoordinate();\n      for (var i = 0; i < coord0.length - 1; i++) {\n        var dist = CGAlgorithms.distancePointLine(coord, coord0[i], coord0[i + 1]);\n        if (dist < this$1._minDistance) {\n          this$1._minDistance = dist;\n          var seg = new LineSegment(coord0[i], coord0[i + 1]);\n          var segClosestPoint = seg.closestPoint(coord);\n          locGeom[0] = new GeometryLocation(line, i, segClosestPoint);\n          locGeom[1] = new GeometryLocation(pt, 0, coord);\n        }\n        if (this$1._minDistance <= this$1._terminateDistance) { return null }\n      }\n    } else if (arguments[2] instanceof Array && (arguments[0] instanceof LineString$1 && arguments[1] instanceof LineString$1)) {\n      var line0 = arguments[0];\n      var line1 = arguments[1];\n      var locGeom$1 = arguments[2];\n      if (line0.getEnvelopeInternal().distance(line1.getEnvelopeInternal()) > this._minDistance) { return null }\n      var coord0$1 = line0.getCoordinates();\n      var coord1 = line1.getCoordinates();\n      for (var i$1 = 0; i$1 < coord0$1.length - 1; i$1++) {\n        for (var j = 0; j < coord1.length - 1; j++) {\n          var dist$1 = CGAlgorithms.distanceLineLine(coord0$1[i$1], coord0$1[i$1 + 1], coord1[j], coord1[j + 1]);\n          if (dist$1 < this$1._minDistance) {\n            this$1._minDistance = dist$1;\n            var seg0 = new LineSegment(coord0$1[i$1], coord0$1[i$1 + 1]);\n            var seg1 = new LineSegment(coord1[j], coord1[j + 1]);\n            var closestPt = seg0.closestPoints(seg1);\n            locGeom$1[0] = new GeometryLocation(line0, i$1, closestPt[0]);\n            locGeom$1[1] = new GeometryLocation(line1, j, closestPt[1]);\n          }\n          if (this$1._minDistance <= this$1._terminateDistance) { return null }\n        }\n      }\n    }\n  }\n};\nDistanceOp.prototype.computeMinDistancePoints = function computeMinDistancePoints (points0, points1, locGeom) {\n    var this$1 = this;\n\n  for (var i = 0; i < points0.size(); i++) {\n    var pt0 = points0.get(i);\n    for (var j = 0; j < points1.size(); j++) {\n      var pt1 = points1.get(j);\n      var dist = pt0.getCoordinate().distance(pt1.getCoordinate());\n      if (dist < this$1._minDistance) {\n        this$1._minDistance = dist;\n        locGeom[0] = new GeometryLocation(pt0, 0, pt0.getCoordinate());\n        locGeom[1] = new GeometryLocation(pt1, 0, pt1.getCoordinate());\n      }\n      if (this$1._minDistance <= this$1._terminateDistance) { return null }\n    }\n  }\n};\nDistanceOp.prototype.distance = function distance () {\n  if (this._geom[0] === null || this._geom[1] === null) { throw new IllegalArgumentException('null geometries are not supported') }\n  if (this._geom[0].isEmpty() || this._geom[1].isEmpty()) { return 0.0 }\n  this.computeMinDistance();\n  return this._minDistance\n};\nDistanceOp.prototype.computeMinDistanceLines = function computeMinDistanceLines (lines0, lines1, locGeom) {\n    var this$1 = this;\n\n  for (var i = 0; i < lines0.size(); i++) {\n    var line0 = lines0.get(i);\n    for (var j = 0; j < lines1.size(); j++) {\n      var line1 = lines1.get(j);\n      this$1.computeMinDistance(line0, line1, locGeom);\n      if (this$1._minDistance <= this$1._terminateDistance) { return null }\n    }\n  }\n};\nDistanceOp.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nDistanceOp.prototype.getClass = function getClass () {\n  return DistanceOp\n};\nDistanceOp.distance = function distance (g0, g1) {\n  var distOp = new DistanceOp(g0, g1);\n  return distOp.distance()\n};\nDistanceOp.isWithinDistance = function isWithinDistance (g0, g1, distance) {\n  var distOp = new DistanceOp(g0, g1, distance);\n  return distOp.distance() <= distance\n};\nDistanceOp.nearestPoints = function nearestPoints (g0, g1) {\n  var distOp = new DistanceOp(g0, g1);\n  return distOp.nearestPoints()\n};\n\nvar PointPairDistance$2 = function PointPairDistance () {\n  this._pt = [new Coordinate(), new Coordinate()];\n  this._distance = Double.NaN;\n  this._isNull = true;\n};\nPointPairDistance$2.prototype.getCoordinates = function getCoordinates () {\n  return this._pt\n};\nPointPairDistance$2.prototype.getCoordinate = function getCoordinate (i) {\n  return this._pt[i]\n};\nPointPairDistance$2.prototype.setMinimum = function setMinimum () {\n  if (arguments.length === 1) {\n    var ptDist = arguments[0];\n    this.setMinimum(ptDist._pt[0], ptDist._pt[1]);\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    if (this._isNull) {\n      this.initialize(p0, p1);\n      return null\n    }\n    var dist = p0.distance(p1);\n    if (dist < this._distance) { this.initialize(p0, p1, dist); }\n  }\n};\nPointPairDistance$2.prototype.initialize = function initialize () {\n  if (arguments.length === 0) {\n    this._isNull = true;\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    this._pt[0].setCoordinate(p0);\n    this._pt[1].setCoordinate(p1);\n    this._distance = p0.distance(p1);\n    this._isNull = false;\n  } else if (arguments.length === 3) {\n    var p0$1 = arguments[0];\n    var p1$1 = arguments[1];\n    var distance = arguments[2];\n    this._pt[0].setCoordinate(p0$1);\n    this._pt[1].setCoordinate(p1$1);\n    this._distance = distance;\n    this._isNull = false;\n  }\n};\nPointPairDistance$2.prototype.toString = function toString () {\n  return WKTWriter.toLineString(this._pt[0], this._pt[1])\n};\nPointPairDistance$2.prototype.getDistance = function getDistance () {\n  return this._distance\n};\nPointPairDistance$2.prototype.setMaximum = function setMaximum () {\n  if (arguments.length === 1) {\n    var ptDist = arguments[0];\n    this.setMaximum(ptDist._pt[0], ptDist._pt[1]);\n  } else if (arguments.length === 2) {\n    var p0 = arguments[0];\n    var p1 = arguments[1];\n    if (this._isNull) {\n      this.initialize(p0, p1);\n      return null\n    }\n    var dist = p0.distance(p1);\n    if (dist > this._distance) { this.initialize(p0, p1, dist); }\n  }\n};\nPointPairDistance$2.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPointPairDistance$2.prototype.getClass = function getClass () {\n  return PointPairDistance$2\n};\n\nvar DistanceToPoint = function DistanceToPoint () {};\n\nDistanceToPoint.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nDistanceToPoint.prototype.getClass = function getClass () {\n  return DistanceToPoint\n};\nDistanceToPoint.computeDistance = function computeDistance () {\n  if (arguments[2] instanceof PointPairDistance$2 && (arguments[0] instanceof LineString$1 && arguments[1] instanceof Coordinate)) {\n    var line = arguments[0];\n    var pt = arguments[1];\n    var ptDist = arguments[2];\n    var tempSegment = new LineSegment();\n    var coords = line.getCoordinates();\n    for (var i = 0; i < coords.length - 1; i++) {\n      tempSegment.setCoordinates(coords[i], coords[i + 1]);\n      var closestPt = tempSegment.closestPoint(pt);\n      ptDist.setMinimum(closestPt, pt);\n    }\n  } else if (arguments[2] instanceof PointPairDistance$2 && (arguments[0] instanceof Polygon && arguments[1] instanceof Coordinate)) {\n    var poly = arguments[0];\n    var pt$1 = arguments[1];\n    var ptDist$1 = arguments[2];\n    DistanceToPoint.computeDistance(poly.getExteriorRing(), pt$1, ptDist$1);\n    for (var i$1 = 0; i$1 < poly.getNumInteriorRing(); i$1++) {\n      DistanceToPoint.computeDistance(poly.getInteriorRingN(i$1), pt$1, ptDist$1);\n    }\n  } else if (arguments[2] instanceof PointPairDistance$2 && (arguments[0] instanceof Geometry && arguments[1] instanceof Coordinate)) {\n    var geom = arguments[0];\n    var pt$2 = arguments[1];\n    var ptDist$2 = arguments[2];\n    if (geom instanceof LineString$1) {\n      DistanceToPoint.computeDistance(geom, pt$2, ptDist$2);\n    } else if (geom instanceof Polygon) {\n      DistanceToPoint.computeDistance(geom, pt$2, ptDist$2);\n    } else if (geom instanceof GeometryCollection) {\n      var gc = geom;\n      for (var i$2 = 0; i$2 < gc.getNumGeometries(); i$2++) {\n        var g = gc.getGeometryN(i$2);\n        DistanceToPoint.computeDistance(g, pt$2, ptDist$2);\n      }\n    } else {\n      ptDist$2.setMinimum(geom.getCoordinate(), pt$2);\n    }\n  } else if (arguments[2] instanceof PointPairDistance$2 && (arguments[0] instanceof LineSegment && arguments[1] instanceof Coordinate)) {\n    var segment = arguments[0];\n    var pt$3 = arguments[1];\n    var ptDist$3 = arguments[2];\n    var closestPt$1 = segment.closestPoint(pt$3);\n    ptDist$3.setMinimum(closestPt$1, pt$3);\n  }\n};\n\nvar DiscreteHausdorffDistance = function DiscreteHausdorffDistance () {\n  this._g0 = null;\n  this._g1 = null;\n  this._ptDist = new PointPairDistance$2();\n  this._densifyFrac = 0.0;\n  var g0 = arguments[0];\n  var g1 = arguments[1];\n  this._g0 = g0;\n  this._g1 = g1;\n};\n\nvar staticAccessors$39 = { MaxPointDistanceFilter: { configurable: true },MaxDensifiedByFractionDistanceFilter: { configurable: true } };\nDiscreteHausdorffDistance.prototype.getCoordinates = function getCoordinates () {\n  return this._ptDist.getCoordinates()\n};\nDiscreteHausdorffDistance.prototype.setDensifyFraction = function setDensifyFraction (densifyFrac) {\n  if (densifyFrac > 1.0 || densifyFrac <= 0.0) { throw new IllegalArgumentException('Fraction is not in range (0.0 - 1.0]') }\n  this._densifyFrac = densifyFrac;\n};\nDiscreteHausdorffDistance.prototype.compute = function compute (g0, g1) {\n  this.computeOrientedDistance(g0, g1, this._ptDist);\n  this.computeOrientedDistance(g1, g0, this._ptDist);\n};\nDiscreteHausdorffDistance.prototype.distance = function distance () {\n  this.compute(this._g0, this._g1);\n  return this._ptDist.getDistance()\n};\nDiscreteHausdorffDistance.prototype.computeOrientedDistance = function computeOrientedDistance (discreteGeom, geom, ptDist) {\n  var distFilter = new MaxPointDistanceFilter$1(geom);\n  discreteGeom.apply(distFilter);\n  ptDist.setMaximum(distFilter.getMaxPointDistance());\n  if (this._densifyFrac > 0) {\n    var fracFilter = new MaxDensifiedByFractionDistanceFilter(geom, this._densifyFrac);\n    discreteGeom.apply(fracFilter);\n    ptDist.setMaximum(fracFilter.getMaxPointDistance());\n  }\n};\nDiscreteHausdorffDistance.prototype.orientedDistance = function orientedDistance () {\n  this.computeOrientedDistance(this._g0, this._g1, this._ptDist);\n  return this._ptDist.getDistance()\n};\nDiscreteHausdorffDistance.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nDiscreteHausdorffDistance.prototype.getClass = function getClass () {\n  return DiscreteHausdorffDistance\n};\nDiscreteHausdorffDistance.distance = function distance () {\n  if (arguments.length === 2) {\n    var g0 = arguments[0];\n    var g1 = arguments[1];\n    var dist = new DiscreteHausdorffDistance(g0, g1);\n    return dist.distance()\n  } else if (arguments.length === 3) {\n    var g0$1 = arguments[0];\n    var g1$1 = arguments[1];\n    var densifyFrac = arguments[2];\n    var dist$1 = new DiscreteHausdorffDistance(g0$1, g1$1);\n    dist$1.setDensifyFraction(densifyFrac);\n    return dist$1.distance()\n  }\n};\nstaticAccessors$39.MaxPointDistanceFilter.get = function () { return MaxPointDistanceFilter$1 };\nstaticAccessors$39.MaxDensifiedByFractionDistanceFilter.get = function () { return MaxDensifiedByFractionDistanceFilter };\n\nObject.defineProperties( DiscreteHausdorffDistance, staticAccessors$39 );\n\nvar MaxPointDistanceFilter$1 = function MaxPointDistanceFilter () {\n  this._maxPtDist = new PointPairDistance$2();\n  this._minPtDist = new PointPairDistance$2();\n  this._euclideanDist = new DistanceToPoint();\n  this._geom = null;\n  var geom = arguments[0];\n  this._geom = geom;\n};\nMaxPointDistanceFilter$1.prototype.filter = function filter (pt) {\n  this._minPtDist.initialize();\n  DistanceToPoint.computeDistance(this._geom, pt, this._minPtDist);\n  this._maxPtDist.setMaximum(this._minPtDist);\n};\nMaxPointDistanceFilter$1.prototype.getMaxPointDistance = function getMaxPointDistance () {\n  return this._maxPtDist\n};\nMaxPointDistanceFilter$1.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateFilter]\n};\nMaxPointDistanceFilter$1.prototype.getClass = function getClass () {\n  return MaxPointDistanceFilter$1\n};\n\nvar MaxDensifiedByFractionDistanceFilter = function MaxDensifiedByFractionDistanceFilter () {\n  this._maxPtDist = new PointPairDistance$2();\n  this._minPtDist = new PointPairDistance$2();\n  this._geom = null;\n  this._numSubSegs = 0;\n  var geom = arguments[0];\n  var fraction = arguments[1];\n  this._geom = geom;\n  this._numSubSegs = Math.trunc(Math.round(1.0 / fraction));\n};\nMaxDensifiedByFractionDistanceFilter.prototype.filter = function filter (seq, index) {\n    var this$1 = this;\n\n  if (index === 0) { return null }\n  var p0 = seq.getCoordinate(index - 1);\n  var p1 = seq.getCoordinate(index);\n  var delx = (p1.x - p0.x) / this._numSubSegs;\n  var dely = (p1.y - p0.y) / this._numSubSegs;\n  for (var i = 0; i < this._numSubSegs; i++) {\n    var x = p0.x + i * delx;\n    var y = p0.y + i * dely;\n    var pt = new Coordinate(x, y);\n    this$1._minPtDist.initialize();\n    DistanceToPoint.computeDistance(this$1._geom, pt, this$1._minPtDist);\n    this$1._maxPtDist.setMaximum(this$1._minPtDist);\n  }\n};\nMaxDensifiedByFractionDistanceFilter.prototype.isDone = function isDone () {\n  return false\n};\nMaxDensifiedByFractionDistanceFilter.prototype.isGeometryChanged = function isGeometryChanged () {\n  return false\n};\nMaxDensifiedByFractionDistanceFilter.prototype.getMaxPointDistance = function getMaxPointDistance () {\n  return this._maxPtDist\n};\nMaxDensifiedByFractionDistanceFilter.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateSequenceFilter]\n};\nMaxDensifiedByFractionDistanceFilter.prototype.getClass = function getClass () {\n  return MaxDensifiedByFractionDistanceFilter\n};\n\nvar BufferDistanceValidator = function BufferDistanceValidator (input, bufDistance, result) {\n  this._minValidDistance = null;\n  this._maxValidDistance = null;\n  this._minDistanceFound = null;\n  this._maxDistanceFound = null;\n  this._isValid = true;\n  this._errMsg = null;\n  this._errorLocation = null;\n  this._errorIndicator = null;\n  this._input = input || null;\n  this._bufDistance = bufDistance || null;\n  this._result = result || null;\n};\n\nvar staticAccessors$37 = { VERBOSE: { configurable: true },MAX_DISTANCE_DIFF_FRAC: { configurable: true } };\nBufferDistanceValidator.prototype.checkMaximumDistance = function checkMaximumDistance (input, bufCurve, maxDist) {\n  var haus = new DiscreteHausdorffDistance(bufCurve, input);\n  haus.setDensifyFraction(0.25);\n  this._maxDistanceFound = haus.orientedDistance();\n  if (this._maxDistanceFound > maxDist) {\n    this._isValid = false;\n    var pts = haus.getCoordinates();\n    this._errorLocation = pts[1];\n    this._errorIndicator = input.getFactory().createLineString(pts);\n    this._errMsg = 'Distance between buffer curve and input is too large (' + this._maxDistanceFound + ' at ' + WKTWriter.toLineString(pts[0], pts[1]) + ')';\n  }\n};\nBufferDistanceValidator.prototype.isValid = function isValid () {\n  var posDistance = Math.abs(this._bufDistance);\n  var distDelta = BufferDistanceValidator.MAX_DISTANCE_DIFF_FRAC * posDistance;\n  this._minValidDistance = posDistance - distDelta;\n  this._maxValidDistance = posDistance + distDelta;\n  if (this._input.isEmpty() || this._result.isEmpty()) { return true }\n  if (this._bufDistance > 0.0) {\n    this.checkPositiveValid();\n  } else {\n    this.checkNegativeValid();\n  }\n  if (BufferDistanceValidator.VERBOSE) {\n    System.out.println('Min Dist= ' + this._minDistanceFound + '  err= ' + (1.0 - this._minDistanceFound / this._bufDistance) + '  Max Dist= ' + this._maxDistanceFound + '  err= ' + (this._maxDistanceFound / this._bufDistance - 1.0));\n  }\n  return this._isValid\n};\nBufferDistanceValidator.prototype.checkNegativeValid = function checkNegativeValid () {\n  if (!(this._input instanceof Polygon || this._input instanceof MultiPolygon || this._input instanceof GeometryCollection)) {\n    return null\n  }\n  var inputCurve = this.getPolygonLines(this._input);\n  this.checkMinimumDistance(inputCurve, this._result, this._minValidDistance);\n  if (!this._isValid) { return null }\n  this.checkMaximumDistance(inputCurve, this._result, this._maxValidDistance);\n};\nBufferDistanceValidator.prototype.getErrorIndicator = function getErrorIndicator () {\n  return this._errorIndicator\n};\nBufferDistanceValidator.prototype.checkMinimumDistance = function checkMinimumDistance (g1, g2, minDist) {\n  var distOp = new DistanceOp(g1, g2, minDist);\n  this._minDistanceFound = distOp.distance();\n  if (this._minDistanceFound < minDist) {\n    this._isValid = false;\n    var pts = distOp.nearestPoints();\n    this._errorLocation = distOp.nearestPoints()[1];\n    this._errorIndicator = g1.getFactory().createLineString(pts);\n    this._errMsg = 'Distance between buffer curve and input is too small (' + this._minDistanceFound + ' at ' + WKTWriter.toLineString(pts[0], pts[1]) + ' )';\n  }\n};\nBufferDistanceValidator.prototype.checkPositiveValid = function checkPositiveValid () {\n  var bufCurve = this._result.getBoundary();\n  this.checkMinimumDistance(this._input, bufCurve, this._minValidDistance);\n  if (!this._isValid) { return null }\n  this.checkMaximumDistance(this._input, bufCurve, this._maxValidDistance);\n};\nBufferDistanceValidator.prototype.getErrorLocation = function getErrorLocation () {\n  return this._errorLocation\n};\nBufferDistanceValidator.prototype.getPolygonLines = function getPolygonLines (g) {\n  var lines = new ArrayList();\n  var lineExtracter = new LinearComponentExtracter(lines);\n  var polys = PolygonExtracter.getPolygons(g);\n  for (var i = polys.iterator(); i.hasNext();) {\n    var poly = i.next();\n    poly.apply(lineExtracter);\n  }\n  return g.getFactory().buildGeometry(lines)\n};\nBufferDistanceValidator.prototype.getErrorMessage = function getErrorMessage () {\n  return this._errMsg\n};\nBufferDistanceValidator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBufferDistanceValidator.prototype.getClass = function getClass () {\n  return BufferDistanceValidator\n};\nstaticAccessors$37.VERBOSE.get = function () { return false };\nstaticAccessors$37.MAX_DISTANCE_DIFF_FRAC.get = function () { return 0.012 };\n\nObject.defineProperties( BufferDistanceValidator, staticAccessors$37 );\n\nvar BufferResultValidator = function BufferResultValidator (input, distance, result) {\n  this._isValid = true;\n  this._errorMsg = null;\n  this._errorLocation = null;\n  this._errorIndicator = null;\n  this._input = input || null;\n  this._distance = distance || null;\n  this._result = result || null;\n};\n\nvar staticAccessors$40 = { VERBOSE: { configurable: true },MAX_ENV_DIFF_FRAC: { configurable: true } };\nBufferResultValidator.prototype.isValid = function isValid () {\n  this.checkPolygonal();\n  if (!this._isValid) { return this._isValid }\n  this.checkExpectedEmpty();\n  if (!this._isValid) { return this._isValid }\n  this.checkEnvelope();\n  if (!this._isValid) { return this._isValid }\n  this.checkArea();\n  if (!this._isValid) { return this._isValid }\n  this.checkDistance();\n  return this._isValid\n};\nBufferResultValidator.prototype.checkEnvelope = function checkEnvelope () {\n  if (this._distance < 0.0) { return null }\n  var padding = this._distance * BufferResultValidator.MAX_ENV_DIFF_FRAC;\n  if (padding === 0.0) { padding = 0.001; }\n  var expectedEnv = new Envelope(this._input.getEnvelopeInternal());\n  expectedEnv.expandBy(this._distance);\n  var bufEnv = new Envelope(this._result.getEnvelopeInternal());\n  bufEnv.expandBy(padding);\n  if (!bufEnv.contains(expectedEnv)) {\n    this._isValid = false;\n    this._errorMsg = 'Buffer envelope is incorrect';\n    this._errorIndicator = this._input.getFactory().toGeometry(bufEnv);\n  }\n  this.report('Envelope');\n};\nBufferResultValidator.prototype.checkDistance = function checkDistance () {\n  var distValid = new BufferDistanceValidator(this._input, this._distance, this._result);\n  if (!distValid.isValid()) {\n    this._isValid = false;\n    this._errorMsg = distValid.getErrorMessage();\n    this._errorLocation = distValid.getErrorLocation();\n    this._errorIndicator = distValid.getErrorIndicator();\n  }\n  this.report('Distance');\n};\nBufferResultValidator.prototype.checkArea = function checkArea () {\n  var inputArea = this._input.getArea();\n  var resultArea = this._result.getArea();\n  if (this._distance > 0.0 && inputArea > resultArea) {\n    this._isValid = false;\n    this._errorMsg = 'Area of positive buffer is smaller than input';\n    this._errorIndicator = this._result;\n  }\n  if (this._distance < 0.0 && inputArea < resultArea) {\n    this._isValid = false;\n    this._errorMsg = 'Area of negative buffer is larger than input';\n    this._errorIndicator = this._result;\n  }\n  this.report('Area');\n};\nBufferResultValidator.prototype.checkPolygonal = function checkPolygonal () {\n  if (!(this._result instanceof Polygon || this._result instanceof MultiPolygon)) { this._isValid = false; }\n  this._errorMsg = 'Result is not polygonal';\n  this._errorIndicator = this._result;\n  this.report('Polygonal');\n};\nBufferResultValidator.prototype.getErrorIndicator = function getErrorIndicator () {\n  return this._errorIndicator\n};\nBufferResultValidator.prototype.getErrorLocation = function getErrorLocation () {\n  return this._errorLocation\n};\nBufferResultValidator.prototype.checkExpectedEmpty = function checkExpectedEmpty () {\n  if (this._input.getDimension() >= 2) { return null }\n  if (this._distance > 0.0) { return null }\n  if (!this._result.isEmpty()) {\n    this._isValid = false;\n    this._errorMsg = 'Result is non-empty';\n    this._errorIndicator = this._result;\n  }\n  this.report('ExpectedEmpty');\n};\nBufferResultValidator.prototype.report = function report (checkName) {\n  if (!BufferResultValidator.VERBOSE) { return null }\n  System.out.println('Check ' + checkName + ': ' + (this._isValid ? 'passed' : 'FAILED'));\n};\nBufferResultValidator.prototype.getErrorMessage = function getErrorMessage () {\n  return this._errorMsg\n};\nBufferResultValidator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nBufferResultValidator.prototype.getClass = function getClass () {\n  return BufferResultValidator\n};\nBufferResultValidator.isValidMsg = function isValidMsg (g, distance, result) {\n  var validator = new BufferResultValidator(g, distance, result);\n  if (!validator.isValid()) { return validator.getErrorMessage() }\n  return null\n};\nBufferResultValidator.isValid = function isValid (g, distance, result) {\n  var validator = new BufferResultValidator(g, distance, result);\n  if (validator.isValid()) { return true }\n  return false\n};\nstaticAccessors$40.VERBOSE.get = function () { return false };\nstaticAccessors$40.MAX_ENV_DIFF_FRAC.get = function () { return 0.012 };\n\nObject.defineProperties( BufferResultValidator, staticAccessors$40 );\n\n// operation.buffer\n\nvar BasicSegmentString = function BasicSegmentString () {\n  this._pts = null;\n  this._data = null;\n  var pts = arguments[0];\n  var data = arguments[1];\n  this._pts = pts;\n  this._data = data;\n};\nBasicSegmentString.prototype.getCoordinates = function getCoordinates () {\n  return this._pts\n};\nBasicSegmentString.prototype.size = function size () {\n  return this._pts.length\n};\nBasicSegmentString.prototype.getCoordinate = function getCoordinate (i) {\n  return this._pts[i]\n};\nBasicSegmentString.prototype.isClosed = function isClosed () {\n  return this._pts[0].equals(this._pts[this._pts.length - 1])\n};\nBasicSegmentString.prototype.getSegmentOctant = function getSegmentOctant (index) {\n  if (index === this._pts.length - 1) { return -1 }\n  return Octant.octant(this.getCoordinate(index), this.getCoordinate(index + 1))\n};\nBasicSegmentString.prototype.setData = function setData (data) {\n  this._data = data;\n};\nBasicSegmentString.prototype.getData = function getData () {\n  return this._data\n};\nBasicSegmentString.prototype.toString = function toString () {\n  return WKTWriter.toLineString(new CoordinateArraySequence(this._pts))\n};\nBasicSegmentString.prototype.interfaces_ = function interfaces_ () {\n  return [SegmentString]\n};\nBasicSegmentString.prototype.getClass = function getClass () {\n  return BasicSegmentString\n};\n\nvar InteriorIntersectionFinder = function InteriorIntersectionFinder () {\n  this._findAllIntersections = false;\n  this._isCheckEndSegmentsOnly = false;\n  this._li = null;\n  this._interiorIntersection = null;\n  this._intSegments = null;\n  this._intersections = new ArrayList();\n  this._intersectionCount = 0;\n  this._keepIntersections = true;\n  var li = arguments[0];\n  this._li = li;\n  this._interiorIntersection = null;\n};\nInteriorIntersectionFinder.prototype.getInteriorIntersection = function getInteriorIntersection () {\n  return this._interiorIntersection\n};\nInteriorIntersectionFinder.prototype.setCheckEndSegmentsOnly = function setCheckEndSegmentsOnly (isCheckEndSegmentsOnly) {\n  this._isCheckEndSegmentsOnly = isCheckEndSegmentsOnly;\n};\nInteriorIntersectionFinder.prototype.getIntersectionSegments = function getIntersectionSegments () {\n  return this._intSegments\n};\nInteriorIntersectionFinder.prototype.count = function count () {\n  return this._intersectionCount\n};\nInteriorIntersectionFinder.prototype.getIntersections = function getIntersections () {\n  return this._intersections\n};\nInteriorIntersectionFinder.prototype.setFindAllIntersections = function setFindAllIntersections (findAllIntersections) {\n  this._findAllIntersections = findAllIntersections;\n};\nInteriorIntersectionFinder.prototype.setKeepIntersections = function setKeepIntersections (keepIntersections) {\n  this._keepIntersections = keepIntersections;\n};\nInteriorIntersectionFinder.prototype.processIntersections = function processIntersections (e0, segIndex0, e1, segIndex1) {\n  if (!this._findAllIntersections && this.hasIntersection()) { return null }\n  if (e0 === e1 && segIndex0 === segIndex1) { return null }\n  if (this._isCheckEndSegmentsOnly) {\n    var isEndSegPresent = this.isEndSegment(e0, segIndex0) || this.isEndSegment(e1, segIndex1);\n    if (!isEndSegPresent) { return null }\n  }\n  var p00 = e0.getCoordinates()[segIndex0];\n  var p01 = e0.getCoordinates()[segIndex0 + 1];\n  var p10 = e1.getCoordinates()[segIndex1];\n  var p11 = e1.getCoordinates()[segIndex1 + 1];\n  this._li.computeIntersection(p00, p01, p10, p11);\n  if (this._li.hasIntersection()) {\n    if (this._li.isInteriorIntersection()) {\n      this._intSegments = new Array(4).fill(null);\n      this._intSegments[0] = p00;\n      this._intSegments[1] = p01;\n      this._intSegments[2] = p10;\n      this._intSegments[3] = p11;\n      this._interiorIntersection = this._li.getIntersection(0);\n      if (this._keepIntersections) { this._intersections.add(this._interiorIntersection); }\n      this._intersectionCount++;\n    }\n  }\n};\nInteriorIntersectionFinder.prototype.isEndSegment = function isEndSegment (segStr, index) {\n  if (index === 0) { return true }\n  if (index >= segStr.size() - 2) { return true }\n  return false\n};\nInteriorIntersectionFinder.prototype.hasIntersection = function hasIntersection () {\n  return this._interiorIntersection !== null\n};\nInteriorIntersectionFinder.prototype.isDone = function isDone () {\n  if (this._findAllIntersections) { return false }\n  return this._interiorIntersection !== null\n};\nInteriorIntersectionFinder.prototype.interfaces_ = function interfaces_ () {\n  return [SegmentIntersector]\n};\nInteriorIntersectionFinder.prototype.getClass = function getClass () {\n  return InteriorIntersectionFinder\n};\nInteriorIntersectionFinder.createAllIntersectionsFinder = function createAllIntersectionsFinder (li) {\n  var finder = new InteriorIntersectionFinder(li);\n  finder.setFindAllIntersections(true);\n  return finder\n};\nInteriorIntersectionFinder.createAnyIntersectionFinder = function createAnyIntersectionFinder (li) {\n  return new InteriorIntersectionFinder(li)\n};\nInteriorIntersectionFinder.createIntersectionCounter = function createIntersectionCounter (li) {\n  var finder = new InteriorIntersectionFinder(li);\n  finder.setFindAllIntersections(true);\n  finder.setKeepIntersections(false);\n  return finder\n};\n\nvar FastNodingValidator = function FastNodingValidator () {\n  this._li = new RobustLineIntersector();\n  this._segStrings = null;\n  this._findAllIntersections = false;\n  this._segInt = null;\n  this._isValid = true;\n  var segStrings = arguments[0];\n  this._segStrings = segStrings;\n};\nFastNodingValidator.prototype.execute = function execute () {\n  if (this._segInt !== null) { return null }\n  this.checkInteriorIntersections();\n};\nFastNodingValidator.prototype.getIntersections = function getIntersections () {\n  return this._segInt.getIntersections()\n};\nFastNodingValidator.prototype.isValid = function isValid () {\n  this.execute();\n  return this._isValid\n};\nFastNodingValidator.prototype.setFindAllIntersections = function setFindAllIntersections (findAllIntersections) {\n  this._findAllIntersections = findAllIntersections;\n};\nFastNodingValidator.prototype.checkInteriorIntersections = function checkInteriorIntersections () {\n  this._isValid = true;\n  this._segInt = new InteriorIntersectionFinder(this._li);\n  this._segInt.setFindAllIntersections(this._findAllIntersections);\n  var noder = new MCIndexNoder();\n  noder.setSegmentIntersector(this._segInt);\n  noder.computeNodes(this._segStrings);\n  if (this._segInt.hasIntersection()) {\n    this._isValid = false;\n    return null\n  }\n};\nFastNodingValidator.prototype.checkValid = function checkValid () {\n  this.execute();\n  if (!this._isValid) { throw new TopologyException(this.getErrorMessage(), this._segInt.getInteriorIntersection()) }\n};\nFastNodingValidator.prototype.getErrorMessage = function getErrorMessage () {\n  if (this._isValid) { return 'no intersections found' }\n  var intSegs = this._segInt.getIntersectionSegments();\n  return 'found non-noded intersection between ' + WKTWriter.toLineString(intSegs[0], intSegs[1]) + ' and ' + WKTWriter.toLineString(intSegs[2], intSegs[3])\n};\nFastNodingValidator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nFastNodingValidator.prototype.getClass = function getClass () {\n  return FastNodingValidator\n};\nFastNodingValidator.computeIntersections = function computeIntersections (segStrings) {\n  var nv = new FastNodingValidator(segStrings);\n  nv.setFindAllIntersections(true);\n  nv.isValid();\n  return nv.getIntersections()\n};\n\nvar EdgeNodingValidator = function EdgeNodingValidator () {\n  this._nv = null;\n  var edges = arguments[0];\n  this._nv = new FastNodingValidator(EdgeNodingValidator.toSegmentStrings(edges));\n};\nEdgeNodingValidator.prototype.checkValid = function checkValid () {\n  this._nv.checkValid();\n};\nEdgeNodingValidator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nEdgeNodingValidator.prototype.getClass = function getClass () {\n  return EdgeNodingValidator\n};\nEdgeNodingValidator.toSegmentStrings = function toSegmentStrings (edges) {\n  var segStrings = new ArrayList();\n  for (var i = edges.iterator(); i.hasNext();) {\n    var e = i.next();\n    segStrings.add(new BasicSegmentString(e.getCoordinates(), e));\n  }\n  return segStrings\n};\nEdgeNodingValidator.checkValid = function checkValid (edges) {\n  var validator = new EdgeNodingValidator(edges);\n  validator.checkValid();\n};\n\nvar GeometryCollectionMapper = function GeometryCollectionMapper (mapOp) {\n  this._mapOp = mapOp;\n};\nGeometryCollectionMapper.prototype.map = function map (gc) {\n    var this$1 = this;\n\n  var mapped = new ArrayList();\n  for (var i = 0; i < gc.getNumGeometries(); i++) {\n    var g = this$1._mapOp.map(gc.getGeometryN(i));\n    if (!g.isEmpty()) { mapped.add(g); }\n  }\n  return gc.getFactory().createGeometryCollection(GeometryFactory.toGeometryArray(mapped))\n};\nGeometryCollectionMapper.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryCollectionMapper.prototype.getClass = function getClass () {\n  return GeometryCollectionMapper\n};\nGeometryCollectionMapper.map = function map (gc, op) {\n  var mapper = new GeometryCollectionMapper(op);\n  return mapper.map(gc)\n};\n\nvar LineBuilder = function LineBuilder () {\n  this._op = null;\n  this._geometryFactory = null;\n  this._ptLocator = null;\n  this._lineEdgesList = new ArrayList();\n  this._resultLineList = new ArrayList();\n  var op = arguments[0];\n  var geometryFactory = arguments[1];\n  var ptLocator = arguments[2];\n  this._op = op;\n  this._geometryFactory = geometryFactory;\n  this._ptLocator = ptLocator;\n};\nLineBuilder.prototype.collectLines = function collectLines (opCode) {\n    var this$1 = this;\n\n  for (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext();) {\n    var de = it.next();\n    this$1.collectLineEdge(de, opCode, this$1._lineEdgesList);\n    this$1.collectBoundaryTouchEdge(de, opCode, this$1._lineEdgesList);\n  }\n};\nLineBuilder.prototype.labelIsolatedLine = function labelIsolatedLine (e, targetIndex) {\n  var loc = this._ptLocator.locate(e.getCoordinate(), this._op.getArgGeometry(targetIndex));\n  e.getLabel().setLocation(targetIndex, loc);\n};\nLineBuilder.prototype.build = function build (opCode) {\n  this.findCoveredLineEdges();\n  this.collectLines(opCode);\n  this.buildLines(opCode);\n  return this._resultLineList\n};\nLineBuilder.prototype.collectLineEdge = function collectLineEdge (de, opCode, edges) {\n  var label = de.getLabel();\n  var e = de.getEdge();\n  if (de.isLineEdge()) {\n    if (!de.isVisited() && OverlayOp.isResultOfOp(label, opCode) && !e.isCovered()) {\n      edges.add(e);\n      de.setVisitedEdge(true);\n    }\n  }\n};\nLineBuilder.prototype.findCoveredLineEdges = function findCoveredLineEdges () {\n    var this$1 = this;\n\n  for (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext();) {\n    var node = nodeit.next();\n    node.getEdges().findCoveredLineEdges();\n  }\n  for (var it = this._op.getGraph().getEdgeEnds().iterator(); it.hasNext();) {\n    var de = it.next();\n    var e = de.getEdge();\n    if (de.isLineEdge() && !e.isCoveredSet()) {\n      var isCovered = this$1._op.isCoveredByA(de.getCoordinate());\n      e.setCovered(isCovered);\n    }\n  }\n};\nLineBuilder.prototype.labelIsolatedLines = function labelIsolatedLines (edgesList) {\n    var this$1 = this;\n\n  for (var it = edgesList.iterator(); it.hasNext();) {\n    var e = it.next();\n    var label = e.getLabel();\n    if (e.isIsolated()) {\n      if (label.isNull(0)) { this$1.labelIsolatedLine(e, 0); } else { this$1.labelIsolatedLine(e, 1); }\n    }\n  }\n};\nLineBuilder.prototype.buildLines = function buildLines (opCode) {\n    var this$1 = this;\n\n  for (var it = this._lineEdgesList.iterator(); it.hasNext();) {\n    var e = it.next();\n    // const label = e.getLabel()\n    var line = this$1._geometryFactory.createLineString(e.getCoordinates());\n    this$1._resultLineList.add(line);\n    e.setInResult(true);\n  }\n};\nLineBuilder.prototype.collectBoundaryTouchEdge = function collectBoundaryTouchEdge (de, opCode, edges) {\n  var label = de.getLabel();\n  if (de.isLineEdge()) { return null }\n  if (de.isVisited()) { return null }\n  if (de.isInteriorAreaEdge()) { return null }\n  if (de.getEdge().isInResult()) { return null }\n  Assert.isTrue(!(de.isInResult() || de.getSym().isInResult()) || !de.getEdge().isInResult());\n  if (OverlayOp.isResultOfOp(label, opCode) && opCode === OverlayOp.INTERSECTION) {\n    edges.add(de.getEdge());\n    de.setVisitedEdge(true);\n  }\n};\nLineBuilder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nLineBuilder.prototype.getClass = function getClass () {\n  return LineBuilder\n};\n\nvar PointBuilder = function PointBuilder () {\n  this._op = null;\n  this._geometryFactory = null;\n  this._resultPointList = new ArrayList();\n  var op = arguments[0];\n  var geometryFactory = arguments[1];\n  // const ptLocator = arguments[2]\n  this._op = op;\n  this._geometryFactory = geometryFactory;\n};\nPointBuilder.prototype.filterCoveredNodeToPoint = function filterCoveredNodeToPoint (n) {\n  var coord = n.getCoordinate();\n  if (!this._op.isCoveredByLA(coord)) {\n    var pt = this._geometryFactory.createPoint(coord);\n    this._resultPointList.add(pt);\n  }\n};\nPointBuilder.prototype.extractNonCoveredResultNodes = function extractNonCoveredResultNodes (opCode) {\n    var this$1 = this;\n\n  for (var nodeit = this._op.getGraph().getNodes().iterator(); nodeit.hasNext();) {\n    var n = nodeit.next();\n    if (n.isInResult()) { continue }\n    if (n.isIncidentEdgeInResult()) { continue }\n    if (n.getEdges().getDegree() === 0 || opCode === OverlayOp.INTERSECTION) {\n      var label = n.getLabel();\n      if (OverlayOp.isResultOfOp(label, opCode)) {\n        this$1.filterCoveredNodeToPoint(n);\n      }\n    }\n  }\n};\nPointBuilder.prototype.build = function build (opCode) {\n  this.extractNonCoveredResultNodes(opCode);\n  return this._resultPointList\n};\nPointBuilder.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nPointBuilder.prototype.getClass = function getClass () {\n  return PointBuilder\n};\n\nvar GeometryTransformer = function GeometryTransformer () {\n  this._inputGeom = null;\n  this._factory = null;\n  this._pruneEmptyGeometry = true;\n  this._preserveGeometryCollectionType = true;\n  this._preserveCollections = false;\n  this._preserveType = false;\n};\nGeometryTransformer.prototype.transformPoint = function transformPoint (geom, parent) {\n  return this._factory.createPoint(this.transformCoordinates(geom.getCoordinateSequence(), geom))\n};\nGeometryTransformer.prototype.transformPolygon = function transformPolygon (geom, parent) {\n    var this$1 = this;\n\n  var isAllValidLinearRings = true;\n  var shell = this.transformLinearRing(geom.getExteriorRing(), geom);\n  if (shell === null || !(shell instanceof LinearRing) || shell.isEmpty()) { isAllValidLinearRings = false; }\n  var holes = new ArrayList();\n  for (var i = 0; i < geom.getNumInteriorRing(); i++) {\n    var hole = this$1.transformLinearRing(geom.getInteriorRingN(i), geom);\n    if (hole === null || hole.isEmpty()) {\n      continue\n    }\n    if (!(hole instanceof LinearRing)) { isAllValidLinearRings = false; }\n    holes.add(hole);\n  }\n  if (isAllValidLinearRings) { return this._factory.createPolygon(shell, holes.toArray([])); } else {\n    var components = new ArrayList();\n    if (shell !== null) { components.add(shell); }\n    components.addAll(holes);\n    return this._factory.buildGeometry(components)\n  }\n};\nGeometryTransformer.prototype.createCoordinateSequence = function createCoordinateSequence (coords) {\n  return this._factory.getCoordinateSequenceFactory().create(coords)\n};\nGeometryTransformer.prototype.getInputGeometry = function getInputGeometry () {\n  return this._inputGeom\n};\nGeometryTransformer.prototype.transformMultiLineString = function transformMultiLineString (geom, parent) {\n    var this$1 = this;\n\n  var transGeomList = new ArrayList();\n  for (var i = 0; i < geom.getNumGeometries(); i++) {\n    var transformGeom = this$1.transformLineString(geom.getGeometryN(i), geom);\n    if (transformGeom === null) { continue }\n    if (transformGeom.isEmpty()) { continue }\n    transGeomList.add(transformGeom);\n  }\n  return this._factory.buildGeometry(transGeomList)\n};\nGeometryTransformer.prototype.transformCoordinates = function transformCoordinates (coords, parent) {\n  return this.copy(coords)\n};\nGeometryTransformer.prototype.transformLineString = function transformLineString (geom, parent) {\n  return this._factory.createLineString(this.transformCoordinates(geom.getCoordinateSequence(), geom))\n};\nGeometryTransformer.prototype.transformMultiPoint = function transformMultiPoint (geom, parent) {\n    var this$1 = this;\n\n  var transGeomList = new ArrayList();\n  for (var i = 0; i < geom.getNumGeometries(); i++) {\n    var transformGeom = this$1.transformPoint(geom.getGeometryN(i), geom);\n    if (transformGeom === null) { continue }\n    if (transformGeom.isEmpty()) { continue }\n    transGeomList.add(transformGeom);\n  }\n  return this._factory.buildGeometry(transGeomList)\n};\nGeometryTransformer.prototype.transformMultiPolygon = function transformMultiPolygon (geom, parent) {\n    var this$1 = this;\n\n  var transGeomList = new ArrayList();\n  for (var i = 0; i < geom.getNumGeometries(); i++) {\n    var transformGeom = this$1.transformPolygon(geom.getGeometryN(i), geom);\n    if (transformGeom === null) { continue }\n    if (transformGeom.isEmpty()) { continue }\n    transGeomList.add(transformGeom);\n  }\n  return this._factory.buildGeometry(transGeomList)\n};\nGeometryTransformer.prototype.copy = function copy (seq) {\n  return seq.copy()\n};\nGeometryTransformer.prototype.transformGeometryCollection = function transformGeometryCollection (geom, parent) {\n    var this$1 = this;\n\n  var transGeomList = new ArrayList();\n  for (var i = 0; i < geom.getNumGeometries(); i++) {\n    var transformGeom = this$1.transform(geom.getGeometryN(i));\n    if (transformGeom === null) { continue }\n    if (this$1._pruneEmptyGeometry && transformGeom.isEmpty()) { continue }\n    transGeomList.add(transformGeom);\n  }\n  if (this._preserveGeometryCollectionType) { return this._factory.createGeometryCollection(GeometryFactory.toGeometryArray(transGeomList)) }\n  return this._factory.buildGeometry(transGeomList)\n};\nGeometryTransformer.prototype.transform = function transform (inputGeom) {\n  this._inputGeom = inputGeom;\n  this._factory = inputGeom.getFactory();\n  if (inputGeom instanceof Point) { return this.transformPoint(inputGeom, null) }\n  if (inputGeom instanceof MultiPoint) { return this.transformMultiPoint(inputGeom, null) }\n  if (inputGeom instanceof LinearRing) { return this.transformLinearRing(inputGeom, null) }\n  if (inputGeom instanceof LineString$1) { return this.transformLineString(inputGeom, null) }\n  if (inputGeom instanceof MultiLineString) { return this.transformMultiLineString(inputGeom, null) }\n  if (inputGeom instanceof Polygon) { return this.transformPolygon(inputGeom, null) }\n  if (inputGeom instanceof MultiPolygon) { return this.transformMultiPolygon(inputGeom, null) }\n  if (inputGeom instanceof GeometryCollection) { return this.transformGeometryCollection(inputGeom, null) }\n  throw new IllegalArgumentException('Unknown Geometry subtype: ' + inputGeom.getClass().getName())\n};\nGeometryTransformer.prototype.transformLinearRing = function transformLinearRing (geom, parent) {\n  var seq = this.transformCoordinates(geom.getCoordinateSequence(), geom);\n  if (seq === null) { return this._factory.createLinearRing(null) }\n  var seqSize = seq.size();\n  if (seqSize > 0 && seqSize < 4 && !this._preserveType) { return this._factory.createLineString(seq) }\n  return this._factory.createLinearRing(seq)\n};\nGeometryTransformer.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryTransformer.prototype.getClass = function getClass () {\n  return GeometryTransformer\n};\n\nvar LineStringSnapper = function LineStringSnapper () {\n  this._snapTolerance = 0.0;\n  this._srcPts = null;\n  this._seg = new LineSegment();\n  this._allowSnappingToSourceVertices = false;\n  this._isClosed = false;\n  if (arguments[0] instanceof LineString$1 && typeof arguments[1] === 'number') {\n    var srcLine = arguments[0];\n    var snapTolerance = arguments[1];\n    LineStringSnapper.call(this, srcLine.getCoordinates(), snapTolerance);\n  } else if (arguments[0] instanceof Array && typeof arguments[1] === 'number') {\n    var srcPts = arguments[0];\n    var snapTolerance$1 = arguments[1];\n    this._srcPts = srcPts;\n    this._isClosed = LineStringSnapper.isClosed(srcPts);\n    this._snapTolerance = snapTolerance$1;\n  }\n};\nLineStringSnapper.prototype.snapVertices = function snapVertices (srcCoords, snapPts) {\n    var this$1 = this;\n\n  var end = this._isClosed ? srcCoords.size() - 1 : srcCoords.size();\n  for (var i = 0; i < end; i++) {\n    var srcPt = srcCoords.get(i);\n    var snapVert = this$1.findSnapForVertex(srcPt, snapPts);\n    if (snapVert !== null) {\n      srcCoords.set(i, new Coordinate(snapVert));\n      if (i === 0 && this$1._isClosed) { srcCoords.set(srcCoords.size() - 1, new Coordinate(snapVert)); }\n    }\n  }\n};\nLineStringSnapper.prototype.findSnapForVertex = function findSnapForVertex (pt, snapPts) {\n    var this$1 = this;\n\n  for (var i = 0; i < snapPts.length; i++) {\n    if (pt.equals2D(snapPts[i])) { return null }\n    if (pt.distance(snapPts[i]) < this$1._snapTolerance) { return snapPts[i] }\n  }\n  return null\n};\nLineStringSnapper.prototype.snapTo = function snapTo (snapPts) {\n  var coordList = new CoordinateList(this._srcPts);\n  this.snapVertices(coordList, snapPts);\n  this.snapSegments(coordList, snapPts);\n  var newPts = coordList.toCoordinateArray();\n  return newPts\n};\nLineStringSnapper.prototype.snapSegments = function snapSegments (srcCoords, snapPts) {\n    var this$1 = this;\n\n  if (snapPts.length === 0) { return null }\n  var distinctPtCount = snapPts.length;\n  if (snapPts[0].equals2D(snapPts[snapPts.length - 1])) { distinctPtCount = snapPts.length - 1; }\n  for (var i = 0; i < distinctPtCount; i++) {\n    var snapPt = snapPts[i];\n    var index = this$1.findSegmentIndexToSnap(snapPt, srcCoords);\n    if (index >= 0) {\n      srcCoords.add(index + 1, new Coordinate(snapPt), false);\n    }\n  }\n};\nLineStringSnapper.prototype.findSegmentIndexToSnap = function findSegmentIndexToSnap (snapPt, srcCoords) {\n    var this$1 = this;\n\n  var minDist = Double.MAX_VALUE;\n  var snapIndex = -1;\n  for (var i = 0; i < srcCoords.size() - 1; i++) {\n    this$1._seg.p0 = srcCoords.get(i);\n    this$1._seg.p1 = srcCoords.get(i + 1);\n    if (this$1._seg.p0.equals2D(snapPt) || this$1._seg.p1.equals2D(snapPt)) {\n      if (this$1._allowSnappingToSourceVertices) { continue; } else { return -1 }\n    }\n    var dist = this$1._seg.distance(snapPt);\n    if (dist < this$1._snapTolerance && dist < minDist) {\n      minDist = dist;\n      snapIndex = i;\n    }\n  }\n  return snapIndex\n};\nLineStringSnapper.prototype.setAllowSnappingToSourceVertices = function setAllowSnappingToSourceVertices (allowSnappingToSourceVertices) {\n  this._allowSnappingToSourceVertices = allowSnappingToSourceVertices;\n};\nLineStringSnapper.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nLineStringSnapper.prototype.getClass = function getClass () {\n  return LineStringSnapper\n};\nLineStringSnapper.isClosed = function isClosed (pts) {\n  if (pts.length <= 1) { return false }\n  return pts[0].equals2D(pts[pts.length - 1])\n};\n\nvar GeometrySnapper = function GeometrySnapper (srcGeom) {\n  this._srcGeom = srcGeom || null;\n};\n\nvar staticAccessors$41 = { SNAP_PRECISION_FACTOR: { configurable: true } };\nGeometrySnapper.prototype.snapTo = function snapTo (snapGeom, snapTolerance) {\n  var snapPts = this.extractTargetCoordinates(snapGeom);\n  var snapTrans = new SnapTransformer(snapTolerance, snapPts);\n  return snapTrans.transform(this._srcGeom)\n};\nGeometrySnapper.prototype.snapToSelf = function snapToSelf (snapTolerance, cleanResult) {\n  var snapPts = this.extractTargetCoordinates(this._srcGeom);\n  var snapTrans = new SnapTransformer(snapTolerance, snapPts, true);\n  var snappedGeom = snapTrans.transform(this._srcGeom);\n  var result = snappedGeom;\n  if (cleanResult && hasInterface(result, Polygonal)) {\n    result = snappedGeom.buffer(0);\n  }\n  return result\n};\nGeometrySnapper.prototype.computeSnapTolerance = function computeSnapTolerance (ringPts) {\n  var minSegLen = this.computeMinimumSegmentLength(ringPts);\n  var snapTol = minSegLen / 10;\n  return snapTol\n};\nGeometrySnapper.prototype.extractTargetCoordinates = function extractTargetCoordinates (g) {\n  var ptSet = new TreeSet();\n  var pts = g.getCoordinates();\n  for (var i = 0; i < pts.length; i++) {\n    ptSet.add(pts[i]);\n  }\n  return ptSet.toArray(new Array(0).fill(null))\n};\nGeometrySnapper.prototype.computeMinimumSegmentLength = function computeMinimumSegmentLength (pts) {\n  var minSegLen = Double.MAX_VALUE;\n  for (var i = 0; i < pts.length - 1; i++) {\n    var segLen = pts[i].distance(pts[i + 1]);\n    if (segLen < minSegLen) { minSegLen = segLen; }\n  }\n  return minSegLen\n};\nGeometrySnapper.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometrySnapper.prototype.getClass = function getClass () {\n  return GeometrySnapper\n};\nGeometrySnapper.snap = function snap (g0, g1, snapTolerance) {\n  var snapGeom = new Array(2).fill(null);\n  var snapper0 = new GeometrySnapper(g0);\n  snapGeom[0] = snapper0.snapTo(g1, snapTolerance);\n  var snapper1 = new GeometrySnapper(g1);\n  snapGeom[1] = snapper1.snapTo(snapGeom[0], snapTolerance);\n  return snapGeom\n};\nGeometrySnapper.computeOverlaySnapTolerance = function computeOverlaySnapTolerance () {\n  if (arguments.length === 1) {\n    var g = arguments[0];\n    var snapTolerance = GeometrySnapper.computeSizeBasedSnapTolerance(g);\n    var pm = g.getPrecisionModel();\n    if (pm.getType() === PrecisionModel.FIXED) {\n      var fixedSnapTol = 1 / pm.getScale() * 2 / 1.415;\n      if (fixedSnapTol > snapTolerance) { snapTolerance = fixedSnapTol; }\n    }\n    return snapTolerance\n  } else if (arguments.length === 2) {\n    var g0 = arguments[0];\n    var g1 = arguments[1];\n    return Math.min(GeometrySnapper.computeOverlaySnapTolerance(g0), GeometrySnapper.computeOverlaySnapTolerance(g1))\n  }\n};\nGeometrySnapper.computeSizeBasedSnapTolerance = function computeSizeBasedSnapTolerance (g) {\n  var env = g.getEnvelopeInternal();\n  var minDimension = Math.min(env.getHeight(), env.getWidth());\n  var snapTol = minDimension * GeometrySnapper.SNAP_PRECISION_FACTOR;\n  return snapTol\n};\nGeometrySnapper.snapToSelf = function snapToSelf (geom, snapTolerance, cleanResult) {\n  var snapper0 = new GeometrySnapper(geom);\n  return snapper0.snapToSelf(snapTolerance, cleanResult)\n};\nstaticAccessors$41.SNAP_PRECISION_FACTOR.get = function () { return 1e-9 };\n\nObject.defineProperties( GeometrySnapper, staticAccessors$41 );\n\nvar SnapTransformer = (function (GeometryTransformer$$1) {\n  function SnapTransformer (snapTolerance, snapPts, isSelfSnap) {\n    GeometryTransformer$$1.call(this);\n    this._snapTolerance = snapTolerance || null;\n    this._snapPts = snapPts || null;\n    this._isSelfSnap = (isSelfSnap !== undefined) ? isSelfSnap : false;\n  }\n\n  if ( GeometryTransformer$$1 ) SnapTransformer.__proto__ = GeometryTransformer$$1;\n  SnapTransformer.prototype = Object.create( GeometryTransformer$$1 && GeometryTransformer$$1.prototype );\n  SnapTransformer.prototype.constructor = SnapTransformer;\n  SnapTransformer.prototype.snapLine = function snapLine (srcPts, snapPts) {\n    var snapper = new LineStringSnapper(srcPts, this._snapTolerance);\n    snapper.setAllowSnappingToSourceVertices(this._isSelfSnap);\n    return snapper.snapTo(snapPts)\n  };\n  SnapTransformer.prototype.transformCoordinates = function transformCoordinates (coords, parent) {\n    var srcPts = coords.toCoordinateArray();\n    var newPts = this.snapLine(srcPts, this._snapPts);\n    return this._factory.getCoordinateSequenceFactory().create(newPts)\n  };\n  SnapTransformer.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  SnapTransformer.prototype.getClass = function getClass () {\n    return SnapTransformer\n  };\n\n  return SnapTransformer;\n}(GeometryTransformer));\n\nvar CommonBits = function CommonBits () {\n  this._isFirst = true;\n  this._commonMantissaBitsCount = 53;\n  this._commonBits = 0;\n  this._commonSignExp = null;\n};\nCommonBits.prototype.getCommon = function getCommon () {\n  return Double.longBitsToDouble(this._commonBits)\n};\nCommonBits.prototype.add = function add (num) {\n  var numBits = Double.doubleToLongBits(num);\n  if (this._isFirst) {\n    this._commonBits = numBits;\n    this._commonSignExp = CommonBits.signExpBits(this._commonBits);\n    this._isFirst = false;\n    return null\n  }\n  var numSignExp = CommonBits.signExpBits(numBits);\n  if (numSignExp !== this._commonSignExp) {\n    this._commonBits = 0;\n    return null\n  }\n  this._commonMantissaBitsCount = CommonBits.numCommonMostSigMantissaBits(this._commonBits, numBits);\n  this._commonBits = CommonBits.zeroLowerBits(this._commonBits, 64 - (12 + this._commonMantissaBitsCount));\n};\nCommonBits.prototype.toString = function toString () {\n  if (arguments.length === 1) {\n    var bits = arguments[0];\n    var x = Double.longBitsToDouble(bits);\n    var numStr = Double.toBinaryString(bits);\n    var padStr = '0000000000000000000000000000000000000000000000000000000000000000' + numStr;\n    var bitStr = padStr.substring(padStr.length - 64);\n    var str = bitStr.substring(0, 1) + '  ' + bitStr.substring(1, 12) + '(exp) ' + bitStr.substring(12) + ' [ ' + x + ' ]';\n    return str\n  }\n};\nCommonBits.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCommonBits.prototype.getClass = function getClass () {\n  return CommonBits\n};\nCommonBits.getBit = function getBit (bits, i) {\n  var mask = 1 << i;\n  return (bits & mask) !== 0 ? 1 : 0\n};\nCommonBits.signExpBits = function signExpBits (num) {\n  return num >> 52\n};\nCommonBits.zeroLowerBits = function zeroLowerBits (bits, nBits) {\n  var invMask = (1 << nBits) - 1;\n  var mask = ~invMask;\n  var zeroed = bits & mask;\n  return zeroed\n};\nCommonBits.numCommonMostSigMantissaBits = function numCommonMostSigMantissaBits (num1, num2) {\n  var count = 0;\n  for (var i = 52; i >= 0; i--) {\n    if (CommonBits.getBit(num1, i) !== CommonBits.getBit(num2, i)) { return count }\n    count++;\n  }\n  return 52\n};\n\nvar CommonBitsRemover = function CommonBitsRemover () {\n  this._commonCoord = null;\n  this._ccFilter = new CommonCoordinateFilter();\n};\n\nvar staticAccessors$42 = { CommonCoordinateFilter: { configurable: true },Translater: { configurable: true } };\nCommonBitsRemover.prototype.addCommonBits = function addCommonBits (geom) {\n  var trans = new Translater(this._commonCoord);\n  geom.apply(trans);\n  geom.geometryChanged();\n};\nCommonBitsRemover.prototype.removeCommonBits = function removeCommonBits (geom) {\n  if (this._commonCoord.x === 0.0 && this._commonCoord.y === 0.0) { return geom }\n  var invCoord = new Coordinate(this._commonCoord);\n  invCoord.x = -invCoord.x;\n  invCoord.y = -invCoord.y;\n  var trans = new Translater(invCoord);\n  geom.apply(trans);\n  geom.geometryChanged();\n  return geom\n};\nCommonBitsRemover.prototype.getCommonCoordinate = function getCommonCoordinate () {\n  return this._commonCoord\n};\nCommonBitsRemover.prototype.add = function add (geom) {\n  geom.apply(this._ccFilter);\n  this._commonCoord = this._ccFilter.getCommonCoordinate();\n};\nCommonBitsRemover.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCommonBitsRemover.prototype.getClass = function getClass () {\n  return CommonBitsRemover\n};\nstaticAccessors$42.CommonCoordinateFilter.get = function () { return CommonCoordinateFilter };\nstaticAccessors$42.Translater.get = function () { return Translater };\n\nObject.defineProperties( CommonBitsRemover, staticAccessors$42 );\n\nvar CommonCoordinateFilter = function CommonCoordinateFilter () {\n  this._commonBitsX = new CommonBits();\n  this._commonBitsY = new CommonBits();\n};\nCommonCoordinateFilter.prototype.filter = function filter (coord) {\n  this._commonBitsX.add(coord.x);\n  this._commonBitsY.add(coord.y);\n};\nCommonCoordinateFilter.prototype.getCommonCoordinate = function getCommonCoordinate () {\n  return new Coordinate(this._commonBitsX.getCommon(), this._commonBitsY.getCommon())\n};\nCommonCoordinateFilter.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateFilter]\n};\nCommonCoordinateFilter.prototype.getClass = function getClass () {\n  return CommonCoordinateFilter\n};\n\nvar Translater = function Translater () {\n  this.trans = null;\n  var trans = arguments[0];\n  this.trans = trans;\n};\nTranslater.prototype.filter = function filter (seq, i) {\n  var xp = seq.getOrdinate(i, 0) + this.trans.x;\n  var yp = seq.getOrdinate(i, 1) + this.trans.y;\n  seq.setOrdinate(i, 0, xp);\n  seq.setOrdinate(i, 1, yp);\n};\nTranslater.prototype.isDone = function isDone () {\n  return false\n};\nTranslater.prototype.isGeometryChanged = function isGeometryChanged () {\n  return true\n};\nTranslater.prototype.interfaces_ = function interfaces_ () {\n  return [CoordinateSequenceFilter]\n};\nTranslater.prototype.getClass = function getClass () {\n  return Translater\n};\n\nvar SnapOverlayOp = function SnapOverlayOp (g1, g2) {\n  this._geom = new Array(2).fill(null);\n  this._snapTolerance = null;\n  this._cbr = null;\n  this._geom[0] = g1;\n  this._geom[1] = g2;\n  this.computeSnapTolerance();\n};\nSnapOverlayOp.prototype.selfSnap = function selfSnap (geom) {\n  var snapper0 = new GeometrySnapper(geom);\n  var snapGeom = snapper0.snapTo(geom, this._snapTolerance);\n  return snapGeom\n};\nSnapOverlayOp.prototype.removeCommonBits = function removeCommonBits (geom) {\n  this._cbr = new CommonBitsRemover();\n  this._cbr.add(geom[0]);\n  this._cbr.add(geom[1]);\n  var remGeom = new Array(2).fill(null);\n  remGeom[0] = this._cbr.removeCommonBits(geom[0].copy());\n  remGeom[1] = this._cbr.removeCommonBits(geom[1].copy());\n  return remGeom\n};\nSnapOverlayOp.prototype.prepareResult = function prepareResult (geom) {\n  this._cbr.addCommonBits(geom);\n  return geom\n};\nSnapOverlayOp.prototype.getResultGeometry = function getResultGeometry (opCode) {\n  var prepGeom = this.snap(this._geom);\n  var result = OverlayOp.overlayOp(prepGeom[0], prepGeom[1], opCode);\n  return this.prepareResult(result)\n};\nSnapOverlayOp.prototype.checkValid = function checkValid (g) {\n  if (!g.isValid()) {\n    System.out.println('Snapped geometry is invalid');\n  }\n};\nSnapOverlayOp.prototype.computeSnapTolerance = function computeSnapTolerance () {\n  this._snapTolerance = GeometrySnapper.computeOverlaySnapTolerance(this._geom[0], this._geom[1]);\n};\nSnapOverlayOp.prototype.snap = function snap (geom) {\n  var remGeom = this.removeCommonBits(geom);\n  var snapGeom = GeometrySnapper.snap(remGeom[0], remGeom[1], this._snapTolerance);\n  return snapGeom\n};\nSnapOverlayOp.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSnapOverlayOp.prototype.getClass = function getClass () {\n  return SnapOverlayOp\n};\nSnapOverlayOp.overlayOp = function overlayOp (g0, g1, opCode) {\n  var op = new SnapOverlayOp(g0, g1);\n  return op.getResultGeometry(opCode)\n};\nSnapOverlayOp.union = function union (g0, g1) {\n  return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.UNION)\n};\nSnapOverlayOp.intersection = function intersection (g0, g1) {\n  return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION)\n};\nSnapOverlayOp.symDifference = function symDifference (g0, g1) {\n  return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE)\n};\nSnapOverlayOp.difference = function difference (g0, g1) {\n  return SnapOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE)\n};\n\nvar SnapIfNeededOverlayOp = function SnapIfNeededOverlayOp (g1, g2) {\n  this._geom = new Array(2).fill(null);\n  this._geom[0] = g1;\n  this._geom[1] = g2;\n};\nSnapIfNeededOverlayOp.prototype.getResultGeometry = function getResultGeometry (opCode) {\n  var result = null;\n  var isSuccess = false;\n  var savedException = null;\n  try {\n    result = OverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n    var isValid = true;\n    if (isValid) { isSuccess = true; }\n  } catch (ex) {\n    if (ex instanceof RuntimeException) {\n      savedException = ex;\n    } else { throw ex }\n  } finally {}\n  if (!isSuccess) {\n    try {\n      result = SnapOverlayOp.overlayOp(this._geom[0], this._geom[1], opCode);\n    } catch (ex) {\n      if (ex instanceof RuntimeException) {\n        throw savedException\n      } else { throw ex }\n    } finally {}\n  }\n  return result\n};\nSnapIfNeededOverlayOp.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSnapIfNeededOverlayOp.prototype.getClass = function getClass () {\n  return SnapIfNeededOverlayOp\n};\nSnapIfNeededOverlayOp.overlayOp = function overlayOp (g0, g1, opCode) {\n  var op = new SnapIfNeededOverlayOp(g0, g1);\n  return op.getResultGeometry(opCode)\n};\nSnapIfNeededOverlayOp.union = function union (g0, g1) {\n  return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.UNION)\n};\nSnapIfNeededOverlayOp.intersection = function intersection (g0, g1) {\n  return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.INTERSECTION)\n};\nSnapIfNeededOverlayOp.symDifference = function symDifference (g0, g1) {\n  return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.SYMDIFFERENCE)\n};\nSnapIfNeededOverlayOp.difference = function difference (g0, g1) {\n  return SnapIfNeededOverlayOp.overlayOp(g0, g1, OverlayOp.DIFFERENCE)\n};\n\nvar MonotoneChain$2 = function MonotoneChain () {\n  this.mce = null;\n  this.chainIndex = null;\n  var mce = arguments[0];\n  var chainIndex = arguments[1];\n  this.mce = mce;\n  this.chainIndex = chainIndex;\n};\nMonotoneChain$2.prototype.computeIntersections = function computeIntersections (mc, si) {\n  this.mce.computeIntersectsForChain(this.chainIndex, mc.mce, mc.chainIndex, si);\n};\nMonotoneChain$2.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nMonotoneChain$2.prototype.getClass = function getClass () {\n  return MonotoneChain$2\n};\n\nvar SweepLineEvent = function SweepLineEvent () {\n  this._label = null;\n  this._xValue = null;\n  this._eventType = null;\n  this._insertEvent = null;\n  this._deleteEventIndex = null;\n  this._obj = null;\n  if (arguments.length === 2) {\n    var x = arguments[0];\n    var insertEvent = arguments[1];\n    this._eventType = SweepLineEvent.DELETE;\n    this._xValue = x;\n    this._insertEvent = insertEvent;\n  } else if (arguments.length === 3) {\n    var label = arguments[0];\n    var x$1 = arguments[1];\n    var obj = arguments[2];\n    this._eventType = SweepLineEvent.INSERT;\n    this._label = label;\n    this._xValue = x$1;\n    this._obj = obj;\n  }\n};\n\nvar staticAccessors$43 = { INSERT: { configurable: true },DELETE: { configurable: true } };\nSweepLineEvent.prototype.isDelete = function isDelete () {\n  return this._eventType === SweepLineEvent.DELETE\n};\nSweepLineEvent.prototype.setDeleteEventIndex = function setDeleteEventIndex (deleteEventIndex) {\n  this._deleteEventIndex = deleteEventIndex;\n};\nSweepLineEvent.prototype.getObject = function getObject () {\n  return this._obj\n};\nSweepLineEvent.prototype.compareTo = function compareTo (o) {\n  var pe = o;\n  if (this._xValue < pe._xValue) { return -1 }\n  if (this._xValue > pe._xValue) { return 1 }\n  if (this._eventType < pe._eventType) { return -1 }\n  if (this._eventType > pe._eventType) { return 1 }\n  return 0\n};\nSweepLineEvent.prototype.getInsertEvent = function getInsertEvent () {\n  return this._insertEvent\n};\nSweepLineEvent.prototype.isInsert = function isInsert () {\n  return this._eventType === SweepLineEvent.INSERT\n};\nSweepLineEvent.prototype.isSameLabel = function isSameLabel (ev) {\n  if (this._label === null) { return false }\n  return this._label === ev._label\n};\nSweepLineEvent.prototype.getDeleteEventIndex = function getDeleteEventIndex () {\n  return this._deleteEventIndex\n};\nSweepLineEvent.prototype.interfaces_ = function interfaces_ () {\n  return [Comparable]\n};\nSweepLineEvent.prototype.getClass = function getClass () {\n  return SweepLineEvent\n};\nstaticAccessors$43.INSERT.get = function () { return 1 };\nstaticAccessors$43.DELETE.get = function () { return 2 };\n\nObject.defineProperties( SweepLineEvent, staticAccessors$43 );\n\nvar EdgeSetIntersector = function EdgeSetIntersector () {};\n\nEdgeSetIntersector.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nEdgeSetIntersector.prototype.getClass = function getClass () {\n  return EdgeSetIntersector\n};\n\nvar SegmentIntersector$2 = function SegmentIntersector () {\n  this._hasIntersection = false;\n  this._hasProper = false;\n  this._hasProperInterior = false;\n  this._properIntersectionPoint = null;\n  this._li = null;\n  this._includeProper = null;\n  this._recordIsolated = null;\n  this._isSelfIntersection = null;\n  this._numIntersections = 0;\n  this.numTests = 0;\n  this._bdyNodes = null;\n  this._isDone = false;\n  this._isDoneWhenProperInt = false;\n  var li = arguments[0];\n  var includeProper = arguments[1];\n  var recordIsolated = arguments[2];\n  this._li = li;\n  this._includeProper = includeProper;\n  this._recordIsolated = recordIsolated;\n};\nSegmentIntersector$2.prototype.isTrivialIntersection = function isTrivialIntersection (e0, segIndex0, e1, segIndex1) {\n  if (e0 === e1) {\n    if (this._li.getIntersectionNum() === 1) {\n      if (SegmentIntersector$2.isAdjacentSegments(segIndex0, segIndex1)) { return true }\n      if (e0.isClosed()) {\n        var maxSegIndex = e0.getNumPoints() - 1;\n        if ((segIndex0 === 0 && segIndex1 === maxSegIndex) ||\n            (segIndex1 === 0 && segIndex0 === maxSegIndex)) {\n          return true\n        }\n      }\n    }\n  }\n  return false\n};\nSegmentIntersector$2.prototype.getProperIntersectionPoint = function getProperIntersectionPoint () {\n  return this._properIntersectionPoint\n};\nSegmentIntersector$2.prototype.setIsDoneIfProperInt = function setIsDoneIfProperInt (isDoneWhenProperInt) {\n  this._isDoneWhenProperInt = isDoneWhenProperInt;\n};\nSegmentIntersector$2.prototype.hasProperInteriorIntersection = function hasProperInteriorIntersection () {\n  return this._hasProperInterior\n};\nSegmentIntersector$2.prototype.isBoundaryPointInternal = function isBoundaryPointInternal (li, bdyNodes) {\n  for (var i = bdyNodes.iterator(); i.hasNext();) {\n    var node = i.next();\n    var pt = node.getCoordinate();\n    if (li.isIntersection(pt)) { return true }\n  }\n  return false\n};\nSegmentIntersector$2.prototype.hasProperIntersection = function hasProperIntersection () {\n  return this._hasProper\n};\nSegmentIntersector$2.prototype.hasIntersection = function hasIntersection () {\n  return this._hasIntersection\n};\nSegmentIntersector$2.prototype.isDone = function isDone () {\n  return this._isDone\n};\nSegmentIntersector$2.prototype.isBoundaryPoint = function isBoundaryPoint (li, bdyNodes) {\n  if (bdyNodes === null) { return false }\n  if (this.isBoundaryPointInternal(li, bdyNodes[0])) { return true }\n  if (this.isBoundaryPointInternal(li, bdyNodes[1])) { return true }\n  return false\n};\nSegmentIntersector$2.prototype.setBoundaryNodes = function setBoundaryNodes (bdyNodes0, bdyNodes1) {\n  this._bdyNodes = new Array(2).fill(null);\n  this._bdyNodes[0] = bdyNodes0;\n  this._bdyNodes[1] = bdyNodes1;\n};\nSegmentIntersector$2.prototype.addIntersections = function addIntersections (e0, segIndex0, e1, segIndex1) {\n  if (e0 === e1 && segIndex0 === segIndex1) { return null }\n  this.numTests++;\n  var p00 = e0.getCoordinates()[segIndex0];\n  var p01 = e0.getCoordinates()[segIndex0 + 1];\n  var p10 = e1.getCoordinates()[segIndex1];\n  var p11 = e1.getCoordinates()[segIndex1 + 1];\n  this._li.computeIntersection(p00, p01, p10, p11);\n  if (this._li.hasIntersection()) {\n    if (this._recordIsolated) {\n      e0.setIsolated(false);\n      e1.setIsolated(false);\n    }\n    this._numIntersections++;\n    if (!this.isTrivialIntersection(e0, segIndex0, e1, segIndex1)) {\n      this._hasIntersection = true;\n      if (this._includeProper || !this._li.isProper()) {\n        e0.addIntersections(this._li, segIndex0, 0);\n        e1.addIntersections(this._li, segIndex1, 1);\n      }\n      if (this._li.isProper()) {\n        this._properIntersectionPoint = this._li.getIntersection(0).copy();\n        this._hasProper = true;\n        if (this._isDoneWhenProperInt) {\n          this._isDone = true;\n        }\n        if (!this.isBoundaryPoint(this._li, this._bdyNodes)) { this._hasProperInterior = true; }\n      }\n    }\n  }\n};\nSegmentIntersector$2.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSegmentIntersector$2.prototype.getClass = function getClass () {\n  return SegmentIntersector$2\n};\nSegmentIntersector$2.isAdjacentSegments = function isAdjacentSegments (i1, i2) {\n  return Math.abs(i1 - i2) === 1\n};\n\nvar SimpleMCSweepLineIntersector = (function (EdgeSetIntersector$$1) {\n  function SimpleMCSweepLineIntersector () {\n    EdgeSetIntersector$$1.call(this);\n    this.events = new ArrayList();\n    this.nOverlaps = null;\n  }\n\n  if ( EdgeSetIntersector$$1 ) SimpleMCSweepLineIntersector.__proto__ = EdgeSetIntersector$$1;\n  SimpleMCSweepLineIntersector.prototype = Object.create( EdgeSetIntersector$$1 && EdgeSetIntersector$$1.prototype );\n  SimpleMCSweepLineIntersector.prototype.constructor = SimpleMCSweepLineIntersector;\n  SimpleMCSweepLineIntersector.prototype.prepareEvents = function prepareEvents () {\n    var this$1 = this;\n\n    Collections.sort(this.events);\n    for (var i = 0; i < this.events.size(); i++) {\n      var ev = this$1.events.get(i);\n      if (ev.isDelete()) {\n        ev.getInsertEvent().setDeleteEventIndex(i);\n      }\n    }\n  };\n  SimpleMCSweepLineIntersector.prototype.computeIntersections = function computeIntersections () {\n    var this$1 = this;\n\n    if (arguments.length === 1) {\n      var si = arguments[0];\n      this.nOverlaps = 0;\n      this.prepareEvents();\n      for (var i = 0; i < this.events.size(); i++) {\n        var ev = this$1.events.get(i);\n        if (ev.isInsert()) {\n          this$1.processOverlaps(i, ev.getDeleteEventIndex(), ev, si);\n        }\n        if (si.isDone()) {\n          break\n        }\n      }\n    } else if (arguments.length === 3) {\n      if (arguments[2] instanceof SegmentIntersector$2 && (hasInterface(arguments[0], List) && hasInterface(arguments[1], List))) {\n        var edges0 = arguments[0];\n        var edges1 = arguments[1];\n        var si$1 = arguments[2];\n        this.addEdges(edges0, edges0);\n        this.addEdges(edges1, edges1);\n        this.computeIntersections(si$1);\n      } else if (typeof arguments[2] === 'boolean' && (hasInterface(arguments[0], List) && arguments[1] instanceof SegmentIntersector$2)) {\n        var edges = arguments[0];\n        var si$2 = arguments[1];\n        var testAllSegments = arguments[2];\n        if (testAllSegments) { this.addEdges(edges, null); } else { this.addEdges(edges); }\n        this.computeIntersections(si$2);\n      }\n    }\n  };\n  SimpleMCSweepLineIntersector.prototype.addEdge = function addEdge (edge, edgeSet) {\n    var this$1 = this;\n\n    var mce = edge.getMonotoneChainEdge();\n    var startIndex = mce.getStartIndexes();\n    for (var i = 0; i < startIndex.length - 1; i++) {\n      var mc = new MonotoneChain$2(mce, i);\n      var insertEvent = new SweepLineEvent(edgeSet, mce.getMinX(i), mc);\n      this$1.events.add(insertEvent);\n      this$1.events.add(new SweepLineEvent(mce.getMaxX(i), insertEvent));\n    }\n  };\n  SimpleMCSweepLineIntersector.prototype.processOverlaps = function processOverlaps (start, end, ev0, si) {\n    var this$1 = this;\n\n    var mc0 = ev0.getObject();\n    for (var i = start; i < end; i++) {\n      var ev1 = this$1.events.get(i);\n      if (ev1.isInsert()) {\n        var mc1 = ev1.getObject();\n        if (!ev0.isSameLabel(ev1)) {\n          mc0.computeIntersections(mc1, si);\n          this$1.nOverlaps++;\n        }\n      }\n    }\n  };\n  SimpleMCSweepLineIntersector.prototype.addEdges = function addEdges () {\n    var this$1 = this;\n\n    if (arguments.length === 1) {\n      var edges = arguments[0];\n      for (var i = edges.iterator(); i.hasNext();) {\n        var edge = i.next();\n        this$1.addEdge(edge, edge);\n      }\n    } else if (arguments.length === 2) {\n      var edges$1 = arguments[0];\n      var edgeSet = arguments[1];\n      for (var i$1 = edges$1.iterator(); i$1.hasNext();) {\n        var edge$1 = i$1.next();\n        this$1.addEdge(edge$1, edgeSet);\n      }\n    }\n  };\n  SimpleMCSweepLineIntersector.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  SimpleMCSweepLineIntersector.prototype.getClass = function getClass () {\n    return SimpleMCSweepLineIntersector\n  };\n\n  return SimpleMCSweepLineIntersector;\n}(EdgeSetIntersector));\n\nvar IntervalRTreeNode = function IntervalRTreeNode () {\n  this._min = Double.POSITIVE_INFINITY;\n  this._max = Double.NEGATIVE_INFINITY;\n};\n\nvar staticAccessors$45 = { NodeComparator: { configurable: true } };\nIntervalRTreeNode.prototype.getMin = function getMin () {\n  return this._min\n};\nIntervalRTreeNode.prototype.intersects = function intersects (queryMin, queryMax) {\n  if (this._min > queryMax || this._max < queryMin) { return false }\n  return true\n};\nIntervalRTreeNode.prototype.getMax = function getMax () {\n  return this._max\n};\nIntervalRTreeNode.prototype.toString = function toString () {\n  return WKTWriter.toLineString(new Coordinate(this._min, 0), new Coordinate(this._max, 0))\n};\nIntervalRTreeNode.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nIntervalRTreeNode.prototype.getClass = function getClass () {\n  return IntervalRTreeNode\n};\nstaticAccessors$45.NodeComparator.get = function () { return NodeComparator };\n\nObject.defineProperties( IntervalRTreeNode, staticAccessors$45 );\n\nvar NodeComparator = function NodeComparator () {};\n\nNodeComparator.prototype.compare = function compare (o1, o2) {\n  var n1 = o1;\n  var n2 = o2;\n  var mid1 = (n1._min + n1._max) / 2;\n  var mid2 = (n2._min + n2._max) / 2;\n  if (mid1 < mid2) { return -1 }\n  if (mid1 > mid2) { return 1 }\n  return 0\n};\nNodeComparator.prototype.interfaces_ = function interfaces_ () {\n  return [Comparator]\n};\nNodeComparator.prototype.getClass = function getClass () {\n  return NodeComparator\n};\n\nvar IntervalRTreeLeafNode = (function (IntervalRTreeNode$$1) {\n  function IntervalRTreeLeafNode () {\n    IntervalRTreeNode$$1.call(this);\n    this._item = null;\n    var min = arguments[0];\n    var max = arguments[1];\n    var item = arguments[2];\n    this._min = min;\n    this._max = max;\n    this._item = item;\n  }\n\n  if ( IntervalRTreeNode$$1 ) IntervalRTreeLeafNode.__proto__ = IntervalRTreeNode$$1;\n  IntervalRTreeLeafNode.prototype = Object.create( IntervalRTreeNode$$1 && IntervalRTreeNode$$1.prototype );\n  IntervalRTreeLeafNode.prototype.constructor = IntervalRTreeLeafNode;\n  IntervalRTreeLeafNode.prototype.query = function query (queryMin, queryMax, visitor) {\n    if (!this.intersects(queryMin, queryMax)) { return null }\n    visitor.visitItem(this._item);\n  };\n  IntervalRTreeLeafNode.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  IntervalRTreeLeafNode.prototype.getClass = function getClass () {\n    return IntervalRTreeLeafNode\n  };\n\n  return IntervalRTreeLeafNode;\n}(IntervalRTreeNode));\n\nvar IntervalRTreeBranchNode = (function (IntervalRTreeNode$$1) {\n  function IntervalRTreeBranchNode () {\n    IntervalRTreeNode$$1.call(this);\n    this._node1 = null;\n    this._node2 = null;\n    var n1 = arguments[0];\n    var n2 = arguments[1];\n    this._node1 = n1;\n    this._node2 = n2;\n    this.buildExtent(this._node1, this._node2);\n  }\n\n  if ( IntervalRTreeNode$$1 ) IntervalRTreeBranchNode.__proto__ = IntervalRTreeNode$$1;\n  IntervalRTreeBranchNode.prototype = Object.create( IntervalRTreeNode$$1 && IntervalRTreeNode$$1.prototype );\n  IntervalRTreeBranchNode.prototype.constructor = IntervalRTreeBranchNode;\n  IntervalRTreeBranchNode.prototype.buildExtent = function buildExtent (n1, n2) {\n    this._min = Math.min(n1._min, n2._min);\n    this._max = Math.max(n1._max, n2._max);\n  };\n  IntervalRTreeBranchNode.prototype.query = function query (queryMin, queryMax, visitor) {\n    if (!this.intersects(queryMin, queryMax)) {\n      return null\n    }\n    if (this._node1 !== null) { this._node1.query(queryMin, queryMax, visitor); }\n    if (this._node2 !== null) { this._node2.query(queryMin, queryMax, visitor); }\n  };\n  IntervalRTreeBranchNode.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  IntervalRTreeBranchNode.prototype.getClass = function getClass () {\n    return IntervalRTreeBranchNode\n  };\n\n  return IntervalRTreeBranchNode;\n}(IntervalRTreeNode));\n\nvar SortedPackedIntervalRTree = function SortedPackedIntervalRTree () {\n  this._leaves = new ArrayList();\n  this._root = null;\n  this._level = 0;\n};\nSortedPackedIntervalRTree.prototype.buildTree = function buildTree () {\n    var this$1 = this;\n\n  Collections.sort(this._leaves, new IntervalRTreeNode.NodeComparator());\n  var src = this._leaves;\n  var temp = null;\n  var dest = new ArrayList();\n  while (true) {\n    this$1.buildLevel(src, dest);\n    if (dest.size() === 1) { return dest.get(0) }\n    temp = src;\n    src = dest;\n    dest = temp;\n  }\n};\nSortedPackedIntervalRTree.prototype.insert = function insert (min, max, item) {\n  if (this._root !== null) { throw new Error('Index cannot be added to once it has been queried') }\n  this._leaves.add(new IntervalRTreeLeafNode(min, max, item));\n};\nSortedPackedIntervalRTree.prototype.query = function query (min, max, visitor) {\n  this.init();\n  this._root.query(min, max, visitor);\n};\nSortedPackedIntervalRTree.prototype.buildRoot = function buildRoot () {\n  if (this._root !== null) { return null }\n  this._root = this.buildTree();\n};\nSortedPackedIntervalRTree.prototype.printNode = function printNode (node) {\n  System.out.println(WKTWriter.toLineString(new Coordinate(node._min, this._level), new Coordinate(node._max, this._level)));\n};\nSortedPackedIntervalRTree.prototype.init = function init () {\n  if (this._root !== null) { return null }\n  this.buildRoot();\n};\nSortedPackedIntervalRTree.prototype.buildLevel = function buildLevel (src, dest) {\n  this._level++;\n  dest.clear();\n  for (var i = 0; i < src.size(); i += 2) {\n    var n1 = src.get(i);\n    var n2 = i + 1 < src.size() ? src.get(i) : null;\n    if (n2 === null) {\n      dest.add(n1);\n    } else {\n      var node = new IntervalRTreeBranchNode(src.get(i), src.get(i + 1));\n      dest.add(node);\n    }\n  }\n};\nSortedPackedIntervalRTree.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nSortedPackedIntervalRTree.prototype.getClass = function getClass () {\n  return SortedPackedIntervalRTree\n};\n\nvar ArrayListVisitor = function ArrayListVisitor () {\n  this._items = new ArrayList();\n};\nArrayListVisitor.prototype.visitItem = function visitItem (item) {\n  this._items.add(item);\n};\nArrayListVisitor.prototype.getItems = function getItems () {\n  return this._items\n};\nArrayListVisitor.prototype.interfaces_ = function interfaces_ () {\n  return [ItemVisitor]\n};\nArrayListVisitor.prototype.getClass = function getClass () {\n  return ArrayListVisitor\n};\n\nvar IndexedPointInAreaLocator = function IndexedPointInAreaLocator () {\n  this._index = null;\n  var g = arguments[0];\n  if (!hasInterface(g, Polygonal)) { throw new IllegalArgumentException('Argument must be Polygonal') }\n  this._index = new IntervalIndexedGeometry(g);\n};\n\nvar staticAccessors$44 = { SegmentVisitor: { configurable: true },IntervalIndexedGeometry: { configurable: true } };\nIndexedPointInAreaLocator.prototype.locate = function locate (p) {\n  var rcc = new RayCrossingCounter(p);\n  var visitor = new SegmentVisitor(rcc);\n  this._index.query(p.y, p.y, visitor);\n  return rcc.getLocation()\n};\nIndexedPointInAreaLocator.prototype.interfaces_ = function interfaces_ () {\n  return [PointOnGeometryLocator]\n};\nIndexedPointInAreaLocator.prototype.getClass = function getClass () {\n  return IndexedPointInAreaLocator\n};\nstaticAccessors$44.SegmentVisitor.get = function () { return SegmentVisitor };\nstaticAccessors$44.IntervalIndexedGeometry.get = function () { return IntervalIndexedGeometry };\n\nObject.defineProperties( IndexedPointInAreaLocator, staticAccessors$44 );\n\nvar SegmentVisitor = function SegmentVisitor () {\n  this._counter = null;\n  var counter = arguments[0];\n  this._counter = counter;\n};\nSegmentVisitor.prototype.visitItem = function visitItem (item) {\n  var seg = item;\n  this._counter.countSegment(seg.getCoordinate(0), seg.getCoordinate(1));\n};\nSegmentVisitor.prototype.interfaces_ = function interfaces_ () {\n  return [ItemVisitor]\n};\nSegmentVisitor.prototype.getClass = function getClass () {\n  return SegmentVisitor\n};\n\nvar IntervalIndexedGeometry = function IntervalIndexedGeometry () {\n  this._index = new SortedPackedIntervalRTree();\n  var geom = arguments[0];\n  this.init(geom);\n};\nIntervalIndexedGeometry.prototype.init = function init (geom) {\n    var this$1 = this;\n\n  var lines = LinearComponentExtracter.getLines(geom);\n  for (var i = lines.iterator(); i.hasNext();) {\n    var line = i.next();\n    var pts = line.getCoordinates();\n    this$1.addLine(pts);\n  }\n};\nIntervalIndexedGeometry.prototype.addLine = function addLine (pts) {\n    var this$1 = this;\n\n  for (var i = 1; i < pts.length; i++) {\n    var seg = new LineSegment(pts[i - 1], pts[i]);\n    var min = Math.min(seg.p0.y, seg.p1.y);\n    var max = Math.max(seg.p0.y, seg.p1.y);\n    this$1._index.insert(min, max, seg);\n  }\n};\nIntervalIndexedGeometry.prototype.query = function query () {\n  if (arguments.length === 2) {\n    var min = arguments[0];\n    var max = arguments[1];\n    var visitor = new ArrayListVisitor();\n    this._index.query(min, max, visitor);\n    return visitor.getItems()\n  } else if (arguments.length === 3) {\n    var min$1 = arguments[0];\n    var max$1 = arguments[1];\n    var visitor$1 = arguments[2];\n    this._index.query(min$1, max$1, visitor$1);\n  }\n};\nIntervalIndexedGeometry.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nIntervalIndexedGeometry.prototype.getClass = function getClass () {\n  return IntervalIndexedGeometry\n};\n\nvar GeometryGraph = (function (PlanarGraph$$1) {\n  function GeometryGraph () {\n    PlanarGraph$$1.call(this);\n    this._parentGeom = null;\n    this._lineEdgeMap = new HashMap();\n    this._boundaryNodeRule = null;\n    this._useBoundaryDeterminationRule = true;\n    this._argIndex = null;\n    this._boundaryNodes = null;\n    this._hasTooFewPoints = false;\n    this._invalidPoint = null;\n    this._areaPtLocator = null;\n    this._ptLocator = new PointLocator();\n    if (arguments.length === 2) {\n      var argIndex = arguments[0];\n      var parentGeom = arguments[1];\n      var boundaryNodeRule = BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;\n      this._argIndex = argIndex;\n      this._parentGeom = parentGeom;\n      this._boundaryNodeRule = boundaryNodeRule;\n      if (parentGeom !== null) {\n        this.add(parentGeom);\n      }\n    } else if (arguments.length === 3) {\n      var argIndex$1 = arguments[0];\n      var parentGeom$1 = arguments[1];\n      var boundaryNodeRule$1 = arguments[2];\n      this._argIndex = argIndex$1;\n      this._parentGeom = parentGeom$1;\n      this._boundaryNodeRule = boundaryNodeRule$1;\n      if (parentGeom$1 !== null) {\n        this.add(parentGeom$1);\n      }\n    }\n  }\n\n  if ( PlanarGraph$$1 ) GeometryGraph.__proto__ = PlanarGraph$$1;\n  GeometryGraph.prototype = Object.create( PlanarGraph$$1 && PlanarGraph$$1.prototype );\n  GeometryGraph.prototype.constructor = GeometryGraph;\n  GeometryGraph.prototype.insertBoundaryPoint = function insertBoundaryPoint (argIndex, coord) {\n    var n = this._nodes.addNode(coord);\n    var lbl = n.getLabel();\n    var boundaryCount = 1;\n    var loc = Location.NONE;\n    loc = lbl.getLocation(argIndex, Position.ON);\n    if (loc === Location.BOUNDARY) { boundaryCount++; }\n    var newLoc = GeometryGraph.determineBoundary(this._boundaryNodeRule, boundaryCount);\n    lbl.setLocation(argIndex, newLoc);\n  };\n  GeometryGraph.prototype.computeSelfNodes = function computeSelfNodes () {\n    if (arguments.length === 2) {\n      var li = arguments[0];\n      var computeRingSelfNodes = arguments[1];\n      return this.computeSelfNodes(li, computeRingSelfNodes, false)\n    } else if (arguments.length === 3) {\n      var li$1 = arguments[0];\n      var computeRingSelfNodes$1 = arguments[1];\n      var isDoneIfProperInt = arguments[2];\n      var si = new SegmentIntersector$2(li$1, true, false);\n      si.setIsDoneIfProperInt(isDoneIfProperInt);\n      var esi = this.createEdgeSetIntersector();\n      var isRings = this._parentGeom instanceof LinearRing || this._parentGeom instanceof Polygon || this._parentGeom instanceof MultiPolygon;\n      var computeAllSegments = computeRingSelfNodes$1 || !isRings;\n      esi.computeIntersections(this._edges, si, computeAllSegments);\n      this.addSelfIntersectionNodes(this._argIndex);\n      return si\n    }\n  };\n  GeometryGraph.prototype.computeSplitEdges = function computeSplitEdges (edgelist) {\n    for (var i = this._edges.iterator(); i.hasNext();) {\n      var e = i.next();\n      e.eiList.addSplitEdges(edgelist);\n    }\n  };\n  GeometryGraph.prototype.computeEdgeIntersections = function computeEdgeIntersections (g, li, includeProper) {\n    var si = new SegmentIntersector$2(li, includeProper, true);\n    si.setBoundaryNodes(this.getBoundaryNodes(), g.getBoundaryNodes());\n    var esi = this.createEdgeSetIntersector();\n    esi.computeIntersections(this._edges, g._edges, si);\n    return si\n  };\n  GeometryGraph.prototype.getGeometry = function getGeometry () {\n    return this._parentGeom\n  };\n  GeometryGraph.prototype.getBoundaryNodeRule = function getBoundaryNodeRule () {\n    return this._boundaryNodeRule\n  };\n  GeometryGraph.prototype.hasTooFewPoints = function hasTooFewPoints () {\n    return this._hasTooFewPoints\n  };\n  GeometryGraph.prototype.addPoint = function addPoint () {\n    if (arguments[0] instanceof Point) {\n      var p = arguments[0];\n      var coord = p.getCoordinate();\n      this.insertPoint(this._argIndex, coord, Location.INTERIOR);\n    } else if (arguments[0] instanceof Coordinate) {\n      var pt = arguments[0];\n      this.insertPoint(this._argIndex, pt, Location.INTERIOR);\n    }\n  };\n  GeometryGraph.prototype.addPolygon = function addPolygon (p) {\n    var this$1 = this;\n\n    this.addPolygonRing(p.getExteriorRing(), Location.EXTERIOR, Location.INTERIOR);\n    for (var i = 0; i < p.getNumInteriorRing(); i++) {\n      var hole = p.getInteriorRingN(i);\n      this$1.addPolygonRing(hole, Location.INTERIOR, Location.EXTERIOR);\n    }\n  };\n  GeometryGraph.prototype.addEdge = function addEdge (e) {\n    this.insertEdge(e);\n    var coord = e.getCoordinates();\n    this.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n    this.insertPoint(this._argIndex, coord[coord.length - 1], Location.BOUNDARY);\n  };\n  GeometryGraph.prototype.addLineString = function addLineString (line) {\n    var coord = CoordinateArrays.removeRepeatedPoints(line.getCoordinates());\n    if (coord.length < 2) {\n      this._hasTooFewPoints = true;\n      this._invalidPoint = coord[0];\n      return null\n    }\n    var e = new Edge$1(coord, new Label(this._argIndex, Location.INTERIOR));\n    this._lineEdgeMap.put(line, e);\n    this.insertEdge(e);\n    Assert.isTrue(coord.length >= 2, 'found LineString with single point');\n    this.insertBoundaryPoint(this._argIndex, coord[0]);\n    this.insertBoundaryPoint(this._argIndex, coord[coord.length - 1]);\n  };\n  GeometryGraph.prototype.getInvalidPoint = function getInvalidPoint () {\n    return this._invalidPoint\n  };\n  GeometryGraph.prototype.getBoundaryPoints = function getBoundaryPoints () {\n    var coll = this.getBoundaryNodes();\n    var pts = new Array(coll.size()).fill(null);\n    var i = 0;\n    for (var it = coll.iterator(); it.hasNext();) {\n      var node = it.next();\n      pts[i++] = node.getCoordinate().copy();\n    }\n    return pts\n  };\n  GeometryGraph.prototype.getBoundaryNodes = function getBoundaryNodes () {\n    if (this._boundaryNodes === null) { this._boundaryNodes = this._nodes.getBoundaryNodes(this._argIndex); }\n    return this._boundaryNodes\n  };\n  GeometryGraph.prototype.addSelfIntersectionNode = function addSelfIntersectionNode (argIndex, coord, loc) {\n    if (this.isBoundaryNode(argIndex, coord)) { return null }\n    if (loc === Location.BOUNDARY && this._useBoundaryDeterminationRule) { this.insertBoundaryPoint(argIndex, coord); } else { this.insertPoint(argIndex, coord, loc); }\n  };\n  GeometryGraph.prototype.addPolygonRing = function addPolygonRing (lr, cwLeft, cwRight) {\n    if (lr.isEmpty()) { return null }\n    var coord = CoordinateArrays.removeRepeatedPoints(lr.getCoordinates());\n    if (coord.length < 4) {\n      this._hasTooFewPoints = true;\n      this._invalidPoint = coord[0];\n      return null\n    }\n    var left = cwLeft;\n    var right = cwRight;\n    if (CGAlgorithms.isCCW(coord)) {\n      left = cwRight;\n      right = cwLeft;\n    }\n    var e = new Edge$1(coord, new Label(this._argIndex, Location.BOUNDARY, left, right));\n    this._lineEdgeMap.put(lr, e);\n    this.insertEdge(e);\n    this.insertPoint(this._argIndex, coord[0], Location.BOUNDARY);\n  };\n  GeometryGraph.prototype.insertPoint = function insertPoint (argIndex, coord, onLocation) {\n    var n = this._nodes.addNode(coord);\n    var lbl = n.getLabel();\n    if (lbl === null) {\n      n._label = new Label(argIndex, onLocation);\n    } else { lbl.setLocation(argIndex, onLocation); }\n  };\n  GeometryGraph.prototype.createEdgeSetIntersector = function createEdgeSetIntersector () {\n    return new SimpleMCSweepLineIntersector()\n  };\n  GeometryGraph.prototype.addSelfIntersectionNodes = function addSelfIntersectionNodes (argIndex) {\n    var this$1 = this;\n\n    for (var i = this._edges.iterator(); i.hasNext();) {\n      var e = i.next();\n      var eLoc = e.getLabel().getLocation(argIndex);\n      for (var eiIt = e.eiList.iterator(); eiIt.hasNext();) {\n        var ei = eiIt.next();\n        this$1.addSelfIntersectionNode(argIndex, ei.coord, eLoc);\n      }\n    }\n  };\n  GeometryGraph.prototype.add = function add () {\n    if (arguments.length === 1) {\n      var g = arguments[0];\n      if (g.isEmpty()) { return null }\n      if (g instanceof MultiPolygon) { this._useBoundaryDeterminationRule = false; }\n      if (g instanceof Polygon) { this.addPolygon(g); }\n      else if (g instanceof LineString$1) { this.addLineString(g); }\n      else if (g instanceof Point) { this.addPoint(g); }\n      else if (g instanceof MultiPoint) { this.addCollection(g); }\n      else if (g instanceof MultiLineString) { this.addCollection(g); }\n      else if (g instanceof MultiPolygon) { this.addCollection(g); }\n      else if (g instanceof GeometryCollection) { this.addCollection(g); }\n      else { throw new Error(g.getClass().getName()) }\n    } else { return PlanarGraph$$1.prototype.add.apply(this, arguments) }\n  };\n  GeometryGraph.prototype.addCollection = function addCollection (gc) {\n    var this$1 = this;\n\n    for (var i = 0; i < gc.getNumGeometries(); i++) {\n      var g = gc.getGeometryN(i);\n      this$1.add(g);\n    }\n  };\n  GeometryGraph.prototype.locate = function locate (pt) {\n    if (hasInterface(this._parentGeom, Polygonal) && this._parentGeom.getNumGeometries() > 50) {\n      if (this._areaPtLocator === null) {\n        this._areaPtLocator = new IndexedPointInAreaLocator(this._parentGeom);\n      }\n      return this._areaPtLocator.locate(pt)\n    }\n    return this._ptLocator.locate(pt, this._parentGeom)\n  };\n  GeometryGraph.prototype.findEdge = function findEdge () {\n    if (arguments.length === 1) {\n      var line = arguments[0];\n      return this._lineEdgeMap.get(line)\n    } else { return PlanarGraph$$1.prototype.findEdge.apply(this, arguments) }\n  };\n  GeometryGraph.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  GeometryGraph.prototype.getClass = function getClass () {\n    return GeometryGraph\n  };\n  GeometryGraph.determineBoundary = function determineBoundary (boundaryNodeRule, boundaryCount) {\n    return boundaryNodeRule.isInBoundary(boundaryCount) ? Location.BOUNDARY : Location.INTERIOR\n  };\n\n  return GeometryGraph;\n}(PlanarGraph));\n\nvar GeometryGraphOp = function GeometryGraphOp () {\n  this._li = new RobustLineIntersector();\n  this._resultPrecisionModel = null;\n  this._arg = null;\n  if (arguments.length === 1) {\n    var g0 = arguments[0];\n    this.setComputationPrecision(g0.getPrecisionModel());\n    this._arg = new Array(1).fill(null);\n    this._arg[0] = new GeometryGraph(0, g0);\n  } else if (arguments.length === 2) {\n    var g0$1 = arguments[0];\n    var g1 = arguments[1];\n    var boundaryNodeRule = BoundaryNodeRule.OGC_SFS_BOUNDARY_RULE;\n    if (g0$1.getPrecisionModel().compareTo(g1.getPrecisionModel()) >= 0) { this.setComputationPrecision(g0$1.getPrecisionModel()); } else { this.setComputationPrecision(g1.getPrecisionModel()); }\n    this._arg = new Array(2).fill(null);\n    this._arg[0] = new GeometryGraph(0, g0$1, boundaryNodeRule);\n    this._arg[1] = new GeometryGraph(1, g1, boundaryNodeRule);\n  } else if (arguments.length === 3) {\n    var g0$2 = arguments[0];\n    var g1$1 = arguments[1];\n    var boundaryNodeRule$1 = arguments[2];\n    if (g0$2.getPrecisionModel().compareTo(g1$1.getPrecisionModel()) >= 0) { this.setComputationPrecision(g0$2.getPrecisionModel()); } else { this.setComputationPrecision(g1$1.getPrecisionModel()); }\n    this._arg = new Array(2).fill(null);\n    this._arg[0] = new GeometryGraph(0, g0$2, boundaryNodeRule$1);\n    this._arg[1] = new GeometryGraph(1, g1$1, boundaryNodeRule$1);\n  }\n};\nGeometryGraphOp.prototype.getArgGeometry = function getArgGeometry (i) {\n  return this._arg[i].getGeometry()\n};\nGeometryGraphOp.prototype.setComputationPrecision = function setComputationPrecision (pm) {\n  this._resultPrecisionModel = pm;\n  this._li.setPrecisionModel(this._resultPrecisionModel);\n};\nGeometryGraphOp.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryGraphOp.prototype.getClass = function getClass () {\n  return GeometryGraphOp\n};\n\n// operation.geometrygraph\n\nvar GeometryMapper = function GeometryMapper () {};\n\nGeometryMapper.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryMapper.prototype.getClass = function getClass () {\n  return GeometryMapper\n};\nGeometryMapper.map = function map () {\n  if (arguments[0] instanceof Geometry && hasInterface(arguments[1], GeometryMapper.MapOp)) {\n    var geom = arguments[0];\n    var op = arguments[1];\n    var mapped = new ArrayList();\n    for (var i = 0; i < geom.getNumGeometries(); i++) {\n      var g = op.map(geom.getGeometryN(i));\n      if (g !== null) { mapped.add(g); }\n    }\n    return geom.getFactory().buildGeometry(mapped)\n  } else if (hasInterface(arguments[0], Collection) && hasInterface(arguments[1], GeometryMapper.MapOp)) {\n    var geoms = arguments[0];\n    var op$1 = arguments[1];\n    var mapped$1 = new ArrayList();\n    for (var i$1 = geoms.iterator(); i$1.hasNext();) {\n      var g$1 = i$1.next();\n      var gr = op$1.map(g$1);\n      if (gr !== null) { mapped$1.add(gr); }\n    }\n    return mapped$1\n  }\n};\nGeometryMapper.MapOp = function MapOp () {};\n\nvar OverlayOp = (function (GeometryGraphOp) {\n  function OverlayOp () {\n    var g0 = arguments[0];\n    var g1 = arguments[1];\n    GeometryGraphOp.call(this, g0, g1);\n    this._ptLocator = new PointLocator();\n    this._geomFact = null;\n    this._resultGeom = null;\n    this._graph = null;\n    this._edgeList = new EdgeList();\n    this._resultPolyList = new ArrayList();\n    this._resultLineList = new ArrayList();\n    this._resultPointList = new ArrayList();\n    this._graph = new PlanarGraph(new OverlayNodeFactory());\n    this._geomFact = g0.getFactory();\n  }\n\n  if ( GeometryGraphOp ) OverlayOp.__proto__ = GeometryGraphOp;\n  OverlayOp.prototype = Object.create( GeometryGraphOp && GeometryGraphOp.prototype );\n  OverlayOp.prototype.constructor = OverlayOp;\n  OverlayOp.prototype.insertUniqueEdge = function insertUniqueEdge (e) {\n    var existingEdge = this._edgeList.findEqualEdge(e);\n    if (existingEdge !== null) {\n      var existingLabel = existingEdge.getLabel();\n      var labelToMerge = e.getLabel();\n      if (!existingEdge.isPointwiseEqual(e)) {\n        labelToMerge = new Label(e.getLabel());\n        labelToMerge.flip();\n      }\n      var depth = existingEdge.getDepth();\n      if (depth.isNull()) {\n        depth.add(existingLabel);\n      }\n      depth.add(labelToMerge);\n      existingLabel.merge(labelToMerge);\n    } else {\n      this._edgeList.add(e);\n    }\n  };\n  OverlayOp.prototype.getGraph = function getGraph () {\n    return this._graph\n  };\n  OverlayOp.prototype.cancelDuplicateResultEdges = function cancelDuplicateResultEdges () {\n    for (var it = this._graph.getEdgeEnds().iterator(); it.hasNext();) {\n      var de = it.next();\n      var sym = de.getSym();\n      if (de.isInResult() && sym.isInResult()) {\n        de.setInResult(false);\n        sym.setInResult(false);\n      }\n    }\n  };\n  OverlayOp.prototype.isCoveredByLA = function isCoveredByLA (coord) {\n    if (this.isCovered(coord, this._resultLineList)) { return true }\n    if (this.isCovered(coord, this._resultPolyList)) { return true }\n    return false\n  };\n  OverlayOp.prototype.computeGeometry = function computeGeometry (resultPointList, resultLineList, resultPolyList, opcode) {\n    var geomList = new ArrayList();\n    geomList.addAll(resultPointList);\n    geomList.addAll(resultLineList);\n    geomList.addAll(resultPolyList);\n    if (geomList.isEmpty()) { return OverlayOp.createEmptyResult(opcode, this._arg[0].getGeometry(), this._arg[1].getGeometry(), this._geomFact) }\n    return this._geomFact.buildGeometry(geomList)\n  };\n  OverlayOp.prototype.mergeSymLabels = function mergeSymLabels () {\n    for (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n      var node = nodeit.next();\n      node.getEdges().mergeSymLabels();\n    }\n  };\n  OverlayOp.prototype.isCovered = function isCovered (coord, geomList) {\n    var this$1 = this;\n\n    for (var it = geomList.iterator(); it.hasNext();) {\n      var geom = it.next();\n      var loc = this$1._ptLocator.locate(coord, geom);\n      if (loc !== Location.EXTERIOR) { return true }\n    }\n    return false\n  };\n  OverlayOp.prototype.replaceCollapsedEdges = function replaceCollapsedEdges () {\n    var newEdges = new ArrayList();\n    for (var it = this._edgeList.iterator(); it.hasNext();) {\n      var e = it.next();\n      if (e.isCollapsed()) {\n        it.remove();\n        newEdges.add(e.getCollapsedEdge());\n      }\n    }\n    this._edgeList.addAll(newEdges);\n  };\n  OverlayOp.prototype.updateNodeLabelling = function updateNodeLabelling () {\n    for (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n      var node = nodeit.next();\n      var lbl = node.getEdges().getLabel();\n      node.getLabel().merge(lbl);\n    }\n  };\n  OverlayOp.prototype.getResultGeometry = function getResultGeometry (overlayOpCode) {\n    this.computeOverlay(overlayOpCode);\n    return this._resultGeom\n  };\n  OverlayOp.prototype.insertUniqueEdges = function insertUniqueEdges (edges) {\n    var this$1 = this;\n\n    for (var i = edges.iterator(); i.hasNext();) {\n      var e = i.next();\n      this$1.insertUniqueEdge(e);\n    }\n  };\n  OverlayOp.prototype.computeOverlay = function computeOverlay (opCode) {\n    this.copyPoints(0);\n    this.copyPoints(1);\n    this._arg[0].computeSelfNodes(this._li, false);\n    this._arg[1].computeSelfNodes(this._li, false);\n    this._arg[0].computeEdgeIntersections(this._arg[1], this._li, true);\n    var baseSplitEdges = new ArrayList();\n    this._arg[0].computeSplitEdges(baseSplitEdges);\n    this._arg[1].computeSplitEdges(baseSplitEdges);\n    // const splitEdges = baseSplitEdges\n    this.insertUniqueEdges(baseSplitEdges);\n    this.computeLabelsFromDepths();\n    this.replaceCollapsedEdges();\n    EdgeNodingValidator.checkValid(this._edgeList.getEdges());\n    this._graph.addEdges(this._edgeList.getEdges());\n    this.computeLabelling();\n    this.labelIncompleteNodes();\n    this.findResultAreaEdges(opCode);\n    this.cancelDuplicateResultEdges();\n    var polyBuilder = new PolygonBuilder(this._geomFact);\n    polyBuilder.add(this._graph);\n    this._resultPolyList = polyBuilder.getPolygons();\n    var lineBuilder = new LineBuilder(this, this._geomFact, this._ptLocator);\n    this._resultLineList = lineBuilder.build(opCode);\n    var pointBuilder = new PointBuilder(this, this._geomFact, this._ptLocator);\n    this._resultPointList = pointBuilder.build(opCode);\n    this._resultGeom = this.computeGeometry(this._resultPointList, this._resultLineList, this._resultPolyList, opCode);\n  };\n  OverlayOp.prototype.labelIncompleteNode = function labelIncompleteNode (n, targetIndex) {\n    var loc = this._ptLocator.locate(n.getCoordinate(), this._arg[targetIndex].getGeometry());\n    n.getLabel().setLocation(targetIndex, loc);\n  };\n  OverlayOp.prototype.copyPoints = function copyPoints (argIndex) {\n    var this$1 = this;\n\n    for (var i = this._arg[argIndex].getNodeIterator(); i.hasNext();) {\n      var graphNode = i.next();\n      var newNode = this$1._graph.addNode(graphNode.getCoordinate());\n      newNode.setLabel(argIndex, graphNode.getLabel().getLocation(argIndex));\n    }\n  };\n  OverlayOp.prototype.findResultAreaEdges = function findResultAreaEdges (opCode) {\n    for (var it = this._graph.getEdgeEnds().iterator(); it.hasNext();) {\n      var de = it.next();\n      var label = de.getLabel();\n      if (label.isArea() && !de.isInteriorAreaEdge() && OverlayOp.isResultOfOp(label.getLocation(0, Position.RIGHT), label.getLocation(1, Position.RIGHT), opCode)) {\n        de.setInResult(true);\n      }\n    }\n  };\n  OverlayOp.prototype.computeLabelsFromDepths = function computeLabelsFromDepths () {\n    for (var it = this._edgeList.iterator(); it.hasNext();) {\n      var e = it.next();\n      var lbl = e.getLabel();\n      var depth = e.getDepth();\n      if (!depth.isNull()) {\n        depth.normalize();\n        for (var i = 0; i < 2; i++) {\n          if (!lbl.isNull(i) && lbl.isArea() && !depth.isNull(i)) {\n            if (depth.getDelta(i) === 0) {\n              lbl.toLine(i);\n            } else {\n              Assert.isTrue(!depth.isNull(i, Position.LEFT), 'depth of LEFT side has not been initialized');\n              lbl.setLocation(i, Position.LEFT, depth.getLocation(i, Position.LEFT));\n              Assert.isTrue(!depth.isNull(i, Position.RIGHT), 'depth of RIGHT side has not been initialized');\n              lbl.setLocation(i, Position.RIGHT, depth.getLocation(i, Position.RIGHT));\n            }\n          }\n        }\n      }\n    }\n  };\n  OverlayOp.prototype.computeLabelling = function computeLabelling () {\n    var this$1 = this;\n\n    for (var nodeit = this._graph.getNodes().iterator(); nodeit.hasNext();) {\n      var node = nodeit.next();\n      node.getEdges().computeLabelling(this$1._arg);\n    }\n    this.mergeSymLabels();\n    this.updateNodeLabelling();\n  };\n  OverlayOp.prototype.labelIncompleteNodes = function labelIncompleteNodes () {\n    var this$1 = this;\n\n    // let nodeCount = 0\n    for (var ni = this._graph.getNodes().iterator(); ni.hasNext();) {\n      var n = ni.next();\n      var label = n.getLabel();\n      if (n.isIsolated()) {\n        // nodeCount++\n        if (label.isNull(0)) { this$1.labelIncompleteNode(n, 0); } else { this$1.labelIncompleteNode(n, 1); }\n      }\n      n.getEdges().updateLabelling(label);\n    }\n  };\n  OverlayOp.prototype.isCoveredByA = function isCoveredByA (coord) {\n    if (this.isCovered(coord, this._resultPolyList)) { return true }\n    return false\n  };\n  OverlayOp.prototype.interfaces_ = function interfaces_ () {\n    return []\n  };\n  OverlayOp.prototype.getClass = function getClass () {\n    return OverlayOp\n  };\n\n  return OverlayOp;\n}(GeometryGraphOp));\n\nOverlayOp.overlayOp = function (geom0, geom1, opCode) {\n  var gov = new OverlayOp(geom0, geom1);\n  var geomOv = gov.getResultGeometry(opCode);\n  return geomOv\n};\nOverlayOp.intersection = function (g, other) {\n  if (g.isEmpty() || other.isEmpty()) { return OverlayOp.createEmptyResult(OverlayOp.INTERSECTION, g, other, g.getFactory()) }\n  if (g.isGeometryCollection()) {\n    var g2 = other;\n    return GeometryCollectionMapper.map(g, {\n      interfaces_: function () {\n        return [GeometryMapper.MapOp]\n      },\n      map: function (g) {\n        return g.intersection(g2)\n      }\n    })\n  }\n  g.checkNotGeometryCollection(g);\n  g.checkNotGeometryCollection(other);\n  return SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.INTERSECTION)\n};\nOverlayOp.symDifference = function (g, other) {\n  if (g.isEmpty() || other.isEmpty()) {\n    if (g.isEmpty() && other.isEmpty()) { return OverlayOp.createEmptyResult(OverlayOp.SYMDIFFERENCE, g, other, g.getFactory()) }\n    if (g.isEmpty()) { return other.copy() }\n    if (other.isEmpty()) { return g.copy() }\n  }\n  g.checkNotGeometryCollection(g);\n  g.checkNotGeometryCollection(other);\n  return SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.SYMDIFFERENCE)\n};\nOverlayOp.resultDimension = function (opCode, g0, g1) {\n  var dim0 = g0.getDimension();\n  var dim1 = g1.getDimension();\n  var resultDimension = -1;\n  switch (opCode) {\n    case OverlayOp.INTERSECTION:\n      resultDimension = Math.min(dim0, dim1);\n      break\n    case OverlayOp.UNION:\n      resultDimension = Math.max(dim0, dim1);\n      break\n    case OverlayOp.DIFFERENCE:\n      resultDimension = dim0;\n      break\n    case OverlayOp.SYMDIFFERENCE:\n      resultDimension = Math.max(dim0, dim1);\n      break\n    default:\n  }\n  return resultDimension\n};\nOverlayOp.createEmptyResult = function (overlayOpCode, a, b, geomFact) {\n  var result = null;\n  switch (OverlayOp.resultDimension(overlayOpCode, a, b)) {\n    case -1:\n      result = geomFact.createGeometryCollection(new Array(0).fill(null));\n      break\n    case 0:\n      result = geomFact.createPoint();\n      break\n    case 1:\n      result = geomFact.createLineString();\n      break\n    case 2:\n      result = geomFact.createPolygon();\n      break\n    default:\n  }\n  return result\n};\nOverlayOp.difference = function (g, other) {\n  if (g.isEmpty()) { return OverlayOp.createEmptyResult(OverlayOp.DIFFERENCE, g, other, g.getFactory()) }\n  if (other.isEmpty()) { return g.copy() }\n  g.checkNotGeometryCollection(g);\n  g.checkNotGeometryCollection(other);\n  return SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.DIFFERENCE)\n};\nOverlayOp.isResultOfOp = function () {\n  if (arguments.length === 2) {\n    var label = arguments[0];\n    var opCode = arguments[1];\n    var loc0 = label.getLocation(0);\n    var loc1 = label.getLocation(1);\n    return OverlayOp.isResultOfOp(loc0, loc1, opCode)\n  } else if (arguments.length === 3) {\n    var loc0$1 = arguments[0];\n    var loc1$1 = arguments[1];\n    var overlayOpCode = arguments[2];\n    if (loc0$1 === Location.BOUNDARY) { loc0$1 = Location.INTERIOR; }\n    if (loc1$1 === Location.BOUNDARY) { loc1$1 = Location.INTERIOR; }\n    switch (overlayOpCode) {\n      case OverlayOp.INTERSECTION:\n        return loc0$1 === Location.INTERIOR && loc1$1 === Location.INTERIOR\n      case OverlayOp.UNION:\n        return loc0$1 === Location.INTERIOR || loc1$1 === Location.INTERIOR\n      case OverlayOp.DIFFERENCE:\n        return loc0$1 === Location.INTERIOR && loc1$1 !== Location.INTERIOR\n      case OverlayOp.SYMDIFFERENCE:\n        return (loc0$1 === Location.INTERIOR && loc1$1 !== Location.INTERIOR) || (loc0$1 !== Location.INTERIOR && loc1$1 === Location.INTERIOR)\n      default:\n    }\n    return false\n  }\n};\nOverlayOp.INTERSECTION = 1;\nOverlayOp.UNION = 2;\nOverlayOp.DIFFERENCE = 3;\nOverlayOp.SYMDIFFERENCE = 4;\n\nvar FuzzyPointLocator = function FuzzyPointLocator () {\n  this._g = null;\n  this._boundaryDistanceTolerance = null;\n  this._linework = null;\n  this._ptLocator = new PointLocator();\n  this._seg = new LineSegment();\n  var g = arguments[0];\n  var boundaryDistanceTolerance = arguments[1];\n  this._g = g;\n  this._boundaryDistanceTolerance = boundaryDistanceTolerance;\n  this._linework = this.extractLinework(g);\n};\nFuzzyPointLocator.prototype.isWithinToleranceOfBoundary = function isWithinToleranceOfBoundary (pt) {\n    var this$1 = this;\n\n  for (var i = 0; i < this._linework.getNumGeometries(); i++) {\n    var line = this$1._linework.getGeometryN(i);\n    var seq = line.getCoordinateSequence();\n    for (var j = 0; j < seq.size() - 1; j++) {\n      seq.getCoordinate(j, this$1._seg.p0);\n      seq.getCoordinate(j + 1, this$1._seg.p1);\n      var dist = this$1._seg.distance(pt);\n      if (dist <= this$1._boundaryDistanceTolerance) { return true }\n    }\n  }\n  return false\n};\nFuzzyPointLocator.prototype.getLocation = function getLocation (pt) {\n  if (this.isWithinToleranceOfBoundary(pt)) { return Location.BOUNDARY }\n  return this._ptLocator.locate(pt, this._g)\n};\nFuzzyPointLocator.prototype.extractLinework = function extractLinework (g) {\n  var extracter = new PolygonalLineworkExtracter();\n  g.apply(extracter);\n  var linework = extracter.getLinework();\n  var lines = GeometryFactory.toLineStringArray(linework);\n  return g.getFactory().createMultiLineString(lines)\n};\nFuzzyPointLocator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nFuzzyPointLocator.prototype.getClass = function getClass () {\n  return FuzzyPointLocator\n};\n\nvar PolygonalLineworkExtracter = function PolygonalLineworkExtracter () {\n  this._linework = null;\n  this._linework = new ArrayList();\n};\nPolygonalLineworkExtracter.prototype.getLinework = function getLinework () {\n  return this._linework\n};\nPolygonalLineworkExtracter.prototype.filter = function filter (g) {\n    var this$1 = this;\n\n  if (g instanceof Polygon) {\n    var poly = g;\n    this._linework.add(poly.getExteriorRing());\n    for (var i = 0; i < poly.getNumInteriorRing(); i++) {\n      this$1._linework.add(poly.getInteriorRingN(i));\n    }\n  }\n};\nPolygonalLineworkExtracter.prototype.interfaces_ = function interfaces_ () {\n  return [GeometryFilter]\n};\nPolygonalLineworkExtracter.prototype.getClass = function getClass () {\n  return PolygonalLineworkExtracter\n};\n\nvar OffsetPointGenerator = function OffsetPointGenerator () {\n  this._g = null;\n  this._doLeft = true;\n  this._doRight = true;\n  var g = arguments[0];\n  this._g = g;\n};\nOffsetPointGenerator.prototype.extractPoints = function extractPoints (line, offsetDistance, offsetPts) {\n    var this$1 = this;\n\n  var pts = line.getCoordinates();\n  for (var i = 0; i < pts.length - 1; i++) {\n    this$1.computeOffsetPoints(pts[i], pts[i + 1], offsetDistance, offsetPts);\n  }\n};\nOffsetPointGenerator.prototype.setSidesToGenerate = function setSidesToGenerate (doLeft, doRight) {\n  this._doLeft = doLeft;\n  this._doRight = doRight;\n};\nOffsetPointGenerator.prototype.getPoints = function getPoints (offsetDistance) {\n    var this$1 = this;\n\n  var offsetPts = new ArrayList();\n  var lines = LinearComponentExtracter.getLines(this._g);\n  for (var i = lines.iterator(); i.hasNext();) {\n    var line = i.next();\n    this$1.extractPoints(line, offsetDistance, offsetPts);\n  }\n  return offsetPts\n};\nOffsetPointGenerator.prototype.computeOffsetPoints = function computeOffsetPoints (p0, p1, offsetDistance, offsetPts) {\n  var dx = p1.x - p0.x;\n  var dy = p1.y - p0.y;\n  var len = Math.sqrt(dx * dx + dy * dy);\n  var ux = offsetDistance * dx / len;\n  var uy = offsetDistance * dy / len;\n  var midX = (p1.x + p0.x) / 2;\n  var midY = (p1.y + p0.y) / 2;\n  if (this._doLeft) {\n    var offsetLeft = new Coordinate(midX - uy, midY + ux);\n    offsetPts.add(offsetLeft);\n  }\n  if (this._doRight) {\n    var offsetRight = new Coordinate(midX + uy, midY - ux);\n    offsetPts.add(offsetRight);\n  }\n};\nOffsetPointGenerator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nOffsetPointGenerator.prototype.getClass = function getClass () {\n  return OffsetPointGenerator\n};\n\nvar OverlayResultValidator = function OverlayResultValidator () {\n  this._geom = null;\n  this._locFinder = null;\n  this._location = new Array(3).fill(null);\n  this._invalidLocation = null;\n  this._boundaryDistanceTolerance = OverlayResultValidator.TOLERANCE;\n  this._testCoords = new ArrayList();\n  var a = arguments[0];\n  var b = arguments[1];\n  var result = arguments[2];\n  this._boundaryDistanceTolerance = OverlayResultValidator.computeBoundaryDistanceTolerance(a, b);\n  this._geom = [a, b, result];\n  this._locFinder = [new FuzzyPointLocator(this._geom[0], this._boundaryDistanceTolerance), new FuzzyPointLocator(this._geom[1], this._boundaryDistanceTolerance), new FuzzyPointLocator(this._geom[2], this._boundaryDistanceTolerance)];\n};\n\nvar staticAccessors$46 = { TOLERANCE: { configurable: true } };\nOverlayResultValidator.prototype.reportResult = function reportResult (overlayOp, location, expectedInterior) {\n  System.out.println('Overlay result invalid - A:' + Location.toLocationSymbol(location[0]) + ' B:' + Location.toLocationSymbol(location[1]) + ' expected:' + (expectedInterior ? 'i' : 'e') + ' actual:' + Location.toLocationSymbol(location[2]));\n};\nOverlayResultValidator.prototype.isValid = function isValid (overlayOp) {\n  this.addTestPts(this._geom[0]);\n  this.addTestPts(this._geom[1]);\n  var isValid = this.checkValid(overlayOp);\n  return isValid\n};\nOverlayResultValidator.prototype.checkValid = function checkValid () {\n    var this$1 = this;\n\n  if (arguments.length === 1) {\n    var overlayOp = arguments[0];\n    for (var i = 0; i < this._testCoords.size(); i++) {\n      var pt = this$1._testCoords.get(i);\n      if (!this$1.checkValid(overlayOp, pt)) {\n        this$1._invalidLocation = pt;\n        return false\n      }\n    }\n    return true\n  } else if (arguments.length === 2) {\n    var overlayOp$1 = arguments[0];\n    var pt$1 = arguments[1];\n    this._location[0] = this._locFinder[0].getLocation(pt$1);\n    this._location[1] = this._locFinder[1].getLocation(pt$1);\n    this._location[2] = this._locFinder[2].getLocation(pt$1);\n    if (OverlayResultValidator.hasLocation(this._location, Location.BOUNDARY)) { return true }\n    return this.isValidResult(overlayOp$1, this._location)\n  }\n};\nOverlayResultValidator.prototype.addTestPts = function addTestPts (g) {\n  var ptGen = new OffsetPointGenerator(g);\n  this._testCoords.addAll(ptGen.getPoints(5 * this._boundaryDistanceTolerance));\n};\nOverlayResultValidator.prototype.isValidResult = function isValidResult (overlayOp, location) {\n  var expectedInterior = OverlayOp.isResultOfOp(location[0], location[1], overlayOp);\n  var resultInInterior = location[2] === Location.INTERIOR;\n  var isValid = !(expectedInterior ^ resultInInterior);\n  if (!isValid) { this.reportResult(overlayOp, location, expectedInterior); }\n  return isValid\n};\nOverlayResultValidator.prototype.getInvalidLocation = function getInvalidLocation () {\n  return this._invalidLocation\n};\nOverlayResultValidator.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nOverlayResultValidator.prototype.getClass = function getClass () {\n  return OverlayResultValidator\n};\nOverlayResultValidator.hasLocation = function hasLocation (location, loc) {\n  for (var i = 0; i < 3; i++) {\n    if (location[i] === loc) { return true }\n  }\n  return false\n};\nOverlayResultValidator.computeBoundaryDistanceTolerance = function computeBoundaryDistanceTolerance (g0, g1) {\n  return Math.min(GeometrySnapper.computeSizeBasedSnapTolerance(g0), GeometrySnapper.computeSizeBasedSnapTolerance(g1))\n};\nOverlayResultValidator.isValid = function isValid (a, b, overlayOp, result) {\n  var validator = new OverlayResultValidator(a, b, result);\n  return validator.isValid(overlayOp)\n};\nstaticAccessors$46.TOLERANCE.get = function () { return 0.000001 };\n\nObject.defineProperties( OverlayResultValidator, staticAccessors$46 );\n\n// operation.overlay\n\nvar GeometryCombiner = function GeometryCombiner (geoms) {\n  this._geomFactory = null;\n  this._skipEmpty = false;\n  this._inputGeoms = null;\n  this._geomFactory = GeometryCombiner.extractFactory(geoms);\n  this._inputGeoms = geoms;\n};\nGeometryCombiner.prototype.extractElements = function extractElements (geom, elems) {\n    var this$1 = this;\n\n  if (geom === null) { return null }\n  for (var i = 0; i < geom.getNumGeometries(); i++) {\n    var elemGeom = geom.getGeometryN(i);\n    if (this$1._skipEmpty && elemGeom.isEmpty()) { continue }\n    elems.add(elemGeom);\n  }\n};\nGeometryCombiner.prototype.combine = function combine () {\n    var this$1 = this;\n\n  var elems = new ArrayList();\n  for (var i = this._inputGeoms.iterator(); i.hasNext();) {\n    var g = i.next();\n    this$1.extractElements(g, elems);\n  }\n  if (elems.size() === 0) {\n    if (this._geomFactory !== null) {\n      return this._geomFactory.createGeometryCollection(null)\n    }\n    return null\n  }\n  return this._geomFactory.buildGeometry(elems)\n};\nGeometryCombiner.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nGeometryCombiner.prototype.getClass = function getClass () {\n  return GeometryCombiner\n};\nGeometryCombiner.combine = function combine () {\n  if (arguments.length === 1) {\n    var geoms = arguments[0];\n    var combiner = new GeometryCombiner(geoms);\n    return combiner.combine()\n  } else if (arguments.length === 2) {\n    var g0 = arguments[0];\n    var g1 = arguments[1];\n    var combiner$1 = new GeometryCombiner(GeometryCombiner.createList(g0, g1));\n    return combiner$1.combine()\n  } else if (arguments.length === 3) {\n    var g0$1 = arguments[0];\n    var g1$1 = arguments[1];\n    var g2 = arguments[2];\n    var combiner$2 = new GeometryCombiner(GeometryCombiner.createList(g0$1, g1$1, g2));\n    return combiner$2.combine()\n  }\n};\nGeometryCombiner.extractFactory = function extractFactory (geoms) {\n  if (geoms.isEmpty()) { return null }\n  return geoms.iterator().next().getFactory()\n};\nGeometryCombiner.createList = function createList () {\n  if (arguments.length === 2) {\n    var obj0 = arguments[0];\n    var obj1 = arguments[1];\n    var list = new ArrayList();\n    list.add(obj0);\n    list.add(obj1);\n    return list\n  } else if (arguments.length === 3) {\n    var obj0$1 = arguments[0];\n    var obj1$1 = arguments[1];\n    var obj2 = arguments[2];\n    var list$1 = new ArrayList();\n    list$1.add(obj0$1);\n    list$1.add(obj1$1);\n    list$1.add(obj2);\n    return list$1\n  }\n};\n\nvar CascadedPolygonUnion = function CascadedPolygonUnion () {\n  this._inputPolys = null;\n  this._geomFactory = null;\n  var polys = arguments[0];\n  this._inputPolys = polys;\n  if (this._inputPolys === null) { this._inputPolys = new ArrayList(); }\n};\n\nvar staticAccessors$47 = { STRTREE_NODE_CAPACITY: { configurable: true } };\nCascadedPolygonUnion.prototype.reduceToGeometries = function reduceToGeometries (geomTree) {\n    var this$1 = this;\n\n  var geoms = new ArrayList();\n  for (var i = geomTree.iterator(); i.hasNext();) {\n    var o = i.next();\n    var geom = null;\n    if (hasInterface(o, List)) {\n      geom = this$1.unionTree(o);\n    } else if (o instanceof Geometry) {\n      geom = o;\n    }\n    geoms.add(geom);\n  }\n  return geoms\n};\nCascadedPolygonUnion.prototype.extractByEnvelope = function extractByEnvelope (env, geom, disjointGeoms) {\n  var intersectingGeoms = new ArrayList();\n  for (var i = 0; i < geom.getNumGeometries(); i++) {\n    var elem = geom.getGeometryN(i);\n    if (elem.getEnvelopeInternal().intersects(env)) { intersectingGeoms.add(elem); } else { disjointGeoms.add(elem); }\n  }\n  return this._geomFactory.buildGeometry(intersectingGeoms)\n};\nCascadedPolygonUnion.prototype.unionOptimized = function unionOptimized (g0, g1) {\n  var g0Env = g0.getEnvelopeInternal();\n  var g1Env = g1.getEnvelopeInternal();\n  if (!g0Env.intersects(g1Env)) {\n    var combo = GeometryCombiner.combine(g0, g1);\n    return combo\n  }\n  if (g0.getNumGeometries() <= 1 && g1.getNumGeometries() <= 1) { return this.unionActual(g0, g1) }\n  var commonEnv = g0Env.intersection(g1Env);\n  return this.unionUsingEnvelopeIntersection(g0, g1, commonEnv)\n};\nCascadedPolygonUnion.prototype.union = function union () {\n  if (this._inputPolys === null) { throw new Error('union() method cannot be called twice') }\n  if (this._inputPolys.isEmpty()) { return null }\n  this._geomFactory = this._inputPolys.iterator().next().getFactory();\n  var index = new STRtree(CascadedPolygonUnion.STRTREE_NODE_CAPACITY);\n  for (var i = this._inputPolys.iterator(); i.hasNext();) {\n    var item = i.next();\n    index.insert(item.getEnvelopeInternal(), item);\n  }\n  this._inputPolys = null;\n  var itemTree = index.itemsTree();\n  var unionAll = this.unionTree(itemTree);\n  return unionAll\n};\nCascadedPolygonUnion.prototype.binaryUnion = function binaryUnion () {\n  if (arguments.length === 1) {\n    var geoms = arguments[0];\n    return this.binaryUnion(geoms, 0, geoms.size())\n  } else if (arguments.length === 3) {\n    var geoms$1 = arguments[0];\n    var start = arguments[1];\n    var end = arguments[2];\n    if (end - start <= 1) {\n      var g0 = CascadedPolygonUnion.getGeometry(geoms$1, start);\n      return this.unionSafe(g0, null)\n    } else if (end - start === 2) {\n      return this.unionSafe(CascadedPolygonUnion.getGeometry(geoms$1, start), CascadedPolygonUnion.getGeometry(geoms$1, start + 1))\n    } else {\n      var mid = Math.trunc((end + start) / 2);\n      var g0$1 = this.binaryUnion(geoms$1, start, mid);\n      var g1 = this.binaryUnion(geoms$1, mid, end);\n      return this.unionSafe(g0$1, g1)\n    }\n  }\n};\nCascadedPolygonUnion.prototype.repeatedUnion = function repeatedUnion (geoms) {\n  var union = null;\n  for (var i = geoms.iterator(); i.hasNext();) {\n    var g = i.next();\n    if (union === null) { union = g.copy(); } else { union = union.union(g); }\n  }\n  return union\n};\nCascadedPolygonUnion.prototype.unionSafe = function unionSafe (g0, g1) {\n  if (g0 === null && g1 === null) { return null }\n  if (g0 === null) { return g1.copy() }\n  if (g1 === null) { return g0.copy() }\n  return this.unionOptimized(g0, g1)\n};\nCascadedPolygonUnion.prototype.unionActual = function unionActual (g0, g1) {\n  return CascadedPolygonUnion.restrictToPolygons(g0.union(g1))\n};\nCascadedPolygonUnion.prototype.unionTree = function unionTree (geomTree) {\n  var geoms = this.reduceToGeometries(geomTree);\n  var union = this.binaryUnion(geoms);\n  return union\n};\nCascadedPolygonUnion.prototype.unionUsingEnvelopeIntersection = function unionUsingEnvelopeIntersection (g0, g1, common) {\n  var disjointPolys = new ArrayList();\n  var g0Int = this.extractByEnvelope(common, g0, disjointPolys);\n  var g1Int = this.extractByEnvelope(common, g1, disjointPolys);\n  var union = this.unionActual(g0Int, g1Int);\n  disjointPolys.add(union);\n  var overallUnion = GeometryCombiner.combine(disjointPolys);\n  return overallUnion\n};\nCascadedPolygonUnion.prototype.bufferUnion = function bufferUnion () {\n  if (arguments.length === 1) {\n    var geoms = arguments[0];\n    var factory = geoms.get(0).getFactory();\n    var gColl = factory.buildGeometry(geoms);\n    var unionAll = gColl.buffer(0.0);\n    return unionAll\n  } else if (arguments.length === 2) {\n    var g0 = arguments[0];\n    var g1 = arguments[1];\n    var factory$1 = g0.getFactory();\n    var gColl$1 = factory$1.createGeometryCollection([g0, g1]);\n    var unionAll$1 = gColl$1.buffer(0.0);\n    return unionAll$1\n  }\n};\nCascadedPolygonUnion.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nCascadedPolygonUnion.prototype.getClass = function getClass () {\n  return CascadedPolygonUnion\n};\nCascadedPolygonUnion.restrictToPolygons = function restrictToPolygons (g) {\n  if (hasInterface(g, Polygonal)) {\n    return g\n  }\n  var polygons = PolygonExtracter.getPolygons(g);\n  if (polygons.size() === 1) { return polygons.get(0) }\n  return g.getFactory().createMultiPolygon(GeometryFactory.toPolygonArray(polygons))\n};\nCascadedPolygonUnion.getGeometry = function getGeometry (list, index) {\n  if (index >= list.size()) { return null }\n  return list.get(index)\n};\nCascadedPolygonUnion.union = function union (polys) {\n  var op = new CascadedPolygonUnion(polys);\n  return op.union()\n};\nstaticAccessors$47.STRTREE_NODE_CAPACITY.get = function () { return 4 };\n\nObject.defineProperties( CascadedPolygonUnion, staticAccessors$47 );\n\nvar UnionOp = function UnionOp () {};\n\nUnionOp.prototype.interfaces_ = function interfaces_ () {\n  return []\n};\nUnionOp.prototype.getClass = function getClass () {\n  return UnionOp\n};\nUnionOp.union = function union (g, other) {\n  if (g.isEmpty() || other.isEmpty()) {\n    if (g.isEmpty() && other.isEmpty()) { return OverlayOp.createEmptyResult(OverlayOp.UNION, g, other, g.getFactory()) }\n    if (g.isEmpty()) { return other.copy() }\n    if (other.isEmpty()) { return g.copy() }\n  }\n  g.checkNotGeometryCollection(g);\n  g.checkNotGeometryCollection(other);\n  return SnapIfNeededOverlayOp.overlayOp(g, other, OverlayOp.UNION)\n};\n\n/**\n * Finds the difference between two {@link Polygon|polygons} by clipping the second polygon from the first.\n *\n * @name difference\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @returns {Feature<Polygon|MultiPolygon>|null} a Polygon or MultiPolygon feature showing the area of `polygon1` excluding the area of `polygon2` (if empty returns `null`)\n * @example\n * var polygon1 = turf.polygon([[\n *   [128, -26],\n *   [141, -26],\n *   [141, -21],\n *   [128, -21],\n *   [128, -26]\n * ]], {\n *   \"fill\": \"#F00\",\n *   \"fill-opacity\": 0.1\n * });\n * var polygon2 = turf.polygon([[\n *   [126, -28],\n *   [140, -28],\n *   [140, -20],\n *   [126, -20],\n *   [126, -28]\n * ]], {\n *   \"fill\": \"#00F\",\n *   \"fill-opacity\": 0.1\n * });\n *\n * var difference = turf.difference(polygon1, polygon2);\n *\n * //addToMap\n * var addToMap = [polygon1, polygon2, difference];\n */\nfunction difference(polygon1, polygon2) {\n    var geom1 = getGeom(polygon1);\n    var geom2 = getGeom(polygon2);\n    var properties = polygon1.properties || {};\n\n    // Issue #721 - JSTS can't handle empty polygons\n    geom1 = removeEmptyPolygon(geom1);\n    geom2 = removeEmptyPolygon(geom2);\n    if (!geom1) return null;\n    if (!geom2) return feature(geom1, properties);\n\n    // JSTS difference operation\n    var reader = new GeoJSONReader();\n    var a = reader.read(geom1);\n    var b = reader.read(geom2);\n    var differenced = OverlayOp.difference(a, b);\n    if (differenced.isEmpty()) return null;\n    var writer = new GeoJSONWriter();\n    var geom = writer.write(differenced);\n\n    return feature(geom, properties);\n}\n\n/**\n * Detect Empty Polygon\n *\n * @private\n * @param {Geometry<Polygon|MultiPolygon>} geom Geometry Object\n * @returns {Geometry<Polygon|MultiPolygon>|null} removed any polygons with no areas\n */\nfunction removeEmptyPolygon(geom) {\n    switch (geom.type) {\n    case 'Polygon':\n        if (area$1(geom) > 1) return geom;\n        return null;\n    case 'MultiPolygon':\n        var coordinates = [];\n        flattenEach(geom, function (feature$$1) {\n            if (area$1(feature$$1) > 1) coordinates.push(feature$$1.geometry.coordinates);\n        });\n        if (coordinates.length) return {type: 'MultiPolygon', coordinates: coordinates};\n    }\n}\n\n// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nvar adder = function() {\n  return new Adder;\n};\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add$1(temp, y, this.t);\n    add$1(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add$1(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n\nvar epsilon$1 = 1e-6;\n\nvar pi = Math.PI;\nvar halfPi = pi / 2;\nvar quarterPi = pi / 4;\nvar tau = pi * 2;\n\nvar degrees = 180 / pi;\nvar radians = pi / 180;\n\nvar abs = Math.abs;\nvar atan = Math.atan;\nvar atan2 = Math.atan2;\nvar cos = Math.cos;\n\nvar exp = Math.exp;\n\nvar log = Math.log;\n\nvar sin = Math.sin;\n\nvar sqrt = Math.sqrt;\nvar tan = Math.tan;\n\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nfunction asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nfunction noop() {}\n\nfunction streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nvar geoStream = function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n};\n\nvar areaRingSum = adder();\n\nvar areaSum = adder();\n\nfunction spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nfunction cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nfunction cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nfunction cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nfunction cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nfunction cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nfunction cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n\nvar deltaSum = adder();\n\nvar compose = function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n};\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nfunction rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nvar rotation = function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n};\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nfunction circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon$1) % tau;\n}\n\nvar clipBuffer = function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n};\n\nvar clipLine = function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n};\n\nvar pointEqual = function(a, b) {\n  return abs(a[0] - b[0]) < epsilon$1 && abs(a[1] - b[1]) < epsilon$1;\n};\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nvar clipPolygon$1 = function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n};\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n\nvar ascending = function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n};\n\nvar bisector = function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n};\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\nvar ascendingBisect = bisector(ascending);\n\nvar merge$1 = function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n};\n\nvar clipMax = 1e9;\nvar clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nfunction clipExtent(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon$1 ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon$1 ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon$1 ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge$1(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipPolygon$1(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n\nvar sum$1 = adder();\n\nvar polygonContains = function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum$1.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum$1.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon$1 || angle < epsilon$1 && sum$1 < -epsilon$1) ^ (winding & 1);\n};\n\nvar lengthSum = adder();\n\nvar identity$2 = function(x) {\n  return x;\n};\n\nvar areaSum$1 = adder();\nvar areaRingSum$1 = adder();\n\nvar x0$2 = Infinity;\nvar y0$2 = x0$2;\nvar x1 = -x0$2;\nvar y1 = x1;\n\nvar boundsStream$1 = {\n  point: boundsPoint$1,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0$2, y0$2], [x1, y1]];\n    x1 = y1 = -(y0$2 = x0$2 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint$1(x, y) {\n  if (x < x0$2) x0$2 = x;\n  if (x > x1) x1 = x;\n  if (y < y0$2) y0$2 = y;\n  if (y > y1) y1 = y;\n}\n\nvar lengthSum$1 = adder();\n\nvar clip = function(pointVisible, clipLine, interpolate, start) {\n  return function(rotate, sink) {\n    var line = clipLine(sink),\n        rotatedStart = rotate.invert(start[0], start[1]),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge$1(segments);\n        var startInside = polygonContains(polygon, rotatedStart);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipPolygon$1(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      var point = rotate(lambda, phi);\n      if (pointVisible(lambda = point[0], phi = point[1])) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      var point = rotate(lambda, phi);\n      line.point(point[0], point[1]);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      var point = rotate(lambda, phi);\n      ringSink.point(point[0], point[1]);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n};\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon$1 : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon$1 : halfPi - b[1]);\n}\n\nvar clipAntimeridian = clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon$1) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon$1) lambda0 -= sign0 * epsilon$1; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon$1) lambda1 -= sign1 * epsilon$1;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon$1\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon$1) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n\nvar clipCircle = function(radius, delta) {\n  var cr = cos(radius),\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon$1; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon$1;\n            point1[1] += epsilon$1;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon$1,\n        meridian = polar || delta < epsilon$1;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon$1 ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n};\n\nfunction transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n\nfunction fitExtent(projection, extent, object) {\n  var w = extent[1][0] - extent[0][0],\n      h = extent[1][1] - extent[0][1],\n      clip = projection.clipExtent && projection.clipExtent();\n\n  projection\n      .scale(150)\n      .translate([0, 0]);\n\n  if (clip != null) projection.clipExtent(null);\n\n  geoStream(object, projection.stream(boundsStream$1));\n\n  var b = boundsStream$1.result(),\n      k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n      x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n      y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n\n  if (clip != null) projection.clipExtent(clip);\n\n  return projection\n      .scale(k * 150)\n      .translate([x, y]);\n}\n\nfunction fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nvar maxDepth = 16;\nvar cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nvar resample = function(project, delta2) {\n  return +delta2 ? resample$1(project, delta2) : resampleNone(project);\n};\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample$1(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon$1 || abs(lambda0 - lambda1) < epsilon$1 ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nfunction projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      dx, dy, lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n      theta = null, preclip = clipAntimeridian, // clip angle\n      x0 = null, y0, x1, y1, postclip = identity$2, // clip extent\n      delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    point = projectRotate(point[0] * radians, point[1] * radians);\n    return [point[0] * k + dx, dy - point[1] * k];\n  }\n\n  function invert(point) {\n    point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  function projectTransform(x, y) {\n    return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(preclip(rotate, projectResample(postclip(cacheStream = stream))));\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians, 6 * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity$2) : clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent$$1, object) {\n    return fitExtent(projection, extent$$1, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  function recenter() {\n    projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n    var center = project(lambda, phi);\n    dx = x - center[0] * k;\n    dy = y + center[1] * k;\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n\nfunction mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nfunction mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? (_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n\nfunction transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nvar geoTransverseMercator = function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n};\n\n/**\n * Calculates a buffer for input features for a given radius. Units supported are miles, kilometers, and degrees.\n *\n * When using a negative radius, the resulting geometry may be invalid if\n * it's too small compared to the radius magnitude. If the input is a\n * FeatureCollection, only valid members will be returned in the output\n * FeatureCollection - i.e., the output collection may have fewer members than\n * the input, or even be empty.\n *\n * @name buffer\n * @param {FeatureCollection|Geometry|Feature<any>} geojson input to be buffered\n * @param {number} radius distance to draw the buffer (negative values are allowed)\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=\"kilometers\"] any of the options supported by turf units\n * @param {number} [options.steps=64] number of steps\n * @returns {FeatureCollection|Feature<Polygon|MultiPolygon>|undefined} buffered features\n * @example\n * var point = turf.point([-90.548630, 14.616599]);\n * var buffered = turf.buffer(point, 500, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [point, buffered]\n */\nfunction buffer$1(geojson, radius, options) {\n    // Optional params\n    options = options || {};\n    var units = options.units;\n    var steps = options.steps || 64;\n\n    // validation\n    if (!geojson) throw new Error('geojson is required');\n    if (typeof options !== 'object') throw new Error('options must be an object');\n    if (typeof steps !== 'number') throw new Error('steps must be an number');\n\n    // Allow negative buffers (\"erosion\") or zero-sized buffers (\"repair geometry\")\n    if (radius === undefined) throw new Error('radius is required');\n    if (steps <= 0) throw new Error('steps must be greater than 0');\n\n    // default params\n    steps = steps || 64;\n    units = units || 'kilometers';\n\n    var results = [];\n    switch (geojson.type) {\n    case 'GeometryCollection':\n        geomEach(geojson, function (geometry$$1) {\n            var buffered = bufferFeature(geometry$$1, radius, units, steps);\n            if (buffered) results.push(buffered);\n        });\n        return featureCollection(results);\n    case 'FeatureCollection':\n        featureEach(geojson, function (feature$$1) {\n            var multiBuffered = bufferFeature(feature$$1, radius, units, steps);\n            if (multiBuffered) {\n                featureEach(multiBuffered, function (buffered) {\n                    if (buffered) results.push(buffered);\n                });\n            }\n        });\n        return featureCollection(results);\n    }\n    return bufferFeature(geojson, radius, units, steps);\n}\n\n/**\n * Buffer single Feature/Geometry\n *\n * @private\n * @param {Feature<any>} geojson input to be buffered\n * @param {number} radius distance to draw the buffer\n * @param {string} [units='kilometers'] any of the options supported by turf units\n * @param {number} [steps=64] number of steps\n * @returns {Feature<Polygon|MultiPolygon>} buffered feature\n */\nfunction bufferFeature(geojson, radius, units, steps) {\n    var properties = geojson.properties || {};\n    var geometry$$1 = (geojson.type === 'Feature') ? geojson.geometry : geojson;\n\n    // Geometry Types faster than jsts\n    if (geometry$$1.type === 'GeometryCollection') {\n        var results = [];\n        geomEach(geojson, function (geometry$$1) {\n            var buffered = bufferFeature(geometry$$1, radius, units, steps);\n            if (buffered) results.push(buffered);\n        });\n        return featureCollection(results);\n    }\n\n    // Project GeoJSON to Transverse Mercator projection (convert to Meters)\n    var projected;\n    var bbox$$1 = bbox(geojson);\n    var needsTransverseMercator = bbox$$1[1] > 50 && bbox$$1[3] > 50;\n\n    if (needsTransverseMercator) {\n        projected = {\n            type: geometry$$1.type,\n            coordinates: projectCoords(geometry$$1.coordinates, defineProjection(geometry$$1))\n        };\n    } else {\n        projected = toMercator(geometry$$1);\n    }\n\n    // JSTS buffer operation\n    var reader = new GeoJSONReader();\n    var geom = reader.read(projected);\n    var distance = radiansToLength(lengthToRadians(radius, units), 'meters');\n    var buffered = BufferOp.bufferOp(geom, distance);\n    var writer = new GeoJSONWriter();\n    buffered = writer.write(buffered);\n\n    // Detect if empty geometries\n    if (coordsIsNaN(buffered.coordinates)) return undefined;\n\n    // Unproject coordinates (convert to Degrees)\n    var result;\n    if (needsTransverseMercator) {\n        result = {\n            type: buffered.type,\n            coordinates: unprojectCoords(buffered.coordinates, defineProjection(geometry$$1))\n        };\n    } else {\n        result = toWgs84(buffered);\n    }\n\n    return (result.geometry) ? result : feature(result, properties);\n}\n\n/**\n * Coordinates isNaN\n *\n * @private\n * @param {Array<any>} coords GeoJSON Coordinates\n * @returns {boolean} if NaN exists\n */\nfunction coordsIsNaN(coords) {\n    if (Array.isArray(coords[0])) return coordsIsNaN(coords[0]);\n    return isNaN(coords[0]);\n}\n\n/**\n * Project coordinates to projection\n *\n * @private\n * @param {Array<any>} coords to project\n * @param {GeoProjection} proj D3 Geo Projection\n * @returns {Array<any>} projected coordinates\n */\nfunction projectCoords(coords, proj) {\n    if (typeof coords[0] !== 'object') return proj(coords);\n    return coords.map(function (coord) {\n        return projectCoords(coord, proj);\n    });\n}\n\n/**\n * Un-Project coordinates to projection\n *\n * @private\n * @param {Array<any>} coords to un-project\n * @param {GeoProjection} proj D3 Geo Projection\n * @returns {Array<any>} un-projected coordinates\n */\nfunction unprojectCoords(coords, proj) {\n    if (typeof coords[0] !== 'object') return proj.invert(coords);\n    return coords.map(function (coord) {\n        return unprojectCoords(coord, proj);\n    });\n}\n\n/**\n * Define Transverse Mercator projection\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Base projection on center of GeoJSON\n * @returns {GeoProjection} D3 Geo Transverse Mercator Projection\n */\nfunction defineProjection(geojson) {\n    var coords = center(geojson).geometry.coordinates.reverse();\n    var rotate = coords.map(function (coord) { return -coord; });\n    return geoTransverseMercator()\n        .center(coords)\n        .rotate(rotate)\n        .scale(earthRadius);\n}\n\n/**\n * Takes two or more {@link Polygon|polygons} and returns a combined polygon. If the input polygons are not contiguous, this function returns a {@link MultiPolygon} feature.\n *\n * @name union\n * @param {...Feature<Polygon>} A polygon to combine\n * @returns {Feature<(Polygon|MultiPolygon)>} a combined {@link Polygon} or {@link MultiPolygon} feature\n * @example\n * var poly1 = turf.polygon([[\n *     [-82.574787, 35.594087],\n *     [-82.574787, 35.615581],\n *     [-82.545261, 35.615581],\n *     [-82.545261, 35.594087],\n *     [-82.574787, 35.594087]\n * ]], {\"fill\": \"#0f0\"});\n * var poly2 = turf.polygon([[\n *     [-82.560024, 35.585153],\n *     [-82.560024, 35.602602],\n *     [-82.52964, 35.602602],\n *     [-82.52964, 35.585153],\n *     [-82.560024, 35.585153]\n * ]], {\"fill\": \"#00f\"});\n *\n * var union = turf.union(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, union];\n */\nfunction union() {\n    var reader = new GeoJSONReader();\n    var result = reader.read(JSON.stringify(arguments[0].geometry));\n\n    for (var i = 1; i < arguments.length; i++) {\n        result = UnionOp.union(result, reader.read(JSON.stringify(arguments[i].geometry)));\n    }\n\n    var writer = new GeoJSONWriter();\n    result = writer.write(result);\n\n    return {\n        type: 'Feature',\n        geometry: result,\n        properties: arguments[0].properties\n    };\n}\n\n// depend on jsts for now http://bjornharrtell.github.io/jsts/\n/**\n * Takes two {@link Polygon|polygons} and finds their intersection. If they share a border, returns the border; if they don't intersect, returns undefined.\n *\n * @name intersect\n * @param {Feature<Polygon>} poly1 the first polygon\n * @param {Feature<Polygon>} poly2 the second polygon\n * @returns {Feature|null} returns a feature representing the point(s) they share (in case of a {@link Point}  or {@link MultiPoint}), the borders they share (in case of a {@link LineString} or a {@link MultiLineString}), the area they share (in case of {@link Polygon} or {@link MultiPolygon}). If they do not share any point, returns `null`.\n * @example\n * var poly1 = turf.polygon([[\n *   [-122.801742, 45.48565],\n *   [-122.801742, 45.60491],\n *   [-122.584762, 45.60491],\n *   [-122.584762, 45.48565],\n *   [-122.801742, 45.48565]\n * ]]);\n *\n * var poly2 = turf.polygon([[\n *   [-122.520217, 45.535693],\n *   [-122.64038, 45.553967],\n *   [-122.720031, 45.526554],\n *   [-122.669906, 45.507309],\n *   [-122.723464, 45.446643],\n *   [-122.532577, 45.408574],\n *   [-122.487258, 45.477466],\n *   [-122.520217, 45.535693]\n * ]]);\n *\n * var intersection = turf.intersect(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, intersection];\n */\nfunction intersect$2(poly1, poly2) {\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n\n    // Return null if geometry is too narrow in coordinate precision\n    // fixes topology errors with JSTS\n    // https://github.com/Turfjs/turf/issues/463\n    // https://github.com/Turfjs/turf/pull/1004\n    if (cleanCoords(truncate(geom2, {precision: 4})).coordinates[0].length < 4) return null;\n    if (cleanCoords(truncate(geom1, {precision: 4})).coordinates[0].length < 4) return null;\n\n    var reader = new GeoJSONReader();\n    var a = reader.read(truncate(geom1));\n    var b = reader.read(truncate(geom2));\n    var intersection = OverlayOp.intersection(a, b);\n\n    // https://github.com/Turfjs/turf/issues/951\n    if (intersection.isEmpty()) return null;\n\n    var writer = new GeoJSONWriter();\n    var geom = writer.write(intersection);\n    return feature(geom);\n}\n\n/**\n * @license get-closest https://github.com/cosmosio/get-closest\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014-2017 Olivier Scherrer <pode.fr@gmail.com>\n */\n\n/**\n * Get the closest number in an array\n *\n * @private\n * @param {number} item the base number\n * @param {Array} array the array to search into\n * @param {Function} getDiff returns the difference between the base number and\n *   and the currently read item in the array. The item which returned the smallest difference wins.\n * @returns {Object} Get Closest\n */\nfunction _getClosest(item, array, getDiff) {\n    var closest,\n        diff;\n\n    if (!Array.isArray(array)) {\n        throw new Error('Get closest expects an array as second argument');\n    }\n\n    array.forEach(function (comparedItem, comparedItemIndex) {\n        var thisDiff = getDiff(comparedItem, item);\n\n        if (thisDiff >= 0 && (typeof diff == 'undefined' || thisDiff < diff)) {\n            diff = thisDiff;\n            closest = comparedItemIndex;\n        }\n    });\n\n    return closest;\n}\n\n/**\n * Get the closest number in an array given a base number\n *\n * @private\n * @param {number} item the base number\n * @param {Array<number>} array the array of numbers to search into\n * @returns {number} the index of the closest item in the array\n * @example\n * closestNumber(30, [20, 0, 50, 29])\n * //= will return 3 as 29 is the closest item\n */\n\n\n/**\n * Get the closest greater number in an array given a base number\n *\n * @private\n * @param {number} item the base number\n * @param {Array<number>} array the array of numbers to search into\n * @returns {number} the index of the closest item in the array\n * @example\n * closestGreaterNumber(30, [20, 0, 50, 29])\n * //= will return 2 as 50 is the closest greater item\n */\nfunction closestGreaterNumber(item, array) {\n    return _getClosest(item, array, function (comparedItem, item) {\n        return comparedItem - item;\n    });\n}\n\n/**\n * Get the closest lower number in an array given a base number\n *\n * @private\n * @param {number} item the base number\n * @param {Array<number>} array the array of numbers to search into\n * @returns {number} the index of the closest item in the array\n * @example\n * closestLowerNumber(30, [20, 0, 50, 29])\n * //= will return 0 as 20 is the closest lower item\n */\n\n\n/**\n * Get the closest item in an array given a base item and a comparator function\n *\n * @private\n * @param {*} item the base item\n * @param {Array} array an array of items\n * @param {Function} comparator a comparatof function to compare the items\n * @returns {Object} Closest Custom\n * @example\n * closestCustom(\"lundi\", [\"mundi\", \"mardi\"], getLevenshteinDistance)\n * //= will return 0 for \"lundi\"\n *\n * // The function looks like:\n *\n * // comparedItem comes from the array\n * // baseItem is the item to compare the others to\n * // It returns a number\n * function comparator(comparedItem, baseItem) {\n *     return comparedItem - baseItem;\n * }\n */\n\n/**\n * Dissolves a FeatureCollection of {@link polygon} features, filtered by an optional property name:value.\n * Note that {@link mulitpolygon} features within the collection are not supported\n *\n * @name dissolve\n * @param {FeatureCollection<Polygon>} featureCollection input feature collection to be dissolved\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.propertyName] features with equals 'propertyName' in `properties` will be merged\n * @returns {FeatureCollection<Polygon>} a FeatureCollection containing the dissolved polygons\n * @example\n * var features = turf.featureCollection([\n *   turf.polygon([[[0, 0], [0, 1], [1, 1], [1, 0], [0, 0]]], {combine: 'yes'}),\n *   turf.polygon([[[0, -1], [0, 0], [1, 0], [1, -1], [0,-1]]], {combine: 'yes'}),\n *   turf.polygon([[[1,-1],[1, 0], [2, 0], [2, -1], [1, -1]]], {combine: 'no'}),\n * ]);\n *\n * var dissolved = turf.dissolve(features, {propertyName: 'combine'});\n *\n * //addToMap\n * var addToMap = [features, dissolved]\n */\nfunction dissolve$1(featureCollection$$1, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    var propertyName = options.propertyName;\n\n    // Input validation\n    collectionOf(featureCollection$$1, 'Polygon', 'dissolve');\n\n    // Main\n    var fc = clone(featureCollection$$1);\n    var features = fc.features;\n\n    var originalIndexOfItemsRemoved = [];\n\n    features.forEach(function (f, i) {\n        f.properties.origIndexPosition = i;\n    });\n    var tree = geojsonRbush();\n    tree.load(fc);\n\n    for (var i in features) {\n        var polygon$$1 = features[i];\n\n        var featureChanged = false;\n\n        tree.search(polygon$$1).features.forEach(function (potentialMatchingFeature) {\n            polygon$$1 = features[i];\n\n            var matchFeaturePosition = potentialMatchingFeature.properties.origIndexPosition;\n\n            if (originalIndexOfItemsRemoved.length > 0 && matchFeaturePosition !== 0) {\n                if (matchFeaturePosition > originalIndexOfItemsRemoved[originalIndexOfItemsRemoved.length - 1]) {\n                    matchFeaturePosition = matchFeaturePosition - (originalIndexOfItemsRemoved.length);\n                } else {\n                    var closestNumber$$1 = closestGreaterNumber(matchFeaturePosition, originalIndexOfItemsRemoved);\n                    if (closestNumber$$1 !== 0) {\n                        matchFeaturePosition = matchFeaturePosition - closestNumber$$1;\n                    }\n                }\n            }\n\n            if (matchFeaturePosition === +i) return;\n\n            var matchFeature = features[matchFeaturePosition];\n            if (!matchFeature || !polygon$$1) return;\n\n            if (propertyName !== undefined &&\n                matchFeature.properties[propertyName] !== polygon$$1.properties[propertyName]) return;\n\n            if (!booleanOverlap(polygon$$1, matchFeature) || !ringsIntersect(polygon$$1, matchFeature)) return;\n\n            features[i] = union(polygon$$1, matchFeature);\n\n            originalIndexOfItemsRemoved.push(potentialMatchingFeature.properties.origIndexPosition);\n            originalIndexOfItemsRemoved.sort(function (a, b) {\n                return a - b;\n            });\n\n            tree.remove(potentialMatchingFeature);\n            features.splice(matchFeaturePosition, 1);\n            polygon$$1.properties.origIndexPosition = i;\n            tree.remove(polygon$$1, function (a, b) {\n                return a.properties.origIndexPosition === b.properties.origIndexPosition;\n            });\n            featureChanged = true;\n        });\n\n        if (featureChanged) {\n            if (!polygon$$1) continue;\n            polygon$$1.properties.origIndexPosition = i;\n            tree.insert(polygon$$1);\n            i--;\n        }\n    }\n\n    features.forEach(function (f) {\n        delete f.properties.origIndexPosition;\n        delete f.bbox;\n    });\n\n    return fc;\n}\n\nfunction ringsIntersect(poly1, poly2) {\n    var line1 = lineString(coordAll(poly1));\n    var line2 = lineString(coordAll(poly2));\n    var points$$1 = lineIntersect(line1, line2).features;\n    return points$$1.length > 0;\n}\n\n/**\n * Takes a bounding box and the diameter of the cell and returns a {@link FeatureCollection} of flat-topped\n * hexagons or triangles ({@link Polygon} features) aligned in an \"odd-q\" vertical grid as\n * described in [Hexagonal Grids](http://www.redblobgames.com/grids/hexagons/).\n *\n * @name hexGrid\n * @param {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @param {number} cellSide length of the side of the the hexagons or triangles, in units. It will also coincide with the\n * radius of the circumcircle of the hexagons.\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] used in calculating cell size, can be degrees, radians, miles, or kilometers\n * @param {Object} [options.properties={}] passed to each hexagon or triangle of the grid\n * @param {Feature<Polygon|MultiPolygon>} [options.mask] if passed a Polygon or MultiPolygon, the grid Points will be created only inside it\n * @param {boolean} [options.triangles=false] whether to return as triangles instead of hexagons\n * @returns {FeatureCollection<Polygon>} a hexagonal grid\n * @example\n * var bbox = [-96,31,-84,40];\n * var cellSide = 50;\n * var options = {units: 'miles'};\n *\n * var hexgrid = turf.hexGrid(bbox, cellSide, options);\n *\n * //addToMap\n * var addToMap = [hexgrid];\n */\nfunction hexGrid(bbox, cellSide, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    // var units = options.units;\n    var properties = options.properties || {};\n    var triangles = options.triangles;\n    var mask = options.mask;\n\n    // validation\n    if (cellSide === null || cellSide === undefined) throw new Error('cellSide is required');\n    if (!isNumber(cellSide)) throw new Error('cellSide is invalid');\n    if (!bbox) throw new Error('bbox is required');\n    if (!Array.isArray(bbox)) throw new Error('bbox must be array');\n    if (bbox.length !== 4) throw new Error('bbox must contain 4 numbers');\n    if (mask && ['Polygon', 'MultiPolygon'].indexOf(getType(mask)) === -1) throw new Error('options.mask must be a (Multi)Polygon');\n\n    var west = bbox[0];\n    var south = bbox[1];\n    var east = bbox[2];\n    var north = bbox[3];\n    var centerY = (south + north) / 2;\n    var centerX = (west + east) / 2;\n\n    // https://github.com/Turfjs/turf/issues/758\n    var xFraction = cellSide * 2 / (distance([west, centerY], [east, centerY], options));\n    var cellWidth = xFraction * (east - west);\n    var yFraction = cellSide * 2 / (distance([centerX, south], [centerX, north], options));\n    var cellHeight = yFraction * (north - south);\n    var radius = cellWidth / 2;\n\n    var hex_width = radius * 2;\n    var hex_height = Math.sqrt(3) / 2 * cellHeight;\n\n    var box_width = east - west;\n    var box_height = north - south;\n\n    var x_interval = 3 / 4 * hex_width;\n    var y_interval = hex_height;\n\n    // adjust box_width so all hexagons will be inside the bbox\n    var x_span = (box_width - hex_width) / (hex_width - radius / 2);\n    var x_count = Math.floor(x_span);\n\n    var x_adjust = ((x_count * x_interval - radius / 2) - box_width) / 2 - radius / 2 + x_interval / 2;\n\n    // adjust box_height so all hexagons will be inside the bbox\n    var y_count = Math.floor((box_height - hex_height) / hex_height);\n\n    var y_adjust = (box_height - y_count * hex_height) / 2;\n\n    var hasOffsetY = y_count * hex_height - box_height > hex_height / 2;\n    if (hasOffsetY) {\n        y_adjust -= hex_height / 4;\n    }\n\n    // Precompute cosines and sines of angles used in hexagon creation for performance gain\n    var cosines = [];\n    var sines = [];\n    for (var i = 0; i < 6; i++) {\n        var angle = 2 * Math.PI / 6 * i;\n        cosines.push(Math.cos(angle));\n        sines.push(Math.sin(angle));\n    }\n\n    var results = [];\n    for (var x = 0; x <= x_count; x++) {\n        for (var y = 0; y <= y_count; y++) {\n\n            var isOdd = x % 2 === 1;\n            if (y === 0 && isOdd) continue;\n            if (y === 0 && hasOffsetY) continue;\n\n            var center_x = x * x_interval + west - x_adjust;\n            var center_y = y * y_interval + south + y_adjust;\n\n            if (isOdd) {\n                center_y -= hex_height / 2;\n            }\n\n            if (triangles === true) {\n                hexTriangles(\n                    [center_x, center_y],\n                    cellWidth / 2,\n                    cellHeight / 2,\n                    properties,\n                    cosines,\n                    sines).forEach(function (triangle) {\n                    if (mask) {\n                        if (intersect$2(mask, triangle)) results.push(triangle);\n                    } else {\n                        results.push(triangle);\n                    }\n                });\n            } else {\n                var hex = hexagon(\n                    [center_x, center_y],\n                    cellWidth / 2,\n                    cellHeight / 2,\n                    properties,\n                    cosines,\n                    sines\n                );\n                if (mask) {\n                    if (intersect$2(mask, hex)) results.push(hex);\n                } else {\n                    results.push(hex);\n                }\n            }\n        }\n    }\n\n    return featureCollection(results);\n}\n\n/**\n * Creates hexagon\n *\n * @private\n * @param {Array<number>} center of the hexagon\n * @param {number} rx half hexagon width\n * @param {number} ry half hexagon height\n * @param {Object} properties passed to each hexagon\n * @param {Array<number>} cosines precomputed\n * @param {Array<number>} sines precomputed\n * @returns {Feature<Polygon>} hexagon\n */\nfunction hexagon(center, rx, ry, properties, cosines, sines) {\n    var vertices = [];\n    for (var i = 0; i < 6; i++) {\n        var x = center[0] + rx * cosines[i];\n        var y = center[1] + ry * sines[i];\n        vertices.push([x, y]);\n    }\n    //first and last vertex must be the same\n    vertices.push(vertices[0].slice());\n    return polygon([vertices], properties);\n}\n\n/**\n * Creates triangles composing an hexagon\n *\n * @private\n * @param {Array<number>} center of the hexagon\n * @param {number} rx half triangle width\n * @param {number} ry half triangle height\n * @param {Object} properties passed to each triangle\n * @param {Array<number>} cosines precomputed\n * @param {Array<number>} sines precomputed\n * @returns {Array<Feature<Polygon>>} triangles\n */\nfunction hexTriangles(center, rx, ry, properties, cosines, sines) {\n    var triangles = [];\n    for (var i = 0; i < 6; i++) {\n        var vertices = [];\n        vertices.push(center);\n        vertices.push([\n            center[0] + rx * cosines[i],\n            center[1] + ry * sines[i]\n        ]);\n        vertices.push([\n            center[0] + rx * cosines[(i + 1) % 6],\n            center[1] + ry * sines[(i + 1) % 6]\n        ]);\n        vertices.push(center);\n        triangles.push(polygon([vertices], properties));\n    }\n    return triangles;\n}\n\n/**\n * Takes any type of {@link Polygon|polygon} and an optional mask and returns a {@link Polygon|polygon} exterior ring with holes.\n *\n * @name mask\n * @param {FeatureCollection|Feature<Polygon|MultiPolygon>} polygon GeoJSON Polygon used as interior rings or holes.\n * @param {Feature<Polygon>} [mask] GeoJSON Polygon used as the exterior ring (if undefined, the world extent is used)\n * @returns {Feature<Polygon>} Masked Polygon (exterior ring with holes).\n * @example\n * var polygon = turf.polygon([[[112, -21], [116, -36], [146, -39], [153, -24], [133, -10], [112, -21]]]);\n * var mask = turf.polygon([[[90, -55], [170, -55], [170, 10], [90, 10], [90, -55]]]);\n *\n * var masked = turf.mask(polygon, mask);\n *\n * //addToMap\n * var addToMap = [masked]\n */\nfunction mask(polygon$$1, mask) {\n    // Define mask\n    var maskPolygon = createMask(mask);\n\n    // Define polygon\n    var separated = separatePolygons(polygon$$1);\n    var polygonOuters = separated[0];\n    var polygonInners = separated[1];\n\n    // Union Outers & Inners\n    polygonOuters = unionPolygons(polygonOuters);\n    polygonInners = unionPolygons(polygonInners);\n\n    // Create masked area\n    var masked = buildMask(maskPolygon, polygonOuters, polygonInners);\n    return masked;\n}\n\n/**\n * Build Mask\n *\n * @private\n * @param {Feature<Polygon>} maskPolygon Mask Outer\n * @param {FeatureCollection<Polygon>} polygonOuters Polygon Outers\n * @param {FeatureCollection<Polygon>} polygonInners Polygon Inners\n * @returns {Feature<Polygon>} Feature Polygon\n */\nfunction buildMask(maskPolygon, polygonOuters, polygonInners) {\n    var coordinates = [];\n    coordinates.push(maskPolygon.geometry.coordinates[0]);\n\n    flattenEach(polygonOuters, function (feature$$1) {\n        coordinates.push(feature$$1.geometry.coordinates[0]);\n    });\n\n    flattenEach(polygonInners, function (feature$$1) {\n        coordinates.push(feature$$1.geometry.coordinates[0]);\n    });\n    return polygon(coordinates);\n}\n\n/**\n * Separate Polygons to inners & outers\n *\n * @private\n * @param {FeatureCollection|Feature<Polygon|MultiPolygon>} poly GeoJSON Feature\n * @returns {Array<FeatureCollection<Polygon>, FeatureCollection<Polygon>>} Outer & Inner lines\n */\nfunction separatePolygons(poly) {\n    var outers = [];\n    var inners = [];\n    flattenEach(poly, function (feature$$1) {\n        var coordinates = feature$$1.geometry.coordinates;\n        var featureOuter = coordinates[0];\n        var featureInner = coordinates.slice(1);\n        outers.push(polygon([featureOuter]));\n        featureInner.forEach(function (inner) {\n            inners.push(polygon([inner]));\n        });\n    });\n    return [featureCollection(outers), featureCollection(inners)];\n}\n\n/**\n * Create Mask Coordinates\n *\n * @private\n * @param {Feature<Polygon>} [mask] default to world if undefined\n * @returns {Feature<Polygon>} mask coordinate\n */\nfunction createMask(mask) {\n    var world = [[[180, 90], [-180, 90], [-180, -90], [180, -90], [180, 90]]];\n    var coordinates = mask && mask.geometry.coordinates || world;\n    return polygon(coordinates);\n}\n\n/**\n * Union Polygons\n *\n * @private\n * @param {FeatureCollection<Polygon>} polygons collection of polygons\n * @returns {FeatureCollection<Polygon>} polygons only apply union if they collide\n */\nfunction unionPolygons(polygons$$1) {\n    if (polygons$$1.features.length <= 1) return polygons$$1;\n\n    var tree = createIndex(polygons$$1);\n    var results = [];\n    var removed = {};\n\n    flattenEach(polygons$$1, function (currentFeature, currentIndex) {\n        // Exclude any removed features\n        if (removed[currentIndex]) return true;\n\n        // Don't search for itself\n        tree.remove({index: currentIndex}, filterByIndex);\n        removed[currentIndex] = true;\n\n        // Keep applying the union operation until no more overlapping features\n        while (true) {\n            var bbox$$1 = bbox(currentFeature);\n            var search = tree.search({\n                minX: bbox$$1[0],\n                minY: bbox$$1[1],\n                maxX: bbox$$1[2],\n                maxY: bbox$$1[3]\n            });\n            if (search.length > 0) {\n                var polys = search.map(function (item) {\n                    removed[item.index] = true;\n                    tree.remove({index: item.index}, filterByIndex);\n                    return item.geojson;\n                });\n                polys.push(currentFeature);\n                currentFeature = union.apply(this, polys);\n            }\n            // Done\n            if (search.length === 0) break;\n        }\n        results.push(currentFeature);\n    });\n\n    return featureCollection(results);\n}\n\n/**\n * Filter by Index - RBush helper function\n *\n * @private\n * @param {Object} a remove item\n * @param {Object} b search item\n * @returns {boolean} true if matches\n */\nfunction filterByIndex(a, b) {\n    return a.index === b.index;\n}\n\n/**\n * Create RBush Tree Index\n *\n * @private\n * @param {FeatureCollection<any>} features GeoJSON FeatureCollection\n * @returns {RBush} RBush Tree\n */\nfunction createIndex(features) {\n    var tree = rbush_1();\n    var load = [];\n    flattenEach(features, function (feature$$1, index) {\n        var bbox$$1 = bbox(feature$$1);\n        load.push({\n            minX: bbox$$1[0],\n            minY: bbox$$1[1],\n            maxX: bbox$$1[2],\n            maxY: bbox$$1[3],\n            geojson: feature$$1,\n            index: index\n        });\n    });\n    tree.load(load);\n    return tree;\n}\n\n/**\n * Creates a square grid from a bounding box, {@link Feature} or {@link FeatureCollection}.\n *\n * @name squareGrid\n * @param {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @param {number} cellSide of each cell, in units\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] used in calculating cellSide, can be degrees, radians, miles, or kilometers\n * @param {Feature<Polygon|MultiPolygon>} [options.mask] if passed a Polygon or MultiPolygon, the grid Points will be created only inside it\n * @param {Object} [options.properties={}] passed to each point of the grid\n * @returns {FeatureCollection<Polygon>} grid a grid of polygons\n * @example\n * var bbox = [-95, 30 ,-85, 40];\n * var cellSide = 50;\n * var options = {units: 'miles'};\n *\n * var squareGrid = turf.squareGrid(bbox, cellSide, options);\n *\n * //addToMap\n * var addToMap = [squareGrid]\n */\nfunction squareGrid(bbox, cellSide, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    // var units = options.units;\n    var properties = options.properties;\n    var mask = options.mask;\n\n    // Containers\n    var results = [];\n\n    // Input Validation\n    if (cellSide === null || cellSide === undefined) throw new Error('cellSide is required');\n    if (!isNumber(cellSide)) throw new Error('cellSide is invalid');\n    if (!bbox) throw new Error('bbox is required');\n    if (!Array.isArray(bbox)) throw new Error('bbox must be array');\n    if (bbox.length !== 4) throw new Error('bbox must contain 4 numbers');\n    if (mask && ['Polygon', 'MultiPolygon'].indexOf(getType(mask)) === -1) throw new Error('options.mask must be a (Multi)Polygon');\n\n    var west = bbox[0];\n    var south = bbox[1];\n    var east = bbox[2];\n    var north = bbox[3];\n\n    var xFraction = cellSide / (distance([west, south], [east, south], options));\n    var cellWidth = xFraction * (east - west);\n    var yFraction = cellSide / (distance([west, south], [west, north], options));\n    var cellHeight = yFraction * (north - south);\n\n    // rows & columns\n    var bboxWidth = (east - west);\n    var bboxHeight = (north - south);\n    var columns = Math.floor(bboxWidth / cellWidth);\n    var rows = Math.floor(bboxHeight / cellHeight);\n\n    // adjust origin of the grid\n    var deltaX = (bboxWidth - columns * cellWidth) / 2;\n    var deltaY = (bboxHeight - rows * cellHeight) / 2;\n\n    // iterate over columns & rows\n    var currentX = west + deltaX;\n    for (var column = 0; column < columns; column++) {\n        var currentY = south + deltaY;\n        for (var row = 0; row < rows; row++) {\n            var cellPoly = polygon([[\n                [currentX, currentY],\n                [currentX, currentY + cellHeight],\n                [currentX + cellWidth, currentY + cellHeight],\n                [currentX + cellWidth, currentY],\n                [currentX, currentY]\n            ]], properties);\n            if (mask) {\n                if (intersect$2(mask, cellPoly)) results.push(cellPoly);\n            } else {\n                results.push(cellPoly);\n            }\n\n            currentY += cellHeight;\n        }\n        currentX += cellWidth;\n    }\n    return featureCollection(results);\n}\n\n/**\n * Takes a bounding box and a cell depth and returns a set of triangular {@link Polygon|polygons} in a grid.\n *\n * @name triangleGrid\n * @param {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @param {number} cellSide dimension of each cell\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] used in calculating cellSide, can be degrees, radians, miles, or kilometers\n * @param {Feature<Polygon|MultiPolygon>} [options.mask] if passed a Polygon or MultiPolygon, the grid Points will be created only inside it\n * @param {Object} [options.properties={}] passed to each point of the grid\n * @returns {FeatureCollection<Polygon>} grid of polygons\n * @example\n * var bbox = [-95, 30 ,-85, 40];\n * var cellSide = 50;\n * var options = {units: 'miles'};\n *\n * var triangleGrid = turf.triangleGrid(bbox, cellSide, options);\n *\n * //addToMap\n * var addToMap = [triangleGrid];\n */\nfunction triangleGrid(bbox, cellSide, options) {\n    // Optional parameters\n    options = options || {};\n    if (!isObject(options)) throw new Error('options is invalid');\n    // var units = options.units;\n    var properties = options.properties;\n    var mask = options.mask;\n\n    // Containers\n    var results = [];\n\n    // Input Validation\n    if (cellSide === null || cellSide === undefined) throw new Error('cellSide is required');\n    if (!isNumber(cellSide)) throw new Error('cellSide is invalid');\n    if (!bbox) throw new Error('bbox is required');\n    if (!Array.isArray(bbox)) throw new Error('bbox must be array');\n    if (bbox.length !== 4) throw new Error('bbox must contain 4 numbers');\n    if (mask && ['Polygon', 'MultiPolygon'].indexOf(getType(mask)) === -1) throw new Error('options.mask must be a (Multi)Polygon');\n\n    // Main\n    var xFraction = cellSide / (distance([bbox[0], bbox[1]], [bbox[2], bbox[1]], options));\n    var cellWidth = xFraction * (bbox[2] - bbox[0]);\n    var yFraction = cellSide / (distance([bbox[0], bbox[1]], [bbox[0], bbox[3]], options));\n    var cellHeight = yFraction * (bbox[3] - bbox[1]);\n\n    var xi = 0;\n    var currentX = bbox[0];\n    while (currentX <= bbox[2]) {\n        var yi = 0;\n        var currentY = bbox[1];\n        while (currentY <= bbox[3]) {\n            var cellTriangle1 = null;\n            var cellTriangle2 = null;\n\n            if (xi % 2 === 0 && yi % 2 === 0) {\n                cellTriangle1 = polygon([[\n                    [currentX, currentY],\n                    [currentX, currentY + cellHeight],\n                    [currentX + cellWidth, currentY],\n                    [currentX, currentY]\n                ]], properties);\n                cellTriangle2 = polygon([[\n                    [currentX, currentY + cellHeight],\n                    [currentX + cellWidth, currentY + cellHeight],\n                    [currentX + cellWidth, currentY],\n                    [currentX, currentY + cellHeight]\n                ]], properties);\n            } else if (xi % 2 === 0 && yi % 2 === 1) {\n                cellTriangle1 = polygon([[\n                    [currentX, currentY],\n                    [currentX + cellWidth, currentY + cellHeight],\n                    [currentX + cellWidth, currentY],\n                    [currentX, currentY]\n                ]], properties);\n                cellTriangle2 = polygon([[\n                    [currentX, currentY],\n                    [currentX, currentY + cellHeight],\n                    [currentX + cellWidth, currentY + cellHeight],\n                    [currentX, currentY]\n                ]], properties);\n            } else if (yi % 2 === 0 && xi % 2 === 1) {\n                cellTriangle1 = polygon([[\n                    [currentX, currentY],\n                    [currentX, currentY + cellHeight],\n                    [currentX + cellWidth, currentY + cellHeight],\n                    [currentX, currentY]\n                ]], properties);\n                cellTriangle2 = polygon([[\n                    [currentX, currentY],\n                    [currentX + cellWidth, currentY + cellHeight],\n                    [currentX + cellWidth, currentY],\n                    [currentX, currentY]\n                ]], properties);\n            } else if (yi % 2 === 1 && xi % 2 === 1) {\n                cellTriangle1 = polygon([[\n                    [currentX, currentY],\n                    [currentX, currentY + cellHeight],\n                    [currentX + cellWidth, currentY],\n                    [currentX, currentY]\n                ]], properties);\n                cellTriangle2 = polygon([[\n                    [currentX, currentY + cellHeight],\n                    [currentX + cellWidth, currentY + cellHeight],\n                    [currentX + cellWidth, currentY],\n                    [currentX, currentY + cellHeight]\n                ]], properties);\n            }\n            if (mask) {\n                if (intersect$2(mask, cellTriangle1)) results.push(cellTriangle1);\n                if (intersect$2(mask, cellTriangle2)) results.push(cellTriangle2);\n            } else {\n                results.push(cellTriangle1);\n                results.push(cellTriangle2);\n            }\n\n            currentY += cellHeight;\n            yi++;\n        }\n        xi++;\n        currentX += cellWidth;\n    }\n    return featureCollection(results);\n}\n\n/**\n * Takes a set of points and estimates their 'property' values on a grid using the [Inverse Distance Weighting (IDW) method](https://en.wikipedia.org/wiki/Inverse_distance_weighting).\n *\n * @name interpolate\n * @param {FeatureCollection<Point>} points with known value\n * @param {number} cellSize the distance across each grid point\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.gridType='square'] defines the output format based on a Grid Type (options: 'square' | 'point' | 'hex' | 'triangle')\n * @param {string} [options.property='elevation'] the property name in `points` from which z-values will be pulled, zValue fallbacks to 3rd coordinate if no property exists.\n * @param {string} [options.units='kilometers'] used in calculating cellSize, can be degrees, radians, miles, or kilometers\n * @param {number} [options.weight=1] exponent regulating the distance-decay weighting\n * @returns {FeatureCollection<Point|Polygon>} grid of points or polygons with interpolated 'property'\n * @example\n * var points = turf.randomPoint(30, {bbox: [50, 30, 70, 50]});\n *\n * // add a random property to each point\n * turf.featureEach(points, function(point) {\n *     point.properties.solRad = Math.random() * 50;\n * });\n * var options = {gridType: 'points', property: 'solRad', units: 'miles'};\n * var grid = turf.interpolate(points, 100, options);\n *\n * //addToMap\n * var addToMap = [grid];\n */\nfunction interpolate$1(points$$1, cellSize, options) {\n    // Optional parameters\n    options = options || {};\n    if (typeof options !== 'object') throw new Error('options is invalid');\n    var gridType = options.gridType;\n    var property = options.property;\n    var weight = options.weight;\n\n    // validation\n    if (!points$$1) throw new Error('points is required');\n    collectionOf(points$$1, 'Point', 'input must contain Points');\n    if (!cellSize) throw new Error('cellSize is required');\n    if (weight !== undefined && typeof weight !== 'number') throw new Error('weight must be a number');\n\n    // default values\n    property = property || 'elevation';\n    gridType = gridType || 'square';\n    weight = weight || 1;\n\n    var box = bbox(points$$1);\n    var grid;\n    switch (gridType) {\n    case 'point':\n    case 'points':\n        grid = pointGrid(box, cellSize, options);\n        break;\n    case 'square':\n    case 'squares':\n        grid = squareGrid(box, cellSize, options);\n        break;\n    case 'hex':\n    case 'hexes':\n        grid = hexGrid(box, cellSize, options);\n        break;\n    case 'triangle':\n    case 'triangles':\n        grid = triangleGrid(box, cellSize, options);\n        break;\n    default:\n        throw new Error('invalid gridType');\n    }\n    var results = [];\n    featureEach(grid, function (gridFeature) {\n        var zw = 0;\n        var sw = 0;\n        // calculate the distance from each input point to the grid points\n        featureEach(points$$1, function (point$$1) {\n            var gridPoint = (gridType === 'point') ? gridFeature : centroid(gridFeature);\n            var d = distance(gridPoint, point$$1, options);\n            var zValue;\n            // property has priority for zValue, fallbacks to 3rd coordinate from geometry\n            if (property !== undefined) zValue = point$$1.properties[property];\n            if (zValue === undefined) zValue = point$$1.geometry.coordinates[2];\n            if (zValue === undefined) throw new Error('zValue is missing');\n            if (d === 0) zw = zValue;\n            var w = 1.0 / Math.pow(d, weight);\n            sw += w;\n            zw += w * zValue;\n        });\n        // write interpolated value for each grid point\n        var newFeature = clone(gridFeature);\n        newFeature.properties[property] = zw / sw;\n        results.push(newFeature);\n    });\n    return featureCollection(results);\n}\n\n/**\n * Turf is a modular geospatial analysis engine written in JavaScript. It performs geospatial\n * processing tasks with GeoJSON data and can be run on a server or in a browser.\n *\n * @module turf\n * @summary Geospatial analysis for JavaScript\n */\n\nexport { main_es$3 as projection, main_es$4 as random, main_es$5 as clusters, main_es$1 as helpers, main_es$2 as invariant, main_es as meta, isolines, convex, pointsWithinPolygon, concave, collect, flip, simplify, bezier as bezierSpline, tag, sample, envelope, square, circle, midpoint, center, centerOfMass, centroid, combine, distance, explode, bbox, tesselate, bboxPolygon, booleanPointInPolygon, nearestPoint, nearestPointOnLine, nearestPointToLine, planepoint, tin, bearing, destination, kinks, pointOnFeature, area$1 as area, along, length, lineSlice, lineSliceAlong, pointGrid, truncate, flatten, lineIntersect, lineChunk, unkinkPolygon, greatCircle, lineSegment, lineSplit, lineArc, polygonToLine, lineToPolygon, bboxClip, lineOverlap, sector, rhumbBearing, rhumbDistance, rhumbDestination, polygonTangents, rewind, isobands, transformRotate, transformScale, transformTranslate, lineOffset, polygonize$1 as polygonize, booleanDisjoint, booleanContains, booleanCrosses, booleanClockwise, booleanOverlap, booleanPointOnLine, booleanEqual, booleanWithin, clone, cleanCoords, clustersDbscan, clustersKmeans, pointToLineDistance, booleanParallel, shortestPath, voronoi$1 as voronoi, ellipse, centerMean, centerMedian, standardDeviationalEllipse, difference, buffer$1 as buffer, union, intersect$2 as intersect, dissolve$1 as dissolve, hexGrid, mask, squareGrid, triangleGrid, interpolate$1 as interpolate, pointOnFeature as pointOnSurface, polygonToLine as polygonToLineString, lineToPolygon as lineStringToPolygon, booleanPointInPolygon as inside, pointsWithinPolygon as within, bezier, nearestPoint as nearest, nearestPointOnLine as pointOnLine, length as lineDistance, radiansToDegrees as radians2degrees, degreesToRadians as degrees2radians, lengthToDegrees as distanceToDegrees, lengthToRadians as distanceToRadians, radiansToLength as radiansToDistance, bearingToAzimuth as bearingToAngle, convertLength as convertDistance, toMercator, toWgs84, randomPosition, randomPoint, randomPolygon, randomLineString, getCluster, clusterEach, clusterReduce, createBins, applyFilter, propertiesContainsFilter, filterProperties, earthRadius, factors, unitsFactors, areaFactors, feature, geometry, point, points, polygon, polygons, lineString, lineStrings, featureCollection, multiLineString, multiPoint, multiPolygon, geometryCollection, round, radiansToLength, lengthToRadians, lengthToDegrees, bearingToAzimuth, radiansToDegrees, degreesToRadians, convertLength, convertArea, isNumber, isObject, validateBBox, validateId, getCoord, getCoords, containsNumber, geojsonType, featureOf, collectionOf, getGeom, getGeomType, getType, coordEach, coordReduce, propEach, propReduce, featureEach, featureReduce, coordAll, geomEach, geomReduce, flattenEach, flattenReduce, segmentEach, segmentReduce, lineEach, lineReduce };\n","import earcut from 'earcut';\nimport * as turf from '@turf/turf';\n\n/**\n * @description Perform constrained triangulation of feature.\n * @param {Polygon} polygon Polygon to triangulate.\n * @private\n * @return {FeatureCollection<Polygon>} Feature collection of triangles.\n */\nconst triangulate = (polygon) => {\n  const data = earcut.flatten(polygon.geometry.coordinates);\n  const triangles = earcut(data.vertices, data.holes, data.dimensions);\n\n  const polygons = [];\n\n  // Unflatten each triangle vertex data from earcut data and triangulation.\n  const numTriangles = triangles.length / 3;\n  for (let i = 0; i < numTriangles; ++i) {\n    // Collect each triangle vertex\n    const vertices = [];\n\n    for (let j = 0; j < 3; ++j) {\n      // Collect each vertex dimension\n      const vertex = [];\n      for (let k = 0; k < data.dimensions; ++k) {\n        const index = data.dimensions * triangles[3 * i + j] + k;\n        vertex.push(data.vertices[index]);\n      }\n      vertices.push(vertex);\n    }\n\n    // Close triangle coordinate array with initial coordinate.\n    vertices.push(vertices[0]);\n\n    polygons.push(turf.polygon([vertices]));\n  }\n\n  return turf.featureCollection(polygons);\n};\n\n/**\n * @description Perform constrained triangulation of polygon(s). Triangulation\n *              is performed on each polygon separately and then combined.\n * @param {Polygons} geojson Features to triangulate.\n * @private\n * @return {FeatureCollection<Polygon>} Feature collection of triangles.\n */\nexport default (geojson) => {\n  const polygons = [];\n  turf.flattenEach(geojson, (feature) => {\n    const triangles = triangulate(feature);\n    turf.featureEach(triangles, (triangle) => {\n      polygons.push(triangle);\n    });\n  });\n  return turf.featureCollection(polygons);\n};\n","import triangulate from './triangulate';\nimport * as turf from '@turf/turf';\n\n/**\n * @description Clip subject triangle using a triangle clipper. The result will\n *              be a collection of triangles that partition the subject triangle\n *              and preserve the clipping boundary.\n * @param {Polygon} subject Triangle to be clipped.\n * @param {Polygon} clipper Triangle with which to clip.\n * @private\n * @return {FeatureCollection<Polygon>} Triangle clipped components.\n */\nconst clip = (subject, clipper) => {\n  const triangles = [];\n\n  // Intersect subject with clipper and retriangulate intersection.\n  const intersection = clipIntersection(subject, clipper);\n  if (intersection) {\n    Array.prototype.push.apply(triangles, intersection);\n  }\n\n  // Difference subject with clipper and retriangulate difference.\n  const difference = clipDifference(subject, clipper);\n  if (difference) {\n    Array.prototype.push.apply(triangles, difference);\n  }\n\n  // If no triangles were found then assume subject was not clipped.\n  // This should only happen if Turf failed during intersection and\n  // difference due to an on-going numerical precision bug.\n  if (triangles.length === 0) {\n    triangles.push(subject);\n  }\n\n  return turf.featureCollection(triangles);\n};\n\n/**\n * @description Clip subject triangle using a triangle clipper. The result will\n *              be a collection of triangles that are the difference of the\n *              subject triangle and the clipper.\n * @param {Polygon} subject Triangle to be clipped.\n * @param {Polygon} clipper Triangle with which to clip.\n * @private\n * @return {FeatureCollection<Polygon>} Collection of clipped intersections\n *                                      or null if intersection failed.\n */\nconst clipDifference = (subject, clipper) => {\n  const triangles = [];\n\n  // Difference subject with clipper and retriangulate difference.\n  try {\n    const difference = turf.difference(subject, clipper);\n    if (difference === null) {\n      return null;\n    }\n    turf.flattenEach(difference, (flattened) => {\n      turf.featureEach(triangulate(flattened), (feature) => {\n        triangles.push(feature);\n      });\n    });\n  } catch (e) {\n    // Turf differrence can fail for edge cases due to one of their\n    // dependencies not handling numerical precision well.\n    // It is discussed at length in their issue tracker.\n    // https://github.com/Turfjs/turf/issues\n    return null;\n  }\n\n  return triangles;\n};\n\n/**\n * @description Clip subject triangle using a triangle clipper. The result will\n *              be a collection of triangles that intersect the subject triangle\n *              and the clipper.\n * @param {Polygon} subject Triangle to be clipped.\n * @param {Polygon} clipper Triangle with which to clip.\n * @private\n * @return {FeatureCollection<Polygon>} Collection of clipped intersections\n *                                      or null if intersection failed.\n */\nconst clipIntersection = (subject, clipper) => {\n  const triangles = [];\n\n  // Intersect subject with clipper and retriangulate intersection.\n  try {\n    const intersection = turf.intersect(subject, clipper);\n    if (intersection === null) {\n      return null;\n    }\n    if (intersection && intersection.geometry.type.includes('Polygon')) {\n      turf.flattenEach(intersection, (flattened) => {\n        turf.featureEach(triangulate(flattened), (feature) => {\n          triangles.push(feature);\n        });\n      });\n    }\n  } catch (e) {\n    // Turf intersect can fail for edge cases due to one of their\n    // dependencies not handling numerical precision well.\n    // It is discussed at length in their issue tracker.\n    // https://github.com/Turfjs/turf/issues\n    return null;\n  }\n\n  return triangles;\n};\n\n/**\n * @description Clip subject segment using a collection of segment clippers.\n *              The result will be a collection of segments that partition the\n *              subject segment and preserve the clipping boundaries.\n * @param {LineString} subject Segment to be clipped.\n * @param {FeatureCollection<LineString>} clippers Segments with which to clip.\n * @private\n * @return {LineString} Segment clipped partitioning. Note line may contain\n *                      duplicate points if partitioned but multiple clippers.\n */\nconst segment = (subject, clippers) => {\n  const vertices = subject.geometry.coordinates.concat();\n\n  // Split subject at intersection points and collect coordinates.\n  // Turf only finds interections where the segments are non-parallel.\n  const intersections = turf.lineIntersect(subject, clippers);\n  turf.coordEach(intersections, (coordinate) => {\n    vertices.push(coordinate);\n  });\n\n  // Split subject at overlap points if no intersections found.\n  // If turf found no intersections between two segments then\n  // the only case left is an overlap in which case one or both\n  // end points of the clipper will be on the subject.\n  turf.coordEach(clippers, (coordinate) => {\n    if (turf.booleanPointOnLine(coordinate, subject, {\n      ignoreEndVertices: true,\n    })) {\n      vertices.push(coordinate);\n    }\n  });\n\n  // Sort all coordinates in order from first vertex.\n  vertices.sort((a, b) => {\n    const start = subject.geometry.coordinates[0];\n    return turf.distance(a, start) - turf.distance(b, start);\n  });\n\n  return turf.lineString(vertices);\n};\n\n/**\n * @description Clip subject triangle using a collection of triangle clippers.\n *              The result will be a collection of triangles that partition the\n *              subject triangle and preserve the clipping boundaries.\n * @param {Polygon} subject Triangle to be clipped.\n * @param {FeatureCollection<Polygon>} clippers Triangles with which to clip.\n * @private\n * @return {FeatureCollection<Polygon>} Triangle clipped partitioning.\n */\nconst triangle = (subject, clippers) => {\n  let subjects = [subject];\n\n  turf.featureEach(clippers, (clipper, i) => {\n    // Clip all subjects with the current clipper and then put the resulting\n    // triangle partition back in the queue to be clipped by the next clipper.\n    const parts = [];\n    for (let i = 0; i < subjects.length; i++) {\n      const triangles = clip(subjects[i], clipper);\n      turf.featureEach(triangles, (facet) => {\n        parts.push(facet);\n      });\n    }\n    subjects = parts;\n  });\n\n  return turf.featureCollection(subjects);\n};\n\nexport default {\n  segment,\n  triangle,\n};\n","import * as turf from '@turf/turf';\n\n/**\n * @description Compute centroid of each segment in GeoJSON.\n * @param {GeoJSON} geojson GeoJSON of ilne features to process.\n * @private\n * @return {FeatureCollection<Point>} Collection of segment centroids.\n */\nconst centroids = (geojson) => {\n  // Compute centroid of each feature.\n  const centers = [];\n  turf.segmentEach(geojson, (feature) => {\n    centers.push(turf.centroid(feature));\n  });\n  return turf.featureCollection(centers);\n};\n\n/**\n * @description Test if two GeoJSON bounding boxes are disjoint.\n * @param {GeoJSON} geojson1 GeoJSON #1 to test.\n * @param {GeoJSON} geojson2 GeoJSON #2 to test.\n * @private\n * @return {Boolean} True if bounding boxes are disjoint otherwise false.\n */\nconst disjoint = (geojson1, geojson2) => {\n  const bbox1 = (geojson1.bbox ? geojson1.bbox : turf.bbox(geojson1));\n  const bbox2 = (geojson2.bbox ? geojson2.bbox : turf.bbox(geojson2));\n  const ndim1 = bbox1.length / 2;\n  const ndim2 = bbox2.length / 2;\n  if ((bbox1[0] > bbox2[ndim2]) || (bbox1[ndim1] < bbox2[0])) {\n    return true;\n  }\n  if ((bbox1[1] > bbox2[ndim2+1]) || (bbox1[ndim1+1] < bbox2[1])) {\n    return true;\n  }\n  return false;\n};\n\n/**\n * @description Test if two arrays are similar. Similarity is equality where\n *              offset and direction are ignored. When array ends are reached\n *              the comparison wraps around to the other end and continues.\n * @param {Array} array1 Array #1.\n * @param {Array} array2 Array #2.\n * @param {Number} [start1=0] Starting index of array #1.\n * @param {Number} [start2=0] Starting index of array #2.\n * @param {Number} [count=-1] Number of elements to check for equality from\n *                            starting index. If -1 then all checked.\n * @param {Boolean} [reverse=false] True if coordinates #2 should be checked\n *                                  in reverse order from #1 otherwise false.\n * @private\n * @return {Boolean} True if are equal otherwise false.\n */\nconst similar = (array1, array2, start1 = 0, start2 = 0, count =-1,\n    reverse = false) => {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  // Determine how many elements to check for equality.\n  const length = array1.length;\n  if (count < 0) {\n    count = length;\n  }\n  count = Math.min(length, Math.max(count, 0));\n\n  for (let i = 0; i < count; i = i + 1) {\n    // Choose direction to traverse array #2\n    const delta = (reverse ? -i : i);\n\n    // Wrapped around starting index of each array\n    const index1 = ((start1 + i) + length) % length;\n    const index2 = ((start2 + delta) + length) % length;\n\n    // Check if all coordinate dimensions are equal.\n    const isEqual = array1[index1].every((dimension, j) => {\n      return dimension === array2[index2][j];\n    });\n    if (isEqual === false) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nexport default {\n  centroids,\n  disjoint,\n  similar,\n};\n","import * as turf from '@turf/turf';\n\n/**\n * @description Get base geometry type. Defined only for homogenous geometries.\n * @param {GeoJSON} geojson GeoJSON object.\n * @private\n * @return {Point|LineString|Polygon|Mixed|Unknown} Base geometry type.\n */\nconst type = (geojson) => {\n  // Check if we have a single geometry type.\n  const geoType = turf.getType(geojson);\n  const isMany = ['Collection', 'Multi'].some((many) => geoType.includes(many));\n  if (isMany === false) {\n    return geoType;\n  }\n\n  // For a collection or multipart geometry, flatten to find a common type.\n  return turf.flattenReduce(geojson, (baseType, feature, index) => {\n    if (baseType === 'Mixed') {\n      return baseType;\n    }\n    const currentType = turf.getType(feature);\n    if (baseType !== 'Unknown' && baseType !== currentType) {\n      return 'Mixed';\n    }\n    return currentType;\n  }, 'Unknown');\n};\n\nexport default {\n  type,\n};\n","import * as turf from '@turf/turf';\n\n/**\n * @description Check if callback is true for every coordinate.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each coordinate of GeoJSON.\n * @private\n * @return {Boolean} True if every coordinate returns true otherwise false.\n */\nconst coordEvery = (geojson, callback) => {\n  return reduceEvery(geojson, callback, turf.coordReduce);\n};\n\n/**\n * @description Check if callback is true for some coordinate.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each coordinate of GeoJSON.\n * @private\n * @return {Boolean} True if some coordinate returns true otherwise false.\n */\nconst coordSome = (geojson, callback) => {\n  return reduceSome(geojson, callback, turf.coordReduce);\n};\n\n/**\n * @description Check if callback is true for every feature.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each feature of GeoJSON.\n * @private\n * @return {Boolean} True if every feature returns true otherwise false.\n */\nconst featureEvery = (geojson, callback) => {\n  return reduceEvery(geojson, callback, turf.featureReduce);\n};\n\n/**\n * @description Check if callback is true for some feature.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each feature of GeoJSON.\n * @private\n * @return {Boolean} True if some feature returns true otherwise false.\n */\nconst featureSome = (geojson, callback) => {\n  return reduceSome(geojson, callback, turf.featureReduce);\n};\n\n/**\n * @description Check if callback is true for every flattened feature.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each feature of GeoJSON.\n * @private\n * @return {Boolean} True if some feature returns true otherwise false.\n */\nconst flattenEvery = (geojson, callback) => {\n  return reduceEvery(geojson, callback, turf.flattenReduce);\n};\n\n/**\n * @description Check if callback is true for some flattened feature.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each feature of GeoJSON.\n * @private\n * @return {Boolean} True if some feature returns true otherwise false.\n */\nconst flattenSome = (geojson, callback) => {\n  return reduceSome(geojson, callback, turf.flattenReduce);\n};\n\n/**\n * @description Check if callback is true for every reduce item.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each GeoJSON reduction item.\n * @param {function} reducer Turf reduction function.\n * @private\n * @return {Boolean} True if every item returns true otherwise false.\n */\nconst reduceEvery = (geojson, callback, reducer) => {\n  return reducer(geojson, (value, feature) => {\n    return value && callback(feature);\n  }, true);\n};\n\n/**\n * @description Check if callback is true for some reduce item.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each GeoJSON reduction item.\n * @param {function} reducer Turf reduction function.\n * @private\n * @return {Boolean} True if some item returns true otherwise false.\n */\nconst reduceSome = (geojson, callback, reducer) => {\n  return reducer(geojson, (value, feature) => {\n    return value || callback(feature);\n  }, false);\n};\n\n/**\n * @description Check if callback is true for every segment.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each segment of GeoJSON.\n * @private\n * @return {Boolean} True if every segment returns true otherwise false.\n */\nconst segmentEvery = (geojson, callback) => {\n  return reduceEvery(geojson, callback, turf.segmentReduce);\n};\n\n/**\n * @description Check if callback is true for some segment.\n * @param {GeoJSON} geojson Any GeoJSON.\n * @param {function} callback Callback for each segment of GeoJSON.\n * @private\n * @return {Boolean} True if some segment returns true otherwise false.\n */\nconst segmentSome = (geojson, callback) => {\n  return reduceSome(geojson, callback, turf.segmentReduce);\n};\n\nexport default {\n  coordEvery,\n  coordSome,\n  featureEvery,\n  featureSome,\n  flattenEvery,\n  flattenSome,\n  segmentEvery,\n  segmentSome,\n};\n","function quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nexport default quickselect;\n","import quickselect from './quickselect';\n\nfunction rbush(maxEntries, format) {\n    if (!(this instanceof rbush)) return new rbush(maxEntries, format);\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries || 9);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n\n    if (format) {\n        this._initFormat(format);\n    }\n\n    this.clear();\n}\n\nrbush.prototype = {\n\n    all: function () {\n        return this._all(this.data, []);\n    },\n\n    search: function (bbox) {\n\n        var node = this.data,\n            result = [],\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return result;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf) result.push(child);\n                    else if (contains(bbox, childBBox)) this._all(child, result);\n                    else nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return result;\n    },\n\n    collides: function (bbox) {\n\n        var node = this.data,\n            toBBox = this.toBBox;\n\n        if (!intersects(bbox, node)) return false;\n\n        var nodesToSearch = [],\n            i, len, child, childBBox;\n\n        while (node) {\n            for (i = 0, len = node.children.length; i < len; i++) {\n\n                child = node.children[i];\n                childBBox = node.leaf ? toBBox(child) : child;\n\n                if (intersects(bbox, childBBox)) {\n                    if (node.leaf || contains(bbox, childBBox)) return true;\n                    nodesToSearch.push(child);\n                }\n            }\n            node = nodesToSearch.pop();\n        }\n\n        return false;\n    },\n\n    load: function (data) {\n        if (!(data && data.length)) return this;\n\n        if (data.length < this._minEntries) {\n            for (var i = 0, len = data.length; i < len; i++) {\n                this.insert(data[i]);\n            }\n            return this;\n        }\n\n        // recursively build the tree with the given data from scratch using OMT algorithm\n        var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n        if (!this.data.children.length) {\n            // save as is if tree is empty\n            this.data = node;\n\n        } else if (this.data.height === node.height) {\n            // split root if trees have the same height\n            this._splitRoot(this.data, node);\n\n        } else {\n            if (this.data.height < node.height) {\n                // swap trees if inserted one is bigger\n                var tmpNode = this.data;\n                this.data = node;\n                node = tmpNode;\n            }\n\n            // insert the small tree into the large tree at appropriate level\n            this._insert(node, this.data.height - node.height - 1, true);\n        }\n\n        return this;\n    },\n\n    insert: function (item) {\n        if (item) this._insert(item, this.data.height - 1);\n        return this;\n    },\n\n    clear: function () {\n        this.data = createNode([]);\n        return this;\n    },\n\n    remove: function (item, equalsFn) {\n        if (!item) return this;\n\n        var node = this.data,\n            bbox = this.toBBox(item),\n            path = [],\n            indexes = [],\n            i, parent, index, goingUp;\n\n        // depth-first iterative tree traversal\n        while (node || path.length) {\n\n            if (!node) { // go up\n                node = path.pop();\n                parent = path[path.length - 1];\n                i = indexes.pop();\n                goingUp = true;\n            }\n\n            if (node.leaf) { // check current node\n                index = findItem(item, node.children, equalsFn);\n\n                if (index !== -1) {\n                    // item found, remove the item and condense tree upwards\n                    node.children.splice(index, 1);\n                    path.push(node);\n                    this._condense(path);\n                    return this;\n                }\n            }\n\n            if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n                path.push(node);\n                indexes.push(i);\n                i = 0;\n                parent = node;\n                node = node.children[0];\n\n            } else if (parent) { // go right\n                i++;\n                node = parent.children[i];\n                goingUp = false;\n\n            } else node = null; // nothing found\n        }\n\n        return this;\n    },\n\n    toBBox: function (item) { return item; },\n\n    compareMinX: compareNodeMinX,\n    compareMinY: compareNodeMinY,\n\n    toJSON: function () { return this.data; },\n\n    fromJSON: function (data) {\n        this.data = data;\n        return this;\n    },\n\n    _all: function (node, result) {\n        var nodesToSearch = [];\n        while (node) {\n            if (node.leaf) result.push.apply(result, node.children);\n            else nodesToSearch.push.apply(nodesToSearch, node.children);\n\n            node = nodesToSearch.pop();\n        }\n        return result;\n    },\n\n    _build: function (items, left, right, height) {\n\n        var N = right - left + 1,\n            M = this._maxEntries,\n            node;\n\n        if (N <= M) {\n            // reached leaf level; return leaf\n            node = createNode(items.slice(left, right + 1));\n            calcBBox(node, this.toBBox);\n            return node;\n        }\n\n        if (!height) {\n            // target height of the bulk-loaded tree\n            height = Math.ceil(Math.log(N) / Math.log(M));\n\n            // target number of root entries to maximize storage utilization\n            M = Math.ceil(N / Math.pow(M, height - 1));\n        }\n\n        node = createNode([]);\n        node.leaf = false;\n        node.height = height;\n\n        // split the items into M mostly square tiles\n\n        var N2 = Math.ceil(N / M),\n            N1 = N2 * Math.ceil(Math.sqrt(M)),\n            i, j, right2, right3;\n\n        multiSelect(items, left, right, N1, this.compareMinX);\n\n        for (i = left; i <= right; i += N1) {\n\n            right2 = Math.min(i + N1 - 1, right);\n\n            multiSelect(items, i, right2, N2, this.compareMinY);\n\n            for (j = i; j <= right2; j += N2) {\n\n                right3 = Math.min(j + N2 - 1, right2);\n\n                // pack each entry recursively\n                node.children.push(this._build(items, j, right3, height - 1));\n            }\n        }\n\n        calcBBox(node, this.toBBox);\n\n        return node;\n    },\n\n    _chooseSubtree: function (bbox, node, level, path) {\n\n        var i, len, child, targetNode, area, enlargement, minArea, minEnlargement;\n\n        while (true) {\n            path.push(node);\n\n            if (node.leaf || path.length - 1 === level) break;\n\n            minArea = minEnlargement = Infinity;\n\n            for (i = 0, len = node.children.length; i < len; i++) {\n                child = node.children[i];\n                area = bboxArea(child);\n                enlargement = enlargedArea(bbox, child) - area;\n\n                // choose entry with the least area enlargement\n                if (enlargement < minEnlargement) {\n                    minEnlargement = enlargement;\n                    minArea = area < minArea ? area : minArea;\n                    targetNode = child;\n\n                } else if (enlargement === minEnlargement) {\n                    // otherwise choose one with the smallest area\n                    if (area < minArea) {\n                        minArea = area;\n                        targetNode = child;\n                    }\n                }\n            }\n\n            node = targetNode || node.children[0];\n        }\n\n        return node;\n    },\n\n    _insert: function (item, level, isNode) {\n\n        var toBBox = this.toBBox,\n            bbox = isNode ? item : toBBox(item),\n            insertPath = [];\n\n        // find the best node for accommodating the item, saving all nodes along the path too\n        var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n        // put the item into the node\n        node.children.push(item);\n        extend(node, bbox);\n\n        // split on node overflow; propagate upwards if necessary\n        while (level >= 0) {\n            if (insertPath[level].children.length > this._maxEntries) {\n                this._split(insertPath, level);\n                level--;\n            } else break;\n        }\n\n        // adjust bboxes along the insertion path\n        this._adjustParentBBoxes(bbox, insertPath, level);\n    },\n\n    // split overflowed node into two\n    _split: function (insertPath, level) {\n\n        var node = insertPath[level],\n            M = node.children.length,\n            m = this._minEntries;\n\n        this._chooseSplitAxis(node, m, M);\n\n        var splitIndex = this._chooseSplitIndex(node, m, M);\n\n        var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n        newNode.height = node.height;\n        newNode.leaf = node.leaf;\n\n        calcBBox(node, this.toBBox);\n        calcBBox(newNode, this.toBBox);\n\n        if (level) insertPath[level - 1].children.push(newNode);\n        else this._splitRoot(node, newNode);\n    },\n\n    _splitRoot: function (node, newNode) {\n        // split root node\n        this.data = createNode([node, newNode]);\n        this.data.height = node.height + 1;\n        this.data.leaf = false;\n        calcBBox(this.data, this.toBBox);\n    },\n\n    _chooseSplitIndex: function (node, m, M) {\n\n        var i, bbox1, bbox2, overlap, area, minOverlap, minArea, index;\n\n        minOverlap = minArea = Infinity;\n\n        for (i = m; i <= M - m; i++) {\n            bbox1 = distBBox(node, 0, i, this.toBBox);\n            bbox2 = distBBox(node, i, M, this.toBBox);\n\n            overlap = intersectionArea(bbox1, bbox2);\n            area = bboxArea(bbox1) + bboxArea(bbox2);\n\n            // choose distribution with minimum overlap\n            if (overlap < minOverlap) {\n                minOverlap = overlap;\n                index = i;\n\n                minArea = area < minArea ? area : minArea;\n\n            } else if (overlap === minOverlap) {\n                // otherwise choose distribution with minimum area\n                if (area < minArea) {\n                    minArea = area;\n                    index = i;\n                }\n            }\n        }\n\n        return index;\n    },\n\n    // sorts node children by the best axis for split\n    _chooseSplitAxis: function (node, m, M) {\n\n        var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX,\n            compareMinY = node.leaf ? this.compareMinY : compareNodeMinY,\n            xMargin = this._allDistMargin(node, m, M, compareMinX),\n            yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n        // if total distributions margin value is minimal for x, sort by minX,\n        // otherwise it's already sorted by minY\n        if (xMargin < yMargin) node.children.sort(compareMinX);\n    },\n\n    // total margin of all possible split distributions where each node is at least m full\n    _allDistMargin: function (node, m, M, compare) {\n\n        node.children.sort(compare);\n\n        var toBBox = this.toBBox,\n            leftBBox = distBBox(node, 0, m, toBBox),\n            rightBBox = distBBox(node, M - m, M, toBBox),\n            margin = bboxMargin(leftBBox) + bboxMargin(rightBBox),\n            i, child;\n\n        for (i = m; i < M - m; i++) {\n            child = node.children[i];\n            extend(leftBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(leftBBox);\n        }\n\n        for (i = M - m - 1; i >= m; i--) {\n            child = node.children[i];\n            extend(rightBBox, node.leaf ? toBBox(child) : child);\n            margin += bboxMargin(rightBBox);\n        }\n\n        return margin;\n    },\n\n    _adjustParentBBoxes: function (bbox, path, level) {\n        // adjust bboxes along the given tree path\n        for (var i = level; i >= 0; i--) {\n            extend(path[i], bbox);\n        }\n    },\n\n    _condense: function (path) {\n        // go through the path, removing empty nodes and updating bboxes\n        for (var i = path.length - 1, siblings; i >= 0; i--) {\n            if (path[i].children.length === 0) {\n                if (i > 0) {\n                    siblings = path[i - 1].children;\n                    siblings.splice(siblings.indexOf(path[i]), 1);\n\n                } else this.clear();\n\n            } else calcBBox(path[i], this.toBBox);\n        }\n    },\n\n    _initFormat: function (format) {\n        // data format (minX, minY, maxX, maxY accessors)\n\n        // uses eval-type function compilation instead of just accepting a toBBox function\n        // because the algorithms are very sensitive to sorting functions performance,\n        // so they should be dead simple and without inner calls\n\n        var compareArr = ['return a', ' - b', ';'];\n\n        this.compareMinX = new Function('a', 'b', compareArr.join(format[0]));\n        this.compareMinY = new Function('a', 'b', compareArr.join(format[1]));\n\n        this.toBBox = new Function('a',\n            'return {minX: a' + format[0] +\n            ', minY: a' + format[1] +\n            ', maxX: a' + format[2] +\n            ', maxY: a' + format[3] + '};');\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) return items.indexOf(item);\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) return i;\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) destNode = createNode(null);\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k, child; i < p; i++) {\n        child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX),\n        minY = Math.max(a.minY, b.minY),\n        maxX = Math.min(a.maxX, b.maxX),\n        maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right],\n        mid;\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) continue;\n\n        mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n\nexport default rbush;\n","import { feature, lineString } from '@turf/helpers';\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n    // Handles null Geometry -- Skips this GeoJSON\n    if (geojson === null) return;\n    var j, k, l, geometry, stopG, coords,\n        geometryMaybeCollection,\n        wrapShrink = 0,\n        coordIndex = 0,\n        isGeometryCollection,\n        type = geojson.type,\n        isFeatureCollection = type === 'FeatureCollection',\n        isFeature = type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[featureIndex].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n            var multiFeatureIndex = 0;\n            var geometryIndex = 0;\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[geomIndex] : geometryMaybeCollection;\n\n            // Handles null Geometry -- Skips this geometry\n            if (geometry === null) continue;\n            coords = geometry.coordinates;\n            var geomType = geometry.type;\n\n            wrapShrink = (excludeWrapCoord && (geomType === 'Polygon' || geomType === 'MultiPolygon')) ? 1 : 0;\n\n            switch (geomType) {\n            case null:\n                break;\n            case 'Point':\n                callback(coords, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                coordIndex++;\n                multiFeatureIndex++;\n                break;\n            case 'LineString':\n            case 'MultiPoint':\n                for (j = 0; j < coords.length; j++) {\n                    callback(coords[j], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                    coordIndex++;\n                    if (geomType === 'MultiPoint') multiFeatureIndex++;\n                }\n                if (geomType === 'LineString') multiFeatureIndex++;\n                break;\n            case 'Polygon':\n            case 'MultiLineString':\n                for (j = 0; j < coords.length; j++) {\n                    for (k = 0; k < coords[j].length - wrapShrink; k++) {\n                        callback(coords[j][k], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                        coordIndex++;\n                    }\n                    if (geomType === 'MultiLineString') multiFeatureIndex++;\n                    if (geomType === 'Polygon') geometryIndex++;\n                }\n                if (geomType === 'Polygon') multiFeatureIndex++;\n                break;\n            case 'MultiPolygon':\n                for (j = 0; j < coords.length; j++) {\n                    if (geomType === 'MultiPolygon') geometryIndex = 0;\n                    for (k = 0; k < coords[j].length; k++) {\n                        for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                            callback(coords[j][k][l], coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n                            coordIndex++;\n                        }\n                        geometryIndex++;\n                    }\n                    multiFeatureIndex++;\n                }\n                break;\n            case 'GeometryCollection':\n                for (j = 0; j < geometry.geometries.length; j++)\n                    coordEach(geometry.geometries[j], callback, excludeWrapCoord);\n                break;\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n    }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n    var previousValue = initialValue;\n    coordEach(geojson, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (coordIndex === 0 && initialValue === undefined) previousValue = currentCoord;\n        else previousValue = callback(previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex);\n    }, excludeWrapCoord);\n    return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n    var i;\n    switch (geojson.type) {\n    case 'FeatureCollection':\n        for (i = 0; i < geojson.features.length; i++) {\n            callback(geojson.features[i].properties, i);\n        }\n        break;\n    case 'Feature':\n        callback(geojson.properties, 0);\n        break;\n    }\n}\n\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    propEach(geojson, function (currentProperties, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentProperties;\n        else previousValue = callback(previousValue, currentProperties, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n    if (geojson.type === 'Feature') {\n        callback(geojson, 0);\n    } else if (geojson.type === 'FeatureCollection') {\n        for (var i = 0; i < geojson.features.length; i++) {\n            callback(geojson.features[i], i);\n        }\n    }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    featureEach(geojson, function (currentFeature, featureIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n    var coords = [];\n    coordEach(geojson, function (coord) {\n        coords.push(coord);\n    });\n    return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n    var i, j, g, geometry, stopG,\n        geometryMaybeCollection,\n        isGeometryCollection,\n        featureProperties,\n        featureBBox,\n        featureId,\n        featureIndex = 0,\n        isFeatureCollection = geojson.type === 'FeatureCollection',\n        isFeature = geojson.type === 'Feature',\n        stop = isFeatureCollection ? geojson.features.length : 1;\n\n    // This logic may look a little weird. The reason why it is that way\n    // is because it's trying to be fast. GeoJSON supports multiple kinds\n    // of objects at its root: FeatureCollection, Features, Geometries.\n    // This function has the responsibility of handling all of them, and that\n    // means that some of the `for` loops you see below actually just don't apply\n    // to certain inputs. For instance, if you give this just a\n    // Point geometry, then both loops are short-circuited and all we do\n    // is gradually rename the input until it's called 'geometry'.\n    //\n    // This also aims to allocate as few resources as possible: just a\n    // few numbers and booleans, rather than any temporary arrays as would\n    // be required with the normalization approach.\n    for (i = 0; i < stop; i++) {\n\n        geometryMaybeCollection = (isFeatureCollection ? geojson.features[i].geometry :\n            (isFeature ? geojson.geometry : geojson));\n        featureProperties = (isFeatureCollection ? geojson.features[i].properties :\n            (isFeature ? geojson.properties : {}));\n        featureBBox = (isFeatureCollection ? geojson.features[i].bbox :\n            (isFeature ? geojson.bbox : undefined));\n        featureId = (isFeatureCollection ? geojson.features[i].id :\n            (isFeature ? geojson.id : undefined));\n        isGeometryCollection = (geometryMaybeCollection) ? geometryMaybeCollection.type === 'GeometryCollection' : false;\n        stopG = isGeometryCollection ? geometryMaybeCollection.geometries.length : 1;\n\n        for (g = 0; g < stopG; g++) {\n            geometry = isGeometryCollection ?\n                geometryMaybeCollection.geometries[g] : geometryMaybeCollection;\n\n            // Handle null Geometry\n            if (geometry === null) {\n                callback(null, featureIndex, featureProperties, featureBBox, featureId);\n                continue;\n            }\n            switch (geometry.type) {\n            case 'Point':\n            case 'LineString':\n            case 'MultiPoint':\n            case 'Polygon':\n            case 'MultiLineString':\n            case 'MultiPolygon': {\n                callback(geometry, featureIndex, featureProperties, featureBBox, featureId);\n                break;\n            }\n            case 'GeometryCollection': {\n                for (j = 0; j < geometry.geometries.length; j++) {\n                    callback(geometry.geometries[j], featureIndex, featureProperties, featureBBox, featureId);\n                }\n                break;\n            }\n            default:\n                throw new Error('Unknown Geometry Type');\n            }\n        }\n        // Only increase `featureIndex` per each feature\n        featureIndex++;\n    }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    geomEach(geojson, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentGeometry;\n        else previousValue = callback(previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n    geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n        // Callback for single geometry\n        var type = (geometry === null) ? null : geometry.type;\n        switch (type) {\n        case null:\n        case 'Point':\n        case 'LineString':\n        case 'Polygon':\n            callback(feature(geometry, properties, {bbox: bbox, id: id}), featureIndex, 0);\n            return;\n        }\n\n        var geomType;\n\n        // Callback for multi-geometry\n        switch (type) {\n        case 'MultiPoint':\n            geomType = 'Point';\n            break;\n        case 'MultiLineString':\n            geomType = 'LineString';\n            break;\n        case 'MultiPolygon':\n            geomType = 'Polygon';\n            break;\n        }\n\n        geometry.coordinates.forEach(function (coordinate, multiFeatureIndex) {\n            var geom = {\n                type: geomType,\n                coordinates: coordinate\n            };\n            callback(feature(geom, properties), featureIndex, multiFeatureIndex);\n        });\n\n    });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    flattenEach(geojson, function (currentFeature, featureIndex, multiFeatureIndex) {\n        if (featureIndex === 0 && multiFeatureIndex === 0 && initialValue === undefined) previousValue = currentFeature;\n        else previousValue = callback(previousValue, currentFeature, featureIndex, multiFeatureIndex);\n    });\n    return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n    flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n        var segmentIndex = 0;\n\n        // Exclude null Geometries\n        if (!feature$$1.geometry) return;\n        // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n        var type = feature$$1.geometry.type;\n        if (type === 'Point' || type === 'MultiPoint') return;\n\n        // Generate 2-vertex line segments\n        coordReduce(feature$$1, function (previousCoords, currentCoord, coordIndex, featureIndexCoord, mutliPartIndexCoord, geometryIndex) {\n            var currentSegment = lineString([previousCoords, currentCoord], feature$$1.properties);\n            callback(currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);\n            segmentIndex++;\n            return currentCoord;\n        });\n    });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentInex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    var started = false;\n    segmentEach(geojson, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n        if (started === false && initialValue === undefined) previousValue = currentSegment;\n        else previousValue = callback(previousValue, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex);\n        started = true;\n    });\n    return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n    // validation\n    if (!geojson) throw new Error('geojson is required');\n\n    flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n        if (feature$$1.geometry === null) return;\n        var type = feature$$1.geometry.type;\n        var coords = feature$$1.geometry.coordinates;\n        switch (type) {\n        case 'LineString':\n            callback(feature$$1, featureIndex, multiFeatureIndex, 0, 0);\n            break;\n        case 'Polygon':\n            for (var geometryIndex = 0; geometryIndex < coords.length; geometryIndex++) {\n                callback(lineString(coords[geometryIndex], feature$$1.properties), featureIndex, multiFeatureIndex, geometryIndex);\n            }\n            break;\n        }\n    });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n    var previousValue = initialValue;\n    lineEach(geojson, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n        if (featureIndex === 0 && initialValue === undefined) previousValue = currentLine;\n        else previousValue = callback(previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex);\n    });\n    return previousValue;\n}\n\nexport { coordEach, coordReduce, propEach, propReduce, featureEach, featureReduce, coordAll, geomEach, geomReduce, flattenEach, flattenReduce, segmentEach, segmentReduce, lineEach, lineReduce };\n","import rbush from './lib/rbush';\nimport {featureEach, coordEach} from '@turf/meta';\n\n/**\n * GeoJSON implementation of [RBush](https://github.com/mourner/rbush#rbush) spatial index.\n *\n * @name rbush\n * @param {number} [maxEntries=9] defines the maximum number of entries in a tree node. 9 (used by default) is a\n * reasonable choice for most applications. Higher value means faster insertion and slower search, and vice versa.\n * @returns {RBush} GeoJSON RBush\n * @example\n * import rbush from 'geojson-rbush';\n * const tree = rbush();\n */\nfunction geojsonRbush(maxEntries) {\n    var tree = rbush(maxEntries);\n    /**\n     * [insert](https://github.com/mourner/rbush#data-format)\n     *\n     * @param {Feature<any>} feature insert single GeoJSON Feature\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.insert(polygon)\n     */\n    tree.insert = function (feature) {\n        if (Array.isArray(feature)) {\n            var bbox = feature;\n            feature = bboxPolygon(bbox);\n            feature.bbox = bbox;\n        } else {\n            feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n        }\n        return rbush.prototype.insert.call(this, feature);\n    };\n\n    /**\n     * [load](https://github.com/mourner/rbush#bulk-inserting-data)\n     *\n     * @param {BBox[]|FeatureCollection<any>} features load entire GeoJSON FeatureCollection\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polygons = {\n     *   \"type\": \"FeatureCollection\",\n     *   \"features\": [\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"properties\": {},\n     *       \"geometry\": {\n     *         \"type\": \"Polygon\",\n     *         \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *       }\n     *     },\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"properties\": {},\n     *       \"geometry\": {\n     *         \"type\": \"Polygon\",\n     *         \"coordinates\": [[[-93, 32], [-83, 32], [-83, 39], [-93, 39], [-93, 32]]]\n     *       }\n     *     }\n     *   ]\n     * }\n     * tree.load(polygons)\n     */\n    tree.load = function (features) {\n        var load = [];\n        // Load an Array of BBox\n        if (Array.isArray(features)) {\n            features.forEach(function (bbox) {\n                var feature = bboxPolygon(bbox);\n                feature.bbox = bbox;\n                load.push(feature);\n            });\n        } else {\n            // Load FeatureCollection\n            featureEach(features, function (feature) {\n                feature.bbox = feature.bbox ? feature.bbox : turfBBox(feature);\n                load.push(feature);\n            });\n        }\n        return rbush.prototype.load.call(this, load);\n    };\n\n    /**\n     * [remove](https://github.com/mourner/rbush#removing-data)\n     *\n     * @param {BBox|Feature<any>} feature remove single GeoJSON Feature\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.remove(polygon)\n     */\n    tree.remove = function (feature) {\n        if (Array.isArray(feature)) {\n            var bbox = feature;\n            feature = bboxPolygon(bbox);\n            feature.bbox = bbox;\n        }\n        return rbush.prototype.remove.call(this, feature);\n    };\n\n    /**\n     * [clear](https://github.com/mourner/rbush#removing-data)\n     *\n     * @returns {RBush} GeoJSON Rbush\n     * @example\n     * tree.clear()\n     */\n    tree.clear = function () {\n        return rbush.prototype.clear.call(this);\n    };\n\n    /**\n     * [search](https://github.com/mourner/rbush#search)\n     *\n     * @param {BBox|FeatureCollection|Feature<any>} geojson search with GeoJSON\n     * @returns {FeatureCollection<any>} all features that intersects with the given GeoJSON.\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.search(polygon)\n     */\n    tree.search = function (geojson) {\n        var features = rbush.prototype.search.call(this, this.toBBox(geojson));\n        return {\n            type: 'FeatureCollection',\n            features: features\n        };\n    };\n\n    /**\n     * [collides](https://github.com/mourner/rbush#collisions)\n     *\n     * @param {BBox|FeatureCollection|Feature<any>} geojson collides with GeoJSON\n     * @returns {boolean} true if there are any items intersecting the given GeoJSON, otherwise false.\n     * @example\n     * var polygon = {\n     *   \"type\": \"Feature\",\n     *   \"properties\": {},\n     *   \"geometry\": {\n     *     \"type\": \"Polygon\",\n     *     \"coordinates\": [[[-78, 41], [-67, 41], [-67, 48], [-78, 48], [-78, 41]]]\n     *   }\n     * }\n     * tree.collides(polygon)\n     */\n    tree.collides = function (geojson) {\n        return rbush.prototype.collides.call(this, this.toBBox(geojson));\n    };\n\n    /**\n     * [all](https://github.com/mourner/rbush#search)\n     *\n     * @returns {FeatureCollection<any>} all the features in RBush\n     * @example\n     * tree.all()\n     * //=FeatureCollection\n     */\n    tree.all = function () {\n        var features = rbush.prototype.all.call(this);\n        return {\n            type: 'FeatureCollection',\n            features: features\n        };\n    };\n\n    /**\n     * [toJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @returns {any} export data as JSON object\n     * @example\n     * var exported = tree.toJSON()\n     * //=JSON object\n     */\n    tree.toJSON = function () {\n        return rbush.prototype.toJSON.call(this);\n    };\n\n    /**\n     * [fromJSON](https://github.com/mourner/rbush#export-and-import)\n     *\n     * @param {any} json import previously exported data\n     * @returns {RBush} GeoJSON RBush\n     * @example\n     * var exported = {\n     *   \"children\": [\n     *     {\n     *       \"type\": \"Feature\",\n     *       \"geometry\": {\n     *         \"type\": \"Point\",\n     *         \"coordinates\": [110, 50]\n     *       },\n     *       \"properties\": {},\n     *       \"bbox\": [110, 50, 110, 50]\n     *     }\n     *   ],\n     *   \"height\": 1,\n     *   \"leaf\": true,\n     *   \"minX\": 110,\n     *   \"minY\": 50,\n     *   \"maxX\": 110,\n     *   \"maxY\": 50\n     * }\n     * tree.fromJSON(exported)\n     */\n    tree.fromJSON = function (json) {\n        return rbush.prototype.fromJSON.call(this, json);\n    };\n\n    /**\n     * Converts GeoJSON to {minX, minY, maxX, maxY} schema\n     *\n     * @private\n     * @param {BBox|FeatureCollectio|Feature<any>} geojson feature(s) to retrieve BBox from\n     * @returns {Object} converted to {minX, minY, maxX, maxY}\n     */\n    tree.toBBox = function (geojson) {\n        var bbox;\n        if (geojson.bbox) bbox = geojson.bbox;\n        else if (Array.isArray(geojson) && geojson.length === 4) bbox = geojson;\n        else bbox = turfBBox(geojson);\n\n        return {\n            minX: bbox[0],\n            minY: bbox[1],\n            maxX: bbox[2],\n            maxY: bbox[3]\n        };\n    };\n    return tree;\n}\n\n/**\n * Takes a bbox and returns an equivalent {@link Polygon|polygon}.\n *\n * @private\n * @name bboxPolygon\n * @param {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @returns {Feature<Polygon>} a Polygon representation of the bounding box\n * @example\n * var bbox = [0, 0, 10, 10];\n *\n * var poly = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [poly]\n */\nfunction bboxPolygon(bbox) {\n    var lowLeft = [bbox[0], bbox[1]];\n    var topLeft = [bbox[0], bbox[3]];\n    var topRight = [bbox[2], bbox[3]];\n    var lowRight = [bbox[2], bbox[1]];\n    var coordinates = [[lowLeft, lowRight, topRight, topLeft, lowLeft]];\n\n    return {\n        type: 'Feature',\n        bbox: bbox,\n        properties: {},\n        geometry: {\n            type: 'Polygon',\n            coordinates: coordinates\n        }\n    };\n}\n\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @private\n * @name bbox\n * @param {FeatureCollection|Feature<any>} geojson input features\n * @returns {Array<number>} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction turfBBox(geojson) {\n    var bbox = [Infinity, Infinity, -Infinity, -Infinity];\n    coordEach(geojson, function (coord) {\n        if (bbox[0] > coord[0]) bbox[0] = coord[0];\n        if (bbox[1] > coord[1]) bbox[1] = coord[1];\n        if (bbox[2] < coord[0]) bbox[2] = coord[0];\n        if (bbox[3] < coord[1]) bbox[3] = coord[1];\n    });\n    return bbox;\n}\n\nexport default geojsonRbush;\n","import clipper from './clipper';\nimport rbush from 'geojson-rbush';\nimport * as turf from '@turf/turf';\n\n/**\n * @description Compute partition of line relative to boundaries of polygons.\n * @param {LineString} linestring Line to be partitioned.\n * @param {Polgons} polygons Polygon with which to partition.\n * @private\n * @return {LineString} Partitioned line.\n */\nconst boundaries = (linestring, polygons) => {\n  let linePartition = linestring;\n  turf.flattenEach(polygons, (poly) => {\n    const boundary = turf.polygonToLine(poly);\n    linePartition = line(linePartition, boundary);\n  });\n  return linePartition;\n};\n\n/**\n * @description Compute partition of line #1 relative to line(s) #2.\n *              The partition is itself a line that ensures that\n *              each line segment intersects only one line #2 segment.\n * @param {LineString} line1 Line #1.\n * @param {Lines} lines2 Line #2.\n * @private\n * @return {LineString} Line partition of line #1.\n */\nconst line = (line1, lines2) => {\n  const coordinates = [];\n\n  // Load line #2 segments into R-Tree for quick searching.\n  const segments2 = turf.lineSegment(lines2);\n  const tree = rbush();\n  tree.load(segments2);\n\n  // Clip each line #1 segment with nearby line #2 segments.\n  turf.segmentEach(line1, (segment1) => {\n    const clippers = tree.search(segment1);\n    const vertices = clipper.segment(segment1, clippers);\n    const coords = turf.getCoords(vertices);\n    Array.prototype.push.apply(coordinates, coords);\n  });\n\n  // Remove sequential duplicate coordinates.\n  const lines = coordinates.filter((current, i) => {\n    if (i === 0) {\n      return true;\n    }\n    return current.some((dimension, j) => {\n      return (dimension !== coordinates[i-1][j]);\n    });\n  });\n\n  return turf.lineString(lines);\n};\n\n/**\n * @description Compute partition of polygon #1 relative to polygon #2.\n *              The partition is itself a triangulation that ensures that\n *              each partition triangle is either in polygon #1 or #2.\n * @param {FeatureCollection<Polygon>} triangulation1 Polygon #1 triangulation.\n * @param {FeatureCollection<Polygon>} triangulation2 Polygon #2 triangulation.\n * @private\n * @return {FeatureCollection<Polygon>} Triangle partition of polygon #1.\n */\nconst polygon = (triangulation1, triangulation2) => {\n  const triangles = [];\n\n  // Load triangulation #2 into R-Tree for quick searching.\n  const tree = rbush();\n  tree.load(triangulation2);\n\n  turf.featureEach(triangulation1, (triangle1) => {\n    const clippers = tree.search(triangle1);\n    const clips = clipper.triangle(triangle1, clippers);\n    Array.prototype.push.apply(triangles, clips.features);\n  });\n\n  return turf.featureCollection(triangles);\n};\n\nexport default {\n  boundaries,\n  line,\n  polygon,\n};\n","import helpers from './helpers';\nimport meta from './meta';\nimport * as turf from '@turf/turf';\n\n/**\n * @description One or more points.\n * @private\n * @typedef {Feature|FeatureCollection<Point|MultiPoint>} Points\n */\n\n/**\n * @description Test if point(s) in GeoJSON is in line.\n * @param {GeoJSON} geojson GeoJSON points to test.\n * @param {Lines} lines Line(s) to contain points.\n * @param {Boolean} [boundary] True if line boundary should be included.\n *                  Default is true.\n * @param {Boolean} [every] True if every point should be in line.\n *                  False if only some points should be in line.\n *                  Default is true.\n * @param {Boolean} [within] True if relationship is \"within\" otherwise\n *                           \"outside\". Default is true.\n * @private\n * @return {Boolean} True if point(s) is in line otherwise false.\n */\nconst isInLine = (geojson, lines, boundary, every, within) => {\n  boundary = boundary !== false;\n  every = every !== false;\n  within = within !== false;\n\n  if (helpers.disjoint(geojson, lines)) {\n    return within === false;\n  }\n\n  const reducerGeo = (every ? meta.coordEvery : meta.coordSome);\n  const reducerLines = (within ? meta.flattenSome : meta.flattenEvery);\n\n  return reducerGeo(geojson, (coordinate) => {\n    return reducerLines(lines, (linestring) => {\n      return turf.booleanPointOnLine(coordinate, linestring, {\n        ignoreEndVertices: boundary === false,\n      }) === within;\n    });\n  });\n};\n\n/**\n * @description Test if every point in GeoJSON is in points.\n * @param {GeoJSON} geojson GeoJSON points to test.\n * @param {Points} points Points(s) to contain points.\n * @param {Boolean} [every] True if every point should be in points.\n *                  False if only some points should be in points.\n *                  Default is true.\n * @param {Boolean} [within] True if relationship is \"within\" otherwise\n *                           \"outside\". Default is true.\n * @private\n * @return {Boolean} True if point(s) is in point otherwise false.\n */\nconst isInPoint = (geojson, points, every, within) => {\n  every = every !== false;\n  within = within !== false;\n\n  if (helpers.disjoint(geojson, points)) {\n    return within === false;\n  }\n\n  const reducerGeo = (every ? meta.coordEvery : meta.coordSome);\n  const reducerPts = (within ? meta.flattenSome : meta.flattenEvery);\n\n  return reducerGeo(geojson, (coordinate) => {\n    const point1 = turf.point(coordinate);\n    return reducerPts(points, (point2) => {\n      return point1.geometry.coordinates.every((dimension, index) => {\n        return dimension === point2.geometry.coordinates[index];\n      }) === within;\n    });\n  });\n};\n\n/**\n * @description Test if point(s) in GeoJSON is in polygon.\n * @param {GeoJSON} geojson GeoJSON points to test.\n * @param {Polygons} polygons Polygon(s) to contain point.\n * @param {Boolean} [boundary] True if polygon boundary should be included.\n *                  Default is true.\n * @param {Boolean} [every] True if every point should be in polygon.\n *                  False if only some points should be in polygon.\n *                  Default is true.\n * @param {Boolean} [within] True if relationship is \"within\" otherwise\n *                           \"outside\". Default is true.\n * @private\n * @return {Boolean} True if point(s) is in polygon otherwise false.\n */\nconst isInPolygon = (geojson, polygons, boundary, every, within) => {\n  boundary = boundary !== false;\n  every = every !== false;\n  within = within !== false;\n\n  if (helpers.disjoint(geojson, polygons)) {\n    return within === false;\n  }\n\n  const reducerGeo = (every ? meta.coordEvery : meta.coordSome);\n  const reducerPoly = (within ? meta.flattenSome : meta.flattenEvery);\n\n  return reducerGeo(geojson, (coordinate) => {\n    return reducerPoly(polygons, (polygon) => {\n      return turf.booleanPointInPolygon(coordinate, polygon, {\n        ignoreBoundary: boundary === false,\n      }) === within;\n    });\n  });\n};\n\nexport default {\n  isInLine,\n  isInPoint,\n  isInPolygon,\n};\n","import helpers from './helpers';\nimport meta from './meta';\nimport partition from './partition';\nimport point from './point';\nimport * as turf from '@turf/turf';\n\n/**\n * @description One or more lines.\n * @private\n * @typedef {Feature|FeatureCollection<LineString|MultiLineString>} Lines\n */\n\n/**\n * @description Get line ending point.\n * @param {LineString} linestring Line from which to get ending point.\n * @private\n * @return {Point} Ending point.\n */\nconst end = (linestring) => {\n  const length = linestring.geometry.coordinates.length;\n  return turf.point(linestring.geometry.coordinates[length-1]);\n};\n\n/**\n * @description Test if line(s) #1 is disjoint from line(s) #2.\n * @param {Lines} lines1 Line #1 to be tested.\n * @param {Lines} lines2 Line #2 to be tested.\n * @private\n * @return {Boolean} True if they are disjoint otherwise false.\n */\nconst isDisjoint = (lines1, lines2) => {\n  // Check for segment/segment overlaps.\n  const overlaps = isOverlapping(lines1, lines2, true, false, true);\n  if (overlaps) {\n    return false;\n  }\n\n  // Check for any proper sement/segment intersections.\n  const intersections = isIntersecting(lines1, lines2, true);\n  if (intersections) {\n    return false;\n  }\n\n  // Final case is boundaries touching\n  const touches = isTouching(lines1, lines2);\n  if (touches) {\n    return false;\n  }\n\n  return true;\n};\n\n/**\n * @description Test if line(s) #1 and line(s) #2 have any intersections.\n * @param {Lines} lines1 Line #1 to be intersected.\n * @param {Lines} lines2 Line #2 to be intersected.\n * @param {Boolean} [boundary] True if line boundary should be included.\n *                  Default is true.\n * @private\n * @return {Boolean} True if they have intersections otherwise false.\n */\nconst isIntersecting = (lines1, lines2, boundary) => {\n  boundary = boundary !== false;\n\n  // Check for any proper sement/segment intersections.\n  // Turf only finds interections where the segments are non-parallel.\n  return meta.flattenSome(lines1, (line1) => {\n    return meta.flattenSome(lines2, (line2) => {\n      const intersects = turf.lineIntersect(line1, line2);\n      if (boundary === false) {\n        const lines = turf.featureCollection([line1, line2]);\n        if (isOnBoundary(lines, intersects)) {\n          return false;\n        }\n      }\n      return intersects.features.length > 0;\n    });\n  });\n};\n\n/**\n * @description Test if point(s) is on line(s) boundary.\n * @param {Lines} lines Line to be tested.\n * @param {Points} points Points to be tested.\n * @private\n * @return {Boolean} True if on boundary otherwise false.\n */\nconst isOnBoundary = (lines, points) => {\n  return meta.featureEvery(points, (pt) => {\n    // Flatten lines and check if point is on any boundary.\n    return meta.flattenSome(lines, (linestring) => {\n      const lineStart = start(linestring);\n      const lineEnd = end(linestring);\n      if (point.isInPoint(pt, lineStart) ||\n          point.isInPoint(pt, lineEnd)) {\n        return true;\n      }\n    });\n  });\n};\n\n/**\n * @description Test if line(s) #1 and line(s) #2 have overlaps.\n * @param {Lines} lines1 Line #1 to be tested.\n * @param {Lines} lines2 Line #2 to be tested.\n * @param {Boolean} [boundary] True if line boundary should be included.\n *                  Default is true.\n * @param {Boolean} [every] True if every segment should overlap line.\n *                  False if only some segments should overlap line.\n *                  Default is true.\n * @param {Boolean} [within] True if relationship is \"within\" otherwise\n *                           \"outside\". Default is true.\n * @param {Number} [tolerance] Tolerance distance to match overlapping line\n *                             segments (kilometers). Default is 0.\n * @private\n * @return {Boolean} True if they have overlaps otherwise false.\n */\nconst isOverlapping = (lines1, lines2, boundary, every, within, tolerance) => {\n  boundary = boundary !== false;\n  every = every !== false;\n  tolerance = tolerance || 0;\n  within = within !== false;\n\n  const reducer = (every ? meta.segmentEvery : meta.segmentSome);\n  return reducer(lines1, (line1) => {\n    // Partition line #1 using line #2 as clipper.\n    const partition1 = partition.line(line1, lines2);\n    return reducer(partition1, (segment) => {\n      // Check for segment/segment overlaps by testing centroid.\n      const centroid = turf.centroid(segment);\n      let inLine = point.isInLine(centroid, lines2, boundary);\n      if (inLine === false && tolerance > 0) {\n        const nearest = turf.nearestPointOnLine(lines2, centroid);\n        inLine = nearest.properties.dist <= tolerance;\n      }\n      return inLine === within;\n    });\n  });\n};\n\n/**\n * @description Test if two line coordinates are similar. Similarity is\n *              vertex equality with array shift and direction ignored.\n * @example\n *  similar(turf.lineString([[0, 0], [1, 1], [2, 3], [3, 4]]),\n *          turf.lineString([[1, 1], [0, 0], [3, 4], [2, 3]])); // = true\n * @param {Lines} lines1 Line #1.\n * @param {Lines} lines2 Line #2.\n * @private\n * @return {Boolean} True if similar otherwise false.\n */\nconst isSimilar = (lines1, lines2) => {\n  // Flatten all lines then search for matches.\n  const findMatch = (features1, features2) => {\n    return meta.flattenEvery(features1, (line1) => {\n      return meta.flattenSome(features2, (line2) => {\n        const coords1 = line1.geometry.coordinates;\n        const coords2 = line2.geometry.coordinates;\n        const length2 = coords2.length-1;\n        return (helpers.similar(coords1, coords2) ||\n                helpers.similar(coords1, coords2, 0, length2, length2, true));\n      });\n    });\n  };\n  return findMatch(lines1, lines2) && findMatch(lines2, lines1);\n};\n\n/**\n * @description Test if any line(s) #1 boundary touches line(s) #2 boundary.\n * @param {Lines} lines1 Line #1 to be tested.\n * @param {Lines} lines2 Line #2 to be tested.\n * @private\n * @return {Boolean} True if their boundaries touch otherwise false.\n */\nconst isTouching = (lines1, lines2) => {\n  // Flatten both lines and check if end points are equal.\n  return meta.flattenSome(lines1, (line1) => {\n    const start1 = start(line1);\n    const end1 = end(line1);\n\n    return meta.flattenSome(lines2, (line2) => {\n      const start2 = start(line2);\n      if (point.isInPoint(start1, start2) ||\n          point.isInPoint(end1, start2)) {\n        return true;\n      }\n\n      const end2 = end(line2);\n      if (point.isInPoint(start1, end2) ||\n          point.isInPoint(end1, end2)) {\n        return true;\n      }\n    });\n  });\n};\n\n/**\n * @description Get line starting point.\n * @param {LineString} linestring Line from which to get starting point.\n * @private\n * @return {Point} Starting point.\n */\nconst start = (linestring) => {\n  return turf.point(linestring.geometry.coordinates[0]);\n};\n\nexport default {\n  end,\n  isDisjoint,\n  isIntersecting,\n  isOverlapping,\n  isSimilar,\n  isTouching,\n  start,\n};\n","import helpers from './helpers';\nimport line from './line';\nimport meta from './meta';\nimport partition from './partition';\nimport point from './point';\nimport triangulate from './triangulate';\nimport * as turf from '@turf/turf';\n\n/**\n * @description One or more polygons.\n * @private\n * @typedef {Feature|FeatureCollection<Polygon|MultiPolygon>} Polygons\n */\n\n/**\n * @description Test if polygon boundaries intersect.\n * @param {Polygons} polygons1 Polygons #1.\n * @param {Polygons} polygons2 Polygons #2.\n * @private\n * @return {Boolean} True if boundary's intersect otherwise false.\n */\nconst isBoundaryIntersecting = (polygons1, polygons2) => {\n  // Flatten both polygons then intersect their boundaries.\n  return meta.flattenSome(polygons1, (polygon1) => {\n    const boundary1 = turf.polygonToLine(polygon1);\n    return meta.flattenSome(polygons2, (polygon2) => {\n      const boundary2 = turf.polygonToLine(polygon2);\n      return line.isDisjoint(boundary1, boundary2) === false;\n    });\n  });\n};\n\n/**\n * @description Test if two coordinate arrays are similar. Similarity is\n *              equality where shift and direction changes are ignored.\n *              Arrays must be of same length.\n * @param {Array} coordinates1 Coordinates #1 array.\n * @param {Array} coordinates2 Coordinates #2 array.\n * @private\n * @return {Boolean} True if coordinates are similar otherwise false.\n */\nconst isCoordinateSimilar = (coordinates1, coordinates2) => {\n  // First find a pair of coordinates that are equal then check rest of array\n  const length = coordinates1.length - 1;\n  for (let i = 0; i < length; ++i) {\n    if (helpers.similar(coordinates1, coordinates2, 0, i, 1)) {\n      if (helpers.similar(coordinates1, coordinates2, 0, i, length)) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\n/**\n * @description Test if polygon(s) #1 is within polygon(s) #2.\n * @param {Polygons} polygons1 Polygon #1.\n * @param {Polygons} polygons2 Polygon #2.\n * @private\n * @return {Boolean} True if within otherwise false.\n */\nconst isInPolygon = (polygons1, polygons2) => {\n  // Check that all vertices in #1 are in the interior of #2\n  if (point.isInPolygon(polygons1, polygons2, true, true) === false) {\n    return false;\n  }\n\n  // Check the centroid of each partition triangle is within polygon #2.\n  return relate(polygons1, polygons2, false, true, true);\n};\n\n/**\n * @description Test if two polygon coordinates are similar. Similarity is\n *              vertex equality with array shift and direction ignored.\n * @example\n *  similar(turf.polygon([[[0, 0], [1, 1], [2, 3], [3, 4]]]),\n *          turf.polygon([[[1, 1], [0, 0], [3, 4], [2, 3]]])); // = true\n * @param {Polygons} polygons1 Polygon #1.\n * @param {Polygons} polygons2 Polygon #2.\n * @private\n * @return {Boolean} True if similar otherwise false.\n */\nconst isPolygonSimilar = (polygons1, polygons2) => {\n  // Flatten all polygon rings into lines then search for matches.\n  const findMatch = (features1, features2) => {\n    return meta.flattenEvery(features1, (feature1) => {\n      return feature1.geometry.coordinates.every((line1) => {\n        return meta.flattenSome(features2, (feature2) => {\n          return feature2.geometry.coordinates.some((line2) => {\n            return isCoordinateSimilar(line1, line2);\n          });\n        });\n      });\n    });\n  };\n\n  return findMatch(polygons1, polygons2) && findMatch(polygons2, polygons1);\n};\n\n/**\n * @description Relate polygon(s) #1 to polygon(s) #2.\n * @param {Polygons} polygons1 Polygon #1 to relate.\n * @param {Polygons} polygons2 Polygon #2 to relate.\n * @param {Boolean} [boundary] True if boundary should be included.\n *                  Default is true.\n * @param {Boolean} [every] True if every polygon(s) #1 meets relationship.\n *                  False if only some of polygon(s) #1 meets relationship.\n *                  Default is true.\n * @param {Boolean} [within] True if relationship is \"within\" otherwise\n *                           \"outside\". Default is true.\n * @private\n * @return {Boolean} True if relationship met otherwise false.\n */\nconst relate = (polygons1, polygons2, boundary, every, within) => {\n  boundary = boundary !== false;\n  every = every !== false;\n  within = within !== false;\n\n  // Rule out case where polygon coordinates are identical which can cause\n  // trouble for the clipping tools used during partitioning if the\n  // triangulations are identical and vertices are high precision.\n  if (isPolygonSimilar(polygons1, polygons2)) {\n    return within === true;\n  }\n\n  // Compute the partition of polygon #1 relative to #2 so that each partition\n  // triangle is either entirely within or outside polygon #2. Then, we have\n  // to check if the centroid of each partition triangle satisfies relation.\n  const triangulation1 = triangulate(polygons1);\n  const triangulation2 = triangulate(polygons2);\n  const partition1 = partition.polygon(triangulation1, triangulation2);\n\n  const reducer = (every ? meta.featureEvery : meta.featureSome);\n  return reducer(partition1, (triangle) => {\n    const centroid = turf.centroid(triangle);\n    return point.isInPolygon(centroid, polygons2, boundary) === within;\n  });\n};\n\nexport default {\n  isBoundaryIntersecting,\n  isInPolygon,\n  relate,\n};\n","import clipper from './clipper';\nimport helpers from './helpers';\nimport invariant from './invariant';\nimport line from './line';\nimport meta from './meta';\nimport partition from './partition';\nimport point from './point';\nimport polygon from './polygon';\nimport triangulate from './triangulate';\n\nexport default {\n  clipper,\n  helpers,\n  invariant,\n  line,\n  meta,\n  partition,\n  point,\n  polygon,\n  triangulate,\n};\n","import util from '../util';\n\n/**\n * @description Test if line(s) #1 is within line(s) #2.\n * @param {Lines} lines1 Line #1.\n * @param {Lines} lines2 Line #2.\n * @private\n * @return {Boolean} True if within otherwise false.\n */\nconst withinLine = (lines1, lines2) => {\n  if (util.helpers.disjoint(lines1, lines2)) {\n    return false;\n  }\n\n  // Rule out case where line coordinates are identical which can cause\n  // trouble for the clipping tools used during partitioning if the\n  // line strings are identical and vertices are high precision.\n  if (util.line.isSimilar(lines1, lines2)) {\n    return true;\n  }\n\n  // Check that all vertex in #1 are in the interior of #2\n  if (util.point.isInLine(lines1, lines2, true, true) === false) {\n    return false;\n  }\n\n  // Check if the centroid of each partition segment is within lines #2.\n  const overlaps = util.line.isOverlapping(lines1, lines2, false, true, true);\n  if (overlaps) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * @description Test if line(s) is within polygon(s).\n * @param {Lines} lines Line to be tested.\n * @param {Polgons} polygons Polygon to be tested.\n * @private\n * @return {Boolean} True if within otherwise false.\n */\nconst withinPolygon = (lines, polygons) => {\n  if (util.helpers.disjoint(lines, polygons)) {\n    return false;\n  }\n\n  // Partition each line using polygon boundaries so that each partition\n  // segment is either within or outside the polygons.\n  return util.meta.flattenEvery(lines, (linestring) => {\n    // Check that no centroid is in the exterior of all polygons\n    const linePartition = util.partition.boundaries(linestring, polygons);\n    const centroids = util.helpers.centroids(linePartition);\n    const notExterior = util.point.isInPolygon(centroids, polygons, true, true);\n    if (notExterior === false) {\n      return false;\n    }\n\n    // Check that atleast one point is in the interior.\n    return util.point.isInPolygon(centroids, polygons, false, false);\n  });\n};\n\nexport default {\n  withinLine,\n  withinPolygon,\n};\n","import util from '../util';\n\n/**\n * @description Test if point(s) are within line(s).\n * @param {Points} points Point to test.\n * @param {Lines} lines Lines to test.\n * @private\n * @return {Boolean} True if within otherwise false.\n */\nconst withinLine = (points, lines) => {\n  if (util.helpers.disjoint(points, lines)) {\n    return false;\n  }\n\n  // Check that no point is in the exterior of all polygons\n  // and there is at least one interior point.\n  const notExterior = util.point.isInLine(points, lines, true, true);\n  if (notExterior === false) {\n    return false;\n  }\n\n  // Check that atleast one point is in the interior.\n  return util.point.isInLine(points, lines, false, false);\n};\n\n/**\n * @description Test if point(s) #1 are within point(s) #2.\n * @param {Points} points1 Point #1 to test.\n * @param {Points} points2 Point #2 to test.\n * @private\n * @return {Boolean} True if within otherwise false.\n */\nconst withinPoint = (points1, points2) => {\n  if (util.helpers.disjoint(points1, points2)) {\n    return false;\n  }\n\n  // Test that every point in #1 equals some in #2.\n  return util.point.isInPoint(points1, points2, true);\n};\n\n/**\n * @description Test if point(s) are within polygon(s).\n * @param {Points} points Point to test.\n * @param {Polygons} polygons Polygons to test.\n * @private\n * @return {Boolean} True if within otherwise false.\n */\nconst withinPolygon = (points, polygons) => {\n  if (util.helpers.disjoint(points, polygons)) {\n    return false;\n  }\n\n  // Check that no point is in the exterior of all polygons\n  // and there is at least one interior point.\n  const notExterior = util.point.isInPolygon(points, polygons, true, true);\n  if (notExterior === false) {\n    return false;\n  }\n\n  // Check that atleast one point is in the interior.\n  return util.point.isInPolygon(points, polygons, false, false);\n};\n\nexport default {\n  withinLine,\n  withinPoint,\n  withinPolygon,\n};\n","import util from '../util';\n\n/**\n * @description Test if polygon(s) #1 is within polygon(s) #2.\n * @param {Polygons} polygons1 Polygon #1.\n * @param {Polygons} polygons2 Polygon #2.\n * @private\n * @return {Boolean} True if within otherwise false.\n */\nconst withinPolygon = (polygons1, polygons2) => {\n  if (util.helpers.disjoint(polygons1, polygons2)) {\n    return false;\n  }\n\n  // Check the polygon #1 is within polygon #2.\n  return util.polygon.isInPolygon(polygons1, polygons2);\n};\n\nexport default {\n  withinPolygon,\n};\n","import line from './line';\nimport point from './point';\nimport polygon from './polygon';\nimport util from '../util';\n\n/**\n * @description Check if geojson #1 is within geojson #2.\n * @param {GeoJSON} geojson1 GeoJSON #1.\n * @param {GeoJSON} geojson2 GeoJSON #2.\n * @param {Boolean} [error=true] If true unsupported geometries throw an\n *                               error, otherwise they return false.\n * @return {Boolean} True if within otherwise false.\n */\nconst within = (geojson1, geojson2, error=true) => {\n  const type1 = util.invariant.type(geojson1);\n  const type2 = util.invariant.type(geojson2);\n  const type = `${type1}-${type2}`;\n  switch (type) {\n    case 'LineString-LineString':\n      return line.withinLine(geojson1, geojson2);\n    case 'LineString-Polygon':\n      return line.withinPolygon(geojson1, geojson2);\n    case 'Point-LineString':\n      return point.withinLine(geojson1, geojson2);\n    case 'Point-Point':\n      return point.withinPoint(geojson1, geojson2);\n    case 'Point-Polygon':\n      return point.withinPolygon(geojson1, geojson2);\n    case 'Polygon-Polygon':\n      return polygon.withinPolygon(geojson1, geojson2);\n    default:\n      if (error) {\n        throw new Error(`${type1} within ${type2} not supported.`);\n      }\n      return false;\n  }\n};\n\nexport default within;\n","import contains from './src/contains';\nimport coveredby from './src/coveredby';\nimport covers from './src/covers';\nimport crosses from './src/crosses';\nimport disjoint from './src/disjoint';\nimport equals from './src/equals';\nimport intersects from './src/intersects';\nimport overlaps from './src/overlaps';\nimport touches from './src/touches';\nimport within from './src/within';\n\nexport default {\n  contains,\n  coveredby,\n  covers,\n  crosses,\n  disjoint,\n  equals,\n  intersects,\n  overlaps,\n  touches,\n  within,\n};\n","\r\nimport {Txi} from 'txi'\r\nimport * as de9im from 'de9im';\r\n\r\n/**\r\n * MongoLocalDB.copy (Private Function)\r\n */\r\nfunction copy(o) {\r\n   var out, v, key;\r\n   out = Array.isArray(o) ? [] : {};\r\n   for (key in o) {\r\n       v = o[key];\r\n       out[key] = (typeof v === \"object\") ? copy(v) : v;\r\n   }\r\n   return out;\r\n}\r\n\r\n/**\r\n * MongoLocalDB.getProp (Private Function)\r\n */\r\nfunction getProp(obj,name) {\r\n\tvar path = name.split(\"\\.\");\r\n\tvar result = obj[path[0]];\r\n\tfor (var i=1 ; i<path.length ; i++) {\r\n\t\tif (result==undefined || result==null) return result;\r\n\t\tresult = result[path[i]];\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n/**\r\n * MongoLocalDB.LocalStorageStore\r\n * \r\n * Singleton\r\n */\r\nexport const LocalStorageStore = (function() {\r\n\r\n\treturn {\r\n\t\tclear : function() {\r\n\t\t\tlocalStorage.clear();\r\n\t\t},\r\n\t\tget : function(i) {\r\n\t\t\treturn JSON.parse(localStorage.getItem(localStorage.key(i)));\r\n\t\t},\r\n\t\tgetStore : function() {\r\n\t\t\treturn localStorage;\r\n\t\t},\r\n\t\tremove : function(key) {\r\n\t\t\tlocalStorage.removeItem(key);\r\n\t\t},\r\n\t\tset : async function(key,val) {\r\n\t\t\tlocalStorage.setItem(key,JSON.stringify(val));\r\n\t\t},\r\n\t\tsize : function() {\r\n\t\t\treturn localStorage.length;\r\n\t\t}\r\n\t};\r\n\r\n})(); // MongoLocalDB.LocalStorageStore\r\n\r\n/**\r\n * MongoLocalDB.ObjectStore\r\n * \r\n * Public Constructor Function\r\n */\r\nexport const ObjectStore = function() {\r\n\r\n\tvar objs = {};\r\n\r\n\treturn {\r\n\t\tclear : function() {\r\n\t\t\tobjs = {};\r\n\t\t},\r\n\t\tget : function(i) {\r\n\t\t\treturn objs[Object.keys(objs)[i]];\r\n\t\t},\r\n\t\tgetStore : function() {\r\n\t\t\treturn objs;\r\n\t\t},\r\n\t\tremove : function(key) {\r\n\t\t\tdelete objs[key];\r\n\t\t},\r\n\t\tset : function(key,val) {\r\n\t\t\tobjs[key] = val;\r\n\t\t},\r\n\t\tsize : function() {\r\n\t\t\treturn Object.keys(objs).length;\r\n\t\t}\r\n\t}; // MongoLocalDB.ObjectStore return\r\n}; // MongoLocalDB.ObjectStore\r\n\r\n/**\r\n * MongoLocalDB.DB (Public Constructor)\r\n */\r\nexport function DB(options) {\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.log (Private Function)\r\n\t * \r\n\t * @param {String} msg The message to display.\r\n\t */\r\n\tfunction log(msg) {\r\n\t\tif (options && options.print) options.print(msg);\r\n\t\telse console.log(msg);\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.id (Private Function)\r\n\t */\r\n\tfunction id() {\r\n\t\tif (options && options.id) return options.id();\r\n\t\telse return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n\t\t\tvar r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n\t\t\treturn v.toString(16);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.toArray (Private Function)\r\n\t */\r\n\tfunction toArray(obj) {\r\n\t\tvar arr = [];\r\n\t\tfor (var key in obj) {\r\n\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\tvar el = {};\r\n\t\t\t\tel[key] = obj[key];\r\n\t\t\t\tarr.push(el);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.tlMatches\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction tlMatches(doc,query) {\r\n\t\tvar key = Object.keys(query)[0];\r\n\t\tvar value = query[key];\r\n\t\tif (key.charAt(0)==\"$\") {\r\n\t\t\tif (key==\"$and\") return and(doc,value);\r\n\t\t\telse if (key==\"$or\") return or(doc,value);\r\n\t\t\telse if (key==\"$not\") return not(doc,value);\r\n\t\t\telse if (key==\"$nor\") return nor(doc,value);\r\n\t\t\telse if (key==\"$where\") return where(doc,value);\r\n\t\t\telse throw { $err : \"Can't canonicalize query: BadValue unknown top level operator: \" + key, code: 17287 };\r\n\t\t} else {\r\n\t\t\treturn opMatches(doc,key,value);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.opMatches\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction opMatches(doc,key,value) {\r\n\t\tif (typeof(value)==\"string\") return getProp(doc,key)==value;\r\n\t\telse if (typeof(value)==\"number\") return getProp(doc,key)==value;\r\n\t\telse if (typeof(value)==\"boolean\") return getProp(doc,key)==value;\r\n\t\telse if (typeof(value)==\"object\") {\r\n\t\t\tif (value instanceof RegExp) return getProp(doc,key) && getProp(doc,key).match(value);\r\n\t\t\telse if (isArray(value)) return getProp(doc,key) && arrayMatches(getProp(doc,key),value);\r\n\t\t\telse {\r\n\t\t\t\tvar keys = Object.keys(value);\r\n\t\t\t\tif (keys[0].charAt(0)==\"$\") {\r\n\t\t\t\t\tfor (var i=0 ; i<keys.length ; i++) {\r\n\t\t\t\t\t\tvar operator = Object.keys(value)[i];\r\n\t\t\t\t\t\tvar operand = value[operator];\r\n\t\t\t\t\t\tif (operator==\"$eq\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !(getProp(doc,key) == operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$gt\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !(getProp(doc,key) > operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$gte\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !(getProp(doc,key) >= operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$lt\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !(getProp(doc,key) < operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$lte\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !(getProp(doc,key) <= operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$ne\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !(getProp(doc,key) != operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$in\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !isIn(getProp(doc,key),operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$nin\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined ||  isIn(getProp(doc,key),operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$exists\") {\r\n\t\t\t\t\t\t\tif (operand?getProp(doc,key)==undefined:getProp(doc,key)!=undefined) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$type\") {\r\n\t\t\t\t\t\t\tif (typeof(getProp(doc,key))!=operand) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$mod\") {\r\n\t\t\t\t\t\t\tif (operand.length!=2) throw { $err : \"Can't canonicalize query: BadValue malformed mod, not enough elements\", code : 17287 };\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || (getProp(doc,key) % operand[0] != operand[1])) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$regex\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined || !getProp(doc,key).match(operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$text\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined ||  !text(getProp(doc,key),operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$geoWithin\") {\r\n\t\t\t\t\t\t\tif (getProp(doc,key)==undefined ||  !geoWithin(getProp(doc,key),operand)) return false;\r\n\t\t\t\t\t\t} else if (operator==\"$not\") {\r\n\t\t\t\t\t\t\tif (opMatches(doc,key,operand)) return false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthrow { $err : \"Can't canonicalize query: BadValue unknown operator: \" + operator, code : 17287 };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn getProp(doc,key) && objectMatches(getProp(doc,key),value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} // MongoLocalDB.DB.opMatches\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.text\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction text(prop,query) {\r\n\t\tconst txi = new Txi().index('id',prop)\r\n\t\tconst search = txi.search(query)\r\n\t\treturn search.length == 1\r\n\t}\r\n\r\n\t//   { \"type\": \"Feature\",\r\n\t//   \"geometry\": {\r\n\t// \t\"type\": \"Polygon\",\r\n\t// \t\"coordinates\": [[\r\n\t// \t  [-10.0, -10.0], [10.0, -10.0], [10.0, 10.0], [-10.0, 10.0]\r\n\t// \t  ]]\r\n\t// \t}\r\n\t//   ...\r\n\t//   }\r\n\r\n\tfunction bboxToGeojson(bbox) {\r\n\t\tconst minLon = bbox[0][0]\r\n\t\tconst maxLat = bbox[0][1]\r\n\t\tconst maxLon = bbox[1][0]\r\n\t\tconst minLat = bbox[1][1]\r\n\t\treturn {\r\n\t\t\ttype: 'FeatureCollection',\r\n\t\t\tfeatures: [{\r\n\t\t\t\ttype: 'Feature',\r\n\t\t\t\tproperties: {},\r\n\t\t\t\tgeometry: {\r\n\t\t\t\t\ttype: 'Polygon',\r\n\t\t\t\t\tcoordinates: [[\r\n\t\t\t\t\t\t[minLon,maxLat],\r\n\t\t\t\t\t\t[minLon,minLat],\r\n\t\t\t\t\t\t[maxLon,minLat],\r\n\t\t\t\t\t\t[maxLon,maxLat],\r\n\t\t\t\t\t\t[minLon,maxLat]\r\n\t\t\t\t\t]]\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.geoWithin\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\t function geoWithin(prop,query) {\r\n\t\ttry {\r\n\t\t\treturn de9im.default.within(prop,bboxToGeojson(query),false)\r\n\t\t} catch (e) {\r\n\t\t\treturn false\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.and\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction and(doc,els) {\r\n\t\tfor (var i=0 ; i<els.length ; i++) {\r\n\t\t\tif (!tlMatches(doc,els[i])) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.or\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction or(doc,els) {\r\n\t\tfor (var i=0 ; i<els.length ; i++) {\r\n\t\t\tif (tlMatches(doc,els[i])) return true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.nor\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction nor(doc,els) {\r\n\t\tfor (var i=0 ; i<operand.length ; i++) {\r\n\t\t\tif (tlMatches(doc,els[i])) return false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\t/**\r\n\t * MongoLocalDB.DB.isArray\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction isArray(o) {\r\n\t\treturn Array == o.constructor;\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.matches\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\t// query structure: (top level operators ( \"age\" : (operators) ))\r\n\t// top,top level query, implicit $and\r\n\tfunction matches(doc,query) {\r\n\t\treturn and(doc,toArray(query));\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.isIn\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction isIn(val,values) {\r\n\t\tfor (var i=0 ; i<values.length ; i++) if (values[i]==val) return true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.arrayMatches\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction arrayMatches(x,y) {\r\n\t\tif (x.length!=y.length) return false;\r\n\t\tfor (var i=0 ; i<x.length ; i++) {\r\n\t\t\tif (x[i]===y[i]) continue;\r\n\t\t\tif (typeof(x[i])!=typeof(y[i])) return false;\r\n\t\t\tif (typeof(x[i]==\"object\")) {\r\n\t\t\t\tif (isArray(x[i])) {\r\n\t\t\t\t\tif (!arrayMatches(x,y)) return false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!objectMatches(x[i],y[i])) return false;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (x[i] != y[i]) return false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.objectMatches\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction objectMatches( x, y ) {\r\n\t\t  for ( var p in x ) {\r\n\t\t    if ( ! x.hasOwnProperty( p ) ) continue;\r\n\t\t    if ( ! y.hasOwnProperty( p ) ) return false;\r\n\t\t    if ( x[ p ] === y[ p ] ) continue;\r\n\t\t    if (typeof(x[p]) != typeof(y[p])) return false;\r\n\t\t    if (typeof(x[i])==\"object\") {\r\n\t\t    \tif (isArray(x[i])) {\r\n\t\t    \t\tif (!arrayMatches(x[i],y[i])) return false;\r\n\t\t    \t} else {\r\n\t\t    \t\tif (!objectMatches(x[i],y[i])) return false;\r\n\t\t    \t}\r\n\t\t    } else {\r\n\t\t    \tif (x[i]!=y[i]) return false;\r\n\t\t    }\r\n\t\t  }\r\n\t\t  for ( p in y ) {\r\n\t\t    if ( y.hasOwnProperty( p ) && ! x.hasOwnProperty( p ) ) return false;\r\n\t\t  }\r\n\t\t  return true;\r\n\t}\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.applyProjection\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction applyProjection(projection, doc) {\r\n\t\tvar result = {};\r\n\t\tvar keys = Object.keys(projection);\r\n\t\tif (keys.length==0) return doc;\r\n\t\telse if (projection[keys[0]]) {\r\n\t\t\t// inclusion with _id\r\n\t\t\tresult._id = doc._id;\r\n\t\t\tfor (var i=0 ; i<keys.length ; i++) {\r\n\t\t\t\tif (!projection[keys[i]]) throw { $err: \"Can't canonicalize query: BadValue Projection cannot have a mix of inclusion and exclusion.\", code: 17287 };\r\n\t\t\t\tresult[keys[i]] = doc[keys[i]];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// exclusion\r\n\t\t\tfor (var key in doc) {\r\n\t\t\t\tresult[key] = doc[key];\r\n\t\t\t}\r\n\t\t\tfor (var i=0 ; i<keys.length ; i++) {\r\n\t\t\t\tif (projection[keys[i]]) throw { $err: \"Can't canonicalize query: BadValue Projection cannot have a mix of inclusion and exclusion.\", code: 17287 };\r\n\t\t\t\tdelete result[keys[i]];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t} // MongoLocalDB.DB.applyProjection\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.applyUpdates\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\t// TODO support dot notation eg: \"metrics.orders\" and '$'\r\n\tfunction applyUpdates(updates,doc,setOnInsert) {\r\n\t\tvar keys = Object.keys(updates);\r\n\t\tfor (var i=0 ; i<keys.length ; i++) {\r\n\t\t\tvar key = keys[i];\r\n\t\t\tvar value = updates[key];\r\n\t\t\tif (key==\"$inc\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar amount = value[field];\r\n\t\t\t\t\tdoc[field] = doc[field] + amount;\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$mul\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar amount = value[field];\r\n\t\t\t\t\tdoc[field] = doc[field] * amount;\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$rename\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar newName = value[field];\r\n\t\t\t\t\tdoc[newName] = doc[field];\r\n\t\t\t\t\tdelete doc[field];\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$setOnInsert\" && setOnInsert) {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tdoc[fields[j]] = value[fields[j]];\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$set\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tdoc[fields[j]] = value[fields[j]];\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$unset\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tdelete doc[fields[j]];\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$min\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar amount = value[field];\r\n\t\t\t\t\tdoc[field] = Math.min(doc[field],amount);\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$max\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar amount = value[field];\r\n\t\t\t\t\tdoc[field] = Math.max(doc[field],amount);\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$currentDate\") {  // TODO not the same as mongo\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tdoc[fields[j]] = new Date();\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$addToSet\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar value = value[field];\r\n\t\t\t\t\tdoc[field].push(value);\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$pop\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar value = value[field];\r\n\t\t\t\t\tif (value==1) {\r\n\t\t\t\t\t\tdoc[field].pop();\r\n\t\t\t\t\t} else if (value==-1) {\r\n\t\t\t\t\t\tdoc[field].shift();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$pullAll\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar src = doc[fields[j]];\r\n\t\t\t\t\tvar toRemove = value[fields[j]];\r\n\t\t\t\t\tvar notRemoved = [];\r\n\t\t\t\t\tfor (var k=0 ; k<src.length ; k++) {\r\n\t\t\t\t\t\tvar removed = false;\r\n\t\t\t\t\t\tfor (var l=0 ; l<toRemove.length ; l++) {\r\n\t\t\t\t\t\t\tif (src[k]==toRemove[l]) {\r\n\t\t\t\t\t\t\t\tremoved = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!removed) notRemoved.push(src[k]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdoc[fields[j]] = notRemoved;\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$pushAll\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tvar values = value[field];\r\n\t\t\t\t\tfor (var k=0 ; k<values.length ; k++) {\r\n\t\t\t\t\t\tdoc[field].push(values[k]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$push\") {\r\n\t\t\t\tvar fields = Object.keys(value);\r\n\t\t\t\tfor (var j=0 ; j<fields.length ; j++) {\r\n\t\t\t\t\tvar field = fields[j];\r\n\t\t\t\t\tdoc[field].push(value[field]);\r\n\t\t\t\t}\r\n\t\t\t} else if (key==\"$bit\") {\r\n\t\t\t\tvar field = Object.keys(value)[0];\r\n\t\t\t\tvar operation = value[field];\r\n\t\t\t\tvar operator = Object.keys(operation)[0];\r\n\t\t\t\tvar operand = operation[operator];\r\n\t\t\t\tif (operator==\"and\") {\r\n\t\t\t\t\tdoc[field] = doc[field] & operand;\r\n\t\t\t\t} else if (operator==\"or\") {\r\n\t\t\t\t\tdoc[field] = doc[field] | operand;\r\n\t\t\t\t} else if (operator==\"xor\") {\r\n\t\t\t\t\tdoc[field] = doc[field] ^ operand;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow \"unknown $bit operator: \" + operator;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthrow \"unknown update operator: \" + key;\r\n\t\t\t}\r\n\t\t}\r\n\t} // MongoLocalDB.DB.applyUpdates\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.createDocFromUpdate\r\n\t * \r\n\t * Private Function\r\n\t */\r\n\tfunction createDocFromUpdate(query,updates) {\r\n\t\tvar newDoc = { _id : id() };\r\n\t\tvar onlyFields = true;\r\n\t\tvar updateKeys = Object.keys(updates);\r\n\t\tfor (var i=0 ; i<updateKeys.length ; i++) {\r\n\t\t\tif (updateKeys[i].charAt(0)==\"$\") {\r\n\t\t\t\tonlyFields = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (onlyFields) {\r\n\t\t\tfor (var i=0 ; i<updateKeys.length ; i++) {\r\n\t\t\t\tnewDoc[updateKeys[i]] = updates[updateKeys[i]];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar queryKeys = Object.keys(query);\r\n\t\t\tfor (var i=0 ; i<queryKeys.length ; i++) {\r\n\t\t\t\tnewDoc[queryKeys[i]] = query[queryKeys[i]];\r\n\t\t\t}  \r\n\t\t\tapplyUpdates(updates,newDoc,true);\r\n\t\t}\r\n\t\treturn newDoc;\r\n\t} // MongoLocalDB.DB.createDocFromUpdate\r\n\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB.Collection\r\n\t * \r\n\t * Private Constructor Function \r\n\t */\r\n\tfunction Collection(db,storage) {\r\n\r\n\t\t/**\r\n\t\t * MongoLocalDB.DB.Collection.Cursor\r\n\t\t * \r\n\t\t * Private Constructor Function\r\n\t\t */\r\n\t\tfunction Cursor(collection,query,projection) {\r\n\t\t\tvar pos = 0;\r\n\t\t\tvar max = 0;\r\n\r\n\t\t\t// false == unknown\r\n\t\t\t// null == no more\r\n\t\t\t// !null == next\r\n\t\t\tvar next = false;\r\n\r\n\t\t\tfunction findNext() {\r\n\t\t\t\twhile (pos<collection.count() && (max==0 || pos<max)) {\r\n\t\t\t\t\tvar cur = storage.get(pos++);\r\n\t\t\t\t\tif (matches(cur,query)) {\r\n\t\t\t\t\t\tnext = cur;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tnext = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.batchSize = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.close = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.comment = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.count = function() {\r\n\t\t\t\tvar num = 0;\r\n\t\t\t\tvar c = new Cursor(collection,query);\r\n\t\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t\tnum++;\r\n\t\t\t\t\tc.next();\r\n\t\t\t\t}\r\n\t\t\t\treturn num;\r\n\t\t\t};\r\n\t\t\tthis.explain = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.forEach = function(fn) {\r\n\t\t\t\twhile (this.hasNext()) {\r\n\t\t\t\t\tfn(this.next());\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tthis.hasNext = function() {\r\n\t\t\t\tif (next===false) findNext();\r\n\t\t\t\treturn next != null;\r\n\t\t\t};\r\n\t\t\tthis.hint = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.itcount = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.limit = function(_max) {\r\n\t\t\t\tmax = _max;\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\t\t\tthis.map = function(fn) {\r\n\t\t\t\tvar results = [];\r\n\t\t\t\twhile (this.hasNext()) {\r\n\t\t\t\t\tresults.push(fn(this.next()));\r\n\t\t\t\t}\r\n\t\t\t\treturn results;\r\n\t\t\t};\r\n\t\t\tthis.maxScan = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.maxTimeMS = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.max = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.min = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.next = function() {\r\n\t\t\t\tif (next==null) throw \"Error: error hasNext: false\";\r\n\t\t\t\tvar result = next;\r\n\t\t\t\tfindNext();\r\n\t\t\t\tif (projection) return applyProjection(projection,result);\r\n\t\t\t\telse return result;\r\n\t\t\t};\r\n\t\t\tthis.noCursorTimeout = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.objsLeftInBatch = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.pretty = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.readConcern = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.readPref = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.returnKey = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.showRecordId = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.size = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.skip = function(num) {\r\n\t\t\t\twhile (num>0) {\r\n\t\t\t\t\tthis.next();\r\n\t\t\t\t\tnum--;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\t\t\tthis.snapshot = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.sort = function(s) {\r\n\t\t\t\treturn new SortedCursor(collection,query,this,s);\r\n\t\t\t};\r\n\t\t\tthis.tailable = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.toArray = function() {\r\n\t\t\t\tvar results = [];\r\n\t\t\t\twhile (this.hasNext()) {\r\n\t\t\t\t\tresults.push(this.next());\r\n\t\t\t\t}\r\n\t\t\t\treturn results;\r\n\t\t\t};\r\n\r\n\t\t\tthis.next();\r\n\t\t} // MongoLocalDB.DB.Collection.Cursor\r\n\r\n\t\t/**\r\n\t\t * MongoLocalDB.DB.Collection.SortedCursor\r\n\t\t * \r\n\t\t * Private Constructor Function\r\n\t\t */\r\n\t\tfunction SortedCursor(collection,query,cursor,sort) {\r\n\t\t\tvar pos = 0;\r\n\t\t\tvar items = [];\r\n\t\t\twhile (cursor.hasNext()) {\r\n\t\t\t\titems.push(cursor.next());\r\n\t\t\t}\r\n\t\t\tvar sortKeys = Object.keys(sort);\r\n\t\t\titems.sort(function(a,b) {\r\n\t\t\t\tfor (var i=0 ; i<sortKeys.length ; i++) {\r\n\t\t\t\t\tif (a[sortKeys[i]]==undefined && b[sortKeys[i]]!=undefined) return -1*sort[sortKeys[i]]; \r\n\t\t\t\t\tif (a[sortKeys[i]]!=undefined && b[sortKeys[i]]==undefined) return  1*sort[sortKeys[i]]; \r\n\t\t\t\t\tif (a[sortKeys[i]] < b[sortKeys[i]]) return -1*sort[sortKeys[i]];\r\n\t\t\t\t\tif (a[sortKeys[i]] > b[sortKeys[i]]) return 1*sort[sortKeys[i]];\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t\tthis.batchSize = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.close = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.comment  = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.count = function() {\r\n\t\t\t\treturn items.length;\r\n\t\t\t};\r\n\t\t\tthis.explain = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.forEach = function(fn) {\r\n\t\t\t\twhile (this.hasNext()) {\r\n\t\t\t\t\tfn(this.next());\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tthis.hasNext = function() {\r\n\t\t\t\treturn pos<items.length;\r\n\t\t\t};\r\n\t\t\tthis.hint = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.itcount = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.limit = function(max) {\r\n\t\t\t\titems = items.slice(0,max);\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\t\t\tthis.map = function(fn) {\r\n\t\t\t\tvar results = [];\r\n\t\t\t\twhile (this.hasNext()) {\r\n\t\t\t\t\tresults.push(fn(this.next()));\r\n\t\t\t\t}\r\n\t\t\t\treturn results;\r\n\t\t\t};\r\n\t\t\tthis.maxScan = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.maxTimeMS = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.max = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.min = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.next = function() {\r\n\t\t\t\treturn items[pos++];\r\n\t\t\t};\r\n\t\t\tthis.noCursorTimeout = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.objsLeftInBatch = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.pretty = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.readConcern = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.readPref = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.returnKey = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.showRecordId = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.size = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.skip = function(num) {\r\n\t\t\t\twhile (num>0) {\r\n\t\t\t\t\tthis.next();\r\n\t\t\t\t\tnum--;\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\t\t\tthis.snapshot = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.sort = function(s) {\r\n\t\t\t\treturn new SortedCursor(collection,query,this,s);\r\n\t\t\t};\r\n\t\t\tthis.tailable = function() { throw \"Not Implemented\"; };\r\n\t\t\tthis.toArray = function() {\r\n\t\t\t\tvar results = [];\r\n\t\t\t\twhile (this.hasNext()) {\r\n\t\t\t\t\tresults.push(this.next());\r\n\t\t\t\t}\r\n\t\t\t\treturn results;\r\n\t\t\t};\r\n\t\t} // MongoLocalDB.DB.Collection.SortedCursor\r\n\r\n\t\t/**\r\n\t\t * MongoLocalDB.DB.Collection\r\n\t\t * \r\n\t\t * Public Members\r\n\t\t */\r\n\t\treturn {\r\n\t\t\tisCollection : true, // TODO used by dropDatabase, ugly\r\n\t\t\taggregate : function() { throw \"Not Implemented\"; },\r\n\t\t\tbulkWrite : function() { throw \"Not Implemented\"; },\r\n\t\t\tcount : function() {\r\n\t\t\t\treturn storage.size();\r\n\t\t\t},\r\n\t\t\tcopyTo : function(destCollectionName) {\r\n\t\t\t\tif (!db[destCollectionName]) {\r\n\t\t\t\t\tdb.createCollection(destCollectionName);\r\n\t\t\t\t}\r\n\t\t\t\tvar destCol = db[destCollectionName];\r\n\t\t\t\tvar numCopied = 0;\r\n\t\t\t\tvar c = this.find({});\r\n\t\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t\tdestCol.insertOne(c.next());\r\n\t\t\t\t\tnumCopied++;\r\n\t\t\t\t}\r\n\t\t\t\treturn numCopied;\r\n\t\t\t},\r\n\t\t\tcreateIndex : function() { throw \"Not Implemented\"; },\r\n\t\t\tdataSize : function() { throw \"Not Implemented\"; },\r\n\t\t\tdeleteOne : function(query) {\r\n\t\t\t\tvar doc = this.findOne(query);\r\n\t\t\t\tif (doc) {\r\n\t\t\t\t\tstorage.remove(doc._id);\r\n\t\t\t\t\treturn { deletedCount : 1 };\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn { deletedCount : 0 };\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeleteMany : function(query) {\r\n\t\t\t\tvar c = this.find(query);\r\n\t\t\t\tvar ids = [];\r\n\t\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t\tids.push(c.next()._id);\r\n\t\t\t\t}\r\n\t\t\t\tvar deletedCount = ids.length;\r\n\t\t\t\tfor (var i=0 ; i<ids.length ; i++) {\r\n\t\t\t\t\tstorage.remove(ids[i]);\r\n\t\t\t\t}\r\n\t\t\t\treturn { deletedCount : deletedCount };\r\n\t\t\t},\r\n\t\t\tdistinct : function(field,query) {\r\n\t\t\t\tvar vals = {};\r\n\t\t\t\tvar c = this.find(query);\r\n\t\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t\tvar d = c.next();\r\n\t\t\t\t\tif (d[field]) {\r\n\t\t\t\t\t\tvals[d[field]] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn Object.keys(vals);\r\n\t\t\t},\r\n\t\t\tdrop : function() {\r\n\t\t\t\tstorage.clear();\r\n\t\t\t},\r\n\t\t\tdropIndex : function() { throw \"Not Implemented\"; },\r\n\t\t\tdropIndexes : function() { throw \"Not Implemented\"; },\r\n\t\t\tensureIndex : function() { throw \"Not Implemented\"; },\r\n\t\t\texplain : function() { throw \"Not Implemented\"; },\r\n\t\t\tfind : function(query,projection) {\r\n\t\t\t\treturn new Cursor(this,(query==undefined?{}:query),projection)\r\n\t\t\t},\r\n\t\t\tfindAndModify : function() { throw \"Not Implemented\"; },\r\n\t\t\tfindOne : function(query,projection) {\r\n\t\t\t\tvar cursor = this.find(query,projection);\r\n\t\t\t\tif (cursor.hasNext()) {\r\n\t\t\t\t\treturn cursor.next();\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfindOneAndDelete : function(filter,options) {\r\n\t\t\t\tvar c = this.find(filter);\r\n\t\t\t\tif (options && options.sort) c = c.sort(options.sort);\r\n\t\t\t\tif (!c.hasNext()) return null;\r\n\t\t\t\tvar doc = c.next();\r\n\t\t\t\tstorage.remove(doc._id);\r\n\t\t\t\tif (options && options.projection) return applyProjection(options.projection,doc);\r\n\t\t\t\telse return doc;\r\n\t\t\t},\r\n\t\t\tfindOneAndReplace : function(filter,replacement,options) {\r\n\t\t\t\tvar c = this.find(filter);\r\n\t\t\t\tif (options && options.sort) c = c.sort(options.sort);\r\n\t\t\t\tif (!c.hasNext()) return null;\r\n\t\t\t\tvar doc = c.next();\r\n\t\t\t\treplacement._id = doc._id;\r\n\t\t\t\tstorage.set(doc._id,replacement);\r\n\t\t\t\tif (options && options.returnNewDocument) doc = replacement;\r\n\t\t\t\tif (options && options.projection) return applyProjection(options.projection,doc);\r\n\t\t\t\telse return doc;\r\n\t\t\t},\r\n\t\t\tfindOneAndUpdate : function(filter,update,options) {\r\n\t\t\t\tvar c = this.find(filter);\r\n\t\t\t\tif (options && options.sort) c = c.sort(options.sort);\r\n\t\t\t\tif (!c.hasNext()) return null;\r\n\t\t\t\tvar doc = c.next();\r\n\t\t\t\tvar clone = Object.assign({},doc);\r\n\t\t\t\tapplyUpdates(update,clone);\r\n\t\t\t\tstorage.set(doc._id,clone);\r\n\t\t\t\tif (options && options.returnNewDocument) doc = clone;\r\n\t\t\t\tif (options && options.projection) return applyProjection(options.projection,doc);\r\n\t\t\t\telse return doc;\r\n\t\t\t},\r\n\t\t\tgetIndexes : function() { throw \"Not Implemented\"; },\r\n\t\t\tgetShardDistribution : function() { throw \"Not Implemented\"; },\r\n\t\t\tgetShardVersion : function() { throw \"Not Implemented\"; },\r\n\t\t\t// non-mongo\r\n\t\t\tgetStore : function() {\r\n\t\t\t\treturn storage.getStore();\r\n\t\t\t},\r\n\t\t\tgroup : function() { throw \"Not Implemented\"; },\r\n\t\t\tinsert : function(doc) {\r\n\t\t\t\tif (Array == doc.constructor) {\r\n\t\t\t\t\tthis.insertMany(doc);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.insertOne(doc);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tinsertOne : function(doc) {\r\n\t\t\t\tif (doc._id==undefined) doc._id = id();\r\n\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t},\r\n\t\t\tinsertMany : function(docs) {\r\n\t\t\t\tfor (var i=0 ; i<docs.length ; i++) {\r\n\t\t\t\t\tthis.insertOne(docs[i]);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisCapped : function() { throw \"Not Implemented\"; },\r\n\t\t\tmapReduce : function() { throw \"Not Implemented\"; },\r\n\t\t\treIndex : function() { throw \"Not Implemented\"; },\r\n\t\t\treplaceOne : function(query,replacement,options) { // only replace\r\n\t\t\t\t// first\r\n\t\t\t\tvar result = {};\r\n\t\t\t\tvar c = this.find(query);\r\n\t\t\t\tresult.matchedCount = c.count();\r\n\t\t\t\tif (result.matchedCount==0) {\r\n\t\t\t\t\tresult.modifiedCount = 0;\r\n\t\t\t\t\tif (options && options.upsert) {\r\n\t\t\t\t\t\treplacement._id = id();\r\n\t\t\t\t\t\tstorage.set(replacement._id,replacement);\r\n\t\t\t\t\t\tresult.upsertedId = replacement._id;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.modifiedCount = 1;\r\n\t\t\t\t\tvar doc = c.next();\r\n\t\t\t\t\treplacement._id = doc._id;\r\n\t\t\t\t\tstorage.set(doc._id,replacement);\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\t\t\tremove : function(query,options) {\r\n\t\t\t\tvar c = this.find(query);\r\n\t\t\t\tif (!c.hasNext()) return;\r\n\t\t\t\tif (options===true || (options && options.justOne)) {\r\n\t\t\t\t\tvar doc = c.next();\r\n\t\t\t\t\tstorage.remove(doc._id);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t\t\tstorage.remove(c.next()._id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trenameCollection : function() { throw \"Not Implemented\"; },\r\n\t\t\tsave : function() { throw \"Not Implemented\"; },\r\n\t\t\tstats : function() { throw \"Not Implemented\"; },\r\n\t\t\tstorageSize : function() { throw \"Not Implemented\"; },\r\n\t\t\ttotalSize : function() { throw \"Not Implemented\"; },\r\n\t\t\ttotalIndexSize : function() { throw \"Not Implemented\"; },\r\n\t\t\tupdate : function(query,updates,options) {\r\n\t\t\t\tvar c = this.find(query);\r\n\t\t\t\tif (c.hasNext()) {\r\n\t\t\t\t\tif (options && options.multi) {\r\n\t\t\t\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t\t\t\tvar doc = c.next();\r\n\t\t\t\t\t\t\tapplyUpdates(updates,doc);\r\n\t\t\t\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar doc = c.next();\r\n\t\t\t\t\t\tapplyUpdates(updates,doc);\r\n\t\t\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (options && options.upsert) {\r\n\t\t\t\t\t\tvar doc = createDocFromUpdate(query,updates);\r\n\t\t\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tupdateOne : function(query,updates,options) {\r\n\t\t\t\tvar c = this.find(query);\r\n\t\t\t\tif (c.hasNext()) {\r\n\t\t\t\t\tvar doc = c.next();\r\n\t\t\t\t\tapplyUpdates(updates,doc);\r\n\t\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (options && options.upsert) {\r\n\t\t\t\t\t\tvar doc = createDocFromUpdate(query,updates);\r\n\t\t\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tupdateMany : function(query,updates,options) {\r\n\t\t\t\tvar c = this.find(query);\r\n\t\t\t\tif (c.hasNext()) {\r\n\t\t\t\t\twhile (c.hasNext()) {\r\n\t\t\t\t\t\tvar doc = c.next();\r\n\t\t\t\t\t\tapplyUpdates(updates,doc);\r\n\t\t\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (options && options.upsert) {\r\n\t\t\t\t\t\tvar doc = createDocFromUpdate(query,updates);\r\n\t\t\t\t\t\tstorage.set(doc._id,doc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvalidate : function() { throw \"Not Implemented\"; }\r\n\t\t}; // MongoLocalDB.DB.Collection return\r\n\t}; // MongoLocalDB.DB.Collection\r\n\r\n\t/**\r\n\t * MongoLocalDB.DB\r\n\t * \r\n\t * Public Members\r\n\t */\r\n\treturn {\r\n\t\tcloneCollection : function() { throw \"Not Implemented\"; },\r\n\t\tcloneDatabase : function() { throw \"Not Implemented\"; },\r\n\t\tcommandHelp : function() { throw \"Not Implemented\"; },\r\n\t\tcopyDatabase : function() { throw \"Not Implemented\"; },\r\n\t\tcreateCollection : function(name) {\r\n\t\t\tif (!name) return;\r\n\t\t\tif (name==\"localStorage\") this.localStorage = new Collection(this,(options.localStorage?options.localStorage:LocalStorageStore));\r\n\t\t\telse this[name] = new Collection(this,(options && options.storage?new options.storage():new ObjectStore()));\r\n\t\t},\r\n\t\tcurrentOp : function() { throw \"Not Implemented\"; },\r\n\t\tdropDatabase : function() {\r\n\t\t\tfor (var key in this) {\r\n\t\t\t\tif (this[key]!=null && this[key].isCollection) {\r\n\t\t\t\t\tthis[key].drop(); // drop the contents\r\n\t\t\t\t\tdelete this[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\teval : function() { throw \"Not Implemented\"; },\r\n\t\tfsyncLock : function() { throw \"Not Implemented\"; },\r\n\t\tfsyncUnlock : function() { throw \"Not Implemented\"; },\r\n\t\tgetCollection : function() { throw \"Not Implemented\"; },\r\n\t\tgetCollectionInfos : function() { throw \"Not Implemented\"; },\r\n\t\tgetCollectionNames : function() {\r\n\t\t\tvar names = [];\r\n\t\t\tfor (var key in this) {\r\n\t\t\t\tif (this[key]!=null && this[key].isCollection) {\r\n\t\t\t\t\tnames.push(key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn names;\r\n\t\t},\r\n\t\tgetLastError : function() { throw \"Not Implemented\"; },\r\n\t\tgetLastErrorObj : function() { throw \"Not Implemented\"; },\r\n\t\tgetLogComponents : function() { throw \"Not Implemented\"; },\r\n\t\tgetMongo : function() { throw \"Not Implemented\"; },\r\n\t\tgetName : function() { throw \"Not Implemented\"; },\r\n\t\tgetPrevError : function() { throw \"Not Implemented\"; },\r\n\t\tgetProfilingLevel : function() { throw \"Not Implemented\"; },\r\n\t\tgetProfilingStatus : function() { throw \"Not Implemented\"; },\r\n\t\tgetReplicationInfo : function() { throw \"Not Implemented\"; },\r\n\t\tgetSiblingDB : function() { throw \"Not Implemented\"; },\r\n\t\thelp : function() {\r\n\t\t\tlog(\"        help mr                      mapreduce\");\r\n\t\t\tlog(\"        db.foo.find()                list objects in collection foo\");\r\n\t\t\tlog(\"        db.foo.find( { a : 1 } )     list objects in foo where a == 1\");\r\n\t\t\tlog(\"        it                           result of the last line evaluated; use to further iterate\");\r\n\t\t},\r\n\t\thostInfo : function() { throw \"Not Implemented\"; },\r\n\t\tisMaster : function() { throw \"Not Implemented\"; },\r\n\t\tkillOp : function() { throw \"Not Implemented\"; },\r\n\t\tlistCommands : function() { throw \"Not Implemented\"; },\r\n\t\tloadServerScripts : function() { throw \"Not Implemented\"; },\r\n\t\tlocalStorage : (typeof localStorage!=\"undefined\"?new Collection(this,LocalStorageStore):null),\r\n\t\tlogout : function() { throw \"Not Implemented\"; },\r\n\t\tprintCollectionStats : function() { throw \"Not Implemented\"; },\r\n\t\tprintReplicationInfo : function() { throw \"Not Implemented\"; },\r\n\t\tprintShardingStatus : function() { throw \"Not Implemented\"; },\r\n\t\tprintSlaveReplicationInfo : function() { throw \"Not Implemented\"; },\r\n\t\trepairDatabase : function() { throw \"Not Implemented\"; },\r\n\t\tresetError : function() { throw \"Not Implemented\"; },\r\n\t\trunCommand : function() { throw \"Not Implemented\"; },\r\n\t\tserverBuildInfo : function() { throw \"Not Implemented\"; },\r\n\t\tserverCmdLineOpts : function() { throw \"Not Implemented\"; },\r\n\t\tserverStatus : function() { throw \"Not Implemented\"; },\r\n\t\tsetLogLevel : function() { throw \"Not Implemented\"; },\r\n\t\tsetProfilingLevel : function() { throw \"Not Implemented\"; },\r\n\t\tshutdownServer : function() { throw \"Not Implemented\"; },\r\n\t\tstats : function() { throw \"Not Implemented\"; },\r\n\t\tversion : function() { throw \"Not Implemented\"; },\r\n\t\tupgradeCheck : function() { throw \"Not Implemented\"; },\r\n\t\tupgradeCheckAllDBs : function() { throw \"Not Implemented\"; }\r\n\t}; // MongoLocalDB.DB return\r\n\r\n}; // MongoLocalDB.DB\r\n\r\n","\n\n// Could be in ticks so that we can have \\n's but we dont want template\n// replacements so using double quotes (escape double quotes and new lines)\n// https://gist.github.com/getify/3667624\nexport default function qouted(str) {\n\tif (str===undefined) return `\"\"`\n\tstr = str.replaceAll('\\r','')\n\tstr = str.replace(/\\\\([\\s\\S])|(\")/g,\"\\\\$1$2\");\n\tstr = str.replace(/\\\\([\\s\\S])|(\\n)/g,\"\\\\$1$2\");\n    return `\"${str}\"`\n}\n\n","\nimport qouted from './quoted-string.js'\n\nfunction escape(s) {\n    if (s===undefined) return ''\n    return s.replaceAll('\\\\','\\\\\\\\').replaceAll('\\`','\\\\\\`').replaceAll('\\\\\\\\$','\\\\$')\n}\n\nfunction stringifyArgsObj(obj) {\n\n    let s = '{'\n    let first = true\n    for (const [key, value] of Object.entries(obj)) {\n\n        if (first) {\n            first = false\n        } else {\n            s += ','\n        }\n\n        if (key == 'args') {\n            s += `\"${key}\":${value}`\n        } else if (value === undefined) {\n            s += `\"${key}\":undefined`\n        } else if (value == null) {\n            s += `\"${key}\":null`\n        } else if (Array.isArray(value)) {\n            s += `\"${key}\":${stringifyA(value)}`\n        } else if (typeof value === 'object') {\n            s += `\"${key}\":${stringifyO(value)}`\n        } else if (typeof value === 'string') {\n            s += `\"${key}\":${'`'+escape(value)+'`'}`\n        } else {\n            s += `\"${key}\":${JSON.stringify(value)}`\n        }\n    }\n    s += '}'\n    return s\n}\n\nfunction stringifyInclude(obj) {\n    return `include(${stringifyArgsObj(obj)})`\n}\n\nfunction stringifyInlineTag(obj) {\n    return `inlineTag(${stringifyArgsObj(obj)})`\n}\n\nfunction stringifyYaml(obj) {\n    let s = '{'\n    let first = true\n    for (const [key, value] of Object.entries(obj)) {\n\n        if (first) {\n            first = false\n        } else {\n            s += ','\n        }\n\n        if (key == 'value') {\n            s += `\"${key}\":${value}`\n        } else if (value === undefined) {\n            s += `\"${key}\":undefined`\n        } else if (value == null) {\n            s += `\"${key}\":null`\n        } else if (Array.isArray(value)) {\n            s += `\"${key}\":${stringifyA(value)}`\n        } else if (typeof value === 'object') {\n            s += `\"${key}\":${stringifyO(value)}`\n        } else if (typeof value === 'string') {\n            s += `\"${key}\":${'`'+escape(value)+'`'}`\n        } else {\n            s += `\"${key}\":${JSON.stringify(value)}`\n        }\n    }\n    s += '}'\n    return s\n}\n\nfunction stringifyYamlLine(obj) {\n\n    let s = '{'\n    let first = true\n    for (const [key, value] of Object.entries(obj)) {\n\n        if (first) {\n            first = false\n        } else {\n            s += ','\n        }\n\n        if (key == 'type' || key == 'name') {\n            s += `\"${key}\":\"${value}\"`\n        } else if (key == 'yaml') {\n            s += `\"${key}\":${stringifyYaml(value)}`\n        } else if (key == 'value') {\n            s += `\"${key}\":${value}`\n        } else if (value === undefined) {\n            s += `\"${key}\":undefined`\n        } else if (value == null) {\n            s += `\"${key}\":null`\n        } else if (Array.isArray(value)) {\n            s += `\"${key}\":${stringifyA(value)}`\n        } else if (typeof value === 'object') {\n            s += `\"${key}\":${stringifyO(value)}`\n        } else if (typeof value === 'string') {\n            s += `\"${key}\":${'`'+escape(value)+'`'}`\n        } else {\n            s += `\"${key}\":${JSON.stringify(value)}`\n        }\n    }\n    s += '}'\n    return s\n}\n\nfunction stringifyMaybeYaml(obj) {\n    return `maybeYaml(${stringifyYamlLine(obj)})\\n`\n}\n\nfunction stringify(obj) {\n\n    if (obj === undefined) {\n        return 'undefined'\n    } else if (obj == null) {\n        return 'null'\n    }\n\n    if (obj.type !== undefined) {\n        if (obj.type == 'tag') {\n            delete obj.type\n            return stringifyInlineTag(obj)\n        } else if (obj.type == 'include') {\n            delete obj.type\n            return stringifyInclude(obj)\n        }\n    }\n\n    if (Array.isArray(obj)) {\n        return stringifyA(obj)\n    } else if (typeof obj === 'object') {\n        return stringifyO(obj)\n    } else if (typeof obj === 'string') {\n        return `\\`${escape(obj)}\\``\n    } else {\n        return JSON.stringify(obj)\n    }\n\n}\n\nfunction stringifyO(obj) {\n\n    let s = '{'\n    let first = true\n    for (const [key, value] of Object.entries(obj)) {\n\n        if (first) {\n            first = false\n        } else {\n            s += ','\n        }\n\n        if (value === undefined) {\n            s += `\"${key}\":undefined`\n        } else if (value == null) {\n            s += `\"${key}\":null`\n        } else if (Array.isArray(value)) {\n            s += `\"${key}\":${stringifyA(value)}`\n        } else if (typeof value === 'object') {\n            s += `\"${key}\":${stringifyO(value)}`\n        } else if (typeof value === 'string' && key == 'value') {\n            s += `\"${key}\":${'template(() => `'+escape(value)+'`)'}`\n        } else {\n            s += `\"${key}\":${JSON.stringify(value)}`\n        }\n    }\n    s += '}'\n    return s\n}\n\nfunction stringifyA(arr) {\n\n    let s = '['\n    for (let i=0 ; i<arr.length ; i++) {\n        if (i>0) {\n            s += ','\n        }\n        s += stringify(arr[i])\n    }\n    s += ']'\n    return s\n\n}\n\nfunction jsPreCode() {\n    return `\nconst request = arguments[0]\nconst response = arguments[1]\n\nconst db = response.db\n\nconst h = response.libs.h\nconst t = response.libs.t\nconst matches = response.libs.matches\nconst select = response.libs.select\nconst selectAll = response.libs.selectAll\nconst processHast = response.libs.processHast\n\nlet json = response.json\n\nconst maybeYaml = response.libs.maybeYaml\nconst inlineTag = response.libs.inlineTag\nconst template = response.libs.template\nconst addTask = response.libs.addTask\nconst appendToHtml = response.libs.appendToHtml\nconst include = response.libs.include\n\n`\n}\n\nexport function sxastToJs(collection,name,sxast) {\n\n    let out = jsPreCode()\n\n    out += 'try {\\n'\n    out += '\\n'\n\n    for (let i=0 ; i<sxast.length ; i++) {\n        let ln = sxast[i]\n        if (ln.type == 'script') {\n            out += ln.code + '\\n'\n        } else if (ln.type == 'yaml') {\n            out += stringifyMaybeYaml(ln) // `maybeYaml(${ stringify(ln) })\\n`\n        } else if (ln.type == 'unordered-list-item' && ln.yaml !== undefined) {\n            out += stringifyMaybeYaml(ln) // `maybeYaml(${ stringify(ln) })\\n`\n        } else {\n            out += `appendToHtml(${ stringify(ln) })\\n`\n\n            if ((ln.type == 'ordered-list-item' || ln.type == 'unordered-list-item') && ln.task) {\n                out += `addTask(${stringify(ln.task)})\\n`\n            }\n        }\n    }\n\n    out += '\\n'\n    out += '} catch (e) {\\n'\n\n    out += '  let m = e.stack.match(/<anonymous>:([0-9]+):([0-9]+)/)\\n'\n    out += '  const errLine = m[1] - 27\\n'\n    out += '  const errColumn = m[2] - 1\\n'\n    out += `  const errMsg = e.stack.split('\\\\n')[0]\\n`\n\n    out += `  let uline = ''\\n`\n    out += `  for (let i=0 ; i<errColumn ; i++) uline += ' ';\\n`\n    out += '  const lines = []\\n'\n\n    for (let i=0 ; i<sxast.length ; i++) {\n        let ln = sxast[i]\n        out += `  lines.push( () => appendToHtml({type: 'paragraph', indent: 1, text: ${qouted('  '+ln.text)} }) )\\n`\n    }\n\n    out += `  appendToHtml({type: 'div', indent: 0, tag: 'pre' })\\n`\n\n    out += `  for (let i=0 ; i<lines.length ; i++) {\\n`\n    out += '    lines[i]()\\n'\n    out += '    if (i==errLine) {\\n'\n    out += `      appendToHtml({ type: 'paragraph', indent: 1, text: '  '+uline+'^' })\\n`\n    out += `      appendToHtml({ type: 'paragraph', indent: 1, text: '  '+uline+errMsg })\\n`\n    out += '    }\\n'\n    out += '  }\\n'\n\n    out += '  throw e\\n'\n\n    out += '}\\n'      \n    \n    return out\n}\n\nexport function sxastToTextJs(collection,name,sxast,error) {\n\n    let out = jsPreCode()\n\n    out += `appendToHtml({type: 'div', indent: 0, tag: 'pre' })\\n`\n    for (let i=0 ; i<sxast.length ; i++) {\n        let ln = sxast[i]\n\n        out += `appendToHtml({type: 'paragraph', indent: 1, text: ${qouted('  '+ln.text)}})\\n`\n        if (i == error.errorLine - 3) {\n            let uline = ''\n            for (let i=0 ; i<error.errorColumn ; i++) uline += ' ';\n\n            out += `appendToHtml({type: 'paragraph', indent: 1, text: ${qouted('  '+uline+'^')} })\\n`\n            out += `appendToHtml({type: 'paragraph', indent: 1, text: ${qouted('  '+uline+error.errorMessage)} })\\n`\n        }\n    }\n\n    return out\n}","\nlet isPrimitive = (val) => {\n    \n  if ( val === Object(val) ) {\n    return false\n  } else{\n    return true\n  }\n}\n\nlet handler = {\n    has(target, property) {\n        return Reflect.has(...arguments);\n    },\n    get(target, property, receiver) {\n        if (property in target) {\n            let value = target[property]\n            if (typeof value === 'object' && value === Object(value)) {\n                return new Proxy(value,handler);\n            } else {\n                return value\n            }\n        } else if (isPrimitive(property)) {\n            return target[property]\n        } else {\n            return `${property} not set`\n        }\n        //   return Reflect.get(...arguments);\n    },\n    set(target, property, value, receiver) {\n    }\n}\n\nexport default class SqrmRequest {\n\n    constructor(args = []) {\n        this.args = new Proxy(args,handler) ;\n    }\n}","/**\n * @typedef {import('./info.js').Info} Info\n * @typedef {Record<string, Info>} Properties\n * @typedef {Record<string, string>} Normal\n */\n\nexport class Schema {\n  /**\n   * @constructor\n   * @param {Properties} property\n   * @param {Normal} normal\n   * @param {string} [space]\n   */\n  constructor(property, normal, space) {\n    this.property = property\n    this.normal = normal\n    if (space) {\n      this.space = space\n    }\n  }\n}\n\n/** @type {Properties} */\nSchema.prototype.property = {}\n/** @type {Normal} */\nSchema.prototype.normal = {}\n/** @type {string|null} */\nSchema.prototype.space = null\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n */\n\nimport {Schema} from './schema.js'\n\n/**\n * @param {Schema[]} definitions\n * @param {string} [space]\n * @returns {Schema}\n */\nexport function merge(definitions, space) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  let index = -1\n\n  while (++index < definitions.length) {\n    Object.assign(property, definitions[index].property)\n    Object.assign(normal, definitions[index].normal)\n  }\n\n  return new Schema(property, normal, space)\n}\n","/**\n * @param {string} value\n * @returns {string}\n */\nexport function normalize(value) {\n  return value.toLowerCase()\n}\n","export class Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   */\n  constructor(property, attribute) {\n    /** @type {string} */\n    this.property = property\n    /** @type {string} */\n    this.attribute = attribute\n  }\n}\n\n/** @type {string|null} */\nInfo.prototype.space = null\nInfo.prototype.boolean = false\nInfo.prototype.booleanish = false\nInfo.prototype.overloadedBoolean = false\nInfo.prototype.number = false\nInfo.prototype.commaSeparated = false\nInfo.prototype.spaceSeparated = false\nInfo.prototype.commaOrSpaceSeparated = false\nInfo.prototype.mustUseProperty = false\nInfo.prototype.defined = false\n","let powers = 0\n\nexport const boolean = increment()\nexport const booleanish = increment()\nexport const overloadedBoolean = increment()\nexport const number = increment()\nexport const spaceSeparated = increment()\nexport const commaSeparated = increment()\nexport const commaOrSpaceSeparated = increment()\n\nfunction increment() {\n  return 2 ** ++powers\n}\n","import {Info} from './info.js'\nimport * as types from './types.js'\n\n/** @type {Array<keyof types>} */\n// @ts-expect-error: hush.\nconst checks = Object.keys(types)\n\nexport class DefinedInfo extends Info {\n  /**\n   * @constructor\n   * @param {string} property\n   * @param {string} attribute\n   * @param {number|null} [mask]\n   * @param {string} [space]\n   */\n  constructor(property, attribute, mask, space) {\n    let index = -1\n\n    super(property, attribute)\n\n    mark(this, 'space', space)\n\n    if (typeof mask === 'number') {\n      while (++index < checks.length) {\n        const check = checks[index]\n        mark(this, checks[index], (mask & types[check]) === types[check])\n      }\n    }\n  }\n}\n\nDefinedInfo.prototype.defined = true\n\n/**\n * @param {DefinedInfo} values\n * @param {string} key\n * @param {unknown} value\n */\nfunction mark(values, key, value) {\n  if (value) {\n    // @ts-expect-error: assume `value` matches the expected value of `key`.\n    values[key] = value\n  }\n}\n","/**\n * @typedef {import('./schema.js').Properties} Properties\n * @typedef {import('./schema.js').Normal} Normal\n *\n * @typedef {Record<string, string>} Attributes\n *\n * @typedef {Object} Definition\n * @property {Record<string, number|null>} properties\n * @property {(attributes: Attributes, property: string) => string} transform\n * @property {string} [space]\n * @property {Attributes} [attributes]\n * @property {Array<string>} [mustUseProperty]\n */\n\nimport {normalize} from '../normalize.js'\nimport {Schema} from './schema.js'\nimport {DefinedInfo} from './defined-info.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Definition} definition\n * @returns {Schema}\n */\nexport function create(definition) {\n  /** @type {Properties} */\n  const property = {}\n  /** @type {Normal} */\n  const normal = {}\n  /** @type {string} */\n  let prop\n\n  for (prop in definition.properties) {\n    if (own.call(definition.properties, prop)) {\n      const value = definition.properties[prop]\n      const info = new DefinedInfo(\n        prop,\n        definition.transform(definition.attributes || {}, prop),\n        value,\n        definition.space\n      )\n\n      if (\n        definition.mustUseProperty &&\n        definition.mustUseProperty.includes(prop)\n      ) {\n        info.mustUseProperty = true\n      }\n\n      property[prop] = info\n\n      normal[normalize(prop)] = prop\n      normal[normalize(info.attribute)] = prop\n    }\n  }\n\n  return new Schema(property, normal, definition.space)\n}\n","import {create} from './util/create.js'\n\nexport const xlink = create({\n  space: 'xlink',\n  transform(_, prop) {\n    return 'xlink:' + prop.slice(5).toLowerCase()\n  },\n  properties: {\n    xLinkActuate: null,\n    xLinkArcRole: null,\n    xLinkHref: null,\n    xLinkRole: null,\n    xLinkShow: null,\n    xLinkTitle: null,\n    xLinkType: null\n  }\n})\n","import {create} from './util/create.js'\n\nexport const xml = create({\n  space: 'xml',\n  transform(_, prop) {\n    return 'xml:' + prop.slice(3).toLowerCase()\n  },\n  properties: {xmlLang: null, xmlBase: null, xmlSpace: null}\n})\n","/**\n * @param {Record<string, string>} attributes\n * @param {string} attribute\n * @returns {string}\n */\nexport function caseSensitiveTransform(attributes, attribute) {\n  return attribute in attributes ? attributes[attribute] : attribute\n}\n","import {caseSensitiveTransform} from './case-sensitive-transform.js'\n\n/**\n * @param {Record<string, string>} attributes\n * @param {string} property\n * @returns {string}\n */\nexport function caseInsensitiveTransform(attributes, property) {\n  return caseSensitiveTransform(attributes, property.toLowerCase())\n}\n","import {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const xmlns = create({\n  space: 'xmlns',\n  attributes: {xmlnsxlink: 'xmlns:xlink'},\n  transform: caseInsensitiveTransform,\n  properties: {xmlns: null, xmlnsXLink: null}\n})\n","import {booleanish, number, spaceSeparated} from './util/types.js'\nimport {create} from './util/create.js'\n\nexport const aria = create({\n  transform(_, prop) {\n    return prop === 'role' ? prop : 'aria-' + prop.slice(4).toLowerCase()\n  },\n  properties: {\n    ariaActiveDescendant: null,\n    ariaAtomic: booleanish,\n    ariaAutoComplete: null,\n    ariaBusy: booleanish,\n    ariaChecked: booleanish,\n    ariaColCount: number,\n    ariaColIndex: number,\n    ariaColSpan: number,\n    ariaControls: spaceSeparated,\n    ariaCurrent: null,\n    ariaDescribedBy: spaceSeparated,\n    ariaDetails: null,\n    ariaDisabled: booleanish,\n    ariaDropEffect: spaceSeparated,\n    ariaErrorMessage: null,\n    ariaExpanded: booleanish,\n    ariaFlowTo: spaceSeparated,\n    ariaGrabbed: booleanish,\n    ariaHasPopup: null,\n    ariaHidden: booleanish,\n    ariaInvalid: null,\n    ariaKeyShortcuts: null,\n    ariaLabel: null,\n    ariaLabelledBy: spaceSeparated,\n    ariaLevel: number,\n    ariaLive: null,\n    ariaModal: booleanish,\n    ariaMultiLine: booleanish,\n    ariaMultiSelectable: booleanish,\n    ariaOrientation: null,\n    ariaOwns: spaceSeparated,\n    ariaPlaceholder: null,\n    ariaPosInSet: number,\n    ariaPressed: booleanish,\n    ariaReadOnly: booleanish,\n    ariaRelevant: null,\n    ariaRequired: booleanish,\n    ariaRoleDescription: spaceSeparated,\n    ariaRowCount: number,\n    ariaRowIndex: number,\n    ariaRowSpan: number,\n    ariaSelected: booleanish,\n    ariaSetSize: number,\n    ariaSort: null,\n    ariaValueMax: number,\n    ariaValueMin: number,\n    ariaValueNow: number,\n    ariaValueText: null,\n    role: null\n  }\n})\n","import {\n  boolean,\n  overloadedBoolean,\n  booleanish,\n  number,\n  spaceSeparated,\n  commaSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseInsensitiveTransform} from './util/case-insensitive-transform.js'\n\nexport const html = create({\n  space: 'html',\n  attributes: {\n    acceptcharset: 'accept-charset',\n    classname: 'class',\n    htmlfor: 'for',\n    httpequiv: 'http-equiv'\n  },\n  transform: caseInsensitiveTransform,\n  mustUseProperty: ['checked', 'multiple', 'muted', 'selected'],\n  properties: {\n    // Standard Properties.\n    abbr: null,\n    accept: commaSeparated,\n    acceptCharset: spaceSeparated,\n    accessKey: spaceSeparated,\n    action: null,\n    allow: null,\n    allowFullScreen: boolean,\n    allowPaymentRequest: boolean,\n    allowUserMedia: boolean,\n    alt: null,\n    as: null,\n    async: boolean,\n    autoCapitalize: null,\n    autoComplete: spaceSeparated,\n    autoFocus: boolean,\n    autoPlay: boolean,\n    capture: boolean,\n    charSet: null,\n    checked: boolean,\n    cite: null,\n    className: spaceSeparated,\n    cols: number,\n    colSpan: null,\n    content: null,\n    contentEditable: booleanish,\n    controls: boolean,\n    controlsList: spaceSeparated,\n    coords: number | commaSeparated,\n    crossOrigin: null,\n    data: null,\n    dateTime: null,\n    decoding: null,\n    default: boolean,\n    defer: boolean,\n    dir: null,\n    dirName: null,\n    disabled: boolean,\n    download: overloadedBoolean,\n    draggable: booleanish,\n    encType: null,\n    enterKeyHint: null,\n    form: null,\n    formAction: null,\n    formEncType: null,\n    formMethod: null,\n    formNoValidate: boolean,\n    formTarget: null,\n    headers: spaceSeparated,\n    height: number,\n    hidden: boolean,\n    high: number,\n    href: null,\n    hrefLang: null,\n    htmlFor: spaceSeparated,\n    httpEquiv: spaceSeparated,\n    id: null,\n    imageSizes: null,\n    imageSrcSet: null,\n    inputMode: null,\n    integrity: null,\n    is: null,\n    isMap: boolean,\n    itemId: null,\n    itemProp: spaceSeparated,\n    itemRef: spaceSeparated,\n    itemScope: boolean,\n    itemType: spaceSeparated,\n    kind: null,\n    label: null,\n    lang: null,\n    language: null,\n    list: null,\n    loading: null,\n    loop: boolean,\n    low: number,\n    manifest: null,\n    max: null,\n    maxLength: number,\n    media: null,\n    method: null,\n    min: null,\n    minLength: number,\n    multiple: boolean,\n    muted: boolean,\n    name: null,\n    nonce: null,\n    noModule: boolean,\n    noValidate: boolean,\n    onAbort: null,\n    onAfterPrint: null,\n    onAuxClick: null,\n    onBeforePrint: null,\n    onBeforeUnload: null,\n    onBlur: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onContextLost: null,\n    onContextMenu: null,\n    onContextRestored: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFormData: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLanguageChange: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadEnd: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMessageError: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRejectionHandled: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSecurityPolicyViolation: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onSlotChange: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnhandledRejection: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onWheel: null,\n    open: boolean,\n    optimum: number,\n    pattern: null,\n    ping: spaceSeparated,\n    placeholder: null,\n    playsInline: boolean,\n    poster: null,\n    preload: null,\n    readOnly: boolean,\n    referrerPolicy: null,\n    rel: spaceSeparated,\n    required: boolean,\n    reversed: boolean,\n    rows: number,\n    rowSpan: number,\n    sandbox: spaceSeparated,\n    scope: null,\n    scoped: boolean,\n    seamless: boolean,\n    selected: boolean,\n    shape: null,\n    size: number,\n    sizes: null,\n    slot: null,\n    span: number,\n    spellCheck: booleanish,\n    src: null,\n    srcDoc: null,\n    srcLang: null,\n    srcSet: null,\n    start: number,\n    step: null,\n    style: null,\n    tabIndex: number,\n    target: null,\n    title: null,\n    translate: null,\n    type: null,\n    typeMustMatch: boolean,\n    useMap: null,\n    value: booleanish,\n    width: number,\n    wrap: null,\n\n    // Legacy.\n    // See: https://html.spec.whatwg.org/#other-elements,-attributes-and-apis\n    align: null, // Several. Use CSS `text-align` instead,\n    aLink: null, // `<body>`. Use CSS `a:active {color}` instead\n    archive: spaceSeparated, // `<object>`. List of URIs to archives\n    axis: null, // `<td>` and `<th>`. Use `scope` on `<th>`\n    background: null, // `<body>`. Use CSS `background-image` instead\n    bgColor: null, // `<body>` and table elements. Use CSS `background-color` instead\n    border: number, // `<table>`. Use CSS `border-width` instead,\n    borderColor: null, // `<table>`. Use CSS `border-color` instead,\n    bottomMargin: number, // `<body>`\n    cellPadding: null, // `<table>`\n    cellSpacing: null, // `<table>`\n    char: null, // Several table elements. When `align=char`, sets the character to align on\n    charOff: null, // Several table elements. When `char`, offsets the alignment\n    classId: null, // `<object>`\n    clear: null, // `<br>`. Use CSS `clear` instead\n    code: null, // `<object>`\n    codeBase: null, // `<object>`\n    codeType: null, // `<object>`\n    color: null, // `<font>` and `<hr>`. Use CSS instead\n    compact: boolean, // Lists. Use CSS to reduce space between items instead\n    declare: boolean, // `<object>`\n    event: null, // `<script>`\n    face: null, // `<font>`. Use CSS instead\n    frame: null, // `<table>`\n    frameBorder: null, // `<iframe>`. Use CSS `border` instead\n    hSpace: number, // `<img>` and `<object>`\n    leftMargin: number, // `<body>`\n    link: null, // `<body>`. Use CSS `a:link {color: *}` instead\n    longDesc: null, // `<frame>`, `<iframe>`, and `<img>`. Use an `<a>`\n    lowSrc: null, // `<img>`. Use a `<picture>`\n    marginHeight: number, // `<body>`\n    marginWidth: number, // `<body>`\n    noResize: boolean, // `<frame>`\n    noHref: boolean, // `<area>`. Use no href instead of an explicit `nohref`\n    noShade: boolean, // `<hr>`. Use background-color and height instead of borders\n    noWrap: boolean, // `<td>` and `<th>`\n    object: null, // `<applet>`\n    profile: null, // `<head>`\n    prompt: null, // `<isindex>`\n    rev: null, // `<link>`\n    rightMargin: number, // `<body>`\n    rules: null, // `<table>`\n    scheme: null, // `<meta>`\n    scrolling: booleanish, // `<frame>`. Use overflow in the child context\n    standby: null, // `<object>`\n    summary: null, // `<table>`\n    text: null, // `<body>`. Use CSS `color` instead\n    topMargin: number, // `<body>`\n    valueType: null, // `<param>`\n    version: null, // `<html>`. Use a doctype.\n    vAlign: null, // Several. Use CSS `vertical-align` instead\n    vLink: null, // `<body>`. Use CSS `a:visited {color}` instead\n    vSpace: number, // `<img>` and `<object>`\n\n    // Non-standard Properties.\n    allowTransparency: null,\n    autoCorrect: null,\n    autoSave: null,\n    disablePictureInPicture: boolean,\n    disableRemotePlayback: boolean,\n    prefix: null,\n    property: null,\n    results: number,\n    security: null,\n    unselectable: null\n  }\n})\n","import {\n  boolean,\n  number,\n  spaceSeparated,\n  commaSeparated,\n  commaOrSpaceSeparated\n} from './util/types.js'\nimport {create} from './util/create.js'\nimport {caseSensitiveTransform} from './util/case-sensitive-transform.js'\n\nexport const svg = create({\n  space: 'svg',\n  attributes: {\n    accentHeight: 'accent-height',\n    alignmentBaseline: 'alignment-baseline',\n    arabicForm: 'arabic-form',\n    baselineShift: 'baseline-shift',\n    capHeight: 'cap-height',\n    className: 'class',\n    clipPath: 'clip-path',\n    clipRule: 'clip-rule',\n    colorInterpolation: 'color-interpolation',\n    colorInterpolationFilters: 'color-interpolation-filters',\n    colorProfile: 'color-profile',\n    colorRendering: 'color-rendering',\n    crossOrigin: 'crossorigin',\n    dataType: 'datatype',\n    dominantBaseline: 'dominant-baseline',\n    enableBackground: 'enable-background',\n    fillOpacity: 'fill-opacity',\n    fillRule: 'fill-rule',\n    floodColor: 'flood-color',\n    floodOpacity: 'flood-opacity',\n    fontFamily: 'font-family',\n    fontSize: 'font-size',\n    fontSizeAdjust: 'font-size-adjust',\n    fontStretch: 'font-stretch',\n    fontStyle: 'font-style',\n    fontVariant: 'font-variant',\n    fontWeight: 'font-weight',\n    glyphName: 'glyph-name',\n    glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n    glyphOrientationVertical: 'glyph-orientation-vertical',\n    hrefLang: 'hreflang',\n    horizAdvX: 'horiz-adv-x',\n    horizOriginX: 'horiz-origin-x',\n    horizOriginY: 'horiz-origin-y',\n    imageRendering: 'image-rendering',\n    letterSpacing: 'letter-spacing',\n    lightingColor: 'lighting-color',\n    markerEnd: 'marker-end',\n    markerMid: 'marker-mid',\n    markerStart: 'marker-start',\n    navDown: 'nav-down',\n    navDownLeft: 'nav-down-left',\n    navDownRight: 'nav-down-right',\n    navLeft: 'nav-left',\n    navNext: 'nav-next',\n    navPrev: 'nav-prev',\n    navRight: 'nav-right',\n    navUp: 'nav-up',\n    navUpLeft: 'nav-up-left',\n    navUpRight: 'nav-up-right',\n    onAbort: 'onabort',\n    onActivate: 'onactivate',\n    onAfterPrint: 'onafterprint',\n    onBeforePrint: 'onbeforeprint',\n    onBegin: 'onbegin',\n    onCancel: 'oncancel',\n    onCanPlay: 'oncanplay',\n    onCanPlayThrough: 'oncanplaythrough',\n    onChange: 'onchange',\n    onClick: 'onclick',\n    onClose: 'onclose',\n    onCopy: 'oncopy',\n    onCueChange: 'oncuechange',\n    onCut: 'oncut',\n    onDblClick: 'ondblclick',\n    onDrag: 'ondrag',\n    onDragEnd: 'ondragend',\n    onDragEnter: 'ondragenter',\n    onDragExit: 'ondragexit',\n    onDragLeave: 'ondragleave',\n    onDragOver: 'ondragover',\n    onDragStart: 'ondragstart',\n    onDrop: 'ondrop',\n    onDurationChange: 'ondurationchange',\n    onEmptied: 'onemptied',\n    onEnd: 'onend',\n    onEnded: 'onended',\n    onError: 'onerror',\n    onFocus: 'onfocus',\n    onFocusIn: 'onfocusin',\n    onFocusOut: 'onfocusout',\n    onHashChange: 'onhashchange',\n    onInput: 'oninput',\n    onInvalid: 'oninvalid',\n    onKeyDown: 'onkeydown',\n    onKeyPress: 'onkeypress',\n    onKeyUp: 'onkeyup',\n    onLoad: 'onload',\n    onLoadedData: 'onloadeddata',\n    onLoadedMetadata: 'onloadedmetadata',\n    onLoadStart: 'onloadstart',\n    onMessage: 'onmessage',\n    onMouseDown: 'onmousedown',\n    onMouseEnter: 'onmouseenter',\n    onMouseLeave: 'onmouseleave',\n    onMouseMove: 'onmousemove',\n    onMouseOut: 'onmouseout',\n    onMouseOver: 'onmouseover',\n    onMouseUp: 'onmouseup',\n    onMouseWheel: 'onmousewheel',\n    onOffline: 'onoffline',\n    onOnline: 'ononline',\n    onPageHide: 'onpagehide',\n    onPageShow: 'onpageshow',\n    onPaste: 'onpaste',\n    onPause: 'onpause',\n    onPlay: 'onplay',\n    onPlaying: 'onplaying',\n    onPopState: 'onpopstate',\n    onProgress: 'onprogress',\n    onRateChange: 'onratechange',\n    onRepeat: 'onrepeat',\n    onReset: 'onreset',\n    onResize: 'onresize',\n    onScroll: 'onscroll',\n    onSeeked: 'onseeked',\n    onSeeking: 'onseeking',\n    onSelect: 'onselect',\n    onShow: 'onshow',\n    onStalled: 'onstalled',\n    onStorage: 'onstorage',\n    onSubmit: 'onsubmit',\n    onSuspend: 'onsuspend',\n    onTimeUpdate: 'ontimeupdate',\n    onToggle: 'ontoggle',\n    onUnload: 'onunload',\n    onVolumeChange: 'onvolumechange',\n    onWaiting: 'onwaiting',\n    onZoom: 'onzoom',\n    overlinePosition: 'overline-position',\n    overlineThickness: 'overline-thickness',\n    paintOrder: 'paint-order',\n    panose1: 'panose-1',\n    pointerEvents: 'pointer-events',\n    referrerPolicy: 'referrerpolicy',\n    renderingIntent: 'rendering-intent',\n    shapeRendering: 'shape-rendering',\n    stopColor: 'stop-color',\n    stopOpacity: 'stop-opacity',\n    strikethroughPosition: 'strikethrough-position',\n    strikethroughThickness: 'strikethrough-thickness',\n    strokeDashArray: 'stroke-dasharray',\n    strokeDashOffset: 'stroke-dashoffset',\n    strokeLineCap: 'stroke-linecap',\n    strokeLineJoin: 'stroke-linejoin',\n    strokeMiterLimit: 'stroke-miterlimit',\n    strokeOpacity: 'stroke-opacity',\n    strokeWidth: 'stroke-width',\n    tabIndex: 'tabindex',\n    textAnchor: 'text-anchor',\n    textDecoration: 'text-decoration',\n    textRendering: 'text-rendering',\n    typeOf: 'typeof',\n    underlinePosition: 'underline-position',\n    underlineThickness: 'underline-thickness',\n    unicodeBidi: 'unicode-bidi',\n    unicodeRange: 'unicode-range',\n    unitsPerEm: 'units-per-em',\n    vAlphabetic: 'v-alphabetic',\n    vHanging: 'v-hanging',\n    vIdeographic: 'v-ideographic',\n    vMathematical: 'v-mathematical',\n    vectorEffect: 'vector-effect',\n    vertAdvY: 'vert-adv-y',\n    vertOriginX: 'vert-origin-x',\n    vertOriginY: 'vert-origin-y',\n    wordSpacing: 'word-spacing',\n    writingMode: 'writing-mode',\n    xHeight: 'x-height',\n    // These were camelcased in Tiny. Now lowercased in SVG 2\n    playbackOrder: 'playbackorder',\n    timelineBegin: 'timelinebegin'\n  },\n  transform: caseSensitiveTransform,\n  properties: {\n    about: commaOrSpaceSeparated,\n    accentHeight: number,\n    accumulate: null,\n    additive: null,\n    alignmentBaseline: null,\n    alphabetic: number,\n    amplitude: number,\n    arabicForm: null,\n    ascent: number,\n    attributeName: null,\n    attributeType: null,\n    azimuth: number,\n    bandwidth: null,\n    baselineShift: null,\n    baseFrequency: null,\n    baseProfile: null,\n    bbox: null,\n    begin: null,\n    bias: number,\n    by: null,\n    calcMode: null,\n    capHeight: number,\n    className: spaceSeparated,\n    clip: null,\n    clipPath: null,\n    clipPathUnits: null,\n    clipRule: null,\n    color: null,\n    colorInterpolation: null,\n    colorInterpolationFilters: null,\n    colorProfile: null,\n    colorRendering: null,\n    content: null,\n    contentScriptType: null,\n    contentStyleType: null,\n    crossOrigin: null,\n    cursor: null,\n    cx: null,\n    cy: null,\n    d: null,\n    dataType: null,\n    defaultAction: null,\n    descent: number,\n    diffuseConstant: number,\n    direction: null,\n    display: null,\n    dur: null,\n    divisor: number,\n    dominantBaseline: null,\n    download: boolean,\n    dx: null,\n    dy: null,\n    edgeMode: null,\n    editable: null,\n    elevation: number,\n    enableBackground: null,\n    end: null,\n    event: null,\n    exponent: number,\n    externalResourcesRequired: null,\n    fill: null,\n    fillOpacity: number,\n    fillRule: null,\n    filter: null,\n    filterRes: null,\n    filterUnits: null,\n    floodColor: null,\n    floodOpacity: null,\n    focusable: null,\n    focusHighlight: null,\n    fontFamily: null,\n    fontSize: null,\n    fontSizeAdjust: null,\n    fontStretch: null,\n    fontStyle: null,\n    fontVariant: null,\n    fontWeight: null,\n    format: null,\n    fr: null,\n    from: null,\n    fx: null,\n    fy: null,\n    g1: commaSeparated,\n    g2: commaSeparated,\n    glyphName: commaSeparated,\n    glyphOrientationHorizontal: null,\n    glyphOrientationVertical: null,\n    glyphRef: null,\n    gradientTransform: null,\n    gradientUnits: null,\n    handler: null,\n    hanging: number,\n    hatchContentUnits: null,\n    hatchUnits: null,\n    height: null,\n    href: null,\n    hrefLang: null,\n    horizAdvX: number,\n    horizOriginX: number,\n    horizOriginY: number,\n    id: null,\n    ideographic: number,\n    imageRendering: null,\n    initialVisibility: null,\n    in: null,\n    in2: null,\n    intercept: number,\n    k: number,\n    k1: number,\n    k2: number,\n    k3: number,\n    k4: number,\n    kernelMatrix: commaOrSpaceSeparated,\n    kernelUnitLength: null,\n    keyPoints: null, // SEMI_COLON_SEPARATED\n    keySplines: null, // SEMI_COLON_SEPARATED\n    keyTimes: null, // SEMI_COLON_SEPARATED\n    kerning: null,\n    lang: null,\n    lengthAdjust: null,\n    letterSpacing: null,\n    lightingColor: null,\n    limitingConeAngle: number,\n    local: null,\n    markerEnd: null,\n    markerMid: null,\n    markerStart: null,\n    markerHeight: null,\n    markerUnits: null,\n    markerWidth: null,\n    mask: null,\n    maskContentUnits: null,\n    maskUnits: null,\n    mathematical: null,\n    max: null,\n    media: null,\n    mediaCharacterEncoding: null,\n    mediaContentEncodings: null,\n    mediaSize: number,\n    mediaTime: null,\n    method: null,\n    min: null,\n    mode: null,\n    name: null,\n    navDown: null,\n    navDownLeft: null,\n    navDownRight: null,\n    navLeft: null,\n    navNext: null,\n    navPrev: null,\n    navRight: null,\n    navUp: null,\n    navUpLeft: null,\n    navUpRight: null,\n    numOctaves: null,\n    observer: null,\n    offset: null,\n    onAbort: null,\n    onActivate: null,\n    onAfterPrint: null,\n    onBeforePrint: null,\n    onBegin: null,\n    onCancel: null,\n    onCanPlay: null,\n    onCanPlayThrough: null,\n    onChange: null,\n    onClick: null,\n    onClose: null,\n    onCopy: null,\n    onCueChange: null,\n    onCut: null,\n    onDblClick: null,\n    onDrag: null,\n    onDragEnd: null,\n    onDragEnter: null,\n    onDragExit: null,\n    onDragLeave: null,\n    onDragOver: null,\n    onDragStart: null,\n    onDrop: null,\n    onDurationChange: null,\n    onEmptied: null,\n    onEnd: null,\n    onEnded: null,\n    onError: null,\n    onFocus: null,\n    onFocusIn: null,\n    onFocusOut: null,\n    onHashChange: null,\n    onInput: null,\n    onInvalid: null,\n    onKeyDown: null,\n    onKeyPress: null,\n    onKeyUp: null,\n    onLoad: null,\n    onLoadedData: null,\n    onLoadedMetadata: null,\n    onLoadStart: null,\n    onMessage: null,\n    onMouseDown: null,\n    onMouseEnter: null,\n    onMouseLeave: null,\n    onMouseMove: null,\n    onMouseOut: null,\n    onMouseOver: null,\n    onMouseUp: null,\n    onMouseWheel: null,\n    onOffline: null,\n    onOnline: null,\n    onPageHide: null,\n    onPageShow: null,\n    onPaste: null,\n    onPause: null,\n    onPlay: null,\n    onPlaying: null,\n    onPopState: null,\n    onProgress: null,\n    onRateChange: null,\n    onRepeat: null,\n    onReset: null,\n    onResize: null,\n    onScroll: null,\n    onSeeked: null,\n    onSeeking: null,\n    onSelect: null,\n    onShow: null,\n    onStalled: null,\n    onStorage: null,\n    onSubmit: null,\n    onSuspend: null,\n    onTimeUpdate: null,\n    onToggle: null,\n    onUnload: null,\n    onVolumeChange: null,\n    onWaiting: null,\n    onZoom: null,\n    opacity: null,\n    operator: null,\n    order: null,\n    orient: null,\n    orientation: null,\n    origin: null,\n    overflow: null,\n    overlay: null,\n    overlinePosition: number,\n    overlineThickness: number,\n    paintOrder: null,\n    panose1: null,\n    path: null,\n    pathLength: number,\n    patternContentUnits: null,\n    patternTransform: null,\n    patternUnits: null,\n    phase: null,\n    ping: spaceSeparated,\n    pitch: null,\n    playbackOrder: null,\n    pointerEvents: null,\n    points: null,\n    pointsAtX: number,\n    pointsAtY: number,\n    pointsAtZ: number,\n    preserveAlpha: null,\n    preserveAspectRatio: null,\n    primitiveUnits: null,\n    propagate: null,\n    property: commaOrSpaceSeparated,\n    r: null,\n    radius: null,\n    referrerPolicy: null,\n    refX: null,\n    refY: null,\n    rel: commaOrSpaceSeparated,\n    rev: commaOrSpaceSeparated,\n    renderingIntent: null,\n    repeatCount: null,\n    repeatDur: null,\n    requiredExtensions: commaOrSpaceSeparated,\n    requiredFeatures: commaOrSpaceSeparated,\n    requiredFonts: commaOrSpaceSeparated,\n    requiredFormats: commaOrSpaceSeparated,\n    resource: null,\n    restart: null,\n    result: null,\n    rotate: null,\n    rx: null,\n    ry: null,\n    scale: null,\n    seed: null,\n    shapeRendering: null,\n    side: null,\n    slope: null,\n    snapshotTime: null,\n    specularConstant: number,\n    specularExponent: number,\n    spreadMethod: null,\n    spacing: null,\n    startOffset: null,\n    stdDeviation: null,\n    stemh: null,\n    stemv: null,\n    stitchTiles: null,\n    stopColor: null,\n    stopOpacity: null,\n    strikethroughPosition: number,\n    strikethroughThickness: number,\n    string: null,\n    stroke: null,\n    strokeDashArray: commaOrSpaceSeparated,\n    strokeDashOffset: null,\n    strokeLineCap: null,\n    strokeLineJoin: null,\n    strokeMiterLimit: number,\n    strokeOpacity: number,\n    strokeWidth: null,\n    style: null,\n    surfaceScale: number,\n    syncBehavior: null,\n    syncBehaviorDefault: null,\n    syncMaster: null,\n    syncTolerance: null,\n    syncToleranceDefault: null,\n    systemLanguage: commaOrSpaceSeparated,\n    tabIndex: number,\n    tableValues: null,\n    target: null,\n    targetX: number,\n    targetY: number,\n    textAnchor: null,\n    textDecoration: null,\n    textRendering: null,\n    textLength: null,\n    timelineBegin: null,\n    title: null,\n    transformBehavior: null,\n    type: null,\n    typeOf: commaOrSpaceSeparated,\n    to: null,\n    transform: null,\n    u1: null,\n    u2: null,\n    underlinePosition: number,\n    underlineThickness: number,\n    unicode: null,\n    unicodeBidi: null,\n    unicodeRange: null,\n    unitsPerEm: number,\n    values: null,\n    vAlphabetic: number,\n    vMathematical: number,\n    vectorEffect: null,\n    vHanging: number,\n    vIdeographic: number,\n    version: null,\n    vertAdvY: number,\n    vertOriginX: number,\n    vertOriginY: number,\n    viewBox: null,\n    viewTarget: null,\n    visibility: null,\n    width: null,\n    widths: null,\n    wordSpacing: null,\n    writingMode: null,\n    x: null,\n    x1: null,\n    x2: null,\n    xChannelSelector: null,\n    xHeight: number,\n    y: null,\n    y1: null,\n    y2: null,\n    yChannelSelector: null,\n    z: null,\n    zoomAndPan: null\n  }\n})\n","/**\n * @typedef {import('./util/schema.js').Schema} Schema\n */\n\nimport {normalize} from './normalize.js'\nimport {DefinedInfo} from './util/defined-info.js'\nimport {Info} from './util/info.js'\n\nconst valid = /^data[-\\w.:]+$/i\nconst dash = /-[a-z]/g\nconst cap = /[A-Z]/g\n\n/**\n * @param {Schema} schema\n * @param {string} value\n * @returns {Info}\n */\nexport function find(schema, value) {\n  const normal = normalize(value)\n  let prop = value\n  let Type = Info\n\n  if (normal in schema.normal) {\n    return schema.property[schema.normal[normal]]\n  }\n\n  if (normal.length > 4 && normal.slice(0, 4) === 'data' && valid.test(value)) {\n    // Attribute or property.\n    if (value.charAt(4) === '-') {\n      // Turn it into a property.\n      const rest = value.slice(5).replace(dash, camelcase)\n      prop = 'data' + rest.charAt(0).toUpperCase() + rest.slice(1)\n    } else {\n      // Turn it into an attribute.\n      const rest = value.slice(4)\n\n      if (!dash.test(rest)) {\n        let dashes = rest.replace(cap, kebab)\n\n        if (dashes.charAt(0) !== '-') {\n          dashes = '-' + dashes\n        }\n\n        value = 'data' + dashes\n      }\n    }\n\n    Type = DefinedInfo\n  }\n\n  return new Type(prop, value)\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction kebab($0) {\n  return '-' + $0.toLowerCase()\n}\n\n/**\n * @param {string} $0\n * @returns {string}\n */\nfunction camelcase($0) {\n  return $0.charAt(1).toUpperCase()\n}\n","/**\n * @typedef {import('./lib/util/info.js').Info} Info\n * @typedef {import('./lib/util/schema.js').Schema} Schema\n */\n\nimport {merge} from './lib/util/merge.js'\nimport {xlink} from './lib/xlink.js'\nimport {xml} from './lib/xml.js'\nimport {xmlns} from './lib/xmlns.js'\nimport {aria} from './lib/aria.js'\nimport {html as htmlBase} from './lib/html.js'\nimport {svg as svgBase} from './lib/svg.js'\n\nexport {find} from './lib/find.js'\nexport {hastToReact} from './lib/hast-to-react.js'\nexport {normalize} from './lib/normalize.js'\nexport const html = merge([xml, xlink, xmlns, aria, htmlBase], 'html')\nexport const svg = merge([xml, xlink, xmlns, aria, svgBase], 'svg')\n","/**\n * @typedef {import('hast').Properties} Properties\n * @typedef {import('hast').Element} Element\n */\n\nvar search = /[#.]/g\n\n/**\n * Create a hast element from a simple CSS selector.\n *\n * @param selector A simple CSS selector.\n *   Can contain a tag-name (`foo`), classes (`.bar`), and an ID (`#baz`).\n *   Multiple classes are allowed.\n *   Uses the last ID if multiple IDs are found.\n * @param [defaultTagName='div'] Tag name to use if `selector` does not specify one.\n */\nexport const parseSelector =\n  /**\n   * @type {(\n   *  <Selector extends string, DefaultTagName extends string = 'div'>(selector?: Selector, defaultTagName?: DefaultTagName) => Element & {tagName: import('./extract.js').ExtractTagName<Selector, DefaultTagName>}\n   * )}\n   */\n  (\n    /**\n     * @param {string} [selector]\n     * @param {string} [defaultTagName='div']\n     * @returns {Element}\n     */\n    function (selector, defaultTagName = 'div') {\n      var value = selector || ''\n      /** @type {Properties} */\n      var props = {}\n      var start = 0\n      /** @type {string} */\n      var subvalue\n      /** @type {string} */\n      var previous\n      /** @type {RegExpMatchArray} */\n      var match\n\n      while (start < value.length) {\n        search.lastIndex = start\n        match = search.exec(value)\n        subvalue = value.slice(start, match ? match.index : value.length)\n\n        if (subvalue) {\n          if (!previous) {\n            defaultTagName = subvalue\n          } else if (previous === '#') {\n            props.id = subvalue\n          } else if (Array.isArray(props.className)) {\n            props.className.push(subvalue)\n          } else {\n            props.className = [subvalue]\n          }\n\n          start += subvalue.length\n        }\n\n        if (match) {\n          previous = match[0]\n          start++\n        }\n      }\n\n      return {\n        type: 'element',\n        tagName: defaultTagName,\n        properties: props,\n        children: []\n      }\n    }\n  )\n","/**\n * Parse space separated tokens to an array of strings.\n *\n * @param {string} value Space separated tokens\n * @returns {Array.<string>} Tokens\n */\nexport function parse(value) {\n  const input = String(value || '').trim()\n  return input ? input.split(/[ \\t\\n\\r\\f]+/g) : []\n}\n\n/**\n * Serialize an array of strings as space separated tokens.\n *\n * @param {Array.<string|number>} values Tokens\n * @returns {string} Space separated tokens\n */\nexport function stringify(values) {\n  return values.join(' ').trim()\n}\n","/**\n * @typedef {Object} StringifyOptions\n * @property {boolean} [padLeft=true] Whether to pad a space before a token (`boolean`, default: `true`).\n * @property {boolean} [padRight=false] Whether to pad a space after a token (`boolean`, default: `false`).\n */\n\n/**\n * Parse comma separated tokens to an array.\n *\n * @param {string} value\n * @returns {Array.<string>}\n */\nexport function parse(value) {\n  /** @type {Array.<string>} */\n  var tokens = []\n  var input = String(value || '')\n  var index = input.indexOf(',')\n  var start = 0\n  /** @type {boolean} */\n  var end\n  /** @type {string} */\n  var token\n\n  while (!end) {\n    if (index === -1) {\n      index = input.length\n      end = true\n    }\n\n    token = input.slice(start, index).trim()\n\n    if (token || !end) {\n      tokens.push(token)\n    }\n\n    start = index + 1\n    index = input.indexOf(',', start)\n  }\n\n  return tokens\n}\n\n/**\n * Serialize an array of strings to comma separated tokens.\n *\n * @param {Array.<string|number>} values\n * @param {StringifyOptions} [options]\n * @returns {string}\n */\nexport function stringify(values, options) {\n  var settings = options || {}\n\n  // Ensure the last empty entry is seen.\n  if (values[values.length - 1] === '') {\n    values = values.concat('')\n  }\n\n  return values\n    .join(\n      (settings.padRight ? ' ' : '') +\n        ',' +\n        (settings.padLeft === false ? '' : ' ')\n    )\n    .trim()\n}\n","/**\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').Element} Element\n * @typedef {import('hast').Properties} Properties\n * @typedef {Root['children'][number]} Child\n * @typedef {Child|Root} Node\n * @typedef {import('property-information').Info} Info\n * @typedef {import('property-information').Schema} Schema\n *\n * @typedef {Root|Element} HResult\n * @typedef {string|number} HStyleValue\n * @typedef {Record<string, HStyleValue>} HStyle\n * @typedef {string|number|boolean|null|undefined} HPrimitiveValue\n * @typedef {Array<string|number>} HArrayValue\n * @typedef {HPrimitiveValue|HArrayValue} HPropertyValue\n * @typedef {{[property: string]: HPropertyValue|HStyle}} HProperties\n *   Acceptable properties value.\n *\n * @typedef {string|number|null|undefined} HPrimitiveChild\n * @typedef {Array<Node|HPrimitiveChild>} HArrayChild\n * @typedef {Node|HPrimitiveChild|HArrayChild} HChild\n *   Acceptable child value\n */\n\nimport {find, normalize} from 'property-information'\nimport {parseSelector} from 'hast-util-parse-selector'\nimport {parse as spaces} from 'space-separated-tokens'\nimport {parse as commas} from 'comma-separated-tokens'\n\nconst buttonTypes = new Set(['menu', 'submit', 'reset', 'button'])\n\nconst own = {}.hasOwnProperty\n\n/**\n * @param {Schema} schema\n * @param {string} defaultTagName\n * @param {Array<string>} [caseSensitive]\n */\nexport function core(schema, defaultTagName, caseSensitive) {\n  const adjust = caseSensitive && createAdjustMap(caseSensitive)\n\n  const h =\n    /**\n     * @type {{\n     *   (): Root\n     *   (selector: null|undefined, ...children: Array<HChild>): Root\n     *   (selector: string, properties?: HProperties, ...children: Array<HChild>): Element\n     *   (selector: string, ...children: Array<HChild>): Element\n     * }}\n     */\n    (\n      /**\n       * Hyperscript compatible DSL for creating virtual hast trees.\n       *\n       * @param {string|null} [selector]\n       * @param {HProperties|HChild} [properties]\n       * @param {Array<HChild>} children\n       * @returns {HResult}\n       */\n      function (selector, properties, ...children) {\n        let index = -1\n        /** @type {HResult} */\n        let node\n\n        if (selector === undefined || selector === null) {\n          node = {type: 'root', children: []}\n          // @ts-expect-error Properties are not supported for roots.\n          children.unshift(properties)\n        } else {\n          node = parseSelector(selector, defaultTagName)\n          // Normalize the name.\n          node.tagName = node.tagName.toLowerCase()\n          if (adjust && own.call(adjust, node.tagName)) {\n            node.tagName = adjust[node.tagName]\n          }\n\n          // Handle props.\n          if (isProperties(properties, node.tagName)) {\n            /** @type {string} */\n            let key\n\n            for (key in properties) {\n              if (own.call(properties, key)) {\n                // @ts-expect-error `node.properties` is set.\n                addProperty(schema, node.properties, key, properties[key])\n              }\n            }\n          } else {\n            children.unshift(properties)\n          }\n        }\n\n        // Handle children.\n        while (++index < children.length) {\n          addChild(node.children, children[index])\n        }\n\n        if (node.type === 'element' && node.tagName === 'template') {\n          node.content = {type: 'root', children: node.children}\n          node.children = []\n        }\n\n        return node\n      }\n    )\n\n  return h\n}\n\n/**\n * @param {HProperties|HChild} value\n * @param {string} name\n * @returns {value is HProperties}\n */\nfunction isProperties(value, name) {\n  if (\n    value === null ||\n    value === undefined ||\n    typeof value !== 'object' ||\n    Array.isArray(value)\n  ) {\n    return false\n  }\n\n  if (name === 'input' || !value.type || typeof value.type !== 'string') {\n    return true\n  }\n\n  if ('children' in value && Array.isArray(value.children)) {\n    return false\n  }\n\n  if (name === 'button') {\n    return buttonTypes.has(value.type.toLowerCase())\n  }\n\n  return !('value' in value)\n}\n\n/**\n * @param {Schema} schema\n * @param {Properties} properties\n * @param {string} key\n * @param {HStyle|HPropertyValue} value\n * @returns {void}\n */\nfunction addProperty(schema, properties, key, value) {\n  const info = find(schema, key)\n  let index = -1\n  /** @type {HPropertyValue} */\n  let result\n\n  // Ignore nullish and NaN values.\n  if (value === undefined || value === null) return\n\n  if (typeof value === 'number') {\n    // Ignore NaN.\n    if (Number.isNaN(value)) return\n\n    result = value\n  }\n  // Booleans.\n  else if (typeof value === 'boolean') {\n    result = value\n  }\n  // Handle list values.\n  else if (typeof value === 'string') {\n    if (info.spaceSeparated) {\n      result = spaces(value)\n    } else if (info.commaSeparated) {\n      result = commas(value)\n    } else if (info.commaOrSpaceSeparated) {\n      result = spaces(commas(value).join(' '))\n    } else {\n      result = parsePrimitive(info, info.property, value)\n    }\n  } else if (Array.isArray(value)) {\n    result = value.concat()\n  } else {\n    result = info.property === 'style' ? style(value) : String(value)\n  }\n\n  if (Array.isArray(result)) {\n    /** @type {Array<string|number>} */\n    const finalResult = []\n\n    while (++index < result.length) {\n      // @ts-expect-error Assume no booleans in array.\n      finalResult[index] = parsePrimitive(info, info.property, result[index])\n    }\n\n    result = finalResult\n  }\n\n  // Class names (which can be added both on the `selector` and here).\n  if (info.property === 'className' && Array.isArray(properties.className)) {\n    // @ts-expect-error Assume no booleans in `className`.\n    result = properties.className.concat(result)\n  }\n\n  properties[info.property] = result\n}\n\n/**\n * @param {Array<Child>} nodes\n * @param {HChild} value\n * @returns {void}\n */\nfunction addChild(nodes, value) {\n  let index = -1\n\n  if (value === undefined || value === null) {\n    // Empty.\n  } else if (typeof value === 'string' || typeof value === 'number') {\n    nodes.push({type: 'text', value: String(value)})\n  } else if (Array.isArray(value)) {\n    while (++index < value.length) {\n      addChild(nodes, value[index])\n    }\n  } else if (typeof value === 'object' && 'type' in value) {\n    if (value.type === 'root') {\n      addChild(nodes, value.children)\n    } else {\n      nodes.push(value)\n    }\n  } else {\n    throw new Error('Expected node, nodes, or string, got `' + value + '`')\n  }\n}\n\n/**\n * Parse a single primitives.\n *\n * @param {Info} info\n * @param {string} name\n * @param {HPrimitiveValue} value\n * @returns {HPrimitiveValue}\n */\nfunction parsePrimitive(info, name, value) {\n  if (typeof value === 'string') {\n    if (info.number && value && !Number.isNaN(Number(value))) {\n      return Number(value)\n    }\n\n    if (\n      (info.boolean || info.overloadedBoolean) &&\n      (value === '' || normalize(value) === normalize(name))\n    ) {\n      return true\n    }\n  }\n\n  return value\n}\n\n/**\n * @param {HStyle} value\n * @returns {string}\n */\nfunction style(value) {\n  /** @type {Array<string>} */\n  const result = []\n  /** @type {string} */\n  let key\n\n  for (key in value) {\n    if (own.call(value, key)) {\n      result.push([key, value[key]].join(': '))\n    }\n  }\n\n  return result.join('; ')\n}\n\n/**\n * @param {Array<string>} values\n * @returns {Record<string, string>}\n */\nfunction createAdjustMap(values) {\n  /** @type {Record<string, string>} */\n  const result = {}\n  let index = -1\n\n  while (++index < values.length) {\n    result[values[index].toLowerCase()] = values[index]\n  }\n\n  return result\n}\n","/**\n * @typedef {import('./core.js').HChild} Child Acceptable child value\n * @typedef {import('./core.js').HProperties} Properties Acceptable properties value.\n *\n * @typedef {import('./jsx-classic').Element} h.JSX.Element\n * @typedef {import('./jsx-classic').IntrinsicAttributes} h.JSX.IntrinsicAttributes\n * @typedef {import('./jsx-classic').IntrinsicElements} h.JSX.IntrinsicElements\n * @typedef {import('./jsx-classic').ElementChildrenAttribute} h.JSX.ElementChildrenAttribute\n */\n\nimport {html} from 'property-information'\nimport {core} from './core.js'\n\nexport const h = core(html, 'div')\n","/**\n * @typedef {import('./core.js').HChild} Child\n * @typedef {import('./core.js').HProperties} Properties\n *\n * @typedef {import('./jsx-classic').Element} s.JSX.Element\n * @typedef {import('./jsx-classic').IntrinsicAttributes} s.JSX.IntrinsicAttributes\n * @typedef {import('./jsx-classic').IntrinsicElements} s.JSX.IntrinsicElements\n * @typedef {import('./jsx-classic').ElementChildrenAttribute} s.JSX.ElementChildrenAttribute\n */\n\nimport {svg} from 'property-information'\nimport {core} from './core.js'\nimport {svgCaseSensitiveTagNames} from './svg-case-sensitive-tag-names.js'\n\nexport const s = core(svg, 'g', svgCaseSensitiveTagNames)\n","export const svgCaseSensitiveTagNames = [\n  'altGlyph',\n  'altGlyphDef',\n  'altGlyphItem',\n  'animateColor',\n  'animateMotion',\n  'animateTransform',\n  'clipPath',\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n  'foreignObject',\n  'glyphRef',\n  'linearGradient',\n  'radialGradient',\n  'solidColor',\n  'textArea',\n  'textPath'\n]\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.emojiMap=exports.checkText=void 0;/* eslint-disable linebreak-style */var emojiMap={\"o/\":\"\\uD83D\\uDC4B\",\"</3\":\"\\uD83D\\uDC94\",\"<3\":\"\\uD83D\\uDC97\",\"8-D\":\"\\uD83D\\uDE01\",\"8D\":\"\\uD83D\\uDE01\",\":-D\":\"\\uD83D\\uDE01\",\":-3\":\"\\uD83D\\uDE01\",\":3\":\"\\uD83D\\uDE01\",\":D\":\"\\uD83D\\uDE01\",\"B^D\":\"\\uD83D\\uDE01\",\"X-D\":\"\\uD83D\\uDE01\",XD:\"\\uD83D\\uDE01\",\"x-D\":\"\\uD83D\\uDE01\",xD:\"\\uD83D\\uDE01\",\":')\":\"\\uD83D\\uDE02\",\":'-)\":\"\\uD83D\\uDE02\",\":-))\":\"\\uD83D\\uDE03\",\"8)\":\"\\uD83D\\uDE04\",\":)\":\"\\uD83D\\uDE0A\",\":-)\":\"\\uD83D\\uDE04\",\":]\":\"\\uD83D\\uDE04\",\":^)\":\"\\uD83D\\uDE04\",\":c)\":\"\\uD83D\\uDE04\",\":o)\":\"\\uD83D\\uDE04\",\":}\":\"\\uD83D\\uDE04\",\":)\":\"\\uD83D\\uDE04\",\"0:)\":\"\\uD83D\\uDE07\",\"0:-)\":\"\\uD83D\\uDE07\",\"0:-3\":\"\\uD83D\\uDE07\",\"0:3\":\"\\uD83D\\uDE07\",\"0;^)\":\"\\uD83D\\uDE07\",\"O:-)\":\"\\uD83D\\uDE07\",\"3:)\":\"\\uD83D\\uDE08\",\"3:-)\":\"\\uD83D\\uDE08\",\"}:)\":\"\\uD83D\\uDE08\",\"}:-)\":\"\\uD83D\\uDE08\",\"*)\":\"\\uD83D\\uDE09\",\"*-)\":\"\\uD83D\\uDE09\",\":-,\":\"\\uD83D\\uDE09\",\";)\":\"\\uD83D\\uDE09\",\";-)\":\"\\uD83D\\uDE09\",\";-]\":\"\\uD83D\\uDE09\",\";D\":\"\\uD83D\\uDE09\",\";]\":\"\\uD83D\\uDE09\",\";^)\":\"\\uD83D\\uDE09\",\":-|\":\"\\uD83D\\uDE10\",\":|\":\"\\uD83D\\uDE10\",\":(\":\"\\uD83D\\uDE1E\",\":-(\":\"\\uD83D\\uDE12\",\":-<\":\"\\uD83D\\uDE12\",\":-[\":\"\\uD83D\\uDE12\",\":-c\":\"\\uD83D\\uDE12\",\":<\":\"\\uD83D\\uDE12\",\":[\":\"\\uD83D\\uDE12\",\":c\":\"\\uD83D\\uDE12\",\":{\":\"\\uD83D\\uDE12\",\":C\":\"\\uD83D\\uDE12\",\"%)\":\"\\uD83D\\uDE16\",\"%-)\":\"\\uD83D\\uDE16\",\":-P\":\"\\uD83D\\uDE1C\",\":-b\":\"\\uD83D\\uDE1C\",\":-p\":\"\\uD83D\\uDE1C\",\":-\":\"\\uD83D\\uDE1C\",\":-\":\"\\uD83D\\uDE1C\",\":P\":\"\\uD83D\\uDE1C\",\":b\":\"\\uD83D\\uDE1C\",\":p\":\"\\uD83D\\uDE1C\",\":\":\"\\uD83D\\uDE1C\",\":\":\"\\uD83D\\uDE1C\",\";(\":\"\\uD83D\\uDE1C\",\"X-P\":\"\\uD83D\\uDE1C\",XP:\"\\uD83D\\uDE1C\",\"d:\":\"\\uD83D\\uDE1C\",\"x-p\":\"\\uD83D\\uDE1C\",xp:\"\\uD83D\\uDE1C\",\":-||\":\"\\uD83D\\uDE20\",\":@\":\"\\uD83D\\uDE20\",\":-.\":\"\\uD83D\\uDE21\",\":-/\":\"\\uD83D\\uDE21\",\":/\":\"\\uD83D\\uDE10\",\":L\":\"\\uD83D\\uDE21\",\":S\":\"\\uD83D\\uDE21\",\":\\\\\":\"\\uD83D\\uDE21\",\":'(\":\"\\uD83D\\uDE22\",\":'-(\":\"\\uD83D\\uDE22\",\"^5\":\"\\uD83D\\uDE24\",\"^<_<\":\"\\uD83D\\uDE24\",\"o/\\\\o\":\"\\uD83D\\uDE24\",\"|-O\":\"\\uD83D\\uDE2B\",\"|;-)\":\"\\uD83D\\uDE2B\",\":###..\":\"\\uD83D\\uDE30\",\":#\":\"\\uD83D\\uDE05\",\":-###..\":\"\\uD83D\\uDE30\",\"D-':\":\"\\uD83D\\uDE31\",D8:\"\\uD83D\\uDE31\",\"D:\":\"\\uD83D\\uDE31\",\"D:<\":\"\\uD83D\\uDE31\",\"D;\":\"\\uD83D\\uDE31\",DX:\"\\uD83D\\uDE31\",\"v.v\":\"\\uD83D\\uDE31\",\"8-0\":\"\\uD83D\\uDE32\",\":-O\":\"\\uD83D\\uDE32\",\":-o\":\"\\uD83D\\uDE32\",\":O\":\"\\uD83D\\uDE32\",\":o\":\"\\uD83D\\uDE32\",\"O-O\":\"\\uD83D\\uDE32\",O_O:\"\\uD83D\\uDE32\",O_o:\"\\uD83D\\uDE32\",\"o-o\":\"\\uD83D\\uDE32\",o_O:\"\\uD83D\\uDE32\",o_o:\"\\uD83D\\uDE32\",\":$\":\"\\uD83D\\uDE33\",\"#-)\":\"\\uD83D\\uDE35\",\":&\":\"\\uD83D\\uDE36\",\":-#\":\"\\uD83D\\uDE36\",\":-&\":\"\\uD83D\\uDE36\",\":-X\":\"\\uD83D\\uDE36\",\":X\":\"\\uD83D\\uDE36\",\":-J\":\"\\uD83D\\uDE3C\",\":*\":\"\\uD83D\\uDE18\",\":^*\":\"\\uD83D\\uDE3D\",\"*\\\\0/*\":\"\\uD83D\\uDE46\",\"\\\\o/\":\"\\uD83D\\uDE46\",\":>\":\"\\uD83D\\uDE04\",\">.<\":\"\\uD83D\\uDE21\",\">:(\":\"\\uD83D\\uDE20\",\">:)\":\"\\uD83D\\uDE08\",\">:-)\":\"\\uD83D\\uDE08\",\">:/\":\"\\uD83D\\uDE21\",\">:O\":\"\\uD83D\\uDE32\",\">:P\":\"\\uD83D\\uDE1C\",\">:[\":\"\\uD83D\\uDE12\",\">:\\\\\":\"\\uD83D\\uDE21\",\">;)\":\"\\uD83D\\uDE08\",\">_>^\":\"\\uD83D\\uDE24\",\"^^\":\"\\uD83D\\uDE0A\",\":sweat\":\"\\uD83D\\uDE05\",\":smile:\":\"\\uD83D\\uDE04\",\":laughing:\":\"\\uD83D\\uDE06\",\":blush:\":\"\\uD83D\\uDE0A\",\":smiley:\":\"\\uD83D\\uDE03\",\":relaxed:\":\"\\u263A\\uFE0F\",\":smirk:\":\"\\uD83D\\uDE0F\",\":heart_eyes:\":\"\\uD83D\\uDE0D\",\":kissing_heart:\":\"\\uD83D\\uDE18\",\":kissing_closed_eyes:\":\"\\uD83D\\uDE1A\",\":flushed:\":\"\\uD83D\\uDE33\",\":relieved:\":\"\\uD83D\\uDE0C\",\":satisfied:\":\"\\uD83D\\uDE06\",\":grin:\":\"\\uD83D\\uDE01\",\":wink:\":\"\\uD83D\\uDE09\",\":stuck_out_tongue_winking_eye:\":\"\\uD83D\\uDE1C\",\":stuck_out_tongue_closed_eyes:\":\"\\uD83D\\uDE1D\",\":grinning:\":\"\\uD83D\\uDE00\",\":kissing:\":\"\\uD83D\\uDE17\",\":kissing_smiling_eyes:\":\"\\uD83D\\uDE19\",\":stuck_out_tongue:\":\"\\uD83D\\uDE1B\",\":sleeping:\":\"\\uD83D\\uDE34\",\":worried:\":\"\\uD83D\\uDE1F\",\":frowning:\":\"\\uD83D\\uDE26\",\":anguished:\":\"\\uD83D\\uDE27\",\":open_mouth:\":\"\\uD83D\\uDE2E\",\":grimacing:\":\"\\uD83D\\uDE2C\",\":confused:\":\"\\uD83D\\uDE15\",\":hushed:\":\"\\uD83D\\uDE2F\",\":expressionless:\":\"\\uD83D\\uDE11\",\":unamused:\":\"\\uD83D\\uDE12\",\":sweat_smile:\":\"\\uD83D\\uDE05\",\":sweat:\":\"\\uD83D\\uDE13\",\":disappointed_relieved:\":\"\\uD83D\\uDE25\",\":weary:\":\"\\uD83D\\uDE29\",\":pensive:\":\"\\uD83D\\uDE14\",\":disappointed:\":\"\\uD83D\\uDE1E\",\":confounded:\":\"\\uD83D\\uDE16\",\":fearful:\":\"\\uD83D\\uDE28\",\":cold_sweat:\":\"\\uD83D\\uDE30\",\":persevere:\":\"\\uD83D\\uDE23\",\":cry:\":\"\\uD83D\\uDE22\",\":sob:\":\"\\uD83D\\uDE2D\",\":joy:\":\"\\uD83D\\uDE02\",\":astonished:\":\"\\uD83D\\uDE32\",\":scream:\":\"\\uD83D\\uDE31\",\":tired_face:\":\"\\uD83D\\uDE2B\",\":angry:\":\"\\uD83D\\uDE20\",\":rage:\":\"\\uD83D\\uDE21\",\":triumph:\":\"\\uD83D\\uDE24\",\":sleepy:\":\"\\uD83D\\uDE2A\",\":yum:\":\"\\uD83D\\uDE0B\",\":mask:\":\"\\uD83D\\uDE37\",\":sunglasses:\":\"\\uD83D\\uDE0E\",\":dizzy_face:\":\"\\uD83D\\uDE35\",\":imp:\":\"\\uD83D\\uDC7F\",\":smiling_imp:\":\"\\uD83D\\uDE08\",\":neutral_face:\":\"\\uD83D\\uDE10\",\":no_mouth:\":\"\\uD83D\\uDE36\",\":innocent:\":\"\\uD83D\\uDE07\",\":alien:\":\"\\uD83D\\uDC7D\",\":yellow_heart:\":\"\\uD83D\\uDC9B\",\":blue_heart:\":\"\\uD83D\\uDC99\",\":purple_heart:\":\"\\uD83D\\uDC9C\",\":heart:\":\"\\u2764\\uFE0F\",\":green_heart:\":\"\\uD83D\\uDC9A\",\":broken_heart:\":\"\\uD83D\\uDC94\",\":heartbeat:\":\"\\uD83D\\uDC93\",\":heartpulse:\":\"\\uD83D\\uDC97\",\":two_hearts:\":\"\\uD83D\\uDC95\",\":revolving_hearts:\":\"\\uD83D\\uDC9E\",\":cupid:\":\"\\uD83D\\uDC98\",\":sparkling_heart:\":\"\\uD83D\\uDC96\",\":sparkles:\":\"\\u2728\",\":star:\":\"\\u2B50\",\":star2:\":\"\\uD83C\\uDF1F\",\":dizzy:\":\"\\uD83D\\uDCAB\",\":boom:\":\"\\uD83D\\uDCA5\",\":collision:\":\"\\uD83D\\uDCA5\",\":anger:\":\"\\uD83D\\uDCA2\",\":exclamation:\":\"\\u2757\",\":question:\":\"\\u2753\",\":grey_exclamation:\":\"\\u2755\",\":grey_question:\":\"\\u2754\",\":zzz:\":\"\\uD83D\\uDCA4\",\":dash:\":\"\\uD83D\\uDCA8\",\":sweat_drops:\":\"\\uD83D\\uDCA6\",\":notes:\":\"\\uD83C\\uDFB6\",\":musical_note:\":\"\\uD83C\\uDFB5\",\":fire:\":\"\\uD83D\\uDD25\",\":hankey:\":\"\\uD83D\\uDCA9\",\":poop:\":\"\\uD83D\\uDCA9\",\":shit:\":\"\\uD83D\\uDCA9\",\":+1:\":\"\\uD83D\\uDC4D\",\":thumbsup:\":\"\\uD83D\\uDC4D\",\":-1:\":\"\\uD83D\\uDC4E\",\":thumbsdown:\":\"\\uD83D\\uDC4E\",\":ok_hand:\":\"\\uD83D\\uDC4C\",\":punch:\":\"\\uD83D\\uDC4A\",\":facepunch:\":\"\\uD83D\\uDC4A\",\":fist:\":\"\\u270A\",\":v:\":\"\\u270C\\uFE0F\",\":wave:\":\"\\uD83D\\uDC4B\",\":hand:\":\"\\u270B\",\":raised_hand:\":\"\\u270B\",\":open_hands:\":\"\\uD83D\\uDC50\",\":point_up:\":\"\\u261D\\uFE0F\",\":point_down:\":\"\\uD83D\\uDC47\",\":point_left:\":\"\\uD83D\\uDC48\",\":point_right:\":\"\\uD83D\\uDC49\",\":raised_hands:\":\"\\uD83D\\uDE4C\",\":pray:\":\"\\uD83D\\uDE4F\",\":point_up_2:\":\"\\uD83D\\uDC46\",\":clap:\":\"\\uD83D\\uDC4F\",\":muscle:\":\"\\uD83D\\uDCAA\",\":metal:\":\"\\uD83E\\uDD18\",\":fu:\":\"\\uD83D\\uDD95\",\":walking:\":\"\\uD83D\\uDEB6\",\":runner:\":\"\\uD83C\\uDFC3\",\":running:\":\"\\uD83C\\uDFC3\",\":couple:\":\"\\uD83D\\uDC6B\",\":family:\":\"\\uD83D\\uDC6A\",\":two_men_holding_hands:\":\"\\uD83D\\uDC6C\",\":two_women_holding_hands:\":\"\\uD83D\\uDC6D\",\":dancer:\":\"\\uD83D\\uDC83\",\":dancers:\":\"\\uD83D\\uDC6F\",\":no_good:\":\"\\uD83D\\uDE45\",\":information_desk_person:\":\"\\uD83D\\uDC81\",\":raising_hand:\":\"\\uD83D\\uDE4B\",\":bride_with_veil:\":\"\\uD83D\\uDC70\",\":bow:\":\"\\uD83D\\uDE47\",\":couplekiss:\":\"\\uD83D\\uDC8F\",\":couple_with_heart:\":\"\\uD83D\\uDC91\",\":massage:\":\"\\uD83D\\uDC86\",\":haircut:\":\"\\uD83D\\uDC87\",\":nail_care:\":\"\\uD83D\\uDC85\",\":boy:\":\"\\uD83D\\uDC66\",\":girl:\":\"\\uD83D\\uDC67\",\":woman:\":\"\\uD83D\\uDC69\",\":man:\":\"\\uD83D\\uDC68\",\":baby:\":\"\\uD83D\\uDC76\",\":older_woman:\":\"\\uD83D\\uDC75\",\":older_man:\":\"\\uD83D\\uDC74\",\":man_with_gua_pi_mao:\":\"\\uD83D\\uDC72\",\":construction_worker:\":\"\\uD83D\\uDC77\",\":cop:\":\"\\uD83D\\uDC6E\",\":angel:\":\"\\uD83D\\uDC7C\",\":princess:\":\"\\uD83D\\uDC78\",\":smiley_cat:\":\"\\uD83D\\uDE3A\",\":smile_cat:\":\"\\uD83D\\uDE38\",\":heart_eyes_cat:\":\"\\uD83D\\uDE3B\",\":kissing_cat:\":\"\\uD83D\\uDE3D\",\":smirk_cat:\":\"\\uD83D\\uDE3C\",\":scream_cat:\":\"\\uD83D\\uDE40\",\":crying_cat_face:\":\"\\uD83D\\uDE3F\",\":joy_cat:\":\"\\uD83D\\uDE39\",\":pouting_cat:\":\"\\uD83D\\uDE3E\",\":japanese_ogre:\":\"\\uD83D\\uDC79\",\":japanese_goblin:\":\"\\uD83D\\uDC7A\",\":see_no_evil:\":\"\\uD83D\\uDE48\",\":hear_no_evil:\":\"\\uD83D\\uDE49\",\":speak_no_evil:\":\"\\uD83D\\uDE4A\",\":skull:\":\"\\uD83D\\uDC80\",\":feet:\":\"\\uD83D\\uDC3E\",\":lips:\":\"\\uD83D\\uDC44\",\":kiss:\":\"\\uD83D\\uDC8B\",\":droplet:\":\"\\uD83D\\uDCA7\",\":ear:\":\"\\uD83D\\uDC42\",\":eyes:\":\"\\uD83D\\uDC40\",\":nose:\":\"\\uD83D\\uDC43\",\":tongue:\":\"\\uD83D\\uDC45\",\":love_letter:\":\"\\uD83D\\uDC8C\",\":bust_in_silhouette:\":\"\\uD83D\\uDC64\",\":busts_in_silhouette:\":\"\\uD83D\\uDC65\",\":speech_balloon:\":\"\\uD83D\\uDCAC\",\":thought_balloon:\":\"\\uD83D\\uDCAD\",\":sunny:\":\"\\u2600\\uFE0F\",\":umbrella:\":\"\\u2614\",\":cloud:\":\"\\u2601\\uFE0F\",\":snowflake:\":\"\\u2744\\uFE0F\",\":snowman:\":\"\\u26C4\",\":zap:\":\"\\u26A1\",\":cyclone:\":\"\\uD83C\\uDF00\",\":foggy:\":\"\\uD83C\\uDF01\",\":ocean:\":\"\\uD83C\\uDF0A\",\":cat:\":\"\\uD83D\\uDC31\",\":dog:\":\"\\uD83D\\uDC36\",\":mouse:\":\"\\uD83D\\uDC2D\",\":hamster:\":\"\\uD83D\\uDC39\",\":rabbit:\":\"\\uD83D\\uDC30\",\":wolf:\":\"\\uD83D\\uDC3A\",\":frog:\":\"\\uD83D\\uDC38\",\":tiger:\":\"\\uD83D\\uDC2F\",\":koala:\":\"\\uD83D\\uDC28\",\":bear:\":\"\\uD83D\\uDC3B\",\":pig:\":\"\\uD83D\\uDC37\",\":pig_nose:\":\"\\uD83D\\uDC3D\",\":cow:\":\"\\uD83D\\uDC2E\",\":boar:\":\"\\uD83D\\uDC17\",\":monkey_face:\":\"\\uD83D\\uDC35\",\":monkey:\":\"\\uD83D\\uDC12\",\":horse:\":\"\\uD83D\\uDC34\",\":racehorse:\":\"\\uD83D\\uDC0E\",\":camel:\":\"\\uD83D\\uDC2B\",\":sheep:\":\"\\uD83D\\uDC11\",\":elephant:\":\"\\uD83D\\uDC18\",\":panda_face:\":\"\\uD83D\\uDC3C\",\":snake:\":\"\\uD83D\\uDC0D\",\":bird:\":\"\\uD83D\\uDC26\",\":baby_chick:\":\"\\uD83D\\uDC24\",\":hatched_chick:\":\"\\uD83D\\uDC25\",\":hatching_chick:\":\"\\uD83D\\uDC23\",\":chicken:\":\"\\uD83D\\uDC14\",\":penguin:\":\"\\uD83D\\uDC27\",\":turtle:\":\"\\uD83D\\uDC22\",\":bug:\":\"\\uD83D\\uDC1B\",\":honeybee:\":\"\\uD83D\\uDC1D\",\":ant:\":\"\\uD83D\\uDC1C\",\":beetle:\":\"\\uD83D\\uDC1E\",\":snail:\":\"\\uD83D\\uDC0C\",\":octopus:\":\"\\uD83D\\uDC19\",\":tropical_fish:\":\"\\uD83D\\uDC20\",\":fish:\":\"\\uD83D\\uDC1F\",\":whale:\":\"\\uD83D\\uDC33\",\":whale2:\":\"\\uD83D\\uDC0B\",\":dolphin:\":\"\\uD83D\\uDC2C\",\":cow2:\":\"\\uD83D\\uDC04\",\":ram:\":\"\\uD83D\\uDC0F\",\":rat:\":\"\\uD83D\\uDC00\",\":water_buffalo:\":\"\\uD83D\\uDC03\",\":tiger2:\":\"\\uD83D\\uDC05\",\":rabbit2:\":\"\\uD83D\\uDC07\",\":dragon:\":\"\\uD83D\\uDC09\",\":goat:\":\"\\uD83D\\uDC10\",\":rooster:\":\"\\uD83D\\uDC13\",\":dog2:\":\"\\uD83D\\uDC15\",\":pig2:\":\"\\uD83D\\uDC16\",\":mouse2:\":\"\\uD83D\\uDC01\",\":ox:\":\"\\uD83D\\uDC02\",\":dragon_face:\":\"\\uD83D\\uDC32\",\":blowfish:\":\"\\uD83D\\uDC21\",\":crocodile:\":\"\\uD83D\\uDC0A\",\":dromedary_camel:\":\"\\uD83D\\uDC2A\",\":leopard:\":\"\\uD83D\\uDC06\",\":cat2:\":\"\\uD83D\\uDC08\",\":poodle:\":\"\\uD83D\\uDC29\",\":paw_prints:\":\"\\uD83D\\uDC3E\",\":bouquet:\":\"\\uD83D\\uDC90\",\":cherry_blossom:\":\"\\uD83C\\uDF38\",\":tulip:\":\"\\uD83C\\uDF37\",\":four_leaf_clover:\":\"\\uD83C\\uDF40\",\":rose:\":\"\\uD83C\\uDF39\",\":sunflower:\":\"\\uD83C\\uDF3B\",\":hibiscus:\":\"\\uD83C\\uDF3A\",\":maple_leaf:\":\"\\uD83C\\uDF41\",\":leaves:\":\"\\uD83C\\uDF43\",\":fallen_leaf:\":\"\\uD83C\\uDF42\",\":herb:\":\"\\uD83C\\uDF3F\",\":mushroom:\":\"\\uD83C\\uDF44\",\":cactus:\":\"\\uD83C\\uDF35\",\":palm_tree:\":\"\\uD83C\\uDF34\",\":evergreen_tree:\":\"\\uD83C\\uDF32\",\":deciduous_tree:\":\"\\uD83C\\uDF33\",\":chestnut:\":\"\\uD83C\\uDF30\",\":seedling:\":\"\\uD83C\\uDF31\",\":blossom:\":\"\\uD83C\\uDF3C\",\":ear_of_rice:\":\"\\uD83C\\uDF3E\",\":shell:\":\"\\uD83D\\uDC1A\",\":globe_with_meridians:\":\"\\uD83C\\uDF10\",\":sun_with_face:\":\"\\uD83C\\uDF1E\",\":full_moon_with_face:\":\"\\uD83C\\uDF1D\",\":new_moon_with_face:\":\"\\uD83C\\uDF1A\",\":new_moon:\":\"\\uD83C\\uDF11\",\":waxing_crescent_moon:\":\"\\uD83C\\uDF12\",\":first_quarter_moon:\":\"\\uD83C\\uDF13\",\":waxing_gibbous_moon:\":\"\\uD83C\\uDF14\",\":full_moon:\":\"\\uD83C\\uDF15\",\":waning_gibbous_moon:\":\"\\uD83C\\uDF16\",\":last_quarter_moon:\":\"\\uD83C\\uDF17\",\":waning_crescent_moon:\":\"\\uD83C\\uDF18\",\":last_quarter_moon_with_face:\":\"\\uD83C\\uDF1C\",\":first_quarter_moon_with_face:\":\"\\uD83C\\uDF1B\",\":moon:\":\"\\uD83C\\uDF14\",\":earth_africa:\":\"\\uD83C\\uDF0D\",\":earth_americas:\":\"\\uD83C\\uDF0E\",\":earth_asia:\":\"\\uD83C\\uDF0F\",\":volcano:\":\"\\uD83C\\uDF0B\",\":milky_way:\":\"\\uD83C\\uDF0C\",\":partly_sunny:\":\"\\u26C5\",\":bamboo:\":\"\\uD83C\\uDF8D\",\":gift_heart:\":\"\\uD83D\\uDC9D\",\":dolls:\":\"\\uD83C\\uDF8E\",\":school_satchel:\":\"\\uD83C\\uDF92\",\":mortar_board:\":\"\\uD83C\\uDF93\",\":flags:\":\"\\uD83C\\uDF8F\",\":fireworks:\":\"\\uD83C\\uDF86\",\":sparkler:\":\"\\uD83C\\uDF87\",\":wind_chime:\":\"\\uD83C\\uDF90\",\":rice_scene:\":\"\\uD83C\\uDF91\",\":jack_o_lantern:\":\"\\uD83C\\uDF83\",\":ghost:\":\"\\uD83D\\uDC7B\",\":santa:\":\"\\uD83C\\uDF85\",\":christmas_tree:\":\"\\uD83C\\uDF84\",\":gift:\":\"\\uD83C\\uDF81\",\":bell:\":\"\\uD83D\\uDD14\",\":no_bell:\":\"\\uD83D\\uDD15\",\":tanabata_tree:\":\"\\uD83C\\uDF8B\",\":tada:\":\"\\uD83C\\uDF89\",\":confetti_ball:\":\"\\uD83C\\uDF8A\",\":balloon:\":\"\\uD83C\\uDF88\",\":crystal_ball:\":\"\\uD83D\\uDD2E\",\":cd:\":\"\\uD83D\\uDCBF\",\":dvd:\":\"\\uD83D\\uDCC0\",\":floppy_disk:\":\"\\uD83D\\uDCBE\",\":camera:\":\"\\uD83D\\uDCF7\",\":video_camera:\":\"\\uD83D\\uDCF9\",\":movie_camera:\":\"\\uD83C\\uDFA5\",\":computer:\":\"\\uD83D\\uDCBB\",\":tv:\":\"\\uD83D\\uDCFA\",\":iphone:\":\"\\uD83D\\uDCF1\",\":phone:\":\"\\u260E\\uFE0F\",\":telephone:\":\"\\u260E\\uFE0F\",\":telephone_receiver:\":\"\\uD83D\\uDCDE\",\":pager:\":\"\\uD83D\\uDCDF\",\":fax:\":\"\\uD83D\\uDCE0\",\":minidisc:\":\"\\uD83D\\uDCBD\",\":vhs:\":\"\\uD83D\\uDCFC\",\":sound:\":\"\\uD83D\\uDD09\",\":speaker:\":\"\\uD83D\\uDD08\",\":mute:\":\"\\uD83D\\uDD07\",\":loudspeaker:\":\"\\uD83D\\uDCE2\",\":mega:\":\"\\uD83D\\uDCE3\",\":hourglass:\":\"\\u231B\",\":hourglass_flowing_sand:\":\"\\u23F3\",\":alarm_clock:\":\"\\u23F0\",\":watch:\":\"\\u231A\",\":radio:\":\"\\uD83D\\uDCFB\",\":satellite:\":\"\\uD83D\\uDCE1\",\":loop:\":\"\\u27BF\",\":mag:\":\"\\uD83D\\uDD0D\",\":mag_right:\":\"\\uD83D\\uDD0E\",\":unlock:\":\"\\uD83D\\uDD13\",\":lock:\":\"\\uD83D\\uDD12\",\":lock_with_ink_pen:\":\"\\uD83D\\uDD0F\",\":closed_lock_with_key:\":\"\\uD83D\\uDD10\",\":key:\":\"\\uD83D\\uDD11\",\":bulb:\":\"\\uD83D\\uDCA1\",\":flashlight:\":\"\\uD83D\\uDD26\",\":high_brightness:\":\"\\uD83D\\uDD06\",\":low_brightness:\":\"\\uD83D\\uDD05\",\":electric_plug:\":\"\\uD83D\\uDD0C\",\":battery:\":\"\\uD83D\\uDD0B\",\":calling:\":\"\\uD83D\\uDCF2\",\":email:\":\"\\u2709\\uFE0F\",\":mailbox:\":\"\\uD83D\\uDCEB\",\":postbox:\":\"\\uD83D\\uDCEE\",\":bath:\":\"\\uD83D\\uDEC0\",\":bathtub:\":\"\\uD83D\\uDEC1\",\":shower:\":\"\\uD83D\\uDEBF\",\":toilet:\":\"\\uD83D\\uDEBD\",\":wrench:\":\"\\uD83D\\uDD27\",\":nut_and_bolt:\":\"\\uD83D\\uDD29\",\":hammer:\":\"\\uD83D\\uDD28\",\":seat:\":\"\\uD83D\\uDCBA\",\":moneybag:\":\"\\uD83D\\uDCB0\",\":yen:\":\"\\uD83D\\uDCB4\",\":dollar:\":\"\\uD83D\\uDCB5\",\":pound:\":\"\\uD83D\\uDCB7\",\":euro:\":\"\\uD83D\\uDCB6\",\":credit_card:\":\"\\uD83D\\uDCB3\",\":money_with_wings:\":\"\\uD83D\\uDCB8\",\":e-mail:\":\"\\uD83D\\uDCE7\",\":inbox_tray:\":\"\\uD83D\\uDCE5\",\":outbox_tray:\":\"\\uD83D\\uDCE4\",\":envelope:\":\"\\u2709\\uFE0F\",\":incoming_envelope:\":\"\\uD83D\\uDCE8\",\":postal_horn:\":\"\\uD83D\\uDCEF\",\":mailbox_closed:\":\"\\uD83D\\uDCEA\",\":mailbox_with_mail:\":\"\\uD83D\\uDCEC\",\":mailbox_with_no_mail:\":\"\\uD83D\\uDCED\",\":package:\":\"\\uD83D\\uDCE6\",\":door:\":\"\\uD83D\\uDEAA\",\":smoking:\":\"\\uD83D\\uDEAC\",\":bomb:\":\"\\uD83D\\uDCA3\",\":gun:\":\"\\uD83D\\uDD2B\",\":hocho:\":\"\\uD83D\\uDD2A\",\":pill:\":\"\\uD83D\\uDC8A\",\":syringe:\":\"\\uD83D\\uDC89\",\":page_facing_up:\":\"\\uD83D\\uDCC4\",\":page_with_curl:\":\"\\uD83D\\uDCC3\",\":bookmark_tabs:\":\"\\uD83D\\uDCD1\",\":bar_chart:\":\"\\uD83D\\uDCCA\",\":chart_with_upwards_trend:\":\"\\uD83D\\uDCC8\",\":chart_with_downwards_trend:\":\"\\uD83D\\uDCC9\",\":scroll:\":\"\\uD83D\\uDCDC\",\":clipboard:\":\"\\uD83D\\uDCCB\",\":calendar:\":\"\\uD83D\\uDCC6\",\":date:\":\"\\uD83D\\uDCC5\",\":card_index:\":\"\\uD83D\\uDCC7\",\":file_folder:\":\"\\uD83D\\uDCC1\",\":open_file_folder:\":\"\\uD83D\\uDCC2\",\":scissors:\":\"\\u2702\\uFE0F\",\":pushpin:\":\"\\uD83D\\uDCCC\",\":paperclip:\":\"\\uD83D\\uDCCE\",\":black_nib:\":\"\\u2712\\uFE0F\",\":pencil2:\":\"\\u270F\\uFE0F\",\":straight_ruler:\":\"\\uD83D\\uDCCF\",\":triangular_ruler:\":\"\\uD83D\\uDCD0\",\":closed_book:\":\"\\uD83D\\uDCD5\",\":green_book:\":\"\\uD83D\\uDCD7\",\":blue_book:\":\"\\uD83D\\uDCD8\",\":orange_book:\":\"\\uD83D\\uDCD9\",\":notebook:\":\"\\uD83D\\uDCD3\",\":notebook_with_decorative_cover:\":\"\\uD83D\\uDCD4\",\":ledger:\":\"\\uD83D\\uDCD2\",\":books:\":\"\\uD83D\\uDCDA\",\":bookmark:\":\"\\uD83D\\uDD16\",\":name_badge:\":\"\\uD83D\\uDCDB\",\":microscope:\":\"\\uD83D\\uDD2C\",\":telescope:\":\"\\uD83D\\uDD2D\",\":newspaper:\":\"\\uD83D\\uDCF0\",\":football:\":\"\\uD83C\\uDFC8\",\":basketball:\":\"\\uD83C\\uDFC0\",\":soccer:\":\"\\u26BD\",\":baseball:\":\"\\u26BE\",\":tennis:\":\"\\uD83C\\uDFBE\",\":8ball:\":\"\\uD83C\\uDFB1\",\":rugby_football:\":\"\\uD83C\\uDFC9\",\":bowling:\":\"\\uD83C\\uDFB3\",\":golf:\":\"\\u26F3\",\":mountain_bicyclist:\":\"\\uD83D\\uDEB5\",\":bicyclist:\":\"\\uD83D\\uDEB4\",\":horse_racing:\":\"\\uD83C\\uDFC7\",\":snowboarder:\":\"\\uD83C\\uDFC2\",\":swimmer:\":\"\\uD83C\\uDFCA\",\":surfer:\":\"\\uD83C\\uDFC4\",\":ski:\":\"\\uD83C\\uDFBF\",\":spades:\":\"\\u2660\\uFE0F\",\":hearts:\":\"\\u2665\\uFE0F\",\":clubs:\":\"\\u2663\\uFE0F\",\":diamonds:\":\"\\u2666\\uFE0F\",\":gem:\":\"\\uD83D\\uDC8E\",\":ring:\":\"\\uD83D\\uDC8D\",\":trophy:\":\"\\uD83C\\uDFC6\",\":musical_score:\":\"\\uD83C\\uDFBC\",\":musical_keyboard:\":\"\\uD83C\\uDFB9\",\":violin:\":\"\\uD83C\\uDFBB\",\":space_invader:\":\"\\uD83D\\uDC7E\",\":video_game:\":\"\\uD83C\\uDFAE\",\":black_joker:\":\"\\uD83C\\uDCCF\",\":flower_playing_cards:\":\"\\uD83C\\uDFB4\",\":game_die:\":\"\\uD83C\\uDFB2\",\":dart:\":\"\\uD83C\\uDFAF\",\":mahjong:\":\"\\uD83C\\uDC04\",\":clapper:\":\"\\uD83C\\uDFAC\",\":memo:\":\"\\uD83D\\uDCDD\",\":pencil:\":\"\\uD83D\\uDCDD\",\":book:\":\"\\uD83D\\uDCD6\",\":art:\":\"\\uD83C\\uDFA8\",\":microphone:\":\"\\uD83C\\uDFA4\",\":headphones:\":\"\\uD83C\\uDFA7\",\":trumpet:\":\"\\uD83C\\uDFBA\",\":saxophone:\":\"\\uD83C\\uDFB7\",\":guitar:\":\"\\uD83C\\uDFB8\",\":shoe:\":\"\\uD83D\\uDC5E\",\":sandal:\":\"\\uD83D\\uDC61\",\":high_heel:\":\"\\uD83D\\uDC60\",\":lipstick:\":\"\\uD83D\\uDC84\",\":boot:\":\"\\uD83D\\uDC62\",\":shirt:\":\"\\uD83D\\uDC55\",\":tshirt:\":\"\\uD83D\\uDC55\",\":necktie:\":\"\\uD83D\\uDC54\",\":womans_clothes:\":\"\\uD83D\\uDC5A\",\":dress:\":\"\\uD83D\\uDC57\",\":running_shirt_with_sash:\":\"\\uD83C\\uDFBD\",\":jeans:\":\"\\uD83D\\uDC56\",\":kimono:\":\"\\uD83D\\uDC58\",\":bikini:\":\"\\uD83D\\uDC59\",\":ribbon:\":\"\\uD83C\\uDF80\",\":tophat:\":\"\\uD83C\\uDFA9\",\":crown:\":\"\\uD83D\\uDC51\",\":womans_hat:\":\"\\uD83D\\uDC52\",\":mans_shoe:\":\"\\uD83D\\uDC5E\",\":closed_umbrella:\":\"\\uD83C\\uDF02\",\":briefcase:\":\"\\uD83D\\uDCBC\",\":handbag:\":\"\\uD83D\\uDC5C\",\":pouch:\":\"\\uD83D\\uDC5D\",\":purse:\":\"\\uD83D\\uDC5B\",\":eyeglasses:\":\"\\uD83D\\uDC53\",\":fishing_pole_and_fish:\":\"\\uD83C\\uDFA3\",\":coffee:\":\"\\u2615\",\":tea:\":\"\\uD83C\\uDF75\",\":sake:\":\"\\uD83C\\uDF76\",\":baby_bottle:\":\"\\uD83C\\uDF7C\",\":beer:\":\"\\uD83C\\uDF7A\",\":beers:\":\"\\uD83C\\uDF7B\",\":cocktail:\":\"\\uD83C\\uDF78\",\":tropical_drink:\":\"\\uD83C\\uDF79\",\":wine_glass:\":\"\\uD83C\\uDF77\",\":fork_and_knife:\":\"\\uD83C\\uDF74\",\":pizza:\":\"\\uD83C\\uDF55\",\":hamburger:\":\"\\uD83C\\uDF54\",\":fries:\":\"\\uD83C\\uDF5F\",\":poultry_leg:\":\"\\uD83C\\uDF57\",\":meat_on_bone:\":\"\\uD83C\\uDF56\",\":spaghetti:\":\"\\uD83C\\uDF5D\",\":curry:\":\"\\uD83C\\uDF5B\",\":fried_shrimp:\":\"\\uD83C\\uDF64\",\":bento:\":\"\\uD83C\\uDF71\",\":sushi:\":\"\\uD83C\\uDF63\",\":fish_cake:\":\"\\uD83C\\uDF65\",\":rice_ball:\":\"\\uD83C\\uDF59\",\":rice_cracker:\":\"\\uD83C\\uDF58\",\":rice:\":\"\\uD83C\\uDF5A\",\":ramen:\":\"\\uD83C\\uDF5C\",\":stew:\":\"\\uD83C\\uDF72\",\":oden:\":\"\\uD83C\\uDF62\",\":dango:\":\"\\uD83C\\uDF61\",\":egg:\":\"\\uD83E\\uDD5A\",\":bread:\":\"\\uD83C\\uDF5E\",\":doughnut:\":\"\\uD83C\\uDF69\",\":custard:\":\"\\uD83C\\uDF6E\",\":icecream:\":\"\\uD83C\\uDF66\",\":ice_cream:\":\"\\uD83C\\uDF68\",\":shaved_ice:\":\"\\uD83C\\uDF67\",\":birthday:\":\"\\uD83C\\uDF82\",\":cake:\":\"\\uD83C\\uDF70\",\":cookie:\":\"\\uD83C\\uDF6A\",\":chocolate_bar:\":\"\\uD83C\\uDF6B\",\":candy:\":\"\\uD83C\\uDF6C\",\":lollipop:\":\"\\uD83C\\uDF6D\",\":honey_pot:\":\"\\uD83C\\uDF6F\",\":apple:\":\"\\uD83C\\uDF4E\",\":green_apple:\":\"\\uD83C\\uDF4F\",\":tangerine:\":\"\\uD83C\\uDF4A\",\":lemon:\":\"\\uD83C\\uDF4B\",\":cherries:\":\"\\uD83C\\uDF52\",\":grapes:\":\"\\uD83C\\uDF47\",\":watermelon:\":\"\\uD83C\\uDF49\",\":strawberry:\":\"\\uD83C\\uDF53\",\":peach:\":\"\\uD83C\\uDF51\",\":melon:\":\"\\uD83C\\uDF48\",\":banana:\":\"\\uD83C\\uDF4C\",\":pear:\":\"\\uD83C\\uDF50\",\":pineapple:\":\"\\uD83C\\uDF4D\",\":sweet_potato:\":\"\\uD83C\\uDF60\",\":eggplant:\":\"\\uD83C\\uDF46\",\":tomato:\":\"\\uD83C\\uDF45\",\":corn:\":\"\\uD83C\\uDF3D\",\":house:\":\"\\uD83C\\uDFE0\",\":house_with_garden:\":\"\\uD83C\\uDFE1\",\":school:\":\"\\uD83C\\uDFEB\",\":office:\":\"\\uD83C\\uDFE2\",\":post_office:\":\"\\uD83C\\uDFE3\",\":hospital:\":\"\\uD83C\\uDFE5\",\":bank:\":\"\\uD83C\\uDFE6\",\":convenience_store:\":\"\\uD83C\\uDFEA\",\":love_hotel:\":\"\\uD83C\\uDFE9\",\":hotel:\":\"\\uD83C\\uDFE8\",\":wedding:\":\"\\uD83D\\uDC92\",\":church:\":\"\\u26EA\",\":department_store:\":\"\\uD83C\\uDFEC\",\":european_post_office:\":\"\\uD83C\\uDFE4\",\":city_sunrise:\":\"\\uD83C\\uDF07\",\":city_sunset:\":\"\\uD83C\\uDF06\",\":japanese_castle:\":\"\\uD83C\\uDFEF\",\":european_castle:\":\"\\uD83C\\uDFF0\",\":tent:\":\"\\u26FA\",\":factory:\":\"\\uD83C\\uDFED\",\":tokyo_tower:\":\"\\uD83D\\uDDFC\",\":japan:\":\"\\uD83D\\uDDFE\",\":mount_fuji:\":\"\\uD83D\\uDDFB\",\":sunrise_over_mountains:\":\"\\uD83C\\uDF04\",\":sunrise:\":\"\\uD83C\\uDF05\",\":stars:\":\"\\uD83C\\uDF20\",\":statue_of_liberty:\":\"\\uD83D\\uDDFD\",\":bridge_at_night:\":\"\\uD83C\\uDF09\",\":carousel_horse:\":\"\\uD83C\\uDFA0\",\":rainbow:\":\"\\uD83C\\uDF08\",\":ferris_wheel:\":\"\\uD83C\\uDFA1\",\":fountain:\":\"\\u26F2\",\":roller_coaster:\":\"\\uD83C\\uDFA2\",\":ship:\":\"\\uD83D\\uDEA2\",\":speedboat:\":\"\\uD83D\\uDEA4\",\":boat:\":\"\\u26F5\",\":sailboat:\":\"\\u26F5\",\":rowboat:\":\"\\uD83D\\uDEA3\",\":anchor:\":\"\\u2693\",\":rocket:\":\"\\uD83D\\uDE80\",\":airplane:\":\"\\u2708\\uFE0F\",\":helicopter:\":\"\\uD83D\\uDE81\",\":steam_locomotive:\":\"\\uD83D\\uDE82\",\":tram:\":\"\\uD83D\\uDE8A\",\":mountain_railway:\":\"\\uD83D\\uDE9E\",\":bike:\":\"\\uD83D\\uDEB2\",\":aerial_tramway:\":\"\\uD83D\\uDEA1\",\":suspension_railway:\":\"\\uD83D\\uDE9F\",\":mountain_cableway:\":\"\\uD83D\\uDEA0\",\":tractor:\":\"\\uD83D\\uDE9C\",\":blue_car:\":\"\\uD83D\\uDE99\",\":oncoming_automobile:\":\"\\uD83D\\uDE98\",\":car:\":\"\\uD83D\\uDE97\",\":red_car:\":\"\\uD83D\\uDE97\",\":taxi:\":\"\\uD83D\\uDE95\",\":oncoming_taxi:\":\"\\uD83D\\uDE96\",\":articulated_lorry:\":\"\\uD83D\\uDE9B\",\":bus:\":\"\\uD83D\\uDE8C\",\":oncoming_bus:\":\"\\uD83D\\uDE8D\",\":rotating_light:\":\"\\uD83D\\uDEA8\",\":police_car:\":\"\\uD83D\\uDE93\",\":oncoming_police_car:\":\"\\uD83D\\uDE94\",\":fire_engine:\":\"\\uD83D\\uDE92\",\":ambulance:\":\"\\uD83D\\uDE91\",\":minibus:\":\"\\uD83D\\uDE90\",\":truck:\":\"\\uD83D\\uDE9A\",\":train:\":\"\\uD83D\\uDE8B\",\":station:\":\"\\uD83D\\uDE89\",\":train2:\":\"\\uD83D\\uDE86\",\":bullettrain_front:\":\"\\uD83D\\uDE85\",\":bullettrain_side:\":\"\\uD83D\\uDE84\",\":light_rail:\":\"\\uD83D\\uDE88\",\":monorail:\":\"\\uD83D\\uDE9D\",\":railway_car:\":\"\\uD83D\\uDE83\",\":trolleybus:\":\"\\uD83D\\uDE8E\",\":ticket:\":\"\\uD83C\\uDFAB\",\":fuelpump:\":\"\\u26FD\",\":vertical_traffic_light:\":\"\\uD83D\\uDEA6\",\":traffic_light:\":\"\\uD83D\\uDEA5\",\":warning:\":\"\\u26A0\\uFE0F\",\":construction:\":\"\\uD83D\\uDEA7\",\":beginner:\":\"\\uD83D\\uDD30\",\":atm:\":\"\\uD83C\\uDFE7\",\":slot_machine:\":\"\\uD83C\\uDFB0\",\":busstop:\":\"\\uD83D\\uDE8F\",\":barber:\":\"\\uD83D\\uDC88\",\":hotsprings:\":\"\\u2668\\uFE0F\",\":checkered_flag:\":\"\\uD83C\\uDFC1\",\":crossed_flags:\":\"\\uD83C\\uDF8C\",\":izakaya_lantern:\":\"\\uD83C\\uDFEE\",\":moyai:\":\"\\uD83D\\uDDFF\",\":circus_tent:\":\"\\uD83C\\uDFAA\",\":performing_arts:\":\"\\uD83C\\uDFAD\",\":round_pushpin:\":\"\\uD83D\\uDCCD\",\":triangular_flag_on_post:\":\"\\uD83D\\uDEA9\",\":jp:\":\"\\uD83C\\uDDEF\\uD83C\\uDDF5\",\":kr:\":\"\\uD83C\\uDDF0\\uD83C\\uDDF7\",\":cn:\":\"\\uD83C\\uDDE8\\uD83C\\uDDF3\",\":us:\":\"\\uD83C\\uDDFA\\uD83C\\uDDF8\",\":fr:\":\"\\uD83C\\uDDEB\\uD83C\\uDDF7\",\":es:\":\"\\uD83C\\uDDEA\\uD83C\\uDDF8\",\":it:\":\"\\uD83C\\uDDEE\\uD83C\\uDDF9\",\":ru:\":\"\\uD83C\\uDDF7\\uD83C\\uDDFA\",\":gb:\":\"\\uD83C\\uDDEC\\uD83C\\uDDE7\",\":uk:\":\"\\uD83C\\uDDEC\\uD83C\\uDDE7\",\":de:\":\"\\uD83C\\uDDE9\\uD83C\\uDDEA\",\":one:\":\"1\\uFE0F\\u20E3\",\":two:\":\"2\\uFE0F\\u20E3\",\":three:\":\"3\\uFE0F\\u20E3\",\":four:\":\"4\\uFE0F\\u20E3\",\":five:\":\"5\\uFE0F\\u20E3\",\":six:\":\"6\\uFE0F\\u20E3\",\":seven:\":\"7\\uFE0F\\u20E3\",\":eight:\":\"8\\uFE0F\\u20E3\",\":nine:\":\"9\\uFE0F\\u20E3\",\":keycap_ten:\":\"\\uD83D\\uDD1F\",\":1234:\":\"\\uD83D\\uDD22\",\":zero:\":\"0\\uFE0F\\u20E3\",\":hash:\":\"#\\uFE0F\\u20E3\",\":symbols:\":\"\\uD83D\\uDD23\",\":arrow_backward:\":\"\\u25C0\\uFE0F\",\":arrow_down:\":\"\\u2B07\\uFE0F\",\":arrow_forward:\":\"\\u25B6\\uFE0F\",\":arrow_left:\":\"\\u2B05\\uFE0F\",\":capital_abcd:\":\"\\uD83D\\uDD20\",\":abcd:\":\"\\uD83D\\uDD21\",\":abc:\":\"\\uD83D\\uDD24\",\":arrow_lower_left:\":\"\\u2199\\uFE0F\",\":arrow_lower_right:\":\"\\u2198\\uFE0F\",\":arrow_right:\":\"\\u27A1\\uFE0F\",\":arrow_up:\":\"\\u2B06\\uFE0F\",\":arrow_upper_left:\":\"\\u2196\\uFE0F\",\":arrow_upper_right:\":\"\\u2197\\uFE0F\",\":arrow_double_down:\":\"\\u23EC\",\":arrow_double_up:\":\"\\u23EB\",\":arrow_down_small:\":\"\\uD83D\\uDD3D\",\":arrow_heading_down:\":\"\\u2935\\uFE0F\",\":arrow_heading_up:\":\"\\u2934\\uFE0F\",\":leftwards_arrow_with_hook:\":\"\\u21A9\\uFE0F\",\":arrow_right_hook:\":\"\\u21AA\\uFE0F\",\":left_right_arrow:\":\"\\u2194\\uFE0F\",\":arrow_up_down:\":\"\\u2195\\uFE0F\",\":arrow_up_small:\":\"\\uD83D\\uDD3C\",\":arrows_clockwise:\":\"\\uD83D\\uDD03\",\":arrows_counterclockwise:\":\"\\uD83D\\uDD04\",\":rewind:\":\"\\u23EA\",\":fast_forward:\":\"\\u23E9\",\":information_source:\":\"\\u2139\\uFE0F\",\":ok:\":\"\\uD83C\\uDD97\",\":twisted_rightwards_arrows:\":\"\\uD83D\\uDD00\",\":repeat:\":\"\\uD83D\\uDD01\",\":repeat_one:\":\"\\uD83D\\uDD02\",\":new:\":\"\\uD83C\\uDD95\",\":top:\":\"\\uD83D\\uDD1D\",\":up:\":\"\\uD83C\\uDD99\",\":cool:\":\"\\uD83C\\uDD92\",\":free:\":\"\\uD83C\\uDD93\",\":ng:\":\"\\uD83C\\uDD96\",\":cinema:\":\"\\uD83C\\uDFA6\",\":koko:\":\"\\uD83C\\uDE01\",\":signal_strength:\":\"\\uD83D\\uDCF6\",\":u5272:\":\"\\uD83C\\uDE39\",\":u5408:\":\"\\uD83C\\uDE34\",\":u55b6:\":\"\\uD83C\\uDE3A\",\":u6307:\":\"\\uD83C\\uDE2F\",\":u6708:\":\"\\uD83C\\uDE37\\uFE0F\",\":u6709:\":\"\\uD83C\\uDE36\",\":u6e80:\":\"\\uD83C\\uDE35\",\":u7121:\":\"\\uD83C\\uDE1A\",\":u7533:\":\"\\uD83C\\uDE38\",\":u7a7a:\":\"\\uD83C\\uDE33\",\":u7981:\":\"\\uD83C\\uDE32\",\":sa:\":\"\\uD83C\\uDE02\\uFE0F\",\":restroom:\":\"\\uD83D\\uDEBB\",\":mens:\":\"\\uD83D\\uDEB9\",\":womens:\":\"\\uD83D\\uDEBA\",\":baby_symbol:\":\"\\uD83D\\uDEBC\",\":no_smoking:\":\"\\uD83D\\uDEAD\",\":parking:\":\"\\uD83C\\uDD7F\\uFE0F\",\":wheelchair:\":\"\\u267F\",\":metro:\":\"\\uD83D\\uDE87\",\":baggage_claim:\":\"\\uD83D\\uDEC4\",\":accept:\":\"\\uD83C\\uDE51\",\":wc:\":\"\\uD83D\\uDEBE\",\":potable_water:\":\"\\uD83D\\uDEB0\",\":put_litter_in_its_place:\":\"\\uD83D\\uDEAE\",\":secret:\":\"\\u3299\\uFE0F\",\":congratulations:\":\"\\u3297\\uFE0F\",\":m:\":\"\\u24C2\\uFE0F\",\":passport_control:\":\"\\uD83D\\uDEC2\",\":left_luggage:\":\"\\uD83D\\uDEC5\",\":customs:\":\"\\uD83D\\uDEC3\",\":ideograph_advantage:\":\"\\uD83C\\uDE50\",\":cl:\":\"\\uD83C\\uDD91\",\":sos:\":\"\\uD83C\\uDD98\",\":id:\":\"\\uD83C\\uDD94\",\":no_entry_sign:\":\"\\uD83D\\uDEAB\",\":underage:\":\"\\uD83D\\uDD1E\",\":no_mobile_phones:\":\"\\uD83D\\uDCF5\",\":do_not_litter:\":\"\\uD83D\\uDEAF\",\":non-potable_water:\":\"\\uD83D\\uDEB1\",\":no_bicycles:\":\"\\uD83D\\uDEB3\",\":no_pedestrians:\":\"\\uD83D\\uDEB7\",\":children_crossing:\":\"\\uD83D\\uDEB8\",\":no_entry:\":\"\\u26D4\",\":eight_spoked_asterisk:\":\"\\u2733\\uFE0F\",\":sparkle:\":\"\\u2747\\uFE0F\",\":eight_pointed_black_star:\":\"\\u2734\\uFE0F\",\":heart_decoration:\":\"\\uD83D\\uDC9F\",\":vs:\":\"\\uD83C\\uDD9A\",\":vibration_mode:\":\"\\uD83D\\uDCF3\",\":mobile_phone_off:\":\"\\uD83D\\uDCF4\",\":chart:\":\"\\uD83D\\uDCB9\",\":currency_exchange:\":\"\\uD83D\\uDCB1\",\":aries:\":\"\\u2648\",\":taurus:\":\"\\u2649\",\":gemini:\":\"\\u264A\",\":cancer:\":\"\\u264B\",\":leo:\":\"\\u264C\",\":virgo:\":\"\\u264D\",\":libra:\":\"\\u264E\",\":scorpius:\":\"\\u264F\",\":sagittarius:\":\"\\u2650\",\":capricorn:\":\"\\u2651\",\":aquarius:\":\"\\u2652\",\":pisces:\":\"\\u2653\",\":ophiuchus:\":\"\\u26CE\",\":six_pointed_star:\":\"\\uD83D\\uDD2F\",\":negative_squared_cross_mark:\":\"\\u274E\",\":a:\":\"\\uD83C\\uDD70\\uFE0F\",\":b:\":\"\\uD83C\\uDD71\\uFE0F\",\":ab:\":\"\\uD83C\\uDD8E\",\":o2:\":\"\\uD83C\\uDD7E\\uFE0F\",\":diamond_shape_with_a_dot_inside:\":\"\\uD83D\\uDCA0\",\":recycle:\":\"\\u267B\\uFE0F\",\":end:\":\"\\uD83D\\uDD1A\",\":back:\":\"\\uD83D\\uDD19\",\":on:\":\"\\uD83D\\uDD1B\",\":soon:\":\"\\uD83D\\uDD1C\",\":clock1:\":\"\\uD83D\\uDD50\",\":clock130:\":\"\\uD83D\\uDD5C\",\":clock10:\":\"\\uD83D\\uDD59\",\":clock1030:\":\"\\uD83D\\uDD65\",\":clock11:\":\"\\uD83D\\uDD5A\",\":clock1130:\":\"\\uD83D\\uDD66\",\":clock12:\":\"\\uD83D\\uDD5B\",\":clock1230:\":\"\\uD83D\\uDD67\",\":clock2:\":\"\\uD83D\\uDD51\",\":clock230:\":\"\\uD83D\\uDD5D\",\":clock3:\":\"\\uD83D\\uDD52\",\":clock330:\":\"\\uD83D\\uDD5E\",\":clock4:\":\"\\uD83D\\uDD53\",\":clock430:\":\"\\uD83D\\uDD5F\",\":clock5:\":\"\\uD83D\\uDD54\",\":clock530:\":\"\\uD83D\\uDD60\",\":clock6:\":\"\\uD83D\\uDD55\",\":clock630:\":\"\\uD83D\\uDD61\",\":clock7:\":\"\\uD83D\\uDD56\",\":clock730:\":\"\\uD83D\\uDD62\",\":clock8:\":\"\\uD83D\\uDD57\",\":clock830:\":\"\\uD83D\\uDD63\",\":clock9:\":\"\\uD83D\\uDD58\",\":clock930:\":\"\\uD83D\\uDD64\",\":heavy_dollar_sign:\":\"\\uD83D\\uDCB2\",\":copyright:\":\"\\xA9\\uFE0F\",\":registered:\":\"\\xAE\\uFE0F\",\":tm:\":\"\\u2122\\uFE0F\",\":x:\":\"\\u274C\",\":heavy_exclamation_mark:\":\"\\u2757\",\":bangbang:\":\"\\u203C\\uFE0F\",\":interrobang:\":\"\\u2049\\uFE0F\",\":o:\":\"\\u2B55\",\":heavy_multiplication_x:\":\"\\u2716\\uFE0F\",\":heavy_plus_sign:\":\"\\u2795\",\":heavy_minus_sign:\":\"\\u2796\",\":heavy_division_sign:\":\"\\u2797\",\":white_flower:\":\"\\uD83D\\uDCAE\",\":100:\":\"\\uD83D\\uDCAF\",\":heavy_check_mark:\":\"\\u2714\\uFE0F\",\":ballot_box_with_check:\":\"\\u2611\\uFE0F\",\":radio_button:\":\"\\uD83D\\uDD18\",\":link:\":\"\\uD83D\\uDD17\",\":curly_loop:\":\"\\u27B0\",\":wavy_dash:\":\"\\u3030\\uFE0F\",\":part_alternation_mark:\":\"\\u303D\\uFE0F\"};exports.emojiMap=emojiMap;var checkText=function(a){var b=a&&a.split(\" \"),c=[];return b&&b.forEach(function(a){var b=a;a in emojiMap&&(b=emojiMap[a]),c.push(b)}),c.join(\" \")};exports.checkText=checkText;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.bodyRegExps={xml:/&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g};exports.namedReferences={xml:{entities:{\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&apos;\":\"'\",\"&amp;\":\"&\"},characters:{\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&apos;\",\"&\":\"&amp;\"}},html4:{entities:{\"&apos;\":\"'\",\"&nbsp\":\"\",\"&nbsp;\":\"\",\"&iexcl\":\"\",\"&iexcl;\":\"\",\"&cent\":\"\",\"&cent;\":\"\",\"&pound\":\"\",\"&pound;\":\"\",\"&curren\":\"\",\"&curren;\":\"\",\"&yen\":\"\",\"&yen;\":\"\",\"&brvbar\":\"\",\"&brvbar;\":\"\",\"&sect\":\"\",\"&sect;\":\"\",\"&uml\":\"\",\"&uml;\":\"\",\"&copy\":\"\",\"&copy;\":\"\",\"&ordf\":\"\",\"&ordf;\":\"\",\"&laquo\":\"\",\"&laquo;\":\"\",\"&not\":\"\",\"&not;\":\"\",\"&shy\":\"\",\"&shy;\":\"\",\"&reg\":\"\",\"&reg;\":\"\",\"&macr\":\"\",\"&macr;\":\"\",\"&deg\":\"\",\"&deg;\":\"\",\"&plusmn\":\"\",\"&plusmn;\":\"\",\"&sup2\":\"\",\"&sup2;\":\"\",\"&sup3\":\"\",\"&sup3;\":\"\",\"&acute\":\"\",\"&acute;\":\"\",\"&micro\":\"\",\"&micro;\":\"\",\"&para\":\"\",\"&para;\":\"\",\"&middot\":\"\",\"&middot;\":\"\",\"&cedil\":\"\",\"&cedil;\":\"\",\"&sup1\":\"\",\"&sup1;\":\"\",\"&ordm\":\"\",\"&ordm;\":\"\",\"&raquo\":\"\",\"&raquo;\":\"\",\"&frac14\":\"\",\"&frac14;\":\"\",\"&frac12\":\"\",\"&frac12;\":\"\",\"&frac34\":\"\",\"&frac34;\":\"\",\"&iquest\":\"\",\"&iquest;\":\"\",\"&Agrave\":\"\",\"&Agrave;\":\"\",\"&Aacute\":\"\",\"&Aacute;\":\"\",\"&Acirc\":\"\",\"&Acirc;\":\"\",\"&Atilde\":\"\",\"&Atilde;\":\"\",\"&Auml\":\"\",\"&Auml;\":\"\",\"&Aring\":\"\",\"&Aring;\":\"\",\"&AElig\":\"\",\"&AElig;\":\"\",\"&Ccedil\":\"\",\"&Ccedil;\":\"\",\"&Egrave\":\"\",\"&Egrave;\":\"\",\"&Eacute\":\"\",\"&Eacute;\":\"\",\"&Ecirc\":\"\",\"&Ecirc;\":\"\",\"&Euml\":\"\",\"&Euml;\":\"\",\"&Igrave\":\"\",\"&Igrave;\":\"\",\"&Iacute\":\"\",\"&Iacute;\":\"\",\"&Icirc\":\"\",\"&Icirc;\":\"\",\"&Iuml\":\"\",\"&Iuml;\":\"\",\"&ETH\":\"\",\"&ETH;\":\"\",\"&Ntilde\":\"\",\"&Ntilde;\":\"\",\"&Ograve\":\"\",\"&Ograve;\":\"\",\"&Oacute\":\"\",\"&Oacute;\":\"\",\"&Ocirc\":\"\",\"&Ocirc;\":\"\",\"&Otilde\":\"\",\"&Otilde;\":\"\",\"&Ouml\":\"\",\"&Ouml;\":\"\",\"&times\":\"\",\"&times;\":\"\",\"&Oslash\":\"\",\"&Oslash;\":\"\",\"&Ugrave\":\"\",\"&Ugrave;\":\"\",\"&Uacute\":\"\",\"&Uacute;\":\"\",\"&Ucirc\":\"\",\"&Ucirc;\":\"\",\"&Uuml\":\"\",\"&Uuml;\":\"\",\"&Yacute\":\"\",\"&Yacute;\":\"\",\"&THORN\":\"\",\"&THORN;\":\"\",\"&szlig\":\"\",\"&szlig;\":\"\",\"&agrave\":\"\",\"&agrave;\":\"\",\"&aacute\":\"\",\"&aacute;\":\"\",\"&acirc\":\"\",\"&acirc;\":\"\",\"&atilde\":\"\",\"&atilde;\":\"\",\"&auml\":\"\",\"&auml;\":\"\",\"&aring\":\"\",\"&aring;\":\"\",\"&aelig\":\"\",\"&aelig;\":\"\",\"&ccedil\":\"\",\"&ccedil;\":\"\",\"&egrave\":\"\",\"&egrave;\":\"\",\"&eacute\":\"\",\"&eacute;\":\"\",\"&ecirc\":\"\",\"&ecirc;\":\"\",\"&euml\":\"\",\"&euml;\":\"\",\"&igrave\":\"\",\"&igrave;\":\"\",\"&iacute\":\"\",\"&iacute;\":\"\",\"&icirc\":\"\",\"&icirc;\":\"\",\"&iuml\":\"\",\"&iuml;\":\"\",\"&eth\":\"\",\"&eth;\":\"\",\"&ntilde\":\"\",\"&ntilde;\":\"\",\"&ograve\":\"\",\"&ograve;\":\"\",\"&oacute\":\"\",\"&oacute;\":\"\",\"&ocirc\":\"\",\"&ocirc;\":\"\",\"&otilde\":\"\",\"&otilde;\":\"\",\"&ouml\":\"\",\"&ouml;\":\"\",\"&divide\":\"\",\"&divide;\":\"\",\"&oslash\":\"\",\"&oslash;\":\"\",\"&ugrave\":\"\",\"&ugrave;\":\"\",\"&uacute\":\"\",\"&uacute;\":\"\",\"&ucirc\":\"\",\"&ucirc;\":\"\",\"&uuml\":\"\",\"&uuml;\":\"\",\"&yacute\":\"\",\"&yacute;\":\"\",\"&thorn\":\"\",\"&thorn;\":\"\",\"&yuml\":\"\",\"&yuml;\":\"\",\"&quot\":'\"',\"&quot;\":'\"',\"&amp\":\"&\",\"&amp;\":\"&\",\"&lt\":\"<\",\"&lt;\":\"<\",\"&gt\":\">\",\"&gt;\":\">\",\"&OElig;\":\"\",\"&oelig;\":\"\",\"&Scaron;\":\"\",\"&scaron;\":\"\",\"&Yuml;\":\"\",\"&circ;\":\"\",\"&tilde;\":\"\",\"&ensp;\":\"\",\"&emsp;\":\"\",\"&thinsp;\":\"\",\"&zwnj;\":\"\",\"&zwj;\":\"\",\"&lrm;\":\"\",\"&rlm;\":\"\",\"&ndash;\":\"\",\"&mdash;\":\"\",\"&lsquo;\":\"\",\"&rsquo;\":\"\",\"&sbquo;\":\"\",\"&ldquo;\":\"\",\"&rdquo;\":\"\",\"&bdquo;\":\"\",\"&dagger;\":\"\",\"&Dagger;\":\"\",\"&permil;\":\"\",\"&lsaquo;\":\"\",\"&rsaquo;\":\"\",\"&euro;\":\"\",\"&fnof;\":\"\",\"&Alpha;\":\"\",\"&Beta;\":\"\",\"&Gamma;\":\"\",\"&Delta;\":\"\",\"&Epsilon;\":\"\",\"&Zeta;\":\"\",\"&Eta;\":\"\",\"&Theta;\":\"\",\"&Iota;\":\"\",\"&Kappa;\":\"\",\"&Lambda;\":\"\",\"&Mu;\":\"\",\"&Nu;\":\"\",\"&Xi;\":\"\",\"&Omicron;\":\"\",\"&Pi;\":\"\",\"&Rho;\":\"\",\"&Sigma;\":\"\",\"&Tau;\":\"\",\"&Upsilon;\":\"\",\"&Phi;\":\"\",\"&Chi;\":\"\",\"&Psi;\":\"\",\"&Omega;\":\"\",\"&alpha;\":\"\",\"&beta;\":\"\",\"&gamma;\":\"\",\"&delta;\":\"\",\"&epsilon;\":\"\",\"&zeta;\":\"\",\"&eta;\":\"\",\"&theta;\":\"\",\"&iota;\":\"\",\"&kappa;\":\"\",\"&lambda;\":\"\",\"&mu;\":\"\",\"&nu;\":\"\",\"&xi;\":\"\",\"&omicron;\":\"\",\"&pi;\":\"\",\"&rho;\":\"\",\"&sigmaf;\":\"\",\"&sigma;\":\"\",\"&tau;\":\"\",\"&upsilon;\":\"\",\"&phi;\":\"\",\"&chi;\":\"\",\"&psi;\":\"\",\"&omega;\":\"\",\"&thetasym;\":\"\",\"&upsih;\":\"\",\"&piv;\":\"\",\"&bull;\":\"\",\"&hellip;\":\"\",\"&prime;\":\"\",\"&Prime;\":\"\",\"&oline;\":\"\",\"&frasl;\":\"\",\"&weierp;\":\"\",\"&image;\":\"\",\"&real;\":\"\",\"&trade;\":\"\",\"&alefsym;\":\"\",\"&larr;\":\"\",\"&uarr;\":\"\",\"&rarr;\":\"\",\"&darr;\":\"\",\"&harr;\":\"\",\"&crarr;\":\"\",\"&lArr;\":\"\",\"&uArr;\":\"\",\"&rArr;\":\"\",\"&dArr;\":\"\",\"&hArr;\":\"\",\"&forall;\":\"\",\"&part;\":\"\",\"&exist;\":\"\",\"&empty;\":\"\",\"&nabla;\":\"\",\"&isin;\":\"\",\"&notin;\":\"\",\"&ni;\":\"\",\"&prod;\":\"\",\"&sum;\":\"\",\"&minus;\":\"\",\"&lowast;\":\"\",\"&radic;\":\"\",\"&prop;\":\"\",\"&infin;\":\"\",\"&ang;\":\"\",\"&and;\":\"\",\"&or;\":\"\",\"&cap;\":\"\",\"&cup;\":\"\",\"&int;\":\"\",\"&there4;\":\"\",\"&sim;\":\"\",\"&cong;\":\"\",\"&asymp;\":\"\",\"&ne;\":\"\",\"&equiv;\":\"\",\"&le;\":\"\",\"&ge;\":\"\",\"&sub;\":\"\",\"&sup;\":\"\",\"&nsub;\":\"\",\"&sube;\":\"\",\"&supe;\":\"\",\"&oplus;\":\"\",\"&otimes;\":\"\",\"&perp;\":\"\",\"&sdot;\":\"\",\"&lceil;\":\"\",\"&rceil;\":\"\",\"&lfloor;\":\"\",\"&rfloor;\":\"\",\"&lang;\":\"\",\"&rang;\":\"\",\"&loz;\":\"\",\"&spades;\":\"\",\"&clubs;\":\"\",\"&hearts;\":\"\",\"&diams;\":\"\"},characters:{\"'\":\"&apos;\",\"\":\"&nbsp;\",\"\":\"&iexcl;\",\"\":\"&cent;\",\"\":\"&pound;\",\"\":\"&curren;\",\"\":\"&yen;\",\"\":\"&brvbar;\",\"\":\"&sect;\",\"\":\"&uml;\",\"\":\"&copy;\",\"\":\"&ordf;\",\"\":\"&laquo;\",\"\":\"&not;\",\"\":\"&shy;\",\"\":\"&reg;\",\"\":\"&macr;\",\"\":\"&deg;\",\"\":\"&plusmn;\",\"\":\"&sup2;\",\"\":\"&sup3;\",\"\":\"&acute;\",\"\":\"&micro;\",\"\":\"&para;\",\"\":\"&middot;\",\"\":\"&cedil;\",\"\":\"&sup1;\",\"\":\"&ordm;\",\"\":\"&raquo;\",\"\":\"&frac14;\",\"\":\"&frac12;\",\"\":\"&frac34;\",\"\":\"&iquest;\",\"\":\"&Agrave;\",\"\":\"&Aacute;\",\"\":\"&Acirc;\",\"\":\"&Atilde;\",\"\":\"&Auml;\",\"\":\"&Aring;\",\"\":\"&AElig;\",\"\":\"&Ccedil;\",\"\":\"&Egrave;\",\"\":\"&Eacute;\",\"\":\"&Ecirc;\",\"\":\"&Euml;\",\"\":\"&Igrave;\",\"\":\"&Iacute;\",\"\":\"&Icirc;\",\"\":\"&Iuml;\",\"\":\"&ETH;\",\"\":\"&Ntilde;\",\"\":\"&Ograve;\",\"\":\"&Oacute;\",\"\":\"&Ocirc;\",\"\":\"&Otilde;\",\"\":\"&Ouml;\",\"\":\"&times;\",\"\":\"&Oslash;\",\"\":\"&Ugrave;\",\"\":\"&Uacute;\",\"\":\"&Ucirc;\",\"\":\"&Uuml;\",\"\":\"&Yacute;\",\"\":\"&THORN;\",\"\":\"&szlig;\",\"\":\"&agrave;\",\"\":\"&aacute;\",\"\":\"&acirc;\",\"\":\"&atilde;\",\"\":\"&auml;\",\"\":\"&aring;\",\"\":\"&aelig;\",\"\":\"&ccedil;\",\"\":\"&egrave;\",\"\":\"&eacute;\",\"\":\"&ecirc;\",\"\":\"&euml;\",\"\":\"&igrave;\",\"\":\"&iacute;\",\"\":\"&icirc;\",\"\":\"&iuml;\",\"\":\"&eth;\",\"\":\"&ntilde;\",\"\":\"&ograve;\",\"\":\"&oacute;\",\"\":\"&ocirc;\",\"\":\"&otilde;\",\"\":\"&ouml;\",\"\":\"&divide;\",\"\":\"&oslash;\",\"\":\"&ugrave;\",\"\":\"&uacute;\",\"\":\"&ucirc;\",\"\":\"&uuml;\",\"\":\"&yacute;\",\"\":\"&thorn;\",\"\":\"&yuml;\",'\"':\"&quot;\",\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"\":\"&OElig;\",\"\":\"&oelig;\",\"\":\"&Scaron;\",\"\":\"&scaron;\",\"\":\"&Yuml;\",\"\":\"&circ;\",\"\":\"&tilde;\",\"\":\"&ensp;\",\"\":\"&emsp;\",\"\":\"&thinsp;\",\"\":\"&zwnj;\",\"\":\"&zwj;\",\"\":\"&lrm;\",\"\":\"&rlm;\",\"\":\"&ndash;\",\"\":\"&mdash;\",\"\":\"&lsquo;\",\"\":\"&rsquo;\",\"\":\"&sbquo;\",\"\":\"&ldquo;\",\"\":\"&rdquo;\",\"\":\"&bdquo;\",\"\":\"&dagger;\",\"\":\"&Dagger;\",\"\":\"&permil;\",\"\":\"&lsaquo;\",\"\":\"&rsaquo;\",\"\":\"&euro;\",\"\":\"&fnof;\",\"\":\"&Alpha;\",\"\":\"&Beta;\",\"\":\"&Gamma;\",\"\":\"&Delta;\",\"\":\"&Epsilon;\",\"\":\"&Zeta;\",\"\":\"&Eta;\",\"\":\"&Theta;\",\"\":\"&Iota;\",\"\":\"&Kappa;\",\"\":\"&Lambda;\",\"\":\"&Mu;\",\"\":\"&Nu;\",\"\":\"&Xi;\",\"\":\"&Omicron;\",\"\":\"&Pi;\",\"\":\"&Rho;\",\"\":\"&Sigma;\",\"\":\"&Tau;\",\"\":\"&Upsilon;\",\"\":\"&Phi;\",\"\":\"&Chi;\",\"\":\"&Psi;\",\"\":\"&Omega;\",\"\":\"&alpha;\",\"\":\"&beta;\",\"\":\"&gamma;\",\"\":\"&delta;\",\"\":\"&epsilon;\",\"\":\"&zeta;\",\"\":\"&eta;\",\"\":\"&theta;\",\"\":\"&iota;\",\"\":\"&kappa;\",\"\":\"&lambda;\",\"\":\"&mu;\",\"\":\"&nu;\",\"\":\"&xi;\",\"\":\"&omicron;\",\"\":\"&pi;\",\"\":\"&rho;\",\"\":\"&sigmaf;\",\"\":\"&sigma;\",\"\":\"&tau;\",\"\":\"&upsilon;\",\"\":\"&phi;\",\"\":\"&chi;\",\"\":\"&psi;\",\"\":\"&omega;\",\"\":\"&thetasym;\",\"\":\"&upsih;\",\"\":\"&piv;\",\"\":\"&bull;\",\"\":\"&hellip;\",\"\":\"&prime;\",\"\":\"&Prime;\",\"\":\"&oline;\",\"\":\"&frasl;\",\"\":\"&weierp;\",\"\":\"&image;\",\"\":\"&real;\",\"\":\"&trade;\",\"\":\"&alefsym;\",\"\":\"&larr;\",\"\":\"&uarr;\",\"\":\"&rarr;\",\"\":\"&darr;\",\"\":\"&harr;\",\"\":\"&crarr;\",\"\":\"&lArr;\",\"\":\"&uArr;\",\"\":\"&rArr;\",\"\":\"&dArr;\",\"\":\"&hArr;\",\"\":\"&forall;\",\"\":\"&part;\",\"\":\"&exist;\",\"\":\"&empty;\",\"\":\"&nabla;\",\"\":\"&isin;\",\"\":\"&notin;\",\"\":\"&ni;\",\"\":\"&prod;\",\"\":\"&sum;\",\"\":\"&minus;\",\"\":\"&lowast;\",\"\":\"&radic;\",\"\":\"&prop;\",\"\":\"&infin;\",\"\":\"&ang;\",\"\":\"&and;\",\"\":\"&or;\",\"\":\"&cap;\",\"\":\"&cup;\",\"\":\"&int;\",\"\":\"&there4;\",\"\":\"&sim;\",\"\":\"&cong;\",\"\":\"&asymp;\",\"\":\"&ne;\",\"\":\"&equiv;\",\"\":\"&le;\",\"\":\"&ge;\",\"\":\"&sub;\",\"\":\"&sup;\",\"\":\"&nsub;\",\"\":\"&sube;\",\"\":\"&supe;\",\"\":\"&oplus;\",\"\":\"&otimes;\",\"\":\"&perp;\",\"\":\"&sdot;\",\"\":\"&lceil;\",\"\":\"&rceil;\",\"\":\"&lfloor;\",\"\":\"&rfloor;\",\"\":\"&lang;\",\"\":\"&rang;\",\"\":\"&loz;\",\"\":\"&spades;\",\"\":\"&clubs;\",\"\":\"&hearts;\",\"\":\"&diams;\"}},html5:{entities:{\"&AElig\":\"\",\"&AElig;\":\"\",\"&AMP\":\"&\",\"&AMP;\":\"&\",\"&Aacute\":\"\",\"&Aacute;\":\"\",\"&Abreve;\":\"\",\"&Acirc\":\"\",\"&Acirc;\":\"\",\"&Acy;\":\"\",\"&Afr;\":\"\",\"&Agrave\":\"\",\"&Agrave;\":\"\",\"&Alpha;\":\"\",\"&Amacr;\":\"\",\"&And;\":\"\",\"&Aogon;\":\"\",\"&Aopf;\":\"\",\"&ApplyFunction;\":\"\",\"&Aring\":\"\",\"&Aring;\":\"\",\"&Ascr;\":\"\",\"&Assign;\":\"\",\"&Atilde\":\"\",\"&Atilde;\":\"\",\"&Auml\":\"\",\"&Auml;\":\"\",\"&Backslash;\":\"\",\"&Barv;\":\"\",\"&Barwed;\":\"\",\"&Bcy;\":\"\",\"&Because;\":\"\",\"&Bernoullis;\":\"\",\"&Beta;\":\"\",\"&Bfr;\":\"\",\"&Bopf;\":\"\",\"&Breve;\":\"\",\"&Bscr;\":\"\",\"&Bumpeq;\":\"\",\"&CHcy;\":\"\",\"&COPY\":\"\",\"&COPY;\":\"\",\"&Cacute;\":\"\",\"&Cap;\":\"\",\"&CapitalDifferentialD;\":\"\",\"&Cayleys;\":\"\",\"&Ccaron;\":\"\",\"&Ccedil\":\"\",\"&Ccedil;\":\"\",\"&Ccirc;\":\"\",\"&Cconint;\":\"\",\"&Cdot;\":\"\",\"&Cedilla;\":\"\",\"&CenterDot;\":\"\",\"&Cfr;\":\"\",\"&Chi;\":\"\",\"&CircleDot;\":\"\",\"&CircleMinus;\":\"\",\"&CirclePlus;\":\"\",\"&CircleTimes;\":\"\",\"&ClockwiseContourIntegral;\":\"\",\"&CloseCurlyDoubleQuote;\":\"\",\"&CloseCurlyQuote;\":\"\",\"&Colon;\":\"\",\"&Colone;\":\"\",\"&Congruent;\":\"\",\"&Conint;\":\"\",\"&ContourIntegral;\":\"\",\"&Copf;\":\"\",\"&Coproduct;\":\"\",\"&CounterClockwiseContourIntegral;\":\"\",\"&Cross;\":\"\",\"&Cscr;\":\"\",\"&Cup;\":\"\",\"&CupCap;\":\"\",\"&DD;\":\"\",\"&DDotrahd;\":\"\",\"&DJcy;\":\"\",\"&DScy;\":\"\",\"&DZcy;\":\"\",\"&Dagger;\":\"\",\"&Darr;\":\"\",\"&Dashv;\":\"\",\"&Dcaron;\":\"\",\"&Dcy;\":\"\",\"&Del;\":\"\",\"&Delta;\":\"\",\"&Dfr;\":\"\",\"&DiacriticalAcute;\":\"\",\"&DiacriticalDot;\":\"\",\"&DiacriticalDoubleAcute;\":\"\",\"&DiacriticalGrave;\":\"`\",\"&DiacriticalTilde;\":\"\",\"&Diamond;\":\"\",\"&DifferentialD;\":\"\",\"&Dopf;\":\"\",\"&Dot;\":\"\",\"&DotDot;\":\"\",\"&DotEqual;\":\"\",\"&DoubleContourIntegral;\":\"\",\"&DoubleDot;\":\"\",\"&DoubleDownArrow;\":\"\",\"&DoubleLeftArrow;\":\"\",\"&DoubleLeftRightArrow;\":\"\",\"&DoubleLeftTee;\":\"\",\"&DoubleLongLeftArrow;\":\"\",\"&DoubleLongLeftRightArrow;\":\"\",\"&DoubleLongRightArrow;\":\"\",\"&DoubleRightArrow;\":\"\",\"&DoubleRightTee;\":\"\",\"&DoubleUpArrow;\":\"\",\"&DoubleUpDownArrow;\":\"\",\"&DoubleVerticalBar;\":\"\",\"&DownArrow;\":\"\",\"&DownArrowBar;\":\"\",\"&DownArrowUpArrow;\":\"\",\"&DownBreve;\":\"\",\"&DownLeftRightVector;\":\"\",\"&DownLeftTeeVector;\":\"\",\"&DownLeftVector;\":\"\",\"&DownLeftVectorBar;\":\"\",\"&DownRightTeeVector;\":\"\",\"&DownRightVector;\":\"\",\"&DownRightVectorBar;\":\"\",\"&DownTee;\":\"\",\"&DownTeeArrow;\":\"\",\"&Downarrow;\":\"\",\"&Dscr;\":\"\",\"&Dstrok;\":\"\",\"&ENG;\":\"\",\"&ETH\":\"\",\"&ETH;\":\"\",\"&Eacute\":\"\",\"&Eacute;\":\"\",\"&Ecaron;\":\"\",\"&Ecirc\":\"\",\"&Ecirc;\":\"\",\"&Ecy;\":\"\",\"&Edot;\":\"\",\"&Efr;\":\"\",\"&Egrave\":\"\",\"&Egrave;\":\"\",\"&Element;\":\"\",\"&Emacr;\":\"\",\"&EmptySmallSquare;\":\"\",\"&EmptyVerySmallSquare;\":\"\",\"&Eogon;\":\"\",\"&Eopf;\":\"\",\"&Epsilon;\":\"\",\"&Equal;\":\"\",\"&EqualTilde;\":\"\",\"&Equilibrium;\":\"\",\"&Escr;\":\"\",\"&Esim;\":\"\",\"&Eta;\":\"\",\"&Euml\":\"\",\"&Euml;\":\"\",\"&Exists;\":\"\",\"&ExponentialE;\":\"\",\"&Fcy;\":\"\",\"&Ffr;\":\"\",\"&FilledSmallSquare;\":\"\",\"&FilledVerySmallSquare;\":\"\",\"&Fopf;\":\"\",\"&ForAll;\":\"\",\"&Fouriertrf;\":\"\",\"&Fscr;\":\"\",\"&GJcy;\":\"\",\"&GT\":\">\",\"&GT;\":\">\",\"&Gamma;\":\"\",\"&Gammad;\":\"\",\"&Gbreve;\":\"\",\"&Gcedil;\":\"\",\"&Gcirc;\":\"\",\"&Gcy;\":\"\",\"&Gdot;\":\"\",\"&Gfr;\":\"\",\"&Gg;\":\"\",\"&Gopf;\":\"\",\"&GreaterEqual;\":\"\",\"&GreaterEqualLess;\":\"\",\"&GreaterFullEqual;\":\"\",\"&GreaterGreater;\":\"\",\"&GreaterLess;\":\"\",\"&GreaterSlantEqual;\":\"\",\"&GreaterTilde;\":\"\",\"&Gscr;\":\"\",\"&Gt;\":\"\",\"&HARDcy;\":\"\",\"&Hacek;\":\"\",\"&Hat;\":\"^\",\"&Hcirc;\":\"\",\"&Hfr;\":\"\",\"&HilbertSpace;\":\"\",\"&Hopf;\":\"\",\"&HorizontalLine;\":\"\",\"&Hscr;\":\"\",\"&Hstrok;\":\"\",\"&HumpDownHump;\":\"\",\"&HumpEqual;\":\"\",\"&IEcy;\":\"\",\"&IJlig;\":\"\",\"&IOcy;\":\"\",\"&Iacute\":\"\",\"&Iacute;\":\"\",\"&Icirc\":\"\",\"&Icirc;\":\"\",\"&Icy;\":\"\",\"&Idot;\":\"\",\"&Ifr;\":\"\",\"&Igrave\":\"\",\"&Igrave;\":\"\",\"&Im;\":\"\",\"&Imacr;\":\"\",\"&ImaginaryI;\":\"\",\"&Implies;\":\"\",\"&Int;\":\"\",\"&Integral;\":\"\",\"&Intersection;\":\"\",\"&InvisibleComma;\":\"\",\"&InvisibleTimes;\":\"\",\"&Iogon;\":\"\",\"&Iopf;\":\"\",\"&Iota;\":\"\",\"&Iscr;\":\"\",\"&Itilde;\":\"\",\"&Iukcy;\":\"\",\"&Iuml\":\"\",\"&Iuml;\":\"\",\"&Jcirc;\":\"\",\"&Jcy;\":\"\",\"&Jfr;\":\"\",\"&Jopf;\":\"\",\"&Jscr;\":\"\",\"&Jsercy;\":\"\",\"&Jukcy;\":\"\",\"&KHcy;\":\"\",\"&KJcy;\":\"\",\"&Kappa;\":\"\",\"&Kcedil;\":\"\",\"&Kcy;\":\"\",\"&Kfr;\":\"\",\"&Kopf;\":\"\",\"&Kscr;\":\"\",\"&LJcy;\":\"\",\"&LT\":\"<\",\"&LT;\":\"<\",\"&Lacute;\":\"\",\"&Lambda;\":\"\",\"&Lang;\":\"\",\"&Laplacetrf;\":\"\",\"&Larr;\":\"\",\"&Lcaron;\":\"\",\"&Lcedil;\":\"\",\"&Lcy;\":\"\",\"&LeftAngleBracket;\":\"\",\"&LeftArrow;\":\"\",\"&LeftArrowBar;\":\"\",\"&LeftArrowRightArrow;\":\"\",\"&LeftCeiling;\":\"\",\"&LeftDoubleBracket;\":\"\",\"&LeftDownTeeVector;\":\"\",\"&LeftDownVector;\":\"\",\"&LeftDownVectorBar;\":\"\",\"&LeftFloor;\":\"\",\"&LeftRightArrow;\":\"\",\"&LeftRightVector;\":\"\",\"&LeftTee;\":\"\",\"&LeftTeeArrow;\":\"\",\"&LeftTeeVector;\":\"\",\"&LeftTriangle;\":\"\",\"&LeftTriangleBar;\":\"\",\"&LeftTriangleEqual;\":\"\",\"&LeftUpDownVector;\":\"\",\"&LeftUpTeeVector;\":\"\",\"&LeftUpVector;\":\"\",\"&LeftUpVectorBar;\":\"\",\"&LeftVector;\":\"\",\"&LeftVectorBar;\":\"\",\"&Leftarrow;\":\"\",\"&Leftrightarrow;\":\"\",\"&LessEqualGreater;\":\"\",\"&LessFullEqual;\":\"\",\"&LessGreater;\":\"\",\"&LessLess;\":\"\",\"&LessSlantEqual;\":\"\",\"&LessTilde;\":\"\",\"&Lfr;\":\"\",\"&Ll;\":\"\",\"&Lleftarrow;\":\"\",\"&Lmidot;\":\"\",\"&LongLeftArrow;\":\"\",\"&LongLeftRightArrow;\":\"\",\"&LongRightArrow;\":\"\",\"&Longleftarrow;\":\"\",\"&Longleftrightarrow;\":\"\",\"&Longrightarrow;\":\"\",\"&Lopf;\":\"\",\"&LowerLeftArrow;\":\"\",\"&LowerRightArrow;\":\"\",\"&Lscr;\":\"\",\"&Lsh;\":\"\",\"&Lstrok;\":\"\",\"&Lt;\":\"\",\"&Map;\":\"\",\"&Mcy;\":\"\",\"&MediumSpace;\":\"\",\"&Mellintrf;\":\"\",\"&Mfr;\":\"\",\"&MinusPlus;\":\"\",\"&Mopf;\":\"\",\"&Mscr;\":\"\",\"&Mu;\":\"\",\"&NJcy;\":\"\",\"&Nacute;\":\"\",\"&Ncaron;\":\"\",\"&Ncedil;\":\"\",\"&Ncy;\":\"\",\"&NegativeMediumSpace;\":\"\",\"&NegativeThickSpace;\":\"\",\"&NegativeThinSpace;\":\"\",\"&NegativeVeryThinSpace;\":\"\",\"&NestedGreaterGreater;\":\"\",\"&NestedLessLess;\":\"\",\"&NewLine;\":\"\\n\",\"&Nfr;\":\"\",\"&NoBreak;\":\"\",\"&NonBreakingSpace;\":\"\",\"&Nopf;\":\"\",\"&Not;\":\"\",\"&NotCongruent;\":\"\",\"&NotCupCap;\":\"\",\"&NotDoubleVerticalBar;\":\"\",\"&NotElement;\":\"\",\"&NotEqual;\":\"\",\"&NotEqualTilde;\":\"\",\"&NotExists;\":\"\",\"&NotGreater;\":\"\",\"&NotGreaterEqual;\":\"\",\"&NotGreaterFullEqual;\":\"\",\"&NotGreaterGreater;\":\"\",\"&NotGreaterLess;\":\"\",\"&NotGreaterSlantEqual;\":\"\",\"&NotGreaterTilde;\":\"\",\"&NotHumpDownHump;\":\"\",\"&NotHumpEqual;\":\"\",\"&NotLeftTriangle;\":\"\",\"&NotLeftTriangleBar;\":\"\",\"&NotLeftTriangleEqual;\":\"\",\"&NotLess;\":\"\",\"&NotLessEqual;\":\"\",\"&NotLessGreater;\":\"\",\"&NotLessLess;\":\"\",\"&NotLessSlantEqual;\":\"\",\"&NotLessTilde;\":\"\",\"&NotNestedGreaterGreater;\":\"\",\"&NotNestedLessLess;\":\"\",\"&NotPrecedes;\":\"\",\"&NotPrecedesEqual;\":\"\",\"&NotPrecedesSlantEqual;\":\"\",\"&NotReverseElement;\":\"\",\"&NotRightTriangle;\":\"\",\"&NotRightTriangleBar;\":\"\",\"&NotRightTriangleEqual;\":\"\",\"&NotSquareSubset;\":\"\",\"&NotSquareSubsetEqual;\":\"\",\"&NotSquareSuperset;\":\"\",\"&NotSquareSupersetEqual;\":\"\",\"&NotSubset;\":\"\",\"&NotSubsetEqual;\":\"\",\"&NotSucceeds;\":\"\",\"&NotSucceedsEqual;\":\"\",\"&NotSucceedsSlantEqual;\":\"\",\"&NotSucceedsTilde;\":\"\",\"&NotSuperset;\":\"\",\"&NotSupersetEqual;\":\"\",\"&NotTilde;\":\"\",\"&NotTildeEqual;\":\"\",\"&NotTildeFullEqual;\":\"\",\"&NotTildeTilde;\":\"\",\"&NotVerticalBar;\":\"\",\"&Nscr;\":\"\",\"&Ntilde\":\"\",\"&Ntilde;\":\"\",\"&Nu;\":\"\",\"&OElig;\":\"\",\"&Oacute\":\"\",\"&Oacute;\":\"\",\"&Ocirc\":\"\",\"&Ocirc;\":\"\",\"&Ocy;\":\"\",\"&Odblac;\":\"\",\"&Ofr;\":\"\",\"&Ograve\":\"\",\"&Ograve;\":\"\",\"&Omacr;\":\"\",\"&Omega;\":\"\",\"&Omicron;\":\"\",\"&Oopf;\":\"\",\"&OpenCurlyDoubleQuote;\":\"\",\"&OpenCurlyQuote;\":\"\",\"&Or;\":\"\",\"&Oscr;\":\"\",\"&Oslash\":\"\",\"&Oslash;\":\"\",\"&Otilde\":\"\",\"&Otilde;\":\"\",\"&Otimes;\":\"\",\"&Ouml\":\"\",\"&Ouml;\":\"\",\"&OverBar;\":\"\",\"&OverBrace;\":\"\",\"&OverBracket;\":\"\",\"&OverParenthesis;\":\"\",\"&PartialD;\":\"\",\"&Pcy;\":\"\",\"&Pfr;\":\"\",\"&Phi;\":\"\",\"&Pi;\":\"\",\"&PlusMinus;\":\"\",\"&Poincareplane;\":\"\",\"&Popf;\":\"\",\"&Pr;\":\"\",\"&Precedes;\":\"\",\"&PrecedesEqual;\":\"\",\"&PrecedesSlantEqual;\":\"\",\"&PrecedesTilde;\":\"\",\"&Prime;\":\"\",\"&Product;\":\"\",\"&Proportion;\":\"\",\"&Proportional;\":\"\",\"&Pscr;\":\"\",\"&Psi;\":\"\",\"&QUOT\":'\"',\"&QUOT;\":'\"',\"&Qfr;\":\"\",\"&Qopf;\":\"\",\"&Qscr;\":\"\",\"&RBarr;\":\"\",\"&REG\":\"\",\"&REG;\":\"\",\"&Racute;\":\"\",\"&Rang;\":\"\",\"&Rarr;\":\"\",\"&Rarrtl;\":\"\",\"&Rcaron;\":\"\",\"&Rcedil;\":\"\",\"&Rcy;\":\"\",\"&Re;\":\"\",\"&ReverseElement;\":\"\",\"&ReverseEquilibrium;\":\"\",\"&ReverseUpEquilibrium;\":\"\",\"&Rfr;\":\"\",\"&Rho;\":\"\",\"&RightAngleBracket;\":\"\",\"&RightArrow;\":\"\",\"&RightArrowBar;\":\"\",\"&RightArrowLeftArrow;\":\"\",\"&RightCeiling;\":\"\",\"&RightDoubleBracket;\":\"\",\"&RightDownTeeVector;\":\"\",\"&RightDownVector;\":\"\",\"&RightDownVectorBar;\":\"\",\"&RightFloor;\":\"\",\"&RightTee;\":\"\",\"&RightTeeArrow;\":\"\",\"&RightTeeVector;\":\"\",\"&RightTriangle;\":\"\",\"&RightTriangleBar;\":\"\",\"&RightTriangleEqual;\":\"\",\"&RightUpDownVector;\":\"\",\"&RightUpTeeVector;\":\"\",\"&RightUpVector;\":\"\",\"&RightUpVectorBar;\":\"\",\"&RightVector;\":\"\",\"&RightVectorBar;\":\"\",\"&Rightarrow;\":\"\",\"&Ropf;\":\"\",\"&RoundImplies;\":\"\",\"&Rrightarrow;\":\"\",\"&Rscr;\":\"\",\"&Rsh;\":\"\",\"&RuleDelayed;\":\"\",\"&SHCHcy;\":\"\",\"&SHcy;\":\"\",\"&SOFTcy;\":\"\",\"&Sacute;\":\"\",\"&Sc;\":\"\",\"&Scaron;\":\"\",\"&Scedil;\":\"\",\"&Scirc;\":\"\",\"&Scy;\":\"\",\"&Sfr;\":\"\",\"&ShortDownArrow;\":\"\",\"&ShortLeftArrow;\":\"\",\"&ShortRightArrow;\":\"\",\"&ShortUpArrow;\":\"\",\"&Sigma;\":\"\",\"&SmallCircle;\":\"\",\"&Sopf;\":\"\",\"&Sqrt;\":\"\",\"&Square;\":\"\",\"&SquareIntersection;\":\"\",\"&SquareSubset;\":\"\",\"&SquareSubsetEqual;\":\"\",\"&SquareSuperset;\":\"\",\"&SquareSupersetEqual;\":\"\",\"&SquareUnion;\":\"\",\"&Sscr;\":\"\",\"&Star;\":\"\",\"&Sub;\":\"\",\"&Subset;\":\"\",\"&SubsetEqual;\":\"\",\"&Succeeds;\":\"\",\"&SucceedsEqual;\":\"\",\"&SucceedsSlantEqual;\":\"\",\"&SucceedsTilde;\":\"\",\"&SuchThat;\":\"\",\"&Sum;\":\"\",\"&Sup;\":\"\",\"&Superset;\":\"\",\"&SupersetEqual;\":\"\",\"&Supset;\":\"\",\"&THORN\":\"\",\"&THORN;\":\"\",\"&TRADE;\":\"\",\"&TSHcy;\":\"\",\"&TScy;\":\"\",\"&Tab;\":\"\\t\",\"&Tau;\":\"\",\"&Tcaron;\":\"\",\"&Tcedil;\":\"\",\"&Tcy;\":\"\",\"&Tfr;\":\"\",\"&Therefore;\":\"\",\"&Theta;\":\"\",\"&ThickSpace;\":\"\",\"&ThinSpace;\":\"\",\"&Tilde;\":\"\",\"&TildeEqual;\":\"\",\"&TildeFullEqual;\":\"\",\"&TildeTilde;\":\"\",\"&Topf;\":\"\",\"&TripleDot;\":\"\",\"&Tscr;\":\"\",\"&Tstrok;\":\"\",\"&Uacute\":\"\",\"&Uacute;\":\"\",\"&Uarr;\":\"\",\"&Uarrocir;\":\"\",\"&Ubrcy;\":\"\",\"&Ubreve;\":\"\",\"&Ucirc\":\"\",\"&Ucirc;\":\"\",\"&Ucy;\":\"\",\"&Udblac;\":\"\",\"&Ufr;\":\"\",\"&Ugrave\":\"\",\"&Ugrave;\":\"\",\"&Umacr;\":\"\",\"&UnderBar;\":\"_\",\"&UnderBrace;\":\"\",\"&UnderBracket;\":\"\",\"&UnderParenthesis;\":\"\",\"&Union;\":\"\",\"&UnionPlus;\":\"\",\"&Uogon;\":\"\",\"&Uopf;\":\"\",\"&UpArrow;\":\"\",\"&UpArrowBar;\":\"\",\"&UpArrowDownArrow;\":\"\",\"&UpDownArrow;\":\"\",\"&UpEquilibrium;\":\"\",\"&UpTee;\":\"\",\"&UpTeeArrow;\":\"\",\"&Uparrow;\":\"\",\"&Updownarrow;\":\"\",\"&UpperLeftArrow;\":\"\",\"&UpperRightArrow;\":\"\",\"&Upsi;\":\"\",\"&Upsilon;\":\"\",\"&Uring;\":\"\",\"&Uscr;\":\"\",\"&Utilde;\":\"\",\"&Uuml\":\"\",\"&Uuml;\":\"\",\"&VDash;\":\"\",\"&Vbar;\":\"\",\"&Vcy;\":\"\",\"&Vdash;\":\"\",\"&Vdashl;\":\"\",\"&Vee;\":\"\",\"&Verbar;\":\"\",\"&Vert;\":\"\",\"&VerticalBar;\":\"\",\"&VerticalLine;\":\"|\",\"&VerticalSeparator;\":\"\",\"&VerticalTilde;\":\"\",\"&VeryThinSpace;\":\"\",\"&Vfr;\":\"\",\"&Vopf;\":\"\",\"&Vscr;\":\"\",\"&Vvdash;\":\"\",\"&Wcirc;\":\"\",\"&Wedge;\":\"\",\"&Wfr;\":\"\",\"&Wopf;\":\"\",\"&Wscr;\":\"\",\"&Xfr;\":\"\",\"&Xi;\":\"\",\"&Xopf;\":\"\",\"&Xscr;\":\"\",\"&YAcy;\":\"\",\"&YIcy;\":\"\",\"&YUcy;\":\"\",\"&Yacute\":\"\",\"&Yacute;\":\"\",\"&Ycirc;\":\"\",\"&Ycy;\":\"\",\"&Yfr;\":\"\",\"&Yopf;\":\"\",\"&Yscr;\":\"\",\"&Yuml;\":\"\",\"&ZHcy;\":\"\",\"&Zacute;\":\"\",\"&Zcaron;\":\"\",\"&Zcy;\":\"\",\"&Zdot;\":\"\",\"&ZeroWidthSpace;\":\"\",\"&Zeta;\":\"\",\"&Zfr;\":\"\",\"&Zopf;\":\"\",\"&Zscr;\":\"\",\"&aacute\":\"\",\"&aacute;\":\"\",\"&abreve;\":\"\",\"&ac;\":\"\",\"&acE;\":\"\",\"&acd;\":\"\",\"&acirc\":\"\",\"&acirc;\":\"\",\"&acute\":\"\",\"&acute;\":\"\",\"&acy;\":\"\",\"&aelig\":\"\",\"&aelig;\":\"\",\"&af;\":\"\",\"&afr;\":\"\",\"&agrave\":\"\",\"&agrave;\":\"\",\"&alefsym;\":\"\",\"&aleph;\":\"\",\"&alpha;\":\"\",\"&amacr;\":\"\",\"&amalg;\":\"\",\"&amp\":\"&\",\"&amp;\":\"&\",\"&and;\":\"\",\"&andand;\":\"\",\"&andd;\":\"\",\"&andslope;\":\"\",\"&andv;\":\"\",\"&ang;\":\"\",\"&ange;\":\"\",\"&angle;\":\"\",\"&angmsd;\":\"\",\"&angmsdaa;\":\"\",\"&angmsdab;\":\"\",\"&angmsdac;\":\"\",\"&angmsdad;\":\"\",\"&angmsdae;\":\"\",\"&angmsdaf;\":\"\",\"&angmsdag;\":\"\",\"&angmsdah;\":\"\",\"&angrt;\":\"\",\"&angrtvb;\":\"\",\"&angrtvbd;\":\"\",\"&angsph;\":\"\",\"&angst;\":\"\",\"&angzarr;\":\"\",\"&aogon;\":\"\",\"&aopf;\":\"\",\"&ap;\":\"\",\"&apE;\":\"\",\"&apacir;\":\"\",\"&ape;\":\"\",\"&apid;\":\"\",\"&apos;\":\"'\",\"&approx;\":\"\",\"&approxeq;\":\"\",\"&aring\":\"\",\"&aring;\":\"\",\"&ascr;\":\"\",\"&ast;\":\"*\",\"&asymp;\":\"\",\"&asympeq;\":\"\",\"&atilde\":\"\",\"&atilde;\":\"\",\"&auml\":\"\",\"&auml;\":\"\",\"&awconint;\":\"\",\"&awint;\":\"\",\"&bNot;\":\"\",\"&backcong;\":\"\",\"&backepsilon;\":\"\",\"&backprime;\":\"\",\"&backsim;\":\"\",\"&backsimeq;\":\"\",\"&barvee;\":\"\",\"&barwed;\":\"\",\"&barwedge;\":\"\",\"&bbrk;\":\"\",\"&bbrktbrk;\":\"\",\"&bcong;\":\"\",\"&bcy;\":\"\",\"&bdquo;\":\"\",\"&becaus;\":\"\",\"&because;\":\"\",\"&bemptyv;\":\"\",\"&bepsi;\":\"\",\"&bernou;\":\"\",\"&beta;\":\"\",\"&beth;\":\"\",\"&between;\":\"\",\"&bfr;\":\"\",\"&bigcap;\":\"\",\"&bigcirc;\":\"\",\"&bigcup;\":\"\",\"&bigodot;\":\"\",\"&bigoplus;\":\"\",\"&bigotimes;\":\"\",\"&bigsqcup;\":\"\",\"&bigstar;\":\"\",\"&bigtriangledown;\":\"\",\"&bigtriangleup;\":\"\",\"&biguplus;\":\"\",\"&bigvee;\":\"\",\"&bigwedge;\":\"\",\"&bkarow;\":\"\",\"&blacklozenge;\":\"\",\"&blacksquare;\":\"\",\"&blacktriangle;\":\"\",\"&blacktriangledown;\":\"\",\"&blacktriangleleft;\":\"\",\"&blacktriangleright;\":\"\",\"&blank;\":\"\",\"&blk12;\":\"\",\"&blk14;\":\"\",\"&blk34;\":\"\",\"&block;\":\"\",\"&bne;\":\"=\",\"&bnequiv;\":\"\",\"&bnot;\":\"\",\"&bopf;\":\"\",\"&bot;\":\"\",\"&bottom;\":\"\",\"&bowtie;\":\"\",\"&boxDL;\":\"\",\"&boxDR;\":\"\",\"&boxDl;\":\"\",\"&boxDr;\":\"\",\"&boxH;\":\"\",\"&boxHD;\":\"\",\"&boxHU;\":\"\",\"&boxHd;\":\"\",\"&boxHu;\":\"\",\"&boxUL;\":\"\",\"&boxUR;\":\"\",\"&boxUl;\":\"\",\"&boxUr;\":\"\",\"&boxV;\":\"\",\"&boxVH;\":\"\",\"&boxVL;\":\"\",\"&boxVR;\":\"\",\"&boxVh;\":\"\",\"&boxVl;\":\"\",\"&boxVr;\":\"\",\"&boxbox;\":\"\",\"&boxdL;\":\"\",\"&boxdR;\":\"\",\"&boxdl;\":\"\",\"&boxdr;\":\"\",\"&boxh;\":\"\",\"&boxhD;\":\"\",\"&boxhU;\":\"\",\"&boxhd;\":\"\",\"&boxhu;\":\"\",\"&boxminus;\":\"\",\"&boxplus;\":\"\",\"&boxtimes;\":\"\",\"&boxuL;\":\"\",\"&boxuR;\":\"\",\"&boxul;\":\"\",\"&boxur;\":\"\",\"&boxv;\":\"\",\"&boxvH;\":\"\",\"&boxvL;\":\"\",\"&boxvR;\":\"\",\"&boxvh;\":\"\",\"&boxvl;\":\"\",\"&boxvr;\":\"\",\"&bprime;\":\"\",\"&breve;\":\"\",\"&brvbar\":\"\",\"&brvbar;\":\"\",\"&bscr;\":\"\",\"&bsemi;\":\"\",\"&bsim;\":\"\",\"&bsime;\":\"\",\"&bsol;\":\"\\\\\",\"&bsolb;\":\"\",\"&bsolhsub;\":\"\",\"&bull;\":\"\",\"&bullet;\":\"\",\"&bump;\":\"\",\"&bumpE;\":\"\",\"&bumpe;\":\"\",\"&bumpeq;\":\"\",\"&cacute;\":\"\",\"&cap;\":\"\",\"&capand;\":\"\",\"&capbrcup;\":\"\",\"&capcap;\":\"\",\"&capcup;\":\"\",\"&capdot;\":\"\",\"&caps;\":\"\",\"&caret;\":\"\",\"&caron;\":\"\",\"&ccaps;\":\"\",\"&ccaron;\":\"\",\"&ccedil\":\"\",\"&ccedil;\":\"\",\"&ccirc;\":\"\",\"&ccups;\":\"\",\"&ccupssm;\":\"\",\"&cdot;\":\"\",\"&cedil\":\"\",\"&cedil;\":\"\",\"&cemptyv;\":\"\",\"&cent\":\"\",\"&cent;\":\"\",\"&centerdot;\":\"\",\"&cfr;\":\"\",\"&chcy;\":\"\",\"&check;\":\"\",\"&checkmark;\":\"\",\"&chi;\":\"\",\"&cir;\":\"\",\"&cirE;\":\"\",\"&circ;\":\"\",\"&circeq;\":\"\",\"&circlearrowleft;\":\"\",\"&circlearrowright;\":\"\",\"&circledR;\":\"\",\"&circledS;\":\"\",\"&circledast;\":\"\",\"&circledcirc;\":\"\",\"&circleddash;\":\"\",\"&cire;\":\"\",\"&cirfnint;\":\"\",\"&cirmid;\":\"\",\"&cirscir;\":\"\",\"&clubs;\":\"\",\"&clubsuit;\":\"\",\"&colon;\":\":\",\"&colone;\":\"\",\"&coloneq;\":\"\",\"&comma;\":\",\",\"&commat;\":\"@\",\"&comp;\":\"\",\"&compfn;\":\"\",\"&complement;\":\"\",\"&complexes;\":\"\",\"&cong;\":\"\",\"&congdot;\":\"\",\"&conint;\":\"\",\"&copf;\":\"\",\"&coprod;\":\"\",\"&copy\":\"\",\"&copy;\":\"\",\"&copysr;\":\"\",\"&crarr;\":\"\",\"&cross;\":\"\",\"&cscr;\":\"\",\"&csub;\":\"\",\"&csube;\":\"\",\"&csup;\":\"\",\"&csupe;\":\"\",\"&ctdot;\":\"\",\"&cudarrl;\":\"\",\"&cudarrr;\":\"\",\"&cuepr;\":\"\",\"&cuesc;\":\"\",\"&cularr;\":\"\",\"&cularrp;\":\"\",\"&cup;\":\"\",\"&cupbrcap;\":\"\",\"&cupcap;\":\"\",\"&cupcup;\":\"\",\"&cupdot;\":\"\",\"&cupor;\":\"\",\"&cups;\":\"\",\"&curarr;\":\"\",\"&curarrm;\":\"\",\"&curlyeqprec;\":\"\",\"&curlyeqsucc;\":\"\",\"&curlyvee;\":\"\",\"&curlywedge;\":\"\",\"&curren\":\"\",\"&curren;\":\"\",\"&curvearrowleft;\":\"\",\"&curvearrowright;\":\"\",\"&cuvee;\":\"\",\"&cuwed;\":\"\",\"&cwconint;\":\"\",\"&cwint;\":\"\",\"&cylcty;\":\"\",\"&dArr;\":\"\",\"&dHar;\":\"\",\"&dagger;\":\"\",\"&daleth;\":\"\",\"&darr;\":\"\",\"&dash;\":\"\",\"&dashv;\":\"\",\"&dbkarow;\":\"\",\"&dblac;\":\"\",\"&dcaron;\":\"\",\"&dcy;\":\"\",\"&dd;\":\"\",\"&ddagger;\":\"\",\"&ddarr;\":\"\",\"&ddotseq;\":\"\",\"&deg\":\"\",\"&deg;\":\"\",\"&delta;\":\"\",\"&demptyv;\":\"\",\"&dfisht;\":\"\",\"&dfr;\":\"\",\"&dharl;\":\"\",\"&dharr;\":\"\",\"&diam;\":\"\",\"&diamond;\":\"\",\"&diamondsuit;\":\"\",\"&diams;\":\"\",\"&die;\":\"\",\"&digamma;\":\"\",\"&disin;\":\"\",\"&div;\":\"\",\"&divide\":\"\",\"&divide;\":\"\",\"&divideontimes;\":\"\",\"&divonx;\":\"\",\"&djcy;\":\"\",\"&dlcorn;\":\"\",\"&dlcrop;\":\"\",\"&dollar;\":\"$\",\"&dopf;\":\"\",\"&dot;\":\"\",\"&doteq;\":\"\",\"&doteqdot;\":\"\",\"&dotminus;\":\"\",\"&dotplus;\":\"\",\"&dotsquare;\":\"\",\"&doublebarwedge;\":\"\",\"&downarrow;\":\"\",\"&downdownarrows;\":\"\",\"&downharpoonleft;\":\"\",\"&downharpoonright;\":\"\",\"&drbkarow;\":\"\",\"&drcorn;\":\"\",\"&drcrop;\":\"\",\"&dscr;\":\"\",\"&dscy;\":\"\",\"&dsol;\":\"\",\"&dstrok;\":\"\",\"&dtdot;\":\"\",\"&dtri;\":\"\",\"&dtrif;\":\"\",\"&duarr;\":\"\",\"&duhar;\":\"\",\"&dwangle;\":\"\",\"&dzcy;\":\"\",\"&dzigrarr;\":\"\",\"&eDDot;\":\"\",\"&eDot;\":\"\",\"&eacute\":\"\",\"&eacute;\":\"\",\"&easter;\":\"\",\"&ecaron;\":\"\",\"&ecir;\":\"\",\"&ecirc\":\"\",\"&ecirc;\":\"\",\"&ecolon;\":\"\",\"&ecy;\":\"\",\"&edot;\":\"\",\"&ee;\":\"\",\"&efDot;\":\"\",\"&efr;\":\"\",\"&eg;\":\"\",\"&egrave\":\"\",\"&egrave;\":\"\",\"&egs;\":\"\",\"&egsdot;\":\"\",\"&el;\":\"\",\"&elinters;\":\"\",\"&ell;\":\"\",\"&els;\":\"\",\"&elsdot;\":\"\",\"&emacr;\":\"\",\"&empty;\":\"\",\"&emptyset;\":\"\",\"&emptyv;\":\"\",\"&emsp13;\":\"\",\"&emsp14;\":\"\",\"&emsp;\":\"\",\"&eng;\":\"\",\"&ensp;\":\"\",\"&eogon;\":\"\",\"&eopf;\":\"\",\"&epar;\":\"\",\"&eparsl;\":\"\",\"&eplus;\":\"\",\"&epsi;\":\"\",\"&epsilon;\":\"\",\"&epsiv;\":\"\",\"&eqcirc;\":\"\",\"&eqcolon;\":\"\",\"&eqsim;\":\"\",\"&eqslantgtr;\":\"\",\"&eqslantless;\":\"\",\"&equals;\":\"=\",\"&equest;\":\"\",\"&equiv;\":\"\",\"&equivDD;\":\"\",\"&eqvparsl;\":\"\",\"&erDot;\":\"\",\"&erarr;\":\"\",\"&escr;\":\"\",\"&esdot;\":\"\",\"&esim;\":\"\",\"&eta;\":\"\",\"&eth\":\"\",\"&eth;\":\"\",\"&euml\":\"\",\"&euml;\":\"\",\"&euro;\":\"\",\"&excl;\":\"!\",\"&exist;\":\"\",\"&expectation;\":\"\",\"&exponentiale;\":\"\",\"&fallingdotseq;\":\"\",\"&fcy;\":\"\",\"&female;\":\"\",\"&ffilig;\":\"\",\"&fflig;\":\"\",\"&ffllig;\":\"\",\"&ffr;\":\"\",\"&filig;\":\"\",\"&fjlig;\":\"fj\",\"&flat;\":\"\",\"&fllig;\":\"\",\"&fltns;\":\"\",\"&fnof;\":\"\",\"&fopf;\":\"\",\"&forall;\":\"\",\"&fork;\":\"\",\"&forkv;\":\"\",\"&fpartint;\":\"\",\"&frac12\":\"\",\"&frac12;\":\"\",\"&frac13;\":\"\",\"&frac14\":\"\",\"&frac14;\":\"\",\"&frac15;\":\"\",\"&frac16;\":\"\",\"&frac18;\":\"\",\"&frac23;\":\"\",\"&frac25;\":\"\",\"&frac34\":\"\",\"&frac34;\":\"\",\"&frac35;\":\"\",\"&frac38;\":\"\",\"&frac45;\":\"\",\"&frac56;\":\"\",\"&frac58;\":\"\",\"&frac78;\":\"\",\"&frasl;\":\"\",\"&frown;\":\"\",\"&fscr;\":\"\",\"&gE;\":\"\",\"&gEl;\":\"\",\"&gacute;\":\"\",\"&gamma;\":\"\",\"&gammad;\":\"\",\"&gap;\":\"\",\"&gbreve;\":\"\",\"&gcirc;\":\"\",\"&gcy;\":\"\",\"&gdot;\":\"\",\"&ge;\":\"\",\"&gel;\":\"\",\"&geq;\":\"\",\"&geqq;\":\"\",\"&geqslant;\":\"\",\"&ges;\":\"\",\"&gescc;\":\"\",\"&gesdot;\":\"\",\"&gesdoto;\":\"\",\"&gesdotol;\":\"\",\"&gesl;\":\"\",\"&gesles;\":\"\",\"&gfr;\":\"\",\"&gg;\":\"\",\"&ggg;\":\"\",\"&gimel;\":\"\",\"&gjcy;\":\"\",\"&gl;\":\"\",\"&glE;\":\"\",\"&gla;\":\"\",\"&glj;\":\"\",\"&gnE;\":\"\",\"&gnap;\":\"\",\"&gnapprox;\":\"\",\"&gne;\":\"\",\"&gneq;\":\"\",\"&gneqq;\":\"\",\"&gnsim;\":\"\",\"&gopf;\":\"\",\"&grave;\":\"`\",\"&gscr;\":\"\",\"&gsim;\":\"\",\"&gsime;\":\"\",\"&gsiml;\":\"\",\"&gt\":\">\",\"&gt;\":\">\",\"&gtcc;\":\"\",\"&gtcir;\":\"\",\"&gtdot;\":\"\",\"&gtlPar;\":\"\",\"&gtquest;\":\"\",\"&gtrapprox;\":\"\",\"&gtrarr;\":\"\",\"&gtrdot;\":\"\",\"&gtreqless;\":\"\",\"&gtreqqless;\":\"\",\"&gtrless;\":\"\",\"&gtrsim;\":\"\",\"&gvertneqq;\":\"\",\"&gvnE;\":\"\",\"&hArr;\":\"\",\"&hairsp;\":\"\",\"&half;\":\"\",\"&hamilt;\":\"\",\"&hardcy;\":\"\",\"&harr;\":\"\",\"&harrcir;\":\"\",\"&harrw;\":\"\",\"&hbar;\":\"\",\"&hcirc;\":\"\",\"&hearts;\":\"\",\"&heartsuit;\":\"\",\"&hellip;\":\"\",\"&hercon;\":\"\",\"&hfr;\":\"\",\"&hksearow;\":\"\",\"&hkswarow;\":\"\",\"&hoarr;\":\"\",\"&homtht;\":\"\",\"&hookleftarrow;\":\"\",\"&hookrightarrow;\":\"\",\"&hopf;\":\"\",\"&horbar;\":\"\",\"&hscr;\":\"\",\"&hslash;\":\"\",\"&hstrok;\":\"\",\"&hybull;\":\"\",\"&hyphen;\":\"\",\"&iacute\":\"\",\"&iacute;\":\"\",\"&ic;\":\"\",\"&icirc\":\"\",\"&icirc;\":\"\",\"&icy;\":\"\",\"&iecy;\":\"\",\"&iexcl\":\"\",\"&iexcl;\":\"\",\"&iff;\":\"\",\"&ifr;\":\"\",\"&igrave\":\"\",\"&igrave;\":\"\",\"&ii;\":\"\",\"&iiiint;\":\"\",\"&iiint;\":\"\",\"&iinfin;\":\"\",\"&iiota;\":\"\",\"&ijlig;\":\"\",\"&imacr;\":\"\",\"&image;\":\"\",\"&imagline;\":\"\",\"&imagpart;\":\"\",\"&imath;\":\"\",\"&imof;\":\"\",\"&imped;\":\"\",\"&in;\":\"\",\"&incare;\":\"\",\"&infin;\":\"\",\"&infintie;\":\"\",\"&inodot;\":\"\",\"&int;\":\"\",\"&intcal;\":\"\",\"&integers;\":\"\",\"&intercal;\":\"\",\"&intlarhk;\":\"\",\"&intprod;\":\"\",\"&iocy;\":\"\",\"&iogon;\":\"\",\"&iopf;\":\"\",\"&iota;\":\"\",\"&iprod;\":\"\",\"&iquest\":\"\",\"&iquest;\":\"\",\"&iscr;\":\"\",\"&isin;\":\"\",\"&isinE;\":\"\",\"&isindot;\":\"\",\"&isins;\":\"\",\"&isinsv;\":\"\",\"&isinv;\":\"\",\"&it;\":\"\",\"&itilde;\":\"\",\"&iukcy;\":\"\",\"&iuml\":\"\",\"&iuml;\":\"\",\"&jcirc;\":\"\",\"&jcy;\":\"\",\"&jfr;\":\"\",\"&jmath;\":\"\",\"&jopf;\":\"\",\"&jscr;\":\"\",\"&jsercy;\":\"\",\"&jukcy;\":\"\",\"&kappa;\":\"\",\"&kappav;\":\"\",\"&kcedil;\":\"\",\"&kcy;\":\"\",\"&kfr;\":\"\",\"&kgreen;\":\"\",\"&khcy;\":\"\",\"&kjcy;\":\"\",\"&kopf;\":\"\",\"&kscr;\":\"\",\"&lAarr;\":\"\",\"&lArr;\":\"\",\"&lAtail;\":\"\",\"&lBarr;\":\"\",\"&lE;\":\"\",\"&lEg;\":\"\",\"&lHar;\":\"\",\"&lacute;\":\"\",\"&laemptyv;\":\"\",\"&lagran;\":\"\",\"&lambda;\":\"\",\"&lang;\":\"\",\"&langd;\":\"\",\"&langle;\":\"\",\"&lap;\":\"\",\"&laquo\":\"\",\"&laquo;\":\"\",\"&larr;\":\"\",\"&larrb;\":\"\",\"&larrbfs;\":\"\",\"&larrfs;\":\"\",\"&larrhk;\":\"\",\"&larrlp;\":\"\",\"&larrpl;\":\"\",\"&larrsim;\":\"\",\"&larrtl;\":\"\",\"&lat;\":\"\",\"&latail;\":\"\",\"&late;\":\"\",\"&lates;\":\"\",\"&lbarr;\":\"\",\"&lbbrk;\":\"\",\"&lbrace;\":\"{\",\"&lbrack;\":\"[\",\"&lbrke;\":\"\",\"&lbrksld;\":\"\",\"&lbrkslu;\":\"\",\"&lcaron;\":\"\",\"&lcedil;\":\"\",\"&lceil;\":\"\",\"&lcub;\":\"{\",\"&lcy;\":\"\",\"&ldca;\":\"\",\"&ldquo;\":\"\",\"&ldquor;\":\"\",\"&ldrdhar;\":\"\",\"&ldrushar;\":\"\",\"&ldsh;\":\"\",\"&le;\":\"\",\"&leftarrow;\":\"\",\"&leftarrowtail;\":\"\",\"&leftharpoondown;\":\"\",\"&leftharpoonup;\":\"\",\"&leftleftarrows;\":\"\",\"&leftrightarrow;\":\"\",\"&leftrightarrows;\":\"\",\"&leftrightharpoons;\":\"\",\"&leftrightsquigarrow;\":\"\",\"&leftthreetimes;\":\"\",\"&leg;\":\"\",\"&leq;\":\"\",\"&leqq;\":\"\",\"&leqslant;\":\"\",\"&les;\":\"\",\"&lescc;\":\"\",\"&lesdot;\":\"\",\"&lesdoto;\":\"\",\"&lesdotor;\":\"\",\"&lesg;\":\"\",\"&lesges;\":\"\",\"&lessapprox;\":\"\",\"&lessdot;\":\"\",\"&lesseqgtr;\":\"\",\"&lesseqqgtr;\":\"\",\"&lessgtr;\":\"\",\"&lesssim;\":\"\",\"&lfisht;\":\"\",\"&lfloor;\":\"\",\"&lfr;\":\"\",\"&lg;\":\"\",\"&lgE;\":\"\",\"&lhard;\":\"\",\"&lharu;\":\"\",\"&lharul;\":\"\",\"&lhblk;\":\"\",\"&ljcy;\":\"\",\"&ll;\":\"\",\"&llarr;\":\"\",\"&llcorner;\":\"\",\"&llhard;\":\"\",\"&lltri;\":\"\",\"&lmidot;\":\"\",\"&lmoust;\":\"\",\"&lmoustache;\":\"\",\"&lnE;\":\"\",\"&lnap;\":\"\",\"&lnapprox;\":\"\",\"&lne;\":\"\",\"&lneq;\":\"\",\"&lneqq;\":\"\",\"&lnsim;\":\"\",\"&loang;\":\"\",\"&loarr;\":\"\",\"&lobrk;\":\"\",\"&longleftarrow;\":\"\",\"&longleftrightarrow;\":\"\",\"&longmapsto;\":\"\",\"&longrightarrow;\":\"\",\"&looparrowleft;\":\"\",\"&looparrowright;\":\"\",\"&lopar;\":\"\",\"&lopf;\":\"\",\"&loplus;\":\"\",\"&lotimes;\":\"\",\"&lowast;\":\"\",\"&lowbar;\":\"_\",\"&loz;\":\"\",\"&lozenge;\":\"\",\"&lozf;\":\"\",\"&lpar;\":\"(\",\"&lparlt;\":\"\",\"&lrarr;\":\"\",\"&lrcorner;\":\"\",\"&lrhar;\":\"\",\"&lrhard;\":\"\",\"&lrm;\":\"\",\"&lrtri;\":\"\",\"&lsaquo;\":\"\",\"&lscr;\":\"\",\"&lsh;\":\"\",\"&lsim;\":\"\",\"&lsime;\":\"\",\"&lsimg;\":\"\",\"&lsqb;\":\"[\",\"&lsquo;\":\"\",\"&lsquor;\":\"\",\"&lstrok;\":\"\",\"&lt\":\"<\",\"&lt;\":\"<\",\"&ltcc;\":\"\",\"&ltcir;\":\"\",\"&ltdot;\":\"\",\"&lthree;\":\"\",\"&ltimes;\":\"\",\"&ltlarr;\":\"\",\"&ltquest;\":\"\",\"&ltrPar;\":\"\",\"&ltri;\":\"\",\"&ltrie;\":\"\",\"&ltrif;\":\"\",\"&lurdshar;\":\"\",\"&luruhar;\":\"\",\"&lvertneqq;\":\"\",\"&lvnE;\":\"\",\"&mDDot;\":\"\",\"&macr\":\"\",\"&macr;\":\"\",\"&male;\":\"\",\"&malt;\":\"\",\"&maltese;\":\"\",\"&map;\":\"\",\"&mapsto;\":\"\",\"&mapstodown;\":\"\",\"&mapstoleft;\":\"\",\"&mapstoup;\":\"\",\"&marker;\":\"\",\"&mcomma;\":\"\",\"&mcy;\":\"\",\"&mdash;\":\"\",\"&measuredangle;\":\"\",\"&mfr;\":\"\",\"&mho;\":\"\",\"&micro\":\"\",\"&micro;\":\"\",\"&mid;\":\"\",\"&midast;\":\"*\",\"&midcir;\":\"\",\"&middot\":\"\",\"&middot;\":\"\",\"&minus;\":\"\",\"&minusb;\":\"\",\"&minusd;\":\"\",\"&minusdu;\":\"\",\"&mlcp;\":\"\",\"&mldr;\":\"\",\"&mnplus;\":\"\",\"&models;\":\"\",\"&mopf;\":\"\",\"&mp;\":\"\",\"&mscr;\":\"\",\"&mstpos;\":\"\",\"&mu;\":\"\",\"&multimap;\":\"\",\"&mumap;\":\"\",\"&nGg;\":\"\",\"&nGt;\":\"\",\"&nGtv;\":\"\",\"&nLeftarrow;\":\"\",\"&nLeftrightarrow;\":\"\",\"&nLl;\":\"\",\"&nLt;\":\"\",\"&nLtv;\":\"\",\"&nRightarrow;\":\"\",\"&nVDash;\":\"\",\"&nVdash;\":\"\",\"&nabla;\":\"\",\"&nacute;\":\"\",\"&nang;\":\"\",\"&nap;\":\"\",\"&napE;\":\"\",\"&napid;\":\"\",\"&napos;\":\"\",\"&napprox;\":\"\",\"&natur;\":\"\",\"&natural;\":\"\",\"&naturals;\":\"\",\"&nbsp\":\"\",\"&nbsp;\":\"\",\"&nbump;\":\"\",\"&nbumpe;\":\"\",\"&ncap;\":\"\",\"&ncaron;\":\"\",\"&ncedil;\":\"\",\"&ncong;\":\"\",\"&ncongdot;\":\"\",\"&ncup;\":\"\",\"&ncy;\":\"\",\"&ndash;\":\"\",\"&ne;\":\"\",\"&neArr;\":\"\",\"&nearhk;\":\"\",\"&nearr;\":\"\",\"&nearrow;\":\"\",\"&nedot;\":\"\",\"&nequiv;\":\"\",\"&nesear;\":\"\",\"&nesim;\":\"\",\"&nexist;\":\"\",\"&nexists;\":\"\",\"&nfr;\":\"\",\"&ngE;\":\"\",\"&nge;\":\"\",\"&ngeq;\":\"\",\"&ngeqq;\":\"\",\"&ngeqslant;\":\"\",\"&nges;\":\"\",\"&ngsim;\":\"\",\"&ngt;\":\"\",\"&ngtr;\":\"\",\"&nhArr;\":\"\",\"&nharr;\":\"\",\"&nhpar;\":\"\",\"&ni;\":\"\",\"&nis;\":\"\",\"&nisd;\":\"\",\"&niv;\":\"\",\"&njcy;\":\"\",\"&nlArr;\":\"\",\"&nlE;\":\"\",\"&nlarr;\":\"\",\"&nldr;\":\"\",\"&nle;\":\"\",\"&nleftarrow;\":\"\",\"&nleftrightarrow;\":\"\",\"&nleq;\":\"\",\"&nleqq;\":\"\",\"&nleqslant;\":\"\",\"&nles;\":\"\",\"&nless;\":\"\",\"&nlsim;\":\"\",\"&nlt;\":\"\",\"&nltri;\":\"\",\"&nltrie;\":\"\",\"&nmid;\":\"\",\"&nopf;\":\"\",\"&not\":\"\",\"&not;\":\"\",\"&notin;\":\"\",\"&notinE;\":\"\",\"&notindot;\":\"\",\"&notinva;\":\"\",\"&notinvb;\":\"\",\"&notinvc;\":\"\",\"&notni;\":\"\",\"&notniva;\":\"\",\"&notnivb;\":\"\",\"&notnivc;\":\"\",\"&npar;\":\"\",\"&nparallel;\":\"\",\"&nparsl;\":\"\",\"&npart;\":\"\",\"&npolint;\":\"\",\"&npr;\":\"\",\"&nprcue;\":\"\",\"&npre;\":\"\",\"&nprec;\":\"\",\"&npreceq;\":\"\",\"&nrArr;\":\"\",\"&nrarr;\":\"\",\"&nrarrc;\":\"\",\"&nrarrw;\":\"\",\"&nrightarrow;\":\"\",\"&nrtri;\":\"\",\"&nrtrie;\":\"\",\"&nsc;\":\"\",\"&nsccue;\":\"\",\"&nsce;\":\"\",\"&nscr;\":\"\",\"&nshortmid;\":\"\",\"&nshortparallel;\":\"\",\"&nsim;\":\"\",\"&nsime;\":\"\",\"&nsimeq;\":\"\",\"&nsmid;\":\"\",\"&nspar;\":\"\",\"&nsqsube;\":\"\",\"&nsqsupe;\":\"\",\"&nsub;\":\"\",\"&nsubE;\":\"\",\"&nsube;\":\"\",\"&nsubset;\":\"\",\"&nsubseteq;\":\"\",\"&nsubseteqq;\":\"\",\"&nsucc;\":\"\",\"&nsucceq;\":\"\",\"&nsup;\":\"\",\"&nsupE;\":\"\",\"&nsupe;\":\"\",\"&nsupset;\":\"\",\"&nsupseteq;\":\"\",\"&nsupseteqq;\":\"\",\"&ntgl;\":\"\",\"&ntilde\":\"\",\"&ntilde;\":\"\",\"&ntlg;\":\"\",\"&ntriangleleft;\":\"\",\"&ntrianglelefteq;\":\"\",\"&ntriangleright;\":\"\",\"&ntrianglerighteq;\":\"\",\"&nu;\":\"\",\"&num;\":\"#\",\"&numero;\":\"\",\"&numsp;\":\"\",\"&nvDash;\":\"\",\"&nvHarr;\":\"\",\"&nvap;\":\"\",\"&nvdash;\":\"\",\"&nvge;\":\"\",\"&nvgt;\":\">\",\"&nvinfin;\":\"\",\"&nvlArr;\":\"\",\"&nvle;\":\"\",\"&nvlt;\":\"<\",\"&nvltrie;\":\"\",\"&nvrArr;\":\"\",\"&nvrtrie;\":\"\",\"&nvsim;\":\"\",\"&nwArr;\":\"\",\"&nwarhk;\":\"\",\"&nwarr;\":\"\",\"&nwarrow;\":\"\",\"&nwnear;\":\"\",\"&oS;\":\"\",\"&oacute\":\"\",\"&oacute;\":\"\",\"&oast;\":\"\",\"&ocir;\":\"\",\"&ocirc\":\"\",\"&ocirc;\":\"\",\"&ocy;\":\"\",\"&odash;\":\"\",\"&odblac;\":\"\",\"&odiv;\":\"\",\"&odot;\":\"\",\"&odsold;\":\"\",\"&oelig;\":\"\",\"&ofcir;\":\"\",\"&ofr;\":\"\",\"&ogon;\":\"\",\"&ograve\":\"\",\"&ograve;\":\"\",\"&ogt;\":\"\",\"&ohbar;\":\"\",\"&ohm;\":\"\",\"&oint;\":\"\",\"&olarr;\":\"\",\"&olcir;\":\"\",\"&olcross;\":\"\",\"&oline;\":\"\",\"&olt;\":\"\",\"&omacr;\":\"\",\"&omega;\":\"\",\"&omicron;\":\"\",\"&omid;\":\"\",\"&ominus;\":\"\",\"&oopf;\":\"\",\"&opar;\":\"\",\"&operp;\":\"\",\"&oplus;\":\"\",\"&or;\":\"\",\"&orarr;\":\"\",\"&ord;\":\"\",\"&order;\":\"\",\"&orderof;\":\"\",\"&ordf\":\"\",\"&ordf;\":\"\",\"&ordm\":\"\",\"&ordm;\":\"\",\"&origof;\":\"\",\"&oror;\":\"\",\"&orslope;\":\"\",\"&orv;\":\"\",\"&oscr;\":\"\",\"&oslash\":\"\",\"&oslash;\":\"\",\"&osol;\":\"\",\"&otilde\":\"\",\"&otilde;\":\"\",\"&otimes;\":\"\",\"&otimesas;\":\"\",\"&ouml\":\"\",\"&ouml;\":\"\",\"&ovbar;\":\"\",\"&par;\":\"\",\"&para\":\"\",\"&para;\":\"\",\"&parallel;\":\"\",\"&parsim;\":\"\",\"&parsl;\":\"\",\"&part;\":\"\",\"&pcy;\":\"\",\"&percnt;\":\"%\",\"&period;\":\".\",\"&permil;\":\"\",\"&perp;\":\"\",\"&pertenk;\":\"\",\"&pfr;\":\"\",\"&phi;\":\"\",\"&phiv;\":\"\",\"&phmmat;\":\"\",\"&phone;\":\"\",\"&pi;\":\"\",\"&pitchfork;\":\"\",\"&piv;\":\"\",\"&planck;\":\"\",\"&planckh;\":\"\",\"&plankv;\":\"\",\"&plus;\":\"+\",\"&plusacir;\":\"\",\"&plusb;\":\"\",\"&pluscir;\":\"\",\"&plusdo;\":\"\",\"&plusdu;\":\"\",\"&pluse;\":\"\",\"&plusmn\":\"\",\"&plusmn;\":\"\",\"&plussim;\":\"\",\"&plustwo;\":\"\",\"&pm;\":\"\",\"&pointint;\":\"\",\"&popf;\":\"\",\"&pound\":\"\",\"&pound;\":\"\",\"&pr;\":\"\",\"&prE;\":\"\",\"&prap;\":\"\",\"&prcue;\":\"\",\"&pre;\":\"\",\"&prec;\":\"\",\"&precapprox;\":\"\",\"&preccurlyeq;\":\"\",\"&preceq;\":\"\",\"&precnapprox;\":\"\",\"&precneqq;\":\"\",\"&precnsim;\":\"\",\"&precsim;\":\"\",\"&prime;\":\"\",\"&primes;\":\"\",\"&prnE;\":\"\",\"&prnap;\":\"\",\"&prnsim;\":\"\",\"&prod;\":\"\",\"&profalar;\":\"\",\"&profline;\":\"\",\"&profsurf;\":\"\",\"&prop;\":\"\",\"&propto;\":\"\",\"&prsim;\":\"\",\"&prurel;\":\"\",\"&pscr;\":\"\",\"&psi;\":\"\",\"&puncsp;\":\"\",\"&qfr;\":\"\",\"&qint;\":\"\",\"&qopf;\":\"\",\"&qprime;\":\"\",\"&qscr;\":\"\",\"&quaternions;\":\"\",\"&quatint;\":\"\",\"&quest;\":\"?\",\"&questeq;\":\"\",\"&quot\":'\"',\"&quot;\":'\"',\"&rAarr;\":\"\",\"&rArr;\":\"\",\"&rAtail;\":\"\",\"&rBarr;\":\"\",\"&rHar;\":\"\",\"&race;\":\"\",\"&racute;\":\"\",\"&radic;\":\"\",\"&raemptyv;\":\"\",\"&rang;\":\"\",\"&rangd;\":\"\",\"&range;\":\"\",\"&rangle;\":\"\",\"&raquo\":\"\",\"&raquo;\":\"\",\"&rarr;\":\"\",\"&rarrap;\":\"\",\"&rarrb;\":\"\",\"&rarrbfs;\":\"\",\"&rarrc;\":\"\",\"&rarrfs;\":\"\",\"&rarrhk;\":\"\",\"&rarrlp;\":\"\",\"&rarrpl;\":\"\",\"&rarrsim;\":\"\",\"&rarrtl;\":\"\",\"&rarrw;\":\"\",\"&ratail;\":\"\",\"&ratio;\":\"\",\"&rationals;\":\"\",\"&rbarr;\":\"\",\"&rbbrk;\":\"\",\"&rbrace;\":\"}\",\"&rbrack;\":\"]\",\"&rbrke;\":\"\",\"&rbrksld;\":\"\",\"&rbrkslu;\":\"\",\"&rcaron;\":\"\",\"&rcedil;\":\"\",\"&rceil;\":\"\",\"&rcub;\":\"}\",\"&rcy;\":\"\",\"&rdca;\":\"\",\"&rdldhar;\":\"\",\"&rdquo;\":\"\",\"&rdquor;\":\"\",\"&rdsh;\":\"\",\"&real;\":\"\",\"&realine;\":\"\",\"&realpart;\":\"\",\"&reals;\":\"\",\"&rect;\":\"\",\"&reg\":\"\",\"&reg;\":\"\",\"&rfisht;\":\"\",\"&rfloor;\":\"\",\"&rfr;\":\"\",\"&rhard;\":\"\",\"&rharu;\":\"\",\"&rharul;\":\"\",\"&rho;\":\"\",\"&rhov;\":\"\",\"&rightarrow;\":\"\",\"&rightarrowtail;\":\"\",\"&rightharpoondown;\":\"\",\"&rightharpoonup;\":\"\",\"&rightleftarrows;\":\"\",\"&rightleftharpoons;\":\"\",\"&rightrightarrows;\":\"\",\"&rightsquigarrow;\":\"\",\"&rightthreetimes;\":\"\",\"&ring;\":\"\",\"&risingdotseq;\":\"\",\"&rlarr;\":\"\",\"&rlhar;\":\"\",\"&rlm;\":\"\",\"&rmoust;\":\"\",\"&rmoustache;\":\"\",\"&rnmid;\":\"\",\"&roang;\":\"\",\"&roarr;\":\"\",\"&robrk;\":\"\",\"&ropar;\":\"\",\"&ropf;\":\"\",\"&roplus;\":\"\",\"&rotimes;\":\"\",\"&rpar;\":\")\",\"&rpargt;\":\"\",\"&rppolint;\":\"\",\"&rrarr;\":\"\",\"&rsaquo;\":\"\",\"&rscr;\":\"\",\"&rsh;\":\"\",\"&rsqb;\":\"]\",\"&rsquo;\":\"\",\"&rsquor;\":\"\",\"&rthree;\":\"\",\"&rtimes;\":\"\",\"&rtri;\":\"\",\"&rtrie;\":\"\",\"&rtrif;\":\"\",\"&rtriltri;\":\"\",\"&ruluhar;\":\"\",\"&rx;\":\"\",\"&sacute;\":\"\",\"&sbquo;\":\"\",\"&sc;\":\"\",\"&scE;\":\"\",\"&scap;\":\"\",\"&scaron;\":\"\",\"&sccue;\":\"\",\"&sce;\":\"\",\"&scedil;\":\"\",\"&scirc;\":\"\",\"&scnE;\":\"\",\"&scnap;\":\"\",\"&scnsim;\":\"\",\"&scpolint;\":\"\",\"&scsim;\":\"\",\"&scy;\":\"\",\"&sdot;\":\"\",\"&sdotb;\":\"\",\"&sdote;\":\"\",\"&seArr;\":\"\",\"&searhk;\":\"\",\"&searr;\":\"\",\"&searrow;\":\"\",\"&sect\":\"\",\"&sect;\":\"\",\"&semi;\":\";\",\"&seswar;\":\"\",\"&setminus;\":\"\",\"&setmn;\":\"\",\"&sext;\":\"\",\"&sfr;\":\"\",\"&sfrown;\":\"\",\"&sharp;\":\"\",\"&shchcy;\":\"\",\"&shcy;\":\"\",\"&shortmid;\":\"\",\"&shortparallel;\":\"\",\"&shy\":\"\",\"&shy;\":\"\",\"&sigma;\":\"\",\"&sigmaf;\":\"\",\"&sigmav;\":\"\",\"&sim;\":\"\",\"&simdot;\":\"\",\"&sime;\":\"\",\"&simeq;\":\"\",\"&simg;\":\"\",\"&simgE;\":\"\",\"&siml;\":\"\",\"&simlE;\":\"\",\"&simne;\":\"\",\"&simplus;\":\"\",\"&simrarr;\":\"\",\"&slarr;\":\"\",\"&smallsetminus;\":\"\",\"&smashp;\":\"\",\"&smeparsl;\":\"\",\"&smid;\":\"\",\"&smile;\":\"\",\"&smt;\":\"\",\"&smte;\":\"\",\"&smtes;\":\"\",\"&softcy;\":\"\",\"&sol;\":\"/\",\"&solb;\":\"\",\"&solbar;\":\"\",\"&sopf;\":\"\",\"&spades;\":\"\",\"&spadesuit;\":\"\",\"&spar;\":\"\",\"&sqcap;\":\"\",\"&sqcaps;\":\"\",\"&sqcup;\":\"\",\"&sqcups;\":\"\",\"&sqsub;\":\"\",\"&sqsube;\":\"\",\"&sqsubset;\":\"\",\"&sqsubseteq;\":\"\",\"&sqsup;\":\"\",\"&sqsupe;\":\"\",\"&sqsupset;\":\"\",\"&sqsupseteq;\":\"\",\"&squ;\":\"\",\"&square;\":\"\",\"&squarf;\":\"\",\"&squf;\":\"\",\"&srarr;\":\"\",\"&sscr;\":\"\",\"&ssetmn;\":\"\",\"&ssmile;\":\"\",\"&sstarf;\":\"\",\"&star;\":\"\",\"&starf;\":\"\",\"&straightepsilon;\":\"\",\"&straightphi;\":\"\",\"&strns;\":\"\",\"&sub;\":\"\",\"&subE;\":\"\",\"&subdot;\":\"\",\"&sube;\":\"\",\"&subedot;\":\"\",\"&submult;\":\"\",\"&subnE;\":\"\",\"&subne;\":\"\",\"&subplus;\":\"\",\"&subrarr;\":\"\",\"&subset;\":\"\",\"&subseteq;\":\"\",\"&subseteqq;\":\"\",\"&subsetneq;\":\"\",\"&subsetneqq;\":\"\",\"&subsim;\":\"\",\"&subsub;\":\"\",\"&subsup;\":\"\",\"&succ;\":\"\",\"&succapprox;\":\"\",\"&succcurlyeq;\":\"\",\"&succeq;\":\"\",\"&succnapprox;\":\"\",\"&succneqq;\":\"\",\"&succnsim;\":\"\",\"&succsim;\":\"\",\"&sum;\":\"\",\"&sung;\":\"\",\"&sup1\":\"\",\"&sup1;\":\"\",\"&sup2\":\"\",\"&sup2;\":\"\",\"&sup3\":\"\",\"&sup3;\":\"\",\"&sup;\":\"\",\"&supE;\":\"\",\"&supdot;\":\"\",\"&supdsub;\":\"\",\"&supe;\":\"\",\"&supedot;\":\"\",\"&suphsol;\":\"\",\"&suphsub;\":\"\",\"&suplarr;\":\"\",\"&supmult;\":\"\",\"&supnE;\":\"\",\"&supne;\":\"\",\"&supplus;\":\"\",\"&supset;\":\"\",\"&supseteq;\":\"\",\"&supseteqq;\":\"\",\"&supsetneq;\":\"\",\"&supsetneqq;\":\"\",\"&supsim;\":\"\",\"&supsub;\":\"\",\"&supsup;\":\"\",\"&swArr;\":\"\",\"&swarhk;\":\"\",\"&swarr;\":\"\",\"&swarrow;\":\"\",\"&swnwar;\":\"\",\"&szlig\":\"\",\"&szlig;\":\"\",\"&target;\":\"\",\"&tau;\":\"\",\"&tbrk;\":\"\",\"&tcaron;\":\"\",\"&tcedil;\":\"\",\"&tcy;\":\"\",\"&tdot;\":\"\",\"&telrec;\":\"\",\"&tfr;\":\"\",\"&there4;\":\"\",\"&therefore;\":\"\",\"&theta;\":\"\",\"&thetasym;\":\"\",\"&thetav;\":\"\",\"&thickapprox;\":\"\",\"&thicksim;\":\"\",\"&thinsp;\":\"\",\"&thkap;\":\"\",\"&thksim;\":\"\",\"&thorn\":\"\",\"&thorn;\":\"\",\"&tilde;\":\"\",\"&times\":\"\",\"&times;\":\"\",\"&timesb;\":\"\",\"&timesbar;\":\"\",\"&timesd;\":\"\",\"&tint;\":\"\",\"&toea;\":\"\",\"&top;\":\"\",\"&topbot;\":\"\",\"&topcir;\":\"\",\"&topf;\":\"\",\"&topfork;\":\"\",\"&tosa;\":\"\",\"&tprime;\":\"\",\"&trade;\":\"\",\"&triangle;\":\"\",\"&triangledown;\":\"\",\"&triangleleft;\":\"\",\"&trianglelefteq;\":\"\",\"&triangleq;\":\"\",\"&triangleright;\":\"\",\"&trianglerighteq;\":\"\",\"&tridot;\":\"\",\"&trie;\":\"\",\"&triminus;\":\"\",\"&triplus;\":\"\",\"&trisb;\":\"\",\"&tritime;\":\"\",\"&trpezium;\":\"\",\"&tscr;\":\"\",\"&tscy;\":\"\",\"&tshcy;\":\"\",\"&tstrok;\":\"\",\"&twixt;\":\"\",\"&twoheadleftarrow;\":\"\",\"&twoheadrightarrow;\":\"\",\"&uArr;\":\"\",\"&uHar;\":\"\",\"&uacute\":\"\",\"&uacute;\":\"\",\"&uarr;\":\"\",\"&ubrcy;\":\"\",\"&ubreve;\":\"\",\"&ucirc\":\"\",\"&ucirc;\":\"\",\"&ucy;\":\"\",\"&udarr;\":\"\",\"&udblac;\":\"\",\"&udhar;\":\"\",\"&ufisht;\":\"\",\"&ufr;\":\"\",\"&ugrave\":\"\",\"&ugrave;\":\"\",\"&uharl;\":\"\",\"&uharr;\":\"\",\"&uhblk;\":\"\",\"&ulcorn;\":\"\",\"&ulcorner;\":\"\",\"&ulcrop;\":\"\",\"&ultri;\":\"\",\"&umacr;\":\"\",\"&uml\":\"\",\"&uml;\":\"\",\"&uogon;\":\"\",\"&uopf;\":\"\",\"&uparrow;\":\"\",\"&updownarrow;\":\"\",\"&upharpoonleft;\":\"\",\"&upharpoonright;\":\"\",\"&uplus;\":\"\",\"&upsi;\":\"\",\"&upsih;\":\"\",\"&upsilon;\":\"\",\"&upuparrows;\":\"\",\"&urcorn;\":\"\",\"&urcorner;\":\"\",\"&urcrop;\":\"\",\"&uring;\":\"\",\"&urtri;\":\"\",\"&uscr;\":\"\",\"&utdot;\":\"\",\"&utilde;\":\"\",\"&utri;\":\"\",\"&utrif;\":\"\",\"&uuarr;\":\"\",\"&uuml\":\"\",\"&uuml;\":\"\",\"&uwangle;\":\"\",\"&vArr;\":\"\",\"&vBar;\":\"\",\"&vBarv;\":\"\",\"&vDash;\":\"\",\"&vangrt;\":\"\",\"&varepsilon;\":\"\",\"&varkappa;\":\"\",\"&varnothing;\":\"\",\"&varphi;\":\"\",\"&varpi;\":\"\",\"&varpropto;\":\"\",\"&varr;\":\"\",\"&varrho;\":\"\",\"&varsigma;\":\"\",\"&varsubsetneq;\":\"\",\"&varsubsetneqq;\":\"\",\"&varsupsetneq;\":\"\",\"&varsupsetneqq;\":\"\",\"&vartheta;\":\"\",\"&vartriangleleft;\":\"\",\"&vartriangleright;\":\"\",\"&vcy;\":\"\",\"&vdash;\":\"\",\"&vee;\":\"\",\"&veebar;\":\"\",\"&veeeq;\":\"\",\"&vellip;\":\"\",\"&verbar;\":\"|\",\"&vert;\":\"|\",\"&vfr;\":\"\",\"&vltri;\":\"\",\"&vnsub;\":\"\",\"&vnsup;\":\"\",\"&vopf;\":\"\",\"&vprop;\":\"\",\"&vrtri;\":\"\",\"&vscr;\":\"\",\"&vsubnE;\":\"\",\"&vsubne;\":\"\",\"&vsupnE;\":\"\",\"&vsupne;\":\"\",\"&vzigzag;\":\"\",\"&wcirc;\":\"\",\"&wedbar;\":\"\",\"&wedge;\":\"\",\"&wedgeq;\":\"\",\"&weierp;\":\"\",\"&wfr;\":\"\",\"&wopf;\":\"\",\"&wp;\":\"\",\"&wr;\":\"\",\"&wreath;\":\"\",\"&wscr;\":\"\",\"&xcap;\":\"\",\"&xcirc;\":\"\",\"&xcup;\":\"\",\"&xdtri;\":\"\",\"&xfr;\":\"\",\"&xhArr;\":\"\",\"&xharr;\":\"\",\"&xi;\":\"\",\"&xlArr;\":\"\",\"&xlarr;\":\"\",\"&xmap;\":\"\",\"&xnis;\":\"\",\"&xodot;\":\"\",\"&xopf;\":\"\",\"&xoplus;\":\"\",\"&xotime;\":\"\",\"&xrArr;\":\"\",\"&xrarr;\":\"\",\"&xscr;\":\"\",\"&xsqcup;\":\"\",\"&xuplus;\":\"\",\"&xutri;\":\"\",\"&xvee;\":\"\",\"&xwedge;\":\"\",\"&yacute\":\"\",\"&yacute;\":\"\",\"&yacy;\":\"\",\"&ycirc;\":\"\",\"&ycy;\":\"\",\"&yen\":\"\",\"&yen;\":\"\",\"&yfr;\":\"\",\"&yicy;\":\"\",\"&yopf;\":\"\",\"&yscr;\":\"\",\"&yucy;\":\"\",\"&yuml\":\"\",\"&yuml;\":\"\",\"&zacute;\":\"\",\"&zcaron;\":\"\",\"&zcy;\":\"\",\"&zdot;\":\"\",\"&zeetrf;\":\"\",\"&zeta;\":\"\",\"&zfr;\":\"\",\"&zhcy;\":\"\",\"&zigrarr;\":\"\",\"&zopf;\":\"\",\"&zscr;\":\"\",\"&zwj;\":\"\",\"&zwnj;\":\"\"},characters:{\"\":\"&AElig;\",\"&\":\"&amp;\",\"\":\"&Aacute;\",\"\":\"&Abreve;\",\"\":\"&Acirc;\",\"\":\"&Acy;\",\"\":\"&Afr;\",\"\":\"&Agrave;\",\"\":\"&Alpha;\",\"\":\"&Amacr;\",\"\":\"&And;\",\"\":\"&Aogon;\",\"\":\"&Aopf;\",\"\":\"&af;\",\"\":\"&angst;\",\"\":\"&Ascr;\",\"\":\"&coloneq;\",\"\":\"&Atilde;\",\"\":\"&Auml;\",\"\":\"&ssetmn;\",\"\":\"&Barv;\",\"\":\"&doublebarwedge;\",\"\":\"&Bcy;\",\"\":\"&because;\",\"\":\"&bernou;\",\"\":\"&Beta;\",\"\":\"&Bfr;\",\"\":\"&Bopf;\",\"\":\"&breve;\",\"\":\"&bump;\",\"\":\"&CHcy;\",\"\":\"&copy;\",\"\":\"&Cacute;\",\"\":\"&Cap;\",\"\":\"&DD;\",\"\":\"&Cfr;\",\"\":\"&Ccaron;\",\"\":\"&Ccedil;\",\"\":\"&Ccirc;\",\"\":\"&Cconint;\",\"\":\"&Cdot;\",\"\":\"&cedil;\",\"\":\"&middot;\",\"\":\"&Chi;\",\"\":\"&odot;\",\"\":\"&ominus;\",\"\":\"&oplus;\",\"\":\"&otimes;\",\"\":\"&cwconint;\",\"\":\"&rdquor;\",\"\":\"&rsquor;\",\"\":\"&Proportion;\",\"\":\"&Colone;\",\"\":\"&equiv;\",\"\":\"&DoubleContourIntegral;\",\"\":\"&oint;\",\"\":\"&complexes;\",\"\":\"&coprod;\",\"\":\"&awconint;\",\"\":\"&Cross;\",\"\":\"&Cscr;\",\"\":\"&Cup;\",\"\":\"&asympeq;\",\"\":\"&DDotrahd;\",\"\":\"&DJcy;\",\"\":\"&DScy;\",\"\":\"&DZcy;\",\"\":\"&ddagger;\",\"\":\"&Darr;\",\"\":\"&DoubleLeftTee;\",\"\":\"&Dcaron;\",\"\":\"&Dcy;\",\"\":\"&nabla;\",\"\":\"&Delta;\",\"\":\"&Dfr;\",\"\":\"&acute;\",\"\":\"&dot;\",\"\":\"&dblac;\",\"`\":\"&grave;\",\"\":\"&tilde;\",\"\":\"&diamond;\",\"\":\"&dd;\",\"\":\"&Dopf;\",\"\":\"&uml;\",\"\":\"&DotDot;\",\"\":\"&esdot;\",\"\":\"&dArr;\",\"\":\"&lArr;\",\"\":\"&iff;\",\"\":\"&xlArr;\",\"\":\"&xhArr;\",\"\":\"&xrArr;\",\"\":\"&rArr;\",\"\":\"&vDash;\",\"\":\"&uArr;\",\"\":\"&vArr;\",\"\":\"&spar;\",\"\":\"&downarrow;\",\"\":\"&DownArrowBar;\",\"\":\"&duarr;\",\"\":\"&DownBreve;\",\"\":\"&DownLeftRightVector;\",\"\":\"&DownLeftTeeVector;\",\"\":\"&lhard;\",\"\":\"&DownLeftVectorBar;\",\"\":\"&DownRightTeeVector;\",\"\":\"&rightharpoondown;\",\"\":\"&DownRightVectorBar;\",\"\":\"&top;\",\"\":\"&mapstodown;\",\"\":\"&Dscr;\",\"\":\"&Dstrok;\",\"\":\"&ENG;\",\"\":\"&ETH;\",\"\":\"&Eacute;\",\"\":\"&Ecaron;\",\"\":\"&Ecirc;\",\"\":\"&Ecy;\",\"\":\"&Edot;\",\"\":\"&Efr;\",\"\":\"&Egrave;\",\"\":\"&isinv;\",\"\":\"&Emacr;\",\"\":\"&EmptySmallSquare;\",\"\":\"&EmptyVerySmallSquare;\",\"\":\"&Eogon;\",\"\":\"&Eopf;\",\"\":\"&Epsilon;\",\"\":\"&Equal;\",\"\":\"&esim;\",\"\":\"&rlhar;\",\"\":\"&expectation;\",\"\":\"&Esim;\",\"\":\"&Eta;\",\"\":\"&Euml;\",\"\":\"&exist;\",\"\":\"&exponentiale;\",\"\":\"&Fcy;\",\"\":\"&Ffr;\",\"\":\"&FilledSmallSquare;\",\"\":\"&squf;\",\"\":\"&Fopf;\",\"\":\"&forall;\",\"\":\"&Fscr;\",\"\":\"&GJcy;\",\">\":\"&gt;\",\"\":\"&Gamma;\",\"\":\"&Gammad;\",\"\":\"&Gbreve;\",\"\":\"&Gcedil;\",\"\":\"&Gcirc;\",\"\":\"&Gcy;\",\"\":\"&Gdot;\",\"\":\"&Gfr;\",\"\":\"&ggg;\",\"\":\"&Gopf;\",\"\":\"&geq;\",\"\":\"&gtreqless;\",\"\":\"&geqq;\",\"\":\"&GreaterGreater;\",\"\":\"&gtrless;\",\"\":\"&ges;\",\"\":\"&gtrsim;\",\"\":\"&Gscr;\",\"\":\"&gg;\",\"\":\"&HARDcy;\",\"\":\"&caron;\",\"^\":\"&Hat;\",\"\":\"&Hcirc;\",\"\":\"&Poincareplane;\",\"\":\"&hamilt;\",\"\":\"&quaternions;\",\"\":\"&boxh;\",\"\":\"&Hstrok;\",\"\":\"&bumpeq;\",\"\":\"&IEcy;\",\"\":\"&IJlig;\",\"\":\"&IOcy;\",\"\":\"&Iacute;\",\"\":\"&Icirc;\",\"\":\"&Icy;\",\"\":\"&Idot;\",\"\":\"&imagpart;\",\"\":\"&Igrave;\",\"\":\"&Imacr;\",\"\":\"&ii;\",\"\":\"&Int;\",\"\":\"&int;\",\"\":\"&xcap;\",\"\":\"&ic;\",\"\":\"&it;\",\"\":\"&Iogon;\",\"\":\"&Iopf;\",\"\":\"&Iota;\",\"\":\"&imagline;\",\"\":\"&Itilde;\",\"\":\"&Iukcy;\",\"\":\"&Iuml;\",\"\":\"&Jcirc;\",\"\":\"&Jcy;\",\"\":\"&Jfr;\",\"\":\"&Jopf;\",\"\":\"&Jscr;\",\"\":\"&Jsercy;\",\"\":\"&Jukcy;\",\"\":\"&KHcy;\",\"\":\"&KJcy;\",\"\":\"&Kappa;\",\"\":\"&Kcedil;\",\"\":\"&Kcy;\",\"\":\"&Kfr;\",\"\":\"&Kopf;\",\"\":\"&Kscr;\",\"\":\"&LJcy;\",\"<\":\"&lt;\",\"\":\"&Lacute;\",\"\":\"&Lambda;\",\"\":\"&Lang;\",\"\":\"&lagran;\",\"\":\"&twoheadleftarrow;\",\"\":\"&Lcaron;\",\"\":\"&Lcedil;\",\"\":\"&Lcy;\",\"\":\"&langle;\",\"\":\"&slarr;\",\"\":\"&larrb;\",\"\":\"&lrarr;\",\"\":\"&lceil;\",\"\":\"&lobrk;\",\"\":\"&LeftDownTeeVector;\",\"\":\"&downharpoonleft;\",\"\":\"&LeftDownVectorBar;\",\"\":\"&lfloor;\",\"\":\"&leftrightarrow;\",\"\":\"&LeftRightVector;\",\"\":\"&dashv;\",\"\":\"&mapstoleft;\",\"\":\"&LeftTeeVector;\",\"\":\"&vltri;\",\"\":\"&LeftTriangleBar;\",\"\":\"&trianglelefteq;\",\"\":\"&LeftUpDownVector;\",\"\":\"&LeftUpTeeVector;\",\"\":\"&upharpoonleft;\",\"\":\"&LeftUpVectorBar;\",\"\":\"&lharu;\",\"\":\"&LeftVectorBar;\",\"\":\"&lesseqgtr;\",\"\":\"&leqq;\",\"\":\"&lg;\",\"\":\"&LessLess;\",\"\":\"&les;\",\"\":\"&lsim;\",\"\":\"&Lfr;\",\"\":\"&Ll;\",\"\":\"&lAarr;\",\"\":\"&Lmidot;\",\"\":\"&xlarr;\",\"\":\"&xharr;\",\"\":\"&xrarr;\",\"\":\"&Lopf;\",\"\":\"&swarrow;\",\"\":\"&searrow;\",\"\":\"&lsh;\",\"\":\"&Lstrok;\",\"\":\"&ll;\",\"\":\"&Map;\",\"\":\"&Mcy;\",\"\":\"&MediumSpace;\",\"\":\"&phmmat;\",\"\":\"&Mfr;\",\"\":\"&mp;\",\"\":\"&Mopf;\",\"\":\"&Mu;\",\"\":\"&NJcy;\",\"\":\"&Nacute;\",\"\":\"&Ncaron;\",\"\":\"&Ncedil;\",\"\":\"&Ncy;\",\"\":\"&ZeroWidthSpace;\",\"\\n\":\"&NewLine;\",\"\":\"&Nfr;\",\"\":\"&NoBreak;\",\"\":\"&nbsp;\",\"\":\"&naturals;\",\"\":\"&Not;\",\"\":\"&nequiv;\",\"\":\"&NotCupCap;\",\"\":\"&nspar;\",\"\":\"&notinva;\",\"\":\"&ne;\",\"\":\"&nesim;\",\"\":\"&nexists;\",\"\":\"&ngtr;\",\"\":\"&ngeq;\",\"\":\"&ngeqq;\",\"\":\"&nGtv;\",\"\":\"&ntgl;\",\"\":\"&nges;\",\"\":\"&ngsim;\",\"\":\"&nbump;\",\"\":\"&nbumpe;\",\"\":\"&ntriangleleft;\",\"\":\"&NotLeftTriangleBar;\",\"\":\"&ntrianglelefteq;\",\"\":\"&nlt;\",\"\":\"&nleq;\",\"\":\"&ntlg;\",\"\":\"&nLtv;\",\"\":\"&nles;\",\"\":\"&nlsim;\",\"\":\"&NotNestedGreaterGreater;\",\"\":\"&NotNestedLessLess;\",\"\":\"&nprec;\",\"\":\"&npreceq;\",\"\":\"&nprcue;\",\"\":\"&notniva;\",\"\":\"&ntriangleright;\",\"\":\"&NotRightTriangleBar;\",\"\":\"&ntrianglerighteq;\",\"\":\"&NotSquareSubset;\",\"\":\"&nsqsube;\",\"\":\"&NotSquareSuperset;\",\"\":\"&nsqsupe;\",\"\":\"&vnsub;\",\"\":\"&nsubseteq;\",\"\":\"&nsucc;\",\"\":\"&nsucceq;\",\"\":\"&nsccue;\",\"\":\"&NotSucceedsTilde;\",\"\":\"&vnsup;\",\"\":\"&nsupseteq;\",\"\":\"&nsim;\",\"\":\"&nsimeq;\",\"\":\"&ncong;\",\"\":\"&napprox;\",\"\":\"&nsmid;\",\"\":\"&Nscr;\",\"\":\"&Ntilde;\",\"\":\"&Nu;\",\"\":\"&OElig;\",\"\":\"&Oacute;\",\"\":\"&Ocirc;\",\"\":\"&Ocy;\",\"\":\"&Odblac;\",\"\":\"&Ofr;\",\"\":\"&Ograve;\",\"\":\"&Omacr;\",\"\":\"&ohm;\",\"\":\"&Omicron;\",\"\":\"&Oopf;\",\"\":\"&ldquo;\",\"\":\"&lsquo;\",\"\":\"&Or;\",\"\":\"&Oscr;\",\"\":\"&Oslash;\",\"\":\"&Otilde;\",\"\":\"&Otimes;\",\"\":\"&Ouml;\",\"\":\"&oline;\",\"\":\"&OverBrace;\",\"\":\"&tbrk;\",\"\":\"&OverParenthesis;\",\"\":\"&part;\",\"\":\"&Pcy;\",\"\":\"&Pfr;\",\"\":\"&Phi;\",\"\":\"&Pi;\",\"\":\"&pm;\",\"\":\"&primes;\",\"\":\"&Pr;\",\"\":\"&prec;\",\"\":\"&preceq;\",\"\":\"&preccurlyeq;\",\"\":\"&prsim;\",\"\":\"&Prime;\",\"\":\"&prod;\",\"\":\"&vprop;\",\"\":\"&Pscr;\",\"\":\"&Psi;\",'\"':\"&quot;\",\"\":\"&Qfr;\",\"\":\"&rationals;\",\"\":\"&Qscr;\",\"\":\"&drbkarow;\",\"\":\"&reg;\",\"\":\"&Racute;\",\"\":\"&Rang;\",\"\":\"&twoheadrightarrow;\",\"\":\"&Rarrtl;\",\"\":\"&Rcaron;\",\"\":\"&Rcedil;\",\"\":\"&Rcy;\",\"\":\"&realpart;\",\"\":\"&niv;\",\"\":\"&lrhar;\",\"\":\"&duhar;\",\"\":\"&Rho;\",\"\":\"&rangle;\",\"\":\"&srarr;\",\"\":\"&rarrb;\",\"\":\"&rlarr;\",\"\":\"&rceil;\",\"\":\"&robrk;\",\"\":\"&RightDownTeeVector;\",\"\":\"&downharpoonright;\",\"\":\"&RightDownVectorBar;\",\"\":\"&rfloor;\",\"\":\"&vdash;\",\"\":\"&mapsto;\",\"\":\"&RightTeeVector;\",\"\":\"&vrtri;\",\"\":\"&RightTriangleBar;\",\"\":\"&trianglerighteq;\",\"\":\"&RightUpDownVector;\",\"\":\"&RightUpTeeVector;\",\"\":\"&upharpoonright;\",\"\":\"&RightUpVectorBar;\",\"\":\"&rightharpoonup;\",\"\":\"&RightVectorBar;\",\"\":\"&reals;\",\"\":\"&RoundImplies;\",\"\":\"&rAarr;\",\"\":\"&realine;\",\"\":\"&rsh;\",\"\":\"&RuleDelayed;\",\"\":\"&SHCHcy;\",\"\":\"&SHcy;\",\"\":\"&SOFTcy;\",\"\":\"&Sacute;\",\"\":\"&Sc;\",\"\":\"&Scaron;\",\"\":\"&Scedil;\",\"\":\"&Scirc;\",\"\":\"&Scy;\",\"\":\"&Sfr;\",\"\":\"&uparrow;\",\"\":\"&Sigma;\",\"\":\"&compfn;\",\"\":\"&Sopf;\",\"\":\"&radic;\",\"\":\"&square;\",\"\":\"&sqcap;\",\"\":\"&sqsubset;\",\"\":\"&sqsubseteq;\",\"\":\"&sqsupset;\",\"\":\"&sqsupseteq;\",\"\":\"&sqcup;\",\"\":\"&Sscr;\",\"\":\"&sstarf;\",\"\":\"&Subset;\",\"\":\"&subseteq;\",\"\":\"&succ;\",\"\":\"&succeq;\",\"\":\"&succcurlyeq;\",\"\":\"&succsim;\",\"\":\"&sum;\",\"\":\"&Supset;\",\"\":\"&supset;\",\"\":\"&supseteq;\",\"\":\"&THORN;\",\"\":\"&trade;\",\"\":\"&TSHcy;\",\"\":\"&TScy;\",\"\\t\":\"&Tab;\",\"\":\"&Tau;\",\"\":\"&Tcaron;\",\"\":\"&Tcedil;\",\"\":\"&Tcy;\",\"\":\"&Tfr;\",\"\":\"&therefore;\",\"\":\"&Theta;\",\"\":\"&ThickSpace;\",\"\":\"&thinsp;\",\"\":\"&thksim;\",\"\":\"&simeq;\",\"\":\"&cong;\",\"\":\"&thkap;\",\"\":\"&Topf;\",\"\":\"&tdot;\",\"\":\"&Tscr;\",\"\":\"&Tstrok;\",\"\":\"&Uacute;\",\"\":\"&Uarr;\",\"\":\"&Uarrocir;\",\"\":\"&Ubrcy;\",\"\":\"&Ubreve;\",\"\":\"&Ucirc;\",\"\":\"&Ucy;\",\"\":\"&Udblac;\",\"\":\"&Ufr;\",\"\":\"&Ugrave;\",\"\":\"&Umacr;\",_:\"&lowbar;\",\"\":\"&UnderBrace;\",\"\":\"&bbrk;\",\"\":\"&UnderParenthesis;\",\"\":\"&xcup;\",\"\":\"&uplus;\",\"\":\"&Uogon;\",\"\":\"&Uopf;\",\"\":\"&UpArrowBar;\",\"\":\"&udarr;\",\"\":\"&varr;\",\"\":\"&udhar;\",\"\":\"&perp;\",\"\":\"&mapstoup;\",\"\":\"&nwarrow;\",\"\":\"&nearrow;\",\"\":\"&upsih;\",\"\":\"&Upsilon;\",\"\":\"&Uring;\",\"\":\"&Uscr;\",\"\":\"&Utilde;\",\"\":\"&Uuml;\",\"\":\"&VDash;\",\"\":\"&Vbar;\",\"\":\"&Vcy;\",\"\":\"&Vdash;\",\"\":\"&Vdashl;\",\"\":\"&xvee;\",\"\":\"&Vert;\",\"\":\"&smid;\",\"|\":\"&vert;\",\"\":\"&VerticalSeparator;\",\"\":\"&wreath;\",\"\":\"&hairsp;\",\"\":\"&Vfr;\",\"\":\"&Vopf;\",\"\":\"&Vscr;\",\"\":\"&Vvdash;\",\"\":\"&Wcirc;\",\"\":\"&xwedge;\",\"\":\"&Wfr;\",\"\":\"&Wopf;\",\"\":\"&Wscr;\",\"\":\"&Xfr;\",\"\":\"&Xi;\",\"\":\"&Xopf;\",\"\":\"&Xscr;\",\"\":\"&YAcy;\",\"\":\"&YIcy;\",\"\":\"&YUcy;\",\"\":\"&Yacute;\",\"\":\"&Ycirc;\",\"\":\"&Ycy;\",\"\":\"&Yfr;\",\"\":\"&Yopf;\",\"\":\"&Yscr;\",\"\":\"&Yuml;\",\"\":\"&ZHcy;\",\"\":\"&Zacute;\",\"\":\"&Zcaron;\",\"\":\"&Zcy;\",\"\":\"&Zdot;\",\"\":\"&Zeta;\",\"\":\"&zeetrf;\",\"\":\"&integers;\",\"\":\"&Zscr;\",\"\":\"&aacute;\",\"\":\"&abreve;\",\"\":\"&mstpos;\",\"\":\"&acE;\",\"\":\"&acd;\",\"\":\"&acirc;\",\"\":\"&acy;\",\"\":\"&aelig;\",\"\":\"&afr;\",\"\":\"&agrave;\",\"\":\"&aleph;\",\"\":\"&alpha;\",\"\":\"&amacr;\",\"\":\"&amalg;\",\"\":\"&wedge;\",\"\":\"&andand;\",\"\":\"&andd;\",\"\":\"&andslope;\",\"\":\"&andv;\",\"\":\"&angle;\",\"\":\"&ange;\",\"\":\"&measuredangle;\",\"\":\"&angmsdaa;\",\"\":\"&angmsdab;\",\"\":\"&angmsdac;\",\"\":\"&angmsdad;\",\"\":\"&angmsdae;\",\"\":\"&angmsdaf;\",\"\":\"&angmsdag;\",\"\":\"&angmsdah;\",\"\":\"&angrt;\",\"\":\"&angrtvb;\",\"\":\"&angrtvbd;\",\"\":\"&angsph;\",\"\":\"&angzarr;\",\"\":\"&aogon;\",\"\":\"&aopf;\",\"\":\"&apE;\",\"\":\"&apacir;\",\"\":\"&approxeq;\",\"\":\"&apid;\",\"'\":\"&apos;\",\"\":\"&aring;\",\"\":\"&ascr;\",\"*\":\"&midast;\",\"\":\"&atilde;\",\"\":\"&auml;\",\"\":\"&awint;\",\"\":\"&bNot;\",\"\":\"&bcong;\",\"\":\"&bepsi;\",\"\":\"&bprime;\",\"\":\"&bsim;\",\"\":\"&bsime;\",\"\":\"&barvee;\",\"\":\"&barwedge;\",\"\":\"&bbrktbrk;\",\"\":\"&bcy;\",\"\":\"&ldquor;\",\"\":\"&bemptyv;\",\"\":\"&beta;\",\"\":\"&beth;\",\"\":\"&twixt;\",\"\":\"&bfr;\",\"\":\"&xcirc;\",\"\":\"&xodot;\",\"\":\"&xoplus;\",\"\":\"&xotime;\",\"\":\"&xsqcup;\",\"\":\"&starf;\",\"\":\"&xdtri;\",\"\":\"&xutri;\",\"\":\"&xuplus;\",\"\":\"&rbarr;\",\"\":\"&lozf;\",\"\":\"&utrif;\",\"\":\"&dtrif;\",\"\":\"&ltrif;\",\"\":\"&rtrif;\",\"\":\"&blank;\",\"\":\"&blk12;\",\"\":\"&blk14;\",\"\":\"&blk34;\",\"\":\"&block;\",\"=\":\"&bne;\",\"\":\"&bnequiv;\",\"\":\"&bnot;\",\"\":\"&bopf;\",\"\":\"&bowtie;\",\"\":\"&boxDL;\",\"\":\"&boxDR;\",\"\":\"&boxDl;\",\"\":\"&boxDr;\",\"\":\"&boxH;\",\"\":\"&boxHD;\",\"\":\"&boxHU;\",\"\":\"&boxHd;\",\"\":\"&boxHu;\",\"\":\"&boxUL;\",\"\":\"&boxUR;\",\"\":\"&boxUl;\",\"\":\"&boxUr;\",\"\":\"&boxV;\",\"\":\"&boxVH;\",\"\":\"&boxVL;\",\"\":\"&boxVR;\",\"\":\"&boxVh;\",\"\":\"&boxVl;\",\"\":\"&boxVr;\",\"\":\"&boxbox;\",\"\":\"&boxdL;\",\"\":\"&boxdR;\",\"\":\"&boxdl;\",\"\":\"&boxdr;\",\"\":\"&boxhD;\",\"\":\"&boxhU;\",\"\":\"&boxhd;\",\"\":\"&boxhu;\",\"\":\"&minusb;\",\"\":\"&plusb;\",\"\":\"&timesb;\",\"\":\"&boxuL;\",\"\":\"&boxuR;\",\"\":\"&boxul;\",\"\":\"&boxur;\",\"\":\"&boxv;\",\"\":\"&boxvH;\",\"\":\"&boxvL;\",\"\":\"&boxvR;\",\"\":\"&boxvh;\",\"\":\"&boxvl;\",\"\":\"&boxvr;\",\"\":\"&brvbar;\",\"\":\"&bscr;\",\"\":\"&bsemi;\",\"\\\\\":\"&bsol;\",\"\":\"&bsolb;\",\"\":\"&bsolhsub;\",\"\":\"&bullet;\",\"\":\"&bumpE;\",\"\":\"&cacute;\",\"\":\"&cap;\",\"\":\"&capand;\",\"\":\"&capbrcup;\",\"\":\"&capcap;\",\"\":\"&capcup;\",\"\":\"&capdot;\",\"\":\"&caps;\",\"\":\"&caret;\",\"\":\"&ccaps;\",\"\":\"&ccaron;\",\"\":\"&ccedil;\",\"\":\"&ccirc;\",\"\":\"&ccups;\",\"\":\"&ccupssm;\",\"\":\"&cdot;\",\"\":\"&cemptyv;\",\"\":\"&cent;\",\"\":\"&cfr;\",\"\":\"&chcy;\",\"\":\"&checkmark;\",\"\":\"&chi;\",\"\":\"&cir;\",\"\":\"&cirE;\",\"\":\"&circ;\",\"\":\"&cire;\",\"\":\"&olarr;\",\"\":\"&orarr;\",\"\":\"&oS;\",\"\":\"&oast;\",\"\":\"&ocir;\",\"\":\"&odash;\",\"\":\"&cirfnint;\",\"\":\"&cirmid;\",\"\":\"&cirscir;\",\"\":\"&clubsuit;\",\":\":\"&colon;\",\",\":\"&comma;\",\"@\":\"&commat;\",\"\":\"&complement;\",\"\":\"&congdot;\",\"\":\"&copf;\",\"\":\"&copysr;\",\"\":\"&crarr;\",\"\":\"&cross;\",\"\":\"&cscr;\",\"\":\"&csub;\",\"\":\"&csube;\",\"\":\"&csup;\",\"\":\"&csupe;\",\"\":\"&ctdot;\",\"\":\"&cudarrl;\",\"\":\"&cudarrr;\",\"\":\"&curlyeqprec;\",\"\":\"&curlyeqsucc;\",\"\":\"&curvearrowleft;\",\"\":\"&cularrp;\",\"\":\"&cup;\",\"\":\"&cupbrcap;\",\"\":\"&cupcap;\",\"\":\"&cupcup;\",\"\":\"&cupdot;\",\"\":\"&cupor;\",\"\":\"&cups;\",\"\":\"&curvearrowright;\",\"\":\"&curarrm;\",\"\":\"&cuvee;\",\"\":\"&cuwed;\",\"\":\"&curren;\",\"\":\"&cwint;\",\"\":\"&cylcty;\",\"\":\"&dHar;\",\"\":\"&dagger;\",\"\":\"&daleth;\",\"\":\"&hyphen;\",\"\":\"&rBarr;\",\"\":\"&dcaron;\",\"\":\"&dcy;\",\"\":\"&downdownarrows;\",\"\":\"&eDDot;\",\"\":\"&deg;\",\"\":\"&delta;\",\"\":\"&demptyv;\",\"\":\"&dfisht;\",\"\":\"&dfr;\",\"\":\"&diams;\",\"\":\"&gammad;\",\"\":\"&disin;\",\"\":\"&divide;\",\"\":\"&divonx;\",\"\":\"&djcy;\",\"\":\"&llcorner;\",\"\":\"&dlcrop;\",$:\"&dollar;\",\"\":\"&dopf;\",\"\":\"&eDot;\",\"\":\"&minusd;\",\"\":\"&plusdo;\",\"\":\"&sdotb;\",\"\":\"&lrcorner;\",\"\":\"&drcrop;\",\"\":\"&dscr;\",\"\":\"&dscy;\",\"\":\"&dsol;\",\"\":\"&dstrok;\",\"\":\"&dtdot;\",\"\":\"&triangledown;\",\"\":\"&dwangle;\",\"\":\"&dzcy;\",\"\":\"&dzigrarr;\",\"\":\"&eacute;\",\"\":\"&easter;\",\"\":\"&ecaron;\",\"\":\"&eqcirc;\",\"\":\"&ecirc;\",\"\":\"&eqcolon;\",\"\":\"&ecy;\",\"\":\"&edot;\",\"\":\"&fallingdotseq;\",\"\":\"&efr;\",\"\":\"&eg;\",\"\":\"&egrave;\",\"\":\"&eqslantgtr;\",\"\":\"&egsdot;\",\"\":\"&el;\",\"\":\"&elinters;\",\"\":\"&ell;\",\"\":\"&eqslantless;\",\"\":\"&elsdot;\",\"\":\"&emacr;\",\"\":\"&varnothing;\",\"\":\"&emsp13;\",\"\":\"&emsp14;\",\"\":\"&emsp;\",\"\":\"&eng;\",\"\":\"&ensp;\",\"\":\"&eogon;\",\"\":\"&eopf;\",\"\":\"&epar;\",\"\":\"&eparsl;\",\"\":\"&eplus;\",\"\":\"&epsilon;\",\"\":\"&varepsilon;\",\"=\":\"&equals;\",\"\":\"&questeq;\",\"\":\"&equivDD;\",\"\":\"&eqvparsl;\",\"\":\"&risingdotseq;\",\"\":\"&erarr;\",\"\":\"&escr;\",\"\":\"&eta;\",\"\":\"&eth;\",\"\":\"&euml;\",\"\":\"&euro;\",\"!\":\"&excl;\",\"\":\"&fcy;\",\"\":\"&female;\",\"\":\"&ffilig;\",\"\":\"&fflig;\",\"\":\"&ffllig;\",\"\":\"&ffr;\",\"\":\"&filig;\",fj:\"&fjlig;\",\"\":\"&flat;\",\"\":\"&fllig;\",\"\":\"&fltns;\",\"\":\"&fnof;\",\"\":\"&fopf;\",\"\":\"&pitchfork;\",\"\":\"&forkv;\",\"\":\"&fpartint;\",\"\":\"&half;\",\"\":\"&frac13;\",\"\":\"&frac14;\",\"\":\"&frac15;\",\"\":\"&frac16;\",\"\":\"&frac18;\",\"\":\"&frac23;\",\"\":\"&frac25;\",\"\":\"&frac34;\",\"\":\"&frac35;\",\"\":\"&frac38;\",\"\":\"&frac45;\",\"\":\"&frac56;\",\"\":\"&frac58;\",\"\":\"&frac78;\",\"\":\"&frasl;\",\"\":\"&sfrown;\",\"\":\"&fscr;\",\"\":\"&gtreqqless;\",\"\":\"&gacute;\",\"\":\"&gamma;\",\"\":\"&gtrapprox;\",\"\":\"&gbreve;\",\"\":\"&gcirc;\",\"\":\"&gcy;\",\"\":\"&gdot;\",\"\":\"&gescc;\",\"\":\"&gesdot;\",\"\":\"&gesdoto;\",\"\":\"&gesdotol;\",\"\":\"&gesl;\",\"\":\"&gesles;\",\"\":\"&gfr;\",\"\":\"&gimel;\",\"\":\"&gjcy;\",\"\":\"&glE;\",\"\":\"&gla;\",\"\":\"&glj;\",\"\":\"&gneqq;\",\"\":\"&gnapprox;\",\"\":\"&gneq;\",\"\":\"&gnsim;\",\"\":\"&gopf;\",\"\":\"&gscr;\",\"\":\"&gsime;\",\"\":\"&gsiml;\",\"\":\"&gtcc;\",\"\":\"&gtcir;\",\"\":\"&gtrdot;\",\"\":\"&gtlPar;\",\"\":\"&gtquest;\",\"\":\"&gtrarr;\",\"\":\"&gvnE;\",\"\":\"&hardcy;\",\"\":\"&harrcir;\",\"\":\"&leftrightsquigarrow;\",\"\":\"&plankv;\",\"\":\"&hcirc;\",\"\":\"&heartsuit;\",\"\":\"&mldr;\",\"\":\"&hercon;\",\"\":\"&hfr;\",\"\":\"&searhk;\",\"\":\"&swarhk;\",\"\":\"&hoarr;\",\"\":\"&homtht;\",\"\":\"&larrhk;\",\"\":\"&rarrhk;\",\"\":\"&hopf;\",\"\":\"&horbar;\",\"\":\"&hscr;\",\"\":\"&hstrok;\",\"\":\"&hybull;\",\"\":\"&iacute;\",\"\":\"&icirc;\",\"\":\"&icy;\",\"\":\"&iecy;\",\"\":\"&iexcl;\",\"\":\"&ifr;\",\"\":\"&igrave;\",\"\":\"&qint;\",\"\":\"&tint;\",\"\":\"&iinfin;\",\"\":\"&iiota;\",\"\":\"&ijlig;\",\"\":\"&imacr;\",\"\":\"&inodot;\",\"\":\"&imof;\",\"\":\"&imped;\",\"\":\"&incare;\",\"\":\"&infin;\",\"\":\"&infintie;\",\"\":\"&intercal;\",\"\":\"&intlarhk;\",\"\":\"&iprod;\",\"\":\"&iocy;\",\"\":\"&iogon;\",\"\":\"&iopf;\",\"\":\"&iota;\",\"\":\"&iquest;\",\"\":\"&iscr;\",\"\":\"&isinE;\",\"\":\"&isindot;\",\"\":\"&isins;\",\"\":\"&isinsv;\",\"\":\"&itilde;\",\"\":\"&iukcy;\",\"\":\"&iuml;\",\"\":\"&jcirc;\",\"\":\"&jcy;\",\"\":\"&jfr;\",\"\":\"&jmath;\",\"\":\"&jopf;\",\"\":\"&jscr;\",\"\":\"&jsercy;\",\"\":\"&jukcy;\",\"\":\"&kappa;\",\"\":\"&varkappa;\",\"\":\"&kcedil;\",\"\":\"&kcy;\",\"\":\"&kfr;\",\"\":\"&kgreen;\",\"\":\"&khcy;\",\"\":\"&kjcy;\",\"\":\"&kopf;\",\"\":\"&kscr;\",\"\":\"&lAtail;\",\"\":\"&lBarr;\",\"\":\"&lesseqqgtr;\",\"\":\"&lHar;\",\"\":\"&lacute;\",\"\":\"&laemptyv;\",\"\":\"&lambda;\",\"\":\"&langd;\",\"\":\"&lessapprox;\",\"\":\"&laquo;\",\"\":\"&larrbfs;\",\"\":\"&larrfs;\",\"\":\"&looparrowleft;\",\"\":\"&larrpl;\",\"\":\"&larrsim;\",\"\":\"&leftarrowtail;\",\"\":\"&lat;\",\"\":\"&latail;\",\"\":\"&late;\",\"\":\"&lates;\",\"\":\"&lbarr;\",\"\":\"&lbbrk;\",\"{\":\"&lcub;\",\"[\":\"&lsqb;\",\"\":\"&lbrke;\",\"\":\"&lbrksld;\",\"\":\"&lbrkslu;\",\"\":\"&lcaron;\",\"\":\"&lcedil;\",\"\":\"&lcy;\",\"\":\"&ldca;\",\"\":\"&ldrdhar;\",\"\":\"&ldrushar;\",\"\":\"&ldsh;\",\"\":\"&leq;\",\"\":\"&llarr;\",\"\":\"&lthree;\",\"\":\"&lescc;\",\"\":\"&lesdot;\",\"\":\"&lesdoto;\",\"\":\"&lesdotor;\",\"\":\"&lesg;\",\"\":\"&lesges;\",\"\":\"&ltdot;\",\"\":\"&lfisht;\",\"\":\"&lfr;\",\"\":\"&lgE;\",\"\":\"&lharul;\",\"\":\"&lhblk;\",\"\":\"&ljcy;\",\"\":\"&llhard;\",\"\":\"&lltri;\",\"\":\"&lmidot;\",\"\":\"&lmoustache;\",\"\":\"&lneqq;\",\"\":\"&lnapprox;\",\"\":\"&lneq;\",\"\":\"&lnsim;\",\"\":\"&loang;\",\"\":\"&loarr;\",\"\":\"&xmap;\",\"\":\"&rarrlp;\",\"\":\"&lopar;\",\"\":\"&lopf;\",\"\":\"&loplus;\",\"\":\"&lotimes;\",\"\":\"&lowast;\",\"\":\"&lozenge;\",\"(\":\"&lpar;\",\"\":\"&lparlt;\",\"\":\"&lrhard;\",\"\":\"&lrm;\",\"\":\"&lrtri;\",\"\":\"&lsaquo;\",\"\":\"&lscr;\",\"\":\"&lsime;\",\"\":\"&lsimg;\",\"\":\"&sbquo;\",\"\":\"&lstrok;\",\"\":\"&ltcc;\",\"\":\"&ltcir;\",\"\":\"&ltimes;\",\"\":\"&ltlarr;\",\"\":\"&ltquest;\",\"\":\"&ltrPar;\",\"\":\"&triangleleft;\",\"\":\"&lurdshar;\",\"\":\"&luruhar;\",\"\":\"&lvnE;\",\"\":\"&mDDot;\",\"\":\"&strns;\",\"\":\"&male;\",\"\":\"&maltese;\",\"\":\"&marker;\",\"\":\"&mcomma;\",\"\":\"&mcy;\",\"\":\"&mdash;\",\"\":\"&mfr;\",\"\":\"&mho;\",\"\":\"&micro;\",\"\":\"&midcir;\",\"\":\"&minus;\",\"\":\"&minusdu;\",\"\":\"&mlcp;\",\"\":\"&models;\",\"\":\"&mopf;\",\"\":\"&mscr;\",\"\":\"&mu;\",\"\":\"&mumap;\",\"\":\"&nGg;\",\"\":\"&nGt;\",\"\":\"&nlArr;\",\"\":\"&nhArr;\",\"\":\"&nLl;\",\"\":\"&nLt;\",\"\":\"&nrArr;\",\"\":\"&nVDash;\",\"\":\"&nVdash;\",\"\":\"&nacute;\",\"\":\"&nang;\",\"\":\"&napE;\",\"\":\"&napid;\",\"\":\"&napos;\",\"\":\"&natural;\",\"\":\"&ncap;\",\"\":\"&ncaron;\",\"\":\"&ncedil;\",\"\":\"&ncongdot;\",\"\":\"&ncup;\",\"\":\"&ncy;\",\"\":\"&ndash;\",\"\":\"&neArr;\",\"\":\"&nearhk;\",\"\":\"&nedot;\",\"\":\"&toea;\",\"\":\"&nfr;\",\"\":\"&nleftrightarrow;\",\"\":\"&nhpar;\",\"\":\"&nis;\",\"\":\"&nisd;\",\"\":\"&njcy;\",\"\":\"&nleqq;\",\"\":\"&nleftarrow;\",\"\":\"&nldr;\",\"\":\"&nopf;\",\"\":\"&not;\",\"\":\"&notinE;\",\"\":\"&notindot;\",\"\":\"&notinvb;\",\"\":\"&notinvc;\",\"\":\"&notnivb;\",\"\":\"&notnivc;\",\"\":\"&nparsl;\",\"\":\"&npart;\",\"\":\"&npolint;\",\"\":\"&nrightarrow;\",\"\":\"&nrarrc;\",\"\":\"&nrarrw;\",\"\":\"&nscr;\",\"\":\"&nsub;\",\"\":\"&nsubseteqq;\",\"\":\"&nsup;\",\"\":\"&nsupseteqq;\",\"\":\"&ntilde;\",\"\":\"&nu;\",\"#\":\"&num;\",\"\":\"&numero;\",\"\":\"&numsp;\",\"\":\"&nvDash;\",\"\":\"&nvHarr;\",\"\":\"&nvap;\",\"\":\"&nvdash;\",\"\":\"&nvge;\",\">\":\"&nvgt;\",\"\":\"&nvinfin;\",\"\":\"&nvlArr;\",\"\":\"&nvle;\",\"<\":\"&nvlt;\",\"\":\"&nvltrie;\",\"\":\"&nvrArr;\",\"\":\"&nvrtrie;\",\"\":\"&nvsim;\",\"\":\"&nwArr;\",\"\":\"&nwarhk;\",\"\":\"&nwnear;\",\"\":\"&oacute;\",\"\":\"&ocirc;\",\"\":\"&ocy;\",\"\":\"&odblac;\",\"\":\"&odiv;\",\"\":\"&odsold;\",\"\":\"&oelig;\",\"\":\"&ofcir;\",\"\":\"&ofr;\",\"\":\"&ogon;\",\"\":\"&ograve;\",\"\":\"&ogt;\",\"\":\"&ohbar;\",\"\":\"&olcir;\",\"\":\"&olcross;\",\"\":\"&olt;\",\"\":\"&omacr;\",\"\":\"&omega;\",\"\":\"&omicron;\",\"\":\"&omid;\",\"\":\"&oopf;\",\"\":\"&opar;\",\"\":\"&operp;\",\"\":\"&vee;\",\"\":\"&ord;\",\"\":\"&oscr;\",\"\":\"&ordf;\",\"\":\"&ordm;\",\"\":\"&origof;\",\"\":\"&oror;\",\"\":\"&orslope;\",\"\":\"&orv;\",\"\":\"&oslash;\",\"\":\"&osol;\",\"\":\"&otilde;\",\"\":\"&otimesas;\",\"\":\"&ouml;\",\"\":\"&ovbar;\",\"\":\"&para;\",\"\":\"&parsim;\",\"\":\"&parsl;\",\"\":\"&pcy;\",\"%\":\"&percnt;\",\".\":\"&period;\",\"\":\"&permil;\",\"\":\"&pertenk;\",\"\":\"&pfr;\",\"\":\"&phi;\",\"\":\"&varphi;\",\"\":\"&phone;\",\"\":\"&pi;\",\"\":\"&varpi;\",\"\":\"&planckh;\",\"+\":\"&plus;\",\"\":\"&plusacir;\",\"\":\"&pluscir;\",\"\":\"&plusdu;\",\"\":\"&pluse;\",\"\":\"&plussim;\",\"\":\"&plustwo;\",\"\":\"&pointint;\",\"\":\"&popf;\",\"\":\"&pound;\",\"\":\"&prE;\",\"\":\"&precapprox;\",\"\":\"&prnap;\",\"\":\"&prnE;\",\"\":\"&prnsim;\",\"\":\"&prime;\",\"\":\"&profalar;\",\"\":\"&profline;\",\"\":\"&profsurf;\",\"\":\"&prurel;\",\"\":\"&pscr;\",\"\":\"&psi;\",\"\":\"&puncsp;\",\"\":\"&qfr;\",\"\":\"&qopf;\",\"\":\"&qprime;\",\"\":\"&qscr;\",\"\":\"&quatint;\",\"?\":\"&quest;\",\"\":\"&rAtail;\",\"\":\"&rHar;\",\"\":\"&race;\",\"\":\"&racute;\",\"\":\"&raemptyv;\",\"\":\"&rangd;\",\"\":\"&range;\",\"\":\"&raquo;\",\"\":\"&rarrap;\",\"\":\"&rarrbfs;\",\"\":\"&rarrc;\",\"\":\"&rarrfs;\",\"\":\"&rarrpl;\",\"\":\"&rarrsim;\",\"\":\"&rightarrowtail;\",\"\":\"&rightsquigarrow;\",\"\":\"&ratail;\",\"\":\"&ratio;\",\"\":\"&rbbrk;\",\"}\":\"&rcub;\",\"]\":\"&rsqb;\",\"\":\"&rbrke;\",\"\":\"&rbrksld;\",\"\":\"&rbrkslu;\",\"\":\"&rcaron;\",\"\":\"&rcedil;\",\"\":\"&rcy;\",\"\":\"&rdca;\",\"\":\"&rdldhar;\",\"\":\"&rdsh;\",\"\":\"&rect;\",\"\":\"&rfisht;\",\"\":\"&rfr;\",\"\":\"&rharul;\",\"\":\"&rho;\",\"\":\"&varrho;\",\"\":\"&rrarr;\",\"\":\"&rthree;\",\"\":\"&ring;\",\"\":\"&rlm;\",\"\":\"&rmoustache;\",\"\":\"&rnmid;\",\"\":\"&roang;\",\"\":\"&roarr;\",\"\":\"&ropar;\",\"\":\"&ropf;\",\"\":\"&roplus;\",\"\":\"&rotimes;\",\")\":\"&rpar;\",\"\":\"&rpargt;\",\"\":\"&rppolint;\",\"\":\"&rsaquo;\",\"\":\"&rscr;\",\"\":\"&rtimes;\",\"\":\"&triangleright;\",\"\":\"&rtriltri;\",\"\":\"&ruluhar;\",\"\":\"&rx;\",\"\":\"&sacute;\",\"\":\"&scE;\",\"\":\"&succapprox;\",\"\":\"&scaron;\",\"\":\"&scedil;\",\"\":\"&scirc;\",\"\":\"&succneqq;\",\"\":\"&succnapprox;\",\"\":\"&succnsim;\",\"\":\"&scpolint;\",\"\":\"&scy;\",\"\":\"&sdot;\",\"\":\"&sdote;\",\"\":\"&seArr;\",\"\":\"&sect;\",\";\":\"&semi;\",\"\":\"&tosa;\",\"\":\"&sext;\",\"\":\"&sfr;\",\"\":\"&sharp;\",\"\":\"&shchcy;\",\"\":\"&shcy;\",\"\":\"&shy;\",\"\":\"&sigma;\",\"\":\"&varsigma;\",\"\":\"&simdot;\",\"\":\"&simg;\",\"\":\"&simgE;\",\"\":\"&siml;\",\"\":\"&simlE;\",\"\":\"&simne;\",\"\":\"&simplus;\",\"\":\"&simrarr;\",\"\":\"&smashp;\",\"\":\"&smeparsl;\",\"\":\"&ssmile;\",\"\":\"&smt;\",\"\":\"&smte;\",\"\":\"&smtes;\",\"\":\"&softcy;\",\"/\":\"&sol;\",\"\":\"&solb;\",\"\":\"&solbar;\",\"\":\"&sopf;\",\"\":\"&spadesuit;\",\"\":\"&sqcaps;\",\"\":\"&sqcups;\",\"\":\"&sscr;\",\"\":\"&star;\",\"\":\"&subset;\",\"\":\"&subseteqq;\",\"\":\"&subdot;\",\"\":\"&subedot;\",\"\":\"&submult;\",\"\":\"&subsetneqq;\",\"\":\"&subsetneq;\",\"\":\"&subplus;\",\"\":\"&subrarr;\",\"\":\"&subsim;\",\"\":\"&subsub;\",\"\":\"&subsup;\",\"\":\"&sung;\",\"\":\"&sup1;\",\"\":\"&sup2;\",\"\":\"&sup3;\",\"\":\"&supseteqq;\",\"\":\"&supdot;\",\"\":\"&supdsub;\",\"\":\"&supedot;\",\"\":\"&suphsol;\",\"\":\"&suphsub;\",\"\":\"&suplarr;\",\"\":\"&supmult;\",\"\":\"&supsetneqq;\",\"\":\"&supsetneq;\",\"\":\"&supplus;\",\"\":\"&supsim;\",\"\":\"&supsub;\",\"\":\"&supsup;\",\"\":\"&swArr;\",\"\":\"&swnwar;\",\"\":\"&szlig;\",\"\":\"&target;\",\"\":\"&tau;\",\"\":\"&tcaron;\",\"\":\"&tcedil;\",\"\":\"&tcy;\",\"\":\"&telrec;\",\"\":\"&tfr;\",\"\":\"&theta;\",\"\":\"&vartheta;\",\"\":\"&thorn;\",\"\":\"&times;\",\"\":\"&timesbar;\",\"\":\"&timesd;\",\"\":\"&topbot;\",\"\":\"&topcir;\",\"\":\"&topf;\",\"\":\"&topfork;\",\"\":\"&tprime;\",\"\":\"&utri;\",\"\":\"&trie;\",\"\":\"&tridot;\",\"\":\"&triminus;\",\"\":\"&triplus;\",\"\":\"&trisb;\",\"\":\"&tritime;\",\"\":\"&trpezium;\",\"\":\"&tscr;\",\"\":\"&tscy;\",\"\":\"&tshcy;\",\"\":\"&tstrok;\",\"\":\"&uHar;\",\"\":\"&uacute;\",\"\":\"&ubrcy;\",\"\":\"&ubreve;\",\"\":\"&ucirc;\",\"\":\"&ucy;\",\"\":\"&udblac;\",\"\":\"&ufisht;\",\"\":\"&ufr;\",\"\":\"&ugrave;\",\"\":\"&uhblk;\",\"\":\"&ulcorner;\",\"\":\"&ulcrop;\",\"\":\"&ultri;\",\"\":\"&umacr;\",\"\":\"&uogon;\",\"\":\"&uopf;\",\"\":\"&upsilon;\",\"\":\"&uuarr;\",\"\":\"&urcorner;\",\"\":\"&urcrop;\",\"\":\"&uring;\",\"\":\"&urtri;\",\"\":\"&uscr;\",\"\":\"&utdot;\",\"\":\"&utilde;\",\"\":\"&uuml;\",\"\":\"&uwangle;\",\"\":\"&vBar;\",\"\":\"&vBarv;\",\"\":\"&vangrt;\",\"\":\"&vsubne;\",\"\":\"&vsubnE;\",\"\":\"&vsupne;\",\"\":\"&vsupnE;\",\"\":\"&vcy;\",\"\":\"&veebar;\",\"\":\"&veeeq;\",\"\":\"&vellip;\",\"\":\"&vfr;\",\"\":\"&vopf;\",\"\":\"&vscr;\",\"\":\"&vzigzag;\",\"\":\"&wcirc;\",\"\":\"&wedbar;\",\"\":\"&wedgeq;\",\"\":\"&wp;\",\"\":\"&wfr;\",\"\":\"&wopf;\",\"\":\"&wscr;\",\"\":\"&xfr;\",\"\":\"&xi;\",\"\":\"&xnis;\",\"\":\"&xopf;\",\"\":\"&xscr;\",\"\":\"&yacute;\",\"\":\"&yacy;\",\"\":\"&ycirc;\",\"\":\"&ycy;\",\"\":\"&yen;\",\"\":\"&yfr;\",\"\":\"&yicy;\",\"\":\"&yopf;\",\"\":\"&yscr;\",\"\":\"&yucy;\",\"\":\"&yuml;\",\"\":\"&zacute;\",\"\":\"&zcaron;\",\"\":\"&zcy;\",\"\":\"&zdot;\",\"\":\"&zeta;\",\"\":\"&zfr;\",\"\":\"&zhcy;\",\"\":\"&zigrarr;\",\"\":\"&zopf;\",\"\":\"&zscr;\",\"\":\"&zwj;\",\"\":\"&zwnj;\"}}};","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376};","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports.fromCodePoint=String.fromCodePoint||function(astralCodePoint){return String.fromCharCode(Math.floor((astralCodePoint-65536)/1024)+55296,(astralCodePoint-65536)%1024+56320)};exports.getCodePoint=String.prototype.codePointAt?function(input,position){return input.codePointAt(position)}:function(input,position){return(input.charCodeAt(position)-55296)*1024+input.charCodeAt(position+1)-56320+65536};exports.highSurrogateFrom=55296;exports.highSurrogateTo=56319;","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar named_references_1 = require(\"./named-references\");\nvar numeric_unicode_map_1 = require(\"./numeric-unicode-map\");\nvar surrogate_pairs_1 = require(\"./surrogate-pairs\");\nvar allNamedReferences = __assign(__assign({}, named_references_1.namedReferences), { all: named_references_1.namedReferences.html5 });\nvar encodeRegExps = {\n    specialChars: /[<>'\"&]/g,\n    nonAscii: /(?:[<>'\"&\\u0080-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g,\n    nonAsciiPrintable: /(?:[<>'\"&\\x01-\\x08\\x11-\\x15\\x17-\\x1F\\x7f-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g,\n    extensive: /(?:[\\x01-\\x0c\\x0e-\\x1f\\x21-\\x2c\\x2e-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7d\\x7f-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g\n};\nvar defaultEncodeOptions = {\n    mode: 'specialChars',\n    level: 'all',\n    numeric: 'decimal'\n};\n/** Encodes all the necessary (specified by `level`) characters in the text */\nfunction encode(text, _a) {\n    var _b = _a === void 0 ? defaultEncodeOptions : _a, _c = _b.mode, mode = _c === void 0 ? 'specialChars' : _c, _d = _b.numeric, numeric = _d === void 0 ? 'decimal' : _d, _e = _b.level, level = _e === void 0 ? 'all' : _e;\n    if (!text) {\n        return '';\n    }\n    var encodeRegExp = encodeRegExps[mode];\n    var references = allNamedReferences[level].characters;\n    var isHex = numeric === 'hexadecimal';\n    encodeRegExp.lastIndex = 0;\n    var _b = encodeRegExp.exec(text);\n    var _c;\n    if (_b) {\n        _c = '';\n        var _d = 0;\n        do {\n            if (_d !== _b.index) {\n                _c += text.substring(_d, _b.index);\n            }\n            var _e = _b[0];\n            var result_1 = references[_e];\n            if (!result_1) {\n                var code_1 = _e.length > 1 ? surrogate_pairs_1.getCodePoint(_e, 0) : _e.charCodeAt(0);\n                result_1 = (isHex ? '&#x' + code_1.toString(16) : '&#' + code_1) + ';';\n            }\n            _c += result_1;\n            _d = _b.index + _e.length;\n        } while ((_b = encodeRegExp.exec(text)));\n        if (_d !== text.length) {\n            _c += text.substring(_d);\n        }\n    }\n    else {\n        _c =\n            text;\n    }\n    return _c;\n}\nexports.encode = encode;\nvar defaultDecodeOptions = {\n    scope: 'body',\n    level: 'all'\n};\nvar strict = /&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);/g;\nvar attribute = /&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g;\nvar baseDecodeRegExps = {\n    xml: {\n        strict: strict,\n        attribute: attribute,\n        body: named_references_1.bodyRegExps.xml\n    },\n    html4: {\n        strict: strict,\n        attribute: attribute,\n        body: named_references_1.bodyRegExps.html4\n    },\n    html5: {\n        strict: strict,\n        attribute: attribute,\n        body: named_references_1.bodyRegExps.html5\n    }\n};\nvar decodeRegExps = __assign(__assign({}, baseDecodeRegExps), { all: baseDecodeRegExps.html5 });\nvar fromCharCode = String.fromCharCode;\nvar outOfBoundsChar = fromCharCode(65533);\nvar defaultDecodeEntityOptions = {\n    level: 'all'\n};\n/** Decodes a single entity */\nfunction decodeEntity(entity, _a) {\n    var _b = (_a === void 0 ? defaultDecodeEntityOptions : _a).level, level = _b === void 0 ? 'all' : _b;\n    if (!entity) {\n        return '';\n    }\n    var _b = entity;\n    var decodeEntityLastChar_1 = entity[entity.length - 1];\n    if (false\n        && decodeEntityLastChar_1 === '=') {\n        _b =\n            entity;\n    }\n    else if (false\n        && decodeEntityLastChar_1 !== ';') {\n        _b =\n            entity;\n    }\n    else {\n        var decodeResultByReference_1 = allNamedReferences[level].entities[entity];\n        if (decodeResultByReference_1) {\n            _b = decodeResultByReference_1;\n        }\n        else if (entity[0] === '&' && entity[1] === '#') {\n            var decodeSecondChar_1 = entity[2];\n            var decodeCode_1 = decodeSecondChar_1 == 'x' || decodeSecondChar_1 == 'X'\n                ? parseInt(entity.substr(3), 16)\n                : parseInt(entity.substr(2));\n            _b =\n                decodeCode_1 >= 0x10ffff\n                    ? outOfBoundsChar\n                    : decodeCode_1 > 65535\n                        ? surrogate_pairs_1.fromCodePoint(decodeCode_1)\n                        : fromCharCode(numeric_unicode_map_1.numericUnicodeMap[decodeCode_1] || decodeCode_1);\n        }\n    }\n    return _b;\n}\nexports.decodeEntity = decodeEntity;\n/** Decodes all entities in the text */\nfunction decode(text, _a) {\n    var decodeSecondChar_1 = _a === void 0 ? defaultDecodeOptions : _a, decodeCode_1 = decodeSecondChar_1.level, level = decodeCode_1 === void 0 ? 'all' : decodeCode_1, _b = decodeSecondChar_1.scope, scope = _b === void 0 ? level === 'xml' ? 'strict' : 'body' : _b;\n    if (!text) {\n        return '';\n    }\n    var decodeRegExp = decodeRegExps[level][scope];\n    var references = allNamedReferences[level].entities;\n    var isAttribute = scope === 'attribute';\n    var isStrict = scope === 'strict';\n    decodeRegExp.lastIndex = 0;\n    var replaceMatch_1 = decodeRegExp.exec(text);\n    var replaceResult_1;\n    if (replaceMatch_1) {\n        replaceResult_1 = '';\n        var replaceLastIndex_1 = 0;\n        do {\n            if (replaceLastIndex_1 !== replaceMatch_1.index) {\n                replaceResult_1 += text.substring(replaceLastIndex_1, replaceMatch_1.index);\n            }\n            var replaceInput_1 = replaceMatch_1[0];\n            var decodeResult_1 = replaceInput_1;\n            var decodeEntityLastChar_2 = replaceInput_1[replaceInput_1.length - 1];\n            if (isAttribute\n                && decodeEntityLastChar_2 === '=') {\n                decodeResult_1 = replaceInput_1;\n            }\n            else if (isStrict\n                && decodeEntityLastChar_2 !== ';') {\n                decodeResult_1 = replaceInput_1;\n            }\n            else {\n                var decodeResultByReference_2 = references[replaceInput_1];\n                if (decodeResultByReference_2) {\n                    decodeResult_1 = decodeResultByReference_2;\n                }\n                else if (replaceInput_1[0] === '&' && replaceInput_1[1] === '#') {\n                    var decodeSecondChar_2 = replaceInput_1[2];\n                    var decodeCode_2 = decodeSecondChar_2 == 'x' || decodeSecondChar_2 == 'X'\n                        ? parseInt(replaceInput_1.substr(3), 16)\n                        : parseInt(replaceInput_1.substr(2));\n                    decodeResult_1 =\n                        decodeCode_2 >= 0x10ffff\n                            ? outOfBoundsChar\n                            : decodeCode_2 > 65535\n                                ? surrogate_pairs_1.fromCodePoint(decodeCode_2)\n                                : fromCharCode(numeric_unicode_map_1.numericUnicodeMap[decodeCode_2] || decodeCode_2);\n                }\n            }\n            replaceResult_1 += decodeResult_1;\n            replaceLastIndex_1 = replaceMatch_1.index + replaceInput_1.length;\n        } while ((replaceMatch_1 = decodeRegExp.exec(text)));\n        if (replaceLastIndex_1 !== text.length) {\n            replaceResult_1 += text.substring(replaceLastIndex_1);\n        }\n    }\n    else {\n        replaceResult_1 =\n            text;\n    }\n    return replaceResult_1;\n}\nexports.decode = decode;\n","\nimport * as smile2emoji from 'smile2emoji'\nconst { checkText,emojiMap } = smile2emoji\nimport {decode} from 'html-entities';\n\nexport function t(str) {\n    return {type: 'text', value: decode(checkText(str),{level: 'html5'})};\n}\n","var own = {}.hasOwnProperty\n\n/**\n * @callback Handler\n * @param {...unknown} value\n * @return {unknown}\n *\n * @typedef {Record<string, Handler>} Handlers\n *\n * @typedef {Object} Options\n * @property {Handler} [unknown]\n * @property {Handler} [invalid]\n * @property {Handlers} [handlers]\n */\n\n/**\n * Handle values based on a property.\n *\n * @param {string} key\n * @param {Options} [options]\n */\nexport function zwitch(key, options) {\n  var settings = options || {}\n\n  /**\n   * Handle one value.\n   * Based on the bound `key`, a respective handler will be called.\n   * If `value` is not an object, or doesnt have a `key` property, the special\n   * invalid handler will be called.\n   * If `value` has an unknown `key`, the special unknown handler will be\n   * called.\n   *\n   * All arguments, and the context object, are passed through to the handler,\n   * and its result is returned.\n   *\n   * @param {...unknown} [value]\n   * @this {unknown}\n   * @returns {unknown}\n   * @property {Handler} invalid\n   * @property {Handler} unknown\n   * @property {Handlers} handlers\n   */\n  function one(value) {\n    var fn = one.invalid\n    var handlers = one.handlers\n\n    if (value && own.call(value, key)) {\n      fn = own.call(handlers, value[key]) ? handlers[value[key]] : one.unknown\n    }\n\n    if (fn) {\n      return fn.apply(this, arguments)\n    }\n  }\n\n  one.handlers = settings.handlers || {}\n  one.invalid = settings.invalid\n  one.unknown = settings.unknown\n\n  return one\n}\n","const rtlRange = '\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC'\nconst ltrRange =\n  'A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6' +\n  '\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u200E\\u2C00-\\uFB1C' +\n  '\\uFE00-\\uFE6F\\uFEFD-\\uFFFF'\n\n/* eslint-disable no-misleading-character-class */\nconst rtl = new RegExp('^[^' + ltrRange + ']*[' + rtlRange + ']')\nconst ltr = new RegExp('^[^' + rtlRange + ']*[' + ltrRange + ']')\n/* eslint-enable no-misleading-character-class */\n\n/**\n * Detect the direction of text: left-to-right, right-to-left, or neutral\n *\n * @param {string} value\n * @returns {'rtl'|'ltr'|'neutral'}\n */\nexport function direction(value) {\n  const source = String(value || '')\n  return rtl.test(source) ? 'rtl' : ltr.test(source) ? 'ltr' : 'neutral'\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n * @typedef {import('hast').Element} Element\n *\n * @typedef {string} TagName\n * @typedef {null|undefined|TagName|TestFunctionAnything|Array.<TagName|TestFunctionAnything>} Test\n */\n\n/**\n * @template {Element} T\n * @typedef {null|undefined|T['tagName']|TestFunctionPredicate<T>|Array.<T['tagName']|TestFunctionPredicate<T>>} PredicateTest\n */\n\n/**\n * Check if an element passes a test\n *\n * @callback TestFunctionAnything\n * @param {Element} element\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {boolean|void}\n */\n\n/**\n * Check if an element passes a certain node test\n *\n * @template {Element} X\n * @callback TestFunctionPredicate\n * @param {Element} element\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {element is X}\n */\n\n/**\n * Check if a node is an element and passes a certain node test\n *\n * @callback AssertAnything\n * @param {unknown} [node]\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {boolean}\n */\n\n/**\n * Check if a node is an element and passes a certain node test\n *\n * @template {Element} Y\n * @callback AssertPredicate\n * @param {unknown} [node]\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {node is Y}\n */\n\n// Check if `node` is an `element` and whether it passes the given test.\nexport const isElement =\n  /**\n   * Check if a node is an element and passes a test.\n   * When a `parent` node is known the `index` of node should also be given.\n   *\n   * @type {(\n   *   (() => false) &\n   *   (<T extends Element = Element>(node: unknown, test?: PredicateTest<T>, index?: number, parent?: Parent, context?: unknown) => node is T) &\n   *   ((node: unknown, test: Test, index?: number, parent?: Parent, context?: unknown) => boolean)\n   * )}\n   */\n  (\n    /**\n     * Check if a node passes a test.\n     * When a `parent` node is known the `index` of node should also be given.\n     *\n     * @param {unknown} [node] Node to check\n     * @param {Test} [test] When nullish, checks if `node` is a `Node`.\n     * When `string`, works like passing `function (node) {return node.type === test}`.\n     * When `function` checks if function passed the node is true.\n     * When `array`, checks any one of the subtests pass.\n     * @param {number} [index] Position of `node` in `parent`\n     * @param {Parent} [parent] Parent of `node`\n     * @param {unknown} [context] Context object to invoke `test` with\n     * @returns {boolean} Whether test passed and `node` is an `Element` (object with `type` set to `element` and `tagName` set to a non-empty string).\n     */\n    // eslint-disable-next-line max-params\n    function (node, test, index, parent, context) {\n      const check = convertElement(test)\n\n      if (\n        index !== undefined &&\n        index !== null &&\n        (typeof index !== 'number' ||\n          index < 0 ||\n          index === Number.POSITIVE_INFINITY)\n      ) {\n        throw new Error('Expected positive finite index for child node')\n      }\n\n      if (\n        parent !== undefined &&\n        parent !== null &&\n        (!parent.type || !parent.children)\n      ) {\n        throw new Error('Expected parent node')\n      }\n\n      // @ts-expect-error Looks like a node.\n      if (!node || !node.type || typeof node.type !== 'string') {\n        return false\n      }\n\n      if (\n        (parent === undefined || parent === null) !==\n        (index === undefined || index === null)\n      ) {\n        throw new Error('Expected both parent and index')\n      }\n\n      return check.call(context, node, index, parent)\n    }\n  )\n\nexport const convertElement =\n  /**\n   * @type {(\n   *   (<T extends Element>(test: T['tagName']|TestFunctionPredicate<T>) => AssertPredicate<T>) &\n   *   ((test?: Test) => AssertAnything)\n   * )}\n   */\n  (\n    /**\n     * Generate an assertion from a check.\n     * @param {Test} [test]\n     * When nullish, checks if `node` is a `Node`.\n     * When `string`, works like passing `function (node) {return node.type === test}`.\n     * When `function` checks if function passed the node is true.\n     * When `object`, checks that all keys in test are in node, and that they have (strictly) equal values.\n     * When `array`, checks any one of the subtests pass.\n     * @returns {AssertAnything}\n     */\n    function (test) {\n      if (test === undefined || test === null) {\n        return element\n      }\n\n      if (typeof test === 'string') {\n        return tagNameFactory(test)\n      }\n\n      if (typeof test === 'object') {\n        return anyFactory(test)\n      }\n\n      if (typeof test === 'function') {\n        return castFactory(test)\n      }\n\n      throw new Error('Expected function, string, or array as test')\n    }\n  )\n\n/**\n * @param {Array.<TagName|TestFunctionAnything>} tests\n * @returns {AssertAnything}\n */\nfunction anyFactory(tests) {\n  /** @type {Array.<AssertAnything>} */\n  const checks = []\n  let index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convertElement(tests[index])\n  }\n\n  return castFactory(any)\n\n  /**\n   * @this {unknown}\n   * @param {unknown[]} parameters\n   * @returns {boolean}\n   */\n  function any(...parameters) {\n    let index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].call(this, ...parameters)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n/**\n * Utility to convert a string into a function which checks a given nodes tag\n * name for said string.\n *\n * @param {TagName} check\n * @returns {AssertAnything}\n */\nfunction tagNameFactory(check) {\n  return tagName\n\n  /**\n   * @param {unknown} node\n   * @returns {boolean}\n   */\n  function tagName(node) {\n    return element(node) && node.tagName === check\n  }\n}\n\n/**\n * @param {TestFunctionAnything} check\n * @returns {AssertAnything}\n */\nfunction castFactory(check) {\n  return assertion\n\n  /**\n   * @this {unknown}\n   * @param {unknown} node\n   * @param {Array.<unknown>} parameters\n   * @returns {boolean}\n   */\n  function assertion(node, ...parameters) {\n    // @ts-expect-error: fine.\n    return element(node) && Boolean(check.call(this, node, ...parameters))\n  }\n}\n\n/**\n * Utility to return true if this is an element.\n * @param {unknown} node\n * @returns {node is Element}\n */\nfunction element(node) {\n  return Boolean(\n    node &&\n      typeof node === 'object' &&\n      // @ts-expect-error Looks like a node.\n      node.type === 'element' &&\n      // @ts-expect-error Looks like an element.\n      typeof node.tagName === 'string'\n  )\n}\n","/**\n * @fileoverview\n *   Get the plain-text value of a hast node.\n * @longdescription\n *   ## Use\n *\n *   ```js\n *   import {h} from 'hastscript'\n *   import {toString} from 'hast-util-to-string'\n *\n *   toString(h('p', 'Alpha'))\n *   //=> 'Alpha'\n *   toString(h('div', [h('b', 'Bold'), ' and ', h('i', 'italic'), '.']))\n *   //=> 'Bold and italic.'\n *   ```\n *\n *   ## API\n *\n *   ### `toString(node)`\n *\n *   Transform a node to a string.\n */\n\n/**\n * @typedef {import('hast').Root} Root\n * @typedef {import('hast').Element} Element\n * @typedef {Root|Root['children'][number]} Node\n */\n\n/**\n * Get the plain-text value of a hast node.\n *\n * @param {Node} node\n * @returns {string}\n */\nexport function toString(node) {\n  // The concatenation of data of all the Text node descendants of the context\n  // object, in tree order.\n  if ('children' in node) {\n    return all(node)\n  }\n\n  // Context objects data.\n  return 'value' in node ? node.value : ''\n}\n\n/**\n * @param {Node} node\n * @returns {string}\n */\nfunction one(node) {\n  if (node.type === 'text') {\n    return node.value\n  }\n\n  return 'children' in node ? all(node) : ''\n}\n\n/**\n * @param {Root|Element} node\n * @returns {string}\n */\nfunction all(node) {\n  let index = -1\n  /** @type {string[]} */\n  const result = []\n\n  while (++index < node.children.length) {\n    result[index] = one(node.children[index])\n  }\n\n  return result.join('')\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n *\n * @typedef {string} Type\n * @typedef {Object<string, unknown>} Props\n *\n * @typedef {null|undefined|Type|Props|TestFunctionAnything|Array.<Type|Props|TestFunctionAnything>} Test\n */\n\n/**\n * Check if a node passes a test\n *\n * @callback TestFunctionAnything\n * @param {Node} node\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {boolean|void}\n */\n\n/**\n * Check if a node passes a certain node test\n *\n * @template {Node} X\n * @callback TestFunctionPredicate\n * @param {Node} node\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {node is X}\n */\n\n/**\n * @callback AssertAnything\n * @param {unknown} [node]\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {boolean}\n */\n\n/**\n * Check if a node passes a certain node test\n *\n * @template {Node} Y\n * @callback AssertPredicate\n * @param {unknown} [node]\n * @param {number|null|undefined} [index]\n * @param {Parent|null|undefined} [parent]\n * @returns {node is Y}\n */\n\nexport const is =\n  /**\n   * Check if a node passes a test.\n   * When a `parent` node is known the `index` of node should also be given.\n   *\n   * @type {(\n   *   (<T extends Node>(node: unknown, test: T['type']|Partial<T>|TestFunctionPredicate<T>|Array.<T['type']|Partial<T>|TestFunctionPredicate<T>>, index?: number|null|undefined, parent?: Parent|null|undefined, context?: unknown) => node is T) &\n   *   ((node?: unknown, test?: Test, index?: number|null|undefined, parent?: Parent|null|undefined, context?: unknown) => boolean)\n   * )}\n   */\n  (\n    /**\n     * Check if a node passes a test.\n     * When a `parent` node is known the `index` of node should also be given.\n     *\n     * @param {unknown} [node] Node to check\n     * @param {Test} [test]\n     * When nullish, checks if `node` is a `Node`.\n     * When `string`, works like passing `function (node) {return node.type === test}`.\n     * When `function` checks if function passed the node is true.\n     * When `object`, checks that all keys in test are in node, and that they have (strictly) equal values.\n     * When `array`, checks any one of the subtests pass.\n     * @param {number|null|undefined} [index] Position of `node` in `parent`\n     * @param {Parent|null|undefined} [parent] Parent of `node`\n     * @param {unknown} [context] Context object to invoke `test` with\n     * @returns {boolean} Whether test passed and `node` is a `Node` (object with `type` set to non-empty `string`).\n     */\n    // eslint-disable-next-line max-params\n    function is(node, test, index, parent, context) {\n      const check = convert(test)\n\n      if (\n        index !== undefined &&\n        index !== null &&\n        (typeof index !== 'number' ||\n          index < 0 ||\n          index === Number.POSITIVE_INFINITY)\n      ) {\n        throw new Error('Expected positive finite index')\n      }\n\n      if (\n        parent !== undefined &&\n        parent !== null &&\n        (!is(parent) || !parent.children)\n      ) {\n        throw new Error('Expected parent node')\n      }\n\n      if (\n        (parent === undefined || parent === null) !==\n        (index === undefined || index === null)\n      ) {\n        throw new Error('Expected both parent and index')\n      }\n\n      // @ts-expect-error Looks like a node.\n      return node && node.type && typeof node.type === 'string'\n        ? Boolean(check.call(context, node, index, parent))\n        : false\n    }\n  )\n\nexport const convert =\n  /**\n   * @type {(\n   *   (<T extends Node>(test: T['type']|Partial<T>|TestFunctionPredicate<T>) => AssertPredicate<T>) &\n   *   ((test?: Test) => AssertAnything)\n   * )}\n   */\n  (\n    /**\n     * Generate an assertion from a check.\n     * @param {Test} [test]\n     * When nullish, checks if `node` is a `Node`.\n     * When `string`, works like passing `function (node) {return node.type === test}`.\n     * When `function` checks if function passed the node is true.\n     * When `object`, checks that all keys in test are in node, and that they have (strictly) equal values.\n     * When `array`, checks any one of the subtests pass.\n     * @returns {AssertAnything}\n     */\n    function (test) {\n      if (test === undefined || test === null) {\n        return ok\n      }\n\n      if (typeof test === 'string') {\n        return typeFactory(test)\n      }\n\n      if (typeof test === 'object') {\n        return Array.isArray(test) ? anyFactory(test) : propsFactory(test)\n      }\n\n      if (typeof test === 'function') {\n        return castFactory(test)\n      }\n\n      throw new Error('Expected function, string, or object as test')\n    }\n  )\n/**\n * @param {Array.<Type|Props|TestFunctionAnything>} tests\n * @returns {AssertAnything}\n */\nfunction anyFactory(tests) {\n  /** @type {Array.<AssertAnything>} */\n  const checks = []\n  let index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return castFactory(any)\n\n  /**\n   * @this {unknown}\n   * @param {unknown[]} parameters\n   * @returns {boolean}\n   */\n  function any(...parameters) {\n    let index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].call(this, ...parameters)) return true\n    }\n\n    return false\n  }\n}\n\n/**\n * Utility to assert each property in `test` is represented in `node`, and each\n * values are strictly equal.\n *\n * @param {Props} check\n * @returns {AssertAnything}\n */\nfunction propsFactory(check) {\n  return castFactory(all)\n\n  /**\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function all(node) {\n    /** @type {string} */\n    let key\n\n    for (key in check) {\n      // @ts-expect-error: hush, it sure works as an index.\n      if (node[key] !== check[key]) return false\n    }\n\n    return true\n  }\n}\n\n/**\n * Utility to convert a string into a function which checks a given nodes type\n * for said string.\n *\n * @param {Type} check\n * @returns {AssertAnything}\n */\nfunction typeFactory(check) {\n  return castFactory(type)\n\n  /**\n   * @param {Node} node\n   */\n  function type(node) {\n    return node && node.type === check\n  }\n}\n\n/**\n * Utility to convert a string into a function which checks a given nodes type\n * for said string.\n * @param {TestFunctionAnything} check\n * @returns {AssertAnything}\n */\nfunction castFactory(check) {\n  return assertion\n\n  /**\n   * @this {unknown}\n   * @param {Array.<unknown>} parameters\n   * @returns {boolean}\n   */\n  function assertion(...parameters) {\n    // @ts-expect-error: spreading is fine.\n    return Boolean(check.call(this, ...parameters))\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n * @typedef {import('unist-util-is').Test} Test\n * @typedef {import('./complex-types.js').Action} Action\n * @typedef {import('./complex-types.js').Index} Index\n * @typedef {import('./complex-types.js').ActionTuple} ActionTuple\n * @typedef {import('./complex-types.js').VisitorResult} VisitorResult\n * @typedef {import('./complex-types.js').Visitor} Visitor\n */\n\nimport {convert} from 'unist-util-is'\nimport {color} from './color.js'\n\n/**\n * Continue traversing as normal\n */\nexport const CONTINUE = true\n/**\n * Do not traverse this nodes children\n */\nexport const SKIP = 'skip'\n/**\n * Stop traversing immediately\n */\nexport const EXIT = false\n\n/**\n * Visit children of tree which pass test.\n *\n * @param tree\n *   Tree to walk\n * @param [test]\n *   `unist-util-is`-compatible test\n * @param visitor\n *   Function called for nodes that pass `test`.\n * @param [reverse=false]\n *   Traverse in reverse preorder (NRL) instead of preorder (NLR) (default).\n */\nexport const visitParents =\n  /**\n   * @type {(\n   *   (<Tree extends Node, Check extends Test>(tree: Tree, test: Check, visitor: import('./complex-types.js').BuildVisitor<Tree, Check>, reverse?: boolean) => void) &\n   *   (<Tree extends Node>(tree: Tree, visitor: import('./complex-types.js').BuildVisitor<Tree>, reverse?: boolean) => void)\n   * )}\n   */\n  (\n    /**\n     * @param {Node} tree\n     * @param {Test} test\n     * @param {import('./complex-types.js').Visitor<Node>} visitor\n     * @param {boolean} [reverse=false]\n     */\n    function (tree, test, visitor, reverse) {\n      if (typeof test === 'function' && typeof visitor !== 'function') {\n        reverse = visitor\n        // @ts-expect-error no visitor given, so `visitor` is test.\n        visitor = test\n        test = null\n      }\n\n      const is = convert(test)\n      const step = reverse ? -1 : 1\n\n      factory(tree, null, [])()\n\n      /**\n       * @param {Node} node\n       * @param {number?} index\n       * @param {Array<Parent>} parents\n       */\n      function factory(node, index, parents) {\n        /** @type {Record<string, unknown>} */\n        // @ts-expect-error: hush\n        const value = typeof node === 'object' && node !== null ? node : {}\n        /** @type {string|undefined} */\n        let name\n\n        if (typeof value.type === 'string') {\n          name =\n            typeof value.tagName === 'string'\n              ? value.tagName\n              : typeof value.name === 'string'\n              ? value.name\n              : undefined\n\n          Object.defineProperty(visit, 'name', {\n            value:\n              'node (' +\n              color(value.type + (name ? '<' + name + '>' : '')) +\n              ')'\n          })\n        }\n\n        return visit\n\n        function visit() {\n          /** @type {ActionTuple} */\n          let result = []\n          /** @type {ActionTuple} */\n          let subresult\n          /** @type {number} */\n          let offset\n          /** @type {Array<Parent>} */\n          let grandparents\n\n          if (!test || is(node, index, parents[parents.length - 1] || null)) {\n            result = toResult(visitor(node, parents))\n\n            if (result[0] === EXIT) {\n              return result\n            }\n          }\n\n          // @ts-expect-error looks like a parent.\n          if (node.children && result[0] !== SKIP) {\n            // @ts-expect-error looks like a parent.\n            offset = (reverse ? node.children.length : -1) + step\n            // @ts-expect-error looks like a parent.\n            grandparents = parents.concat(node)\n\n            // @ts-expect-error looks like a parent.\n            while (offset > -1 && offset < node.children.length) {\n              // @ts-expect-error looks like a parent.\n              subresult = factory(node.children[offset], offset, grandparents)()\n\n              if (subresult[0] === EXIT) {\n                return subresult\n              }\n\n              offset =\n                typeof subresult[1] === 'number' ? subresult[1] : offset + step\n            }\n          }\n\n          return result\n        }\n      }\n    }\n  )\n\n/**\n * @param {VisitorResult} value\n * @returns {ActionTuple}\n */\nfunction toResult(value) {\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","/**\n * @param {string} d\n * @returns {string}\n */\nexport function color(d) {\n  return '\\u001B[33m' + d + '\\u001B[39m'\n}\n","/**\n * @typedef {import('unist').Node} Node\n * @typedef {import('unist').Parent} Parent\n * @typedef {import('unist-util-is').Test} Test\n * @typedef {import('unist-util-visit-parents').VisitorResult} VisitorResult\n * @typedef {import('./complex-types.js').Visitor} Visitor\n */\n\nimport {visitParents} from 'unist-util-visit-parents'\n\n/**\n * Visit children of tree which pass test.\n *\n * @param tree\n *   Tree to walk\n * @param [test]\n *   `unist-util-is`-compatible test\n * @param visitor\n *   Function called for nodes that pass `test`.\n * @param reverse\n *   Traverse in reverse preorder (NRL) instead of preorder (NLR) (default).\n */\nexport const visit =\n  /**\n   * @type {(\n   *   (<Tree extends Node, Check extends Test>(tree: Tree, test: Check, visitor: import('./complex-types.js').BuildVisitor<Tree, Check>, reverse?: boolean) => void) &\n   *   (<Tree extends Node>(tree: Tree, visitor: import('./complex-types.js').BuildVisitor<Tree>, reverse?: boolean) => void)\n   * )}\n   */\n  (\n    /**\n     * @param {Node} tree\n     * @param {Test} test\n     * @param {import('./complex-types.js').Visitor} visitor\n     * @param {boolean} [reverse]\n     */\n    function (tree, test, visitor, reverse) {\n      if (typeof test === 'function' && typeof visitor !== 'function') {\n        reverse = visitor\n        visitor = test\n        test = null\n      }\n\n      visitParents(tree, test, overload, reverse)\n\n      /**\n       * @param {Node} node\n       * @param {Array<Parent>} parents\n       */\n      function overload(node, parents) {\n        const parent = parents[parents.length - 1]\n        return visitor(\n          node,\n          parent ? parent.children.indexOf(node) : null,\n          parent\n        )\n      }\n    }\n  )\n\nexport {CONTINUE, EXIT, SKIP} from 'unist-util-visit-parents'\n","/**\n * @typedef {import('./types.js').Node} Node\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').Parent} Parent\n * @typedef {import('hast-util-is-element').AssertPredicate<Element>} IsElement\n */\n\nimport {convertElement} from 'hast-util-is-element'\n\n/**\n * @param {Node} node\n * @returns {node is Parent}\n */\nexport function parent(node) {\n  // @ts-expect-error: hush.\n  return Array.isArray(node.children)\n}\n\n/** @type {IsElement} */\n// @ts-expect-error it works.\nexport const element = convertElement()\n","/**\n * @typedef {import('./types.js').SelectState} SelectState\n * @typedef {import('./types.js').HastNode} HastNode\n * @typedef {import('./types.js').ElementChild} ElementChild\n * @typedef {import('./types.js').Direction} Direction\n * @typedef {import('unist-util-visit/complex-types').Visitor<ElementChild>} Visitor\n */\n\nimport {direction} from 'direction'\nimport {isElement} from 'hast-util-is-element'\nimport {toString} from 'hast-util-to-string'\nimport {svg} from 'property-information'\nimport {visit, EXIT, SKIP} from 'unist-util-visit'\nimport {element} from './util.js'\n\n/**\n * @param {SelectState} state\n * @param {HastNode} node\n * @returns {() => void}\n */\n// eslint-disable-next-line complexity\nexport function enterState(state, node) {\n  const schema = state.schema\n  const language = state.language\n  const currentDirection = state.direction\n  const editableOrEditingHost = state.editableOrEditingHost\n  /** @type {Direction|undefined} */\n  let dirInferred\n  /** @type {boolean|undefined} */\n  let found\n\n  if (element(node) && node.properties) {\n    const lang = node.properties.xmlLang || node.properties.lang\n    const type = node.properties.type || 'text'\n    const dir = dirProperty(node)\n\n    if (lang !== undefined && lang !== null) {\n      state.language = String(lang)\n      found = true\n    }\n\n    if (schema && schema.space === 'html') {\n      if (node.properties.contentEditable === 'true') {\n        state.editableOrEditingHost = true\n        found = true\n      }\n\n      if (isElement(node, 'svg')) {\n        state.schema = svg\n        found = true\n      }\n\n      // See: <https://html.spec.whatwg.org/#the-directionality>.\n      // Explicit `[dir=rtl]`.\n      if (dir === 'rtl') {\n        dirInferred = dir\n      } else if (\n        // Explicit `[dir=ltr]`.\n        dir === 'ltr' ||\n        // HTML with an invalid or no `[dir]`.\n        (dir !== 'auto' && isElement(node, 'html')) ||\n        // `input[type=tel]` with an invalid or no `[dir]`.\n        (dir !== 'auto' && isElement(node, 'input') && type === 'tel')\n      ) {\n        dirInferred = 'ltr'\n        // `[dir=auto]` or `bdi` with an invalid or no `[dir]`.\n      } else if (dir === 'auto' || isElement(node, 'bdi')) {\n        if (isElement(node, 'textarea')) {\n          // Check contents of `<textarea>`.\n          dirInferred = dirBidi(toString(node))\n        } else if (\n          isElement(node, 'input') &&\n          (type === 'email' ||\n            type === 'search' ||\n            type === 'tel' ||\n            type === 'text')\n        ) {\n          // Check value of `<input>`.\n          // @ts-expect-error something is `never` in types but this is needed.\n          dirInferred = node.properties.value\n            ? // @ts-expect-error Assume string\n              dirBidi(node.properties.value)\n            : 'ltr'\n        } else {\n          // Check text nodes in `node`.\n          visit(node, inferDirectionality)\n        }\n      }\n\n      if (dirInferred) {\n        state.direction = dirInferred\n        found = true\n      }\n    }\n    // Turn off editing mode in non-HTML spaces.\n    else if (state.editableOrEditingHost) {\n      state.editableOrEditingHost = false\n      found = true\n    }\n  }\n\n  return found ? reset : noop\n\n  function reset() {\n    state.schema = schema\n    state.language = language\n    state.direction = currentDirection\n    state.editableOrEditingHost = editableOrEditingHost\n  }\n\n  /** @type {Visitor} */\n  function inferDirectionality(child) {\n    if (child.type === 'text') {\n      dirInferred = dirBidi(child.value)\n      return dirInferred ? EXIT : null\n    }\n\n    if (\n      child !== node &&\n      (isElement(child, ['bdi', 'script', 'style', 'textare']) ||\n        dirProperty(child))\n    ) {\n      return SKIP\n    }\n  }\n}\n\n/**\n * @param {string} value\n * @returns {Direction|undefined}\n */\nfunction dirBidi(value) {\n  const result = direction(value)\n  return result === 'neutral' ? undefined : result\n}\n\n/**\n * @param {ElementChild} node\n * @returns {Direction|undefined}\n */\nfunction dirProperty(node) {\n  const value =\n    element(node) && node.properties && typeof node.properties.dir === 'string'\n      ? node.properties.dir.toLowerCase()\n      : undefined\n\n  return value === 'auto' || value === 'ltr' || value === 'rtl'\n    ? value\n    : undefined\n}\n\nfunction noop() {}\n","/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').Node} Node\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').Parent} Parent\n * @typedef {import('./types.js').SelectState} SelectState\n * @typedef {import('./types.js').SelectIterator} SelectIterator\n * @typedef {import('./types.js').Handler} Handler\n */\n\nimport {zwitch} from 'zwitch'\nimport {enterState} from './enter-state.js'\nimport {parent, element} from './util.js'\n\nconst own = {}.hasOwnProperty\n\nconst handle = zwitch('nestingOperator', {\n  // @ts-expect-error: hush.\n  unknown: unknownNesting,\n  // @ts-expect-error: hush.\n  invalid: topScan, // `undefined` is the top query selector.\n  handlers: {\n    // @ts-expect-error: hush.\n    null: descendant, // `null` is the descendant combinator.\n    // @ts-expect-error: hush.\n    '>': child,\n    // @ts-expect-error: hush.\n    '+': adjacentSibling,\n    // @ts-expect-error: hush.\n    '~': generalSibling\n  }\n})\n\n/** @type {Handler} */\nexport function nest(query, node, index, parent, state) {\n  handle(query, node, index, parent, state)\n}\n\n// Shouldnt be called, parser gives correct data.\n/* c8 ignore next 6 */\n/**\n * @param {{[x: string]: unknown, type: string}} query\n */\nfunction unknownNesting(query) {\n  throw new Error('Unexpected nesting `' + query.nestingOperator + '`')\n}\n\n/** @type {Handler} */\nfunction topScan(query, node, index, parent, state) {\n  // Shouldnt happen.\n  /* c8 ignore next 3 */\n  if (parent || index === null) {\n    throw new Error('topScan is supposed to be called from the root node')\n  }\n\n  // Shouldnt happen.\n  /* c8 ignore next 3 */\n  if (!state.iterator) {\n    throw new Error('Expected `iterator`')\n  }\n\n  state.iterator(query, node, index, parent, state)\n  if (!state.shallow) descendant(query, node, index, parent, state)\n}\n\n/** @type {Handler} */\nfunction descendant(query, node, index, parent, state) {\n  const previous = state.iterator\n\n  state.iterator = iterator\n  child(query, node, index, parent, state)\n\n  /** @type {SelectIterator} */\n  function iterator(query, node, index, parent, state) {\n    // Shouldnt happen.\n    /* c8 ignore next 3 */\n    if (!previous) {\n      throw new Error('Expected `iterator`')\n    }\n\n    state.iterator = previous\n    previous(query, node, index, parent, state)\n    state.iterator = iterator\n\n    if (state.one && state.found) return\n\n    child(query, node, index, parent, state)\n  }\n}\n\n/** @type {Handler} */\nfunction child(query, node, _1, _2, state) {\n  if (!parent(node)) return\n  if (node.children.length === 0) return\n  indexedSearch(query, node, state)\n}\n\n/** @type {Handler} */\nfunction adjacentSibling(query, _, index, parent, state) {\n  // Shouldnt happen.\n  /* c8 ignore next */\n  if (!parent || index === null) return\n  indexedSearch(query, parent, state, index + 1, true)\n}\n\n/** @type {Handler} */\nfunction generalSibling(query, _, index, parent, state) {\n  // Shouldnt happen.\n  /* c8 ignore next */\n  if (!parent || index === null) return\n  indexedSearch(query, parent, state, index + 1)\n}\n\n/**\n * Handles `typeIndex` and `typeCount` properties for every walker.\n *\n * @param {Rule} query\n * @param {Parent} parent\n * @param {SelectState} state\n * @param {number} [from=0]\n * @param {boolean} [firstElementOnly=false]\n */\nfunction indexedSearch(query, parent, state, from, firstElementOnly) {\n  const handle = state.index ? delay : add\n  const children = parent.children\n  let elements = 0\n  let index = -1\n  /** @type {Record<string, number>} */\n  const types = {}\n  /** @type {Array<Function>} */\n  const delayed = []\n\n  // Start looking at `from`\n  if (from === undefined || from === null) from = 0\n\n  // Exit if there are no further nodes.\n  if (from >= children.length) return\n\n  // If we need to index for types, do so for all elements before `from`.\n  if (state.index) {\n    while (++index < from) {\n      const child = children[index]\n      if (element(child)) count(child.tagName)\n    }\n  }\n\n  index = from - 1\n\n  while (++index < children.length) {\n    const child = children[index]\n    // Only check elements.\n    // Check either all elements, or only check the first sibling\n    if (element(child)) {\n      handle(child, index)\n\n      // Stop if were looking for one node and its already found.\n      if (state.one && state.found) return\n      if (firstElementOnly) break\n    }\n  }\n\n  if (state.index) {\n    index = -1\n\n    while (++index < delayed.length) {\n      delayed[index]()\n      if (state.one && state.found) return\n    }\n  }\n\n  /**\n   * @param {Element} node\n   * @param {number} childIndex\n   */\n  function delay(node, childIndex) {\n    const elementsBefore = elements\n    const elementsByTypeBefore = own.call(types, node.tagName)\n      ? types[node.tagName]\n      : 0\n\n    count(node.tagName)\n\n    delayed.push(fn)\n\n    function fn() {\n      // Before counting further elements:\n      state.elementIndex = elementsBefore\n      state.typeIndex = elementsByTypeBefore\n\n      // After counting all elements.\n      state.elementCount = elements\n      state.typeCount = types[node.tagName]\n\n      add(node, childIndex)\n    }\n  }\n\n  /**\n   * @param {Element} node\n   * @param {number} childIndex\n   */\n  function add(node, childIndex) {\n    const exit = enterState(state, node)\n\n    // Shouldnt happen.\n    /* c8 ignore next 3 */\n    if (!state.iterator) {\n      throw new Error('Expected `iterator`')\n    }\n\n    state.iterator(query, node, childIndex, parent, state)\n    exit()\n  }\n\n  /**\n   * @param {string} name\n   */\n  function count(name) {\n    if (!own.call(types, name)) types[name] = 0\n    elements++\n    types[name]++\n  }\n}\n","/**\n * See <https://tools.ietf.org/html/rfc4647#section-3.1>\n * for more information on the algorithms.\n */\n\n/**\n * @typedef {string} Tag\n * @typedef {Array<Tag>} Tags\n * @typedef {string} Range\n * @typedef {Array<Range>} Ranges\n *\n * @callback Check\n * @param {Tag} tag\n * @param {Range} range\n * @returns {boolean}\n *\n * @typedef {FilterOrLookup<true>} Filter\n * @typedef {FilterOrLookup<false>} Lookup\n */\n\n/**\n * @template {boolean} IsFilter\n * @callback FilterOrLookup\n * @param {Tag|Tags} tags\n * @param {Range|Ranges} [ranges='*']\n * @returns {IsFilter extends true ? Tags : Tag|undefined}\n */\n\n/**\n * Factory to perform a filter or a lookup.\n * This factory creates a function that accepts a list of tags and a list of\n * ranges, and contains logic to exit early for lookups.\n * `check` just has to deal with one tag and one range.\n * This match function iterates over ranges, and for each range,\n * iterates over tags.  That way, earlier ranges matching any tag have\n * precedence over later ranges.\n *\n * @template {boolean} IsFilter\n * @param {Check} check\n * @param {IsFilter} filter\n * @returns {FilterOrLookup<IsFilter>}\n */\nfunction factory(check, filter) {\n  return function (tags, ranges) {\n    let left = cast(tags, 'tag')\n    const right = cast(\n      ranges === null || ranges === undefined ? '*' : ranges,\n      'range'\n    )\n    /** @type {Tags} */\n    const matches = []\n    let rightIndex = -1\n\n    while (++rightIndex < right.length) {\n      const range = right[rightIndex].toLowerCase()\n\n      // Ignore wildcards in lookup mode.\n      if (!filter && range === '*') continue\n\n      let leftIndex = -1\n      /** @type {Tags} */\n      const next = []\n\n      while (++leftIndex < left.length) {\n        if (check(left[leftIndex].toLowerCase(), range)) {\n          // Exit if this is a lookup and we have a match.\n          if (!filter) {\n            return /** @type {IsFilter extends true ? Tags : Tag|undefined} */ (\n              left[leftIndex]\n            )\n          }\n\n          matches.push(left[leftIndex])\n        } else {\n          next.push(left[leftIndex])\n        }\n      }\n\n      left = next\n    }\n\n    // If this is a filter, return the list.  If its a lookup, we didnt find\n    // a match, so return `undefined`.\n    return /** @type {IsFilter extends true ? Tags : Tag|undefined} */ (\n      filter ? matches : undefined\n    )\n  }\n}\n\n/**\n * Basic Filtering (Section 3.3.1) matches a language priority list consisting\n * of basic language ranges (Section 2.1) to sets of language tags.\n */\nexport const basicFilter = factory(function (tag, range) {\n  return range === '*' || tag === range || tag.includes(range + '-')\n}, true)\n\n/**\n * Extended Filtering (Section 3.3.2) matches a language priority list\n * consisting of extended language ranges (Section 2.2) to sets of language\n * tags.\n */\nexport const extendedFilter = factory(function (tag, range) {\n  // 3.3.2.1\n  const left = tag.split('-')\n  const right = range.split('-')\n  let leftIndex = 0\n  let rightIndex = 0\n\n  // 3.3.2.2\n  if (right[rightIndex] !== '*' && left[leftIndex] !== right[rightIndex]) {\n    return false\n  }\n\n  leftIndex++\n  rightIndex++\n\n  // 3.3.2.3\n  while (rightIndex < right.length) {\n    // 3.3.2.3.A\n    if (right[rightIndex] === '*') {\n      rightIndex++\n      continue\n    }\n\n    // 3.3.2.3.B\n    if (!left[leftIndex]) return false\n\n    // 3.3.2.3.C\n    if (left[leftIndex] === right[rightIndex]) {\n      leftIndex++\n      rightIndex++\n      continue\n    }\n\n    // 3.3.2.3.D\n    if (left[leftIndex].length === 1) return false\n\n    // 3.3.2.3.E\n    leftIndex++\n  }\n\n  // 3.3.2.4\n  return true\n}, true)\n\n/**\n * Lookup (Section 3.4) matches a language priority list consisting of basic\n * language ranges to sets of language tags to find the one exact language tag\n * that best matches the range.\n */\nexport const lookup = factory(function (tag, range) {\n  let right = range\n\n  /* eslint-disable-next-line no-constant-condition */\n  while (true) {\n    if (right === '*' || tag === right) return true\n\n    let index = right.lastIndexOf('-')\n\n    if (index < 0) return false\n\n    if (right.charAt(index - 2) === '-') index -= 2\n\n    right = right.slice(0, index)\n  }\n}, false)\n\n/**\n * Validate tags or ranges, and cast them to arrays.\n *\n * @param {string|Array<string>} values\n * @param {string} name\n * @returns {Array<string>}\n */\nfunction cast(values, name) {\n  const value = values && typeof values === 'string' ? [values] : values\n\n  if (!value || typeof value !== 'object' || !('length' in value)) {\n    throw new Error(\n      'Invalid ' + name + ' `' + value + '`, expected non-empty string'\n    )\n  }\n\n  return value\n}\n","var own = {}.hasOwnProperty\n\n/**\n * Check if `node` has a set `name` property.\n *\n * @param {unknown} node\n * @param {string} name\n * @returns {boolean}\n */\nexport function hasProperty(node, name) {\n  /** @type {unknown} */\n  var value =\n    name &&\n    node &&\n    typeof node === 'object' &&\n    // @ts-ignore Looks like a node.\n    node.type === 'element' &&\n    // @ts-ignore Looks like an element.\n    node.properties &&\n    // @ts-ignore Looks like an element.\n    own.call(node.properties, name) &&\n    // @ts-ignore Looks like an element.\n    node.properties[name]\n\n  return value !== null && value !== undefined && value !== false\n}\n","/**\n * @param {unknown} thing\n * @returns {boolean}\n */\nexport function whitespace(thing) {\n  /** @type {string} */\n  var value =\n    // @ts-ignore looks like a node.\n    thing && typeof thing === 'object' && thing.type === 'text'\n      ? // @ts-ignore looks like a text.\n        thing.value || ''\n      : thing\n\n  // HTML whitespace expression.\n  // See <https://html.spec.whatwg.org/#space-character>.\n  return typeof value === 'string' && value.replace(/[ \\t\\n\\f\\r]/g, '') === ''\n}\n","/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').RulePseudo} RulePseudo\n * @typedef {import('./types.js').RulePseudoNth} RulePseudoNth\n * @typedef {import('./types.js').RulePseudoSelector} RulePseudoSelector\n * @typedef {import('./types.js').Parent} Parent\n * @typedef {import('./types.js').Selector} Selector\n * @typedef {import('./types.js').Selectors} Selectors\n * @typedef {import('./types.js').SelectState} SelectState\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').ElementChild} ElementChild\n */\n\nimport {extendedFilter} from 'bcp-47-match'\nimport {parse as commas} from 'comma-separated-tokens'\nimport {hasProperty} from 'hast-util-has-property'\nimport {isElement} from 'hast-util-is-element'\nimport {whitespace} from 'hast-util-whitespace'\nimport {zwitch} from 'zwitch'\nimport {any} from './any.js'\n\nconst handle = zwitch('name', {\n  // @ts-expect-error: hush.\n  unknown: unknownPseudo,\n  invalid: invalidPseudo,\n  handlers: {\n    // @ts-expect-error: hush.\n    any: matches,\n    // @ts-expect-error: hush.\n    'any-link': anyLink,\n    // @ts-expect-error: hush.\n    blank,\n    // @ts-expect-error: hush.\n    checked,\n    // @ts-expect-error: hush.\n    dir,\n    // @ts-expect-error: hush.\n    disabled,\n    // @ts-expect-error: hush.\n    empty,\n    // @ts-expect-error: hush.\n    enabled,\n    // @ts-expect-error: hush.\n    'first-child': firstChild,\n    // @ts-expect-error: hush.\n    'first-of-type': firstOfType,\n    // @ts-expect-error: hush.\n    has,\n    // @ts-expect-error: hush.\n    lang,\n    // @ts-expect-error: hush.\n    'last-child': lastChild,\n    // @ts-expect-error: hush.\n    'last-of-type': lastOfType,\n    // @ts-expect-error: hush.\n    matches,\n    // @ts-expect-error: hush.\n    not,\n    // @ts-expect-error: hush.\n    'nth-child': nthChild,\n    // @ts-expect-error: hush.\n    'nth-last-child': nthLastChild,\n    // @ts-expect-error: hush.\n    'nth-of-type': nthOfType,\n    // @ts-expect-error: hush.\n    'nth-last-of-type': nthLastOfType,\n    // @ts-expect-error: hush.\n    'only-child': onlyChild,\n    // @ts-expect-error: hush.\n    'only-of-type': onlyOfType,\n    // @ts-expect-error: hush.\n    optional,\n    // @ts-expect-error: hush.\n    'read-only': readOnly,\n    // @ts-expect-error: hush.\n    'read-write': readWrite,\n    // @ts-expect-error: hush.\n    required,\n    // @ts-expect-error: hush.\n    root,\n    // @ts-expect-error: hush.\n    scope\n  }\n})\n\npseudo.needsIndex = [\n  'first-child',\n  'first-of-type',\n  'last-child',\n  'last-of-type',\n  'nth-child',\n  'nth-last-child',\n  'nth-of-type',\n  'nth-last-of-type',\n  'only-child',\n  'only-of-type'\n]\n\n/**\n * @param {Rule} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nexport function pseudo(query, element, index, parent, state) {\n  const pseudos = query.pseudos\n  let offset = -1\n\n  while (++offset < pseudos.length) {\n    if (!handle(pseudos[offset], element, index, parent, state)) return false\n  }\n\n  return true\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction matches(query, element, _1, _2, state) {\n  const shallow = state.shallow\n  const one = state.one\n\n  state.shallow = true\n  state.one = true\n\n  const result = any(query.value, element, state)[0] === element\n\n  state.shallow = shallow\n  state.one = one\n\n  return result\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction not(query, element, index, parent, state) {\n  return !matches(query, element, index, parent, state)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction anyLink(_, element) {\n  return (\n    isElement(element, ['a', 'area', 'link']) && hasProperty(element, 'href')\n  )\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction checked(_, element) {\n  if (isElement(element, ['input', 'menuitem'])) {\n    return Boolean(\n      element.properties &&\n        (element.properties.type === 'checkbox' ||\n          element.properties.type === 'radio') &&\n        hasProperty(element, 'checked')\n    )\n  }\n\n  if (isElement(element, 'option')) {\n    return hasProperty(element, 'selected')\n  }\n\n  return false\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction dir(query, _1, _2, _3, state) {\n  return state.direction === query.value\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction disabled(_, element) {\n  return (\n    isElement(element, [\n      'button',\n      'input',\n      'select',\n      'textarea',\n      'optgroup',\n      'option',\n      'menuitem',\n      'fieldset'\n    ]) && hasProperty(element, 'disabled')\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @returns {boolean}\n */\nfunction enabled(query, element) {\n  return !disabled(query, element)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction required(_, element) {\n  return (\n    isElement(element, ['input', 'textarea', 'select']) &&\n    hasProperty(element, 'required')\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @returns {boolean}\n */\nfunction optional(query, element) {\n  return !required(query, element)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction readWrite(_, element, _1, _2, state) {\n  return isElement(element, ['input', 'textarea'])\n    ? !hasProperty(element, 'readOnly') && !hasProperty(element, 'disabled')\n    : Boolean(state.editableOrEditingHost)\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} element\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction readOnly(query, element, index, parent, state) {\n  return !readWrite(query, element, index, parent, state)\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction root(_, element, _1, parent, state) {\n  return Boolean(\n    (!parent || parent.type === 'root') &&\n      state.schema &&\n      (state.schema.space === 'html' || state.schema.space === 'svg') &&\n      isElement(element, ['html', 'svg'])\n  )\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @param {number|null} _1\n * @param {Parent|null} _2\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction scope(_, element, _1, _2, state) {\n  return Boolean(\n    isElement(element) &&\n      state.scopeElements &&\n      state.scopeElements.includes(element)\n  )\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction empty(_, element) {\n  return !someChildren(element, check)\n\n  /**\n   * @param {ElementChild} child\n   * @returns {boolean}\n   */\n  function check(child) {\n    return child.type === 'element' || child.type === 'text'\n  }\n}\n\n/**\n * @param {RulePseudo} _\n * @param {Element} element\n * @returns {boolean}\n */\nfunction blank(_, element) {\n  return !someChildren(element, check)\n\n  /**\n   * @param {ElementChild} child\n   * @returns {boolean}\n   */\n  function check(child) {\n    return (\n      child.type === 'element' || (child.type === 'text' && !whitespace(child))\n    )\n  }\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction firstChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.elementIndex === 0\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lang(query, _1, _2, _3, state) {\n  return (\n    state.language !== '' &&\n    state.language !== undefined &&\n    state.language !== null &&\n    // @ts-expect-error never `selectors`.\n    extendedFilter(state.language, commas(query.value)).length > 0\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lastChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return Boolean(\n    state.elementCount && state.elementIndex === state.elementCount - 1\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction onlyChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.elementCount === 1\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return (\n    typeof state.elementIndex === 'number' && query.value(state.elementIndex)\n  )\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthLastChild(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return Boolean(\n    typeof state.elementCount === 'number' &&\n      typeof state.elementIndex === 'number' &&\n      query.value(state.elementCount - state.elementIndex - 1)\n  )\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return typeof state.typeIndex === 'number' && query.value(state.typeIndex)\n}\n\n/**\n * @param {RulePseudoNth} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction nthLastOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return (\n    typeof state.typeCount === 'number' &&\n    typeof state.typeIndex === 'number' &&\n    query.value(state.typeCount - 1 - state.typeIndex)\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction firstOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.typeIndex === 0\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction lastOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return (\n    typeof state.typeIndex === 'number' &&\n    typeof state.typeCount === 'number' &&\n    state.typeIndex === state.typeCount - 1\n  )\n}\n\n/**\n * @param {RulePseudo} query\n * @param {Element} _1\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction onlyOfType(query, _1, _2, _3, state) {\n  assertDeep(state, query)\n  return state.typeCount === 1\n}\n\n/**\n * @param {Element} element\n * @param {(child: ElementChild) => boolean} check\n * @returns {boolean}\n */\nfunction someChildren(element, check) {\n  const children = element.children\n  let index = -1\n\n  while (++index < children.length) {\n    if (check(children[index])) return true\n  }\n\n  return false\n}\n\n// Shouldnt be called, parser gives correct data.\n/* c8 ignore next 3 */\nfunction invalidPseudo() {\n  throw new Error('Invalid pseudo-selector')\n}\n\n/**\n * @param {RulePseudo} query\n */\nfunction unknownPseudo(query) {\n  if (query.name) {\n    throw new Error('Unknown pseudo-selector `' + query.name + '`')\n  }\n\n  throw new Error('Unexpected pseudo-element or empty pseudo-class')\n}\n\n/**\n * @param {SelectState} state\n * @param {RulePseudo|RulePseudoNth} query\n */\nfunction assertDeep(state, query) {\n  if (state.shallow) {\n    throw new Error('Cannot use `:' + query.name + '` without parent')\n  }\n}\n\n/**\n * @param {RulePseudoSelector} query\n * @param {Element} element\n * @param {number|null} _2\n * @param {Parent|null} _3\n * @param {SelectState} state\n * @returns {boolean}\n */\nfunction has(query, element, _2, _3, state) {\n  const shallow = state.shallow\n  const one = state.one\n  const scopeElements = state.scopeElements\n  const value = appendScope(query.value)\n\n  state.shallow = false\n  state.one = true\n  state.scopeElements = [element]\n\n  const result = any(value, element, state).length > 0\n\n  state.shallow = shallow\n  state.one = one\n  state.scopeElements = scopeElements\n\n  return result\n}\n\n/**\n * @param {Selector} value\n * @returns {Selectors}\n */\nfunction appendScope(value) {\n  /** @type {Selectors} */\n  const selector =\n    value.type === 'ruleSet' ? {type: 'selectors', selectors: [value]} : value\n  let index = -1\n\n  while (++index < selector.selectors.length) {\n    const rule = selector.selectors[index].rule\n    rule.nestingOperator = null\n\n    if (\n      !rule.pseudos ||\n      rule.pseudos.length !== 1 ||\n      rule.pseudos[0].name !== 'scope'\n    ) {\n      selector.selectors[index] = {\n        type: 'ruleSet',\n        // @ts-expect-error pseudos are fine w/ just a name!\n        rule: {type: 'rule', rule, pseudos: [{name: 'scope'}]}\n      }\n    }\n  }\n\n  return selector\n}\n","/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').RuleAttr} RuleAttr\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').Schema} Schema\n * @typedef {import('./types.js').Info} Info\n * @typedef {import('./types.js').PropertyValue} PropertyValue\n */\n\nimport {stringify as commas} from 'comma-separated-tokens'\nimport {hasProperty} from 'hast-util-has-property'\nimport {find} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport {zwitch} from 'zwitch'\n\nconst handle = zwitch('operator', {\n  // @ts-expect-error: hush.\n  unknown: unknownOperator,\n  // @ts-expect-error: hush.\n  invalid: exists,\n  handlers: {\n    // @ts-expect-error: hush.\n    '=': exact,\n    // @ts-expect-error: hush.\n    '~=': spaceSeparatedList,\n    // @ts-expect-error: hush.\n    '|=': exactOrPrefix,\n    // @ts-expect-error: hush.\n    '^=': begins,\n    // @ts-expect-error: hush.\n    '$=': ends,\n    // @ts-expect-error: hush.\n    '*=': contains\n  }\n})\n\n/**\n * @param {Rule} query\n * @param {Element} element\n * @param {Schema} schema\n * @returns {boolean}\n */\nexport function attribute(query, element, schema) {\n  const attrs = query.attrs\n  let index = -1\n\n  while (++index < attrs.length) {\n    if (!handle(attrs[index], element, find(schema, attrs[index].name))) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * `[attr]`\n *\n * @param {RuleAttr} _\n * @param {Element} element\n * @param {Info} info\n * @returns {boolean}\n */\nfunction exists(_, element, info) {\n  return hasProperty(element, info.property)\n}\n\n/**\n * `[attr=value]`\n *\n * @param {RuleAttr} query\n * @param {Element} element\n * @param {Info} info\n * @returns {boolean}\n */\nfunction exact(query, element, info) {\n  return Boolean(\n    hasProperty(element, info.property) &&\n      element.properties &&\n      normalizeValue(element.properties[info.property], info) === query.value\n  )\n}\n\n/**\n * `[attr~=value]`\n *\n * @param {RuleAttr} query\n * @param {Element} element\n * @param {Info} info\n * @returns {boolean}\n */\nfunction spaceSeparatedList(query, element, info) {\n  const value = element.properties && element.properties[info.property]\n\n  return (\n    // If this is a comma-separated list, and the query is contained in it, return\n    // true.\n    (!info.commaSeparated &&\n      value &&\n      typeof value === 'object' &&\n      query.value &&\n      value.includes(query.value)) ||\n    // For all other values (including comma-separated lists), return whether this\n    // is an exact match.\n    (hasProperty(element, info.property) &&\n      normalizeValue(value, info) === query.value)\n  )\n}\n\n/**\n * `[attr|=value]`\n *\n * @param {RuleAttr} query\n * @param {Element} element\n * @param {Info} info\n * @returns {boolean}\n */\nfunction exactOrPrefix(query, element, info) {\n  const value = normalizeValue(\n    element.properties && element.properties[info.property],\n    info\n  )\n\n  return Boolean(\n    hasProperty(element, info.property) &&\n      query.value &&\n      (value === query.value ||\n        (value.slice(0, query.value.length) === query.value &&\n          value.charAt(query.value.length) === '-'))\n  )\n}\n\n/**\n * `[attr^=value]`\n *\n * @param {RuleAttr} query\n * @param {Element} element\n * @param {Info} info\n * @returns {boolean}\n */\nfunction begins(query, element, info) {\n  return Boolean(\n    hasProperty(element, info.property) &&\n      element.properties &&\n      query.value &&\n      normalizeValue(element.properties[info.property], info).slice(\n        0,\n        query.value.length\n      ) === query.value\n  )\n}\n\n/**\n * `[attr$=value]`\n *\n * @param {RuleAttr} query\n * @param {Element} element\n * @param {Info} info\n * @returns {boolean}\n */\nfunction ends(query, element, info) {\n  return Boolean(\n    hasProperty(element, info.property) &&\n      element.properties &&\n      query.value &&\n      normalizeValue(element.properties[info.property], info).slice(\n        -query.value.length\n      ) === query.value\n  )\n}\n\n/**\n * `[attr*=value]`\n *\n * @param {RuleAttr} query\n * @param {Element} element\n * @param {Info} info\n * @returns {boolean}\n */\nfunction contains(query, element, info) {\n  return Boolean(\n    hasProperty(element, info.property) &&\n      element.properties &&\n      query.value &&\n      normalizeValue(element.properties[info.property], info).includes(\n        query.value\n      )\n  )\n}\n\n// Shouldnt be called, Parser throws an error instead.\n/**\n * @param {RuleAttr} query\n * @returns {boolean}\n */\n/* c8 ignore next 3 */\nfunction unknownOperator(query) {\n  throw new Error('Unknown operator `' + query.operator + '`')\n}\n\n/**\n * Stringify a hast value back to its HTML form.\n *\n * @param {PropertyValue} value\n * @param {Info} info\n * @returns {string}\n */\nfunction normalizeValue(value, info) {\n  if (typeof value === 'boolean') {\n    return info.attribute\n  }\n\n  if (Array.isArray(value)) {\n    return (info.commaSeparated ? commas : spaces)(value)\n  }\n\n  return String(value)\n}\n","/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').HastNode} HastNode\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').Parent} Parent\n * @typedef {import('./types.js').SelectState} SelectState\n * @typedef {import('hast-util-is-element').AssertPredicate<Element>} IsElement\n */\n\nimport {attribute} from './attribute.js'\nimport {className} from './class-name.js'\nimport {id} from './id.js'\nimport {name} from './name.js'\nimport {pseudo} from './pseudo.js'\nimport {element} from './util.js'\n\n/**\n * @param {Rule} query\n * @param {HastNode} node\n * @param {number|null} index\n * @param {Parent|null} parent\n * @param {SelectState} state\n * @returns {boolean}\n */\nexport function test(query, node, index, parent, state) {\n  return Boolean(\n    element(node) &&\n      state.schema &&\n      (!query.tagName || name(query, node)) &&\n      (!query.classNames || className(query, node)) &&\n      (!query.id || id(query, node)) &&\n      (!query.attrs || attribute(query, node, state.schema)) &&\n      (!query.pseudos || pseudo(query, node, index, parent, state))\n  )\n}\n","/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').Element} Element\n */\n\n/**\n * @param {Rule} query\n * @param {Element} element\n * @returns {boolean}\n */\nexport function name(query, element) {\n  return query.tagName === '*' || query.tagName === element.tagName\n}\n","/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').Element} Element\n */\n\n/**\n * @param {Rule} query\n * @param {Element} element\n * @returns {boolean}\n */\nexport function className(query, element) {\n  /** @type {Array<string>} */\n  // @ts-expect-error Assume array.\n  const value = element.properties.className || []\n  let index = -1\n\n  if (query.classNames) {\n    while (++index < query.classNames.length) {\n      if (!value.includes(query.classNames[index])) return false\n    }\n  }\n\n  return true\n}\n","/**\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').Element} Element\n */\n\n/**\n * @param {Rule} query\n * @param {Element} element\n * @returns {boolean}\n */\nexport function id(query, element) {\n  return Boolean(element.properties && element.properties.id === query.id)\n}\n","/**\n * @typedef {import('hast').Element} Element\n * @typedef {import('./types.js').Selectors} Selectors\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').RuleSet} RuleSet\n * @typedef {import('./types.js').HastNode} HastNode\n * @typedef {import('./types.js').SelectIterator} SelectIterator\n * @typedef {import('./types.js').SelectState} SelectState\n */\n\nimport {html, svg} from 'property-information'\nimport {zwitch} from 'zwitch'\nimport {enterState} from './enter-state.js'\nimport {nest} from './nest.js'\nimport {pseudo} from './pseudo.js'\nimport {test} from './test.js'\n\nconst type = zwitch('type', {\n  // @ts-expect-error: hush.\n  unknown: unknownType,\n  invalid: invalidType,\n  // @ts-expect-error: hush.\n  handlers: {selectors, ruleSet, rule}\n})\n\n/**\n * @param {Selectors|RuleSet|Rule} query\n * @param {HastNode|undefined} node\n * @param {SelectState} state\n * @returns {Array<Element>}\n */\nexport function any(query, node, state) {\n  // @ts-expect-error zwitch types are off.\n  return query && node ? type(query, node, state) : []\n}\n\n/**\n * @param {Selectors} query\n * @param {HastNode} node\n * @param {SelectState} state\n * @returns {Array<Element>}\n */\nfunction selectors(query, node, state) {\n  const collector = new Collector(state.one)\n  let index = -1\n\n  while (++index < query.selectors.length) {\n    collector.collectAll(ruleSet(query.selectors[index], node, state))\n  }\n\n  return collector.result\n}\n\n/**\n * @param {RuleSet} query\n * @param {HastNode} node\n * @param {SelectState} state\n * @returns {Array<Element>}\n */\nfunction ruleSet(query, node, state) {\n  return rule(query.rule, node, state)\n}\n\n/**\n * @param {Rule} query\n * @param {HastNode} tree\n * @param {SelectState} state\n * @returns {Array<Element>}\n */\nfunction rule(query, tree, state) {\n  const collector = new Collector(state.one)\n\n  if (state.shallow && query.rule) {\n    throw new Error('Expected selector without nesting')\n  }\n\n  nest(\n    query,\n    tree,\n    0,\n    null,\n    configure(query, {\n      schema: state.space === 'svg' ? svg : html,\n      language: undefined,\n      direction: 'ltr',\n      editableOrEditingHost: false,\n      // @ts-expect-error assume elements.\n      scopeElements: tree.type === 'root' ? tree.children : [tree],\n      iterator,\n      one: state.one,\n      shallow: state.shallow\n    })\n  )\n\n  return collector.result\n\n  /** @type {SelectIterator} */\n  function iterator(query, node, index, parent, state) {\n    const exit = enterState(state, node)\n\n    if (test(query, node, index, parent, state)) {\n      if (query.rule) {\n        nest(query.rule, node, index, parent, configure(query.rule, state))\n      } else {\n        // @ts-expect-error `test` also asserts `node is Element`\n        collector.collect(node)\n        state.found = true\n      }\n    }\n\n    exit()\n  }\n\n  /**\n   * @template {SelectState} S\n   * @param {Rule} query\n   * @param {S} state\n   * @returns {S}\n   */\n  function configure(query, state) {\n    const pseudos = query.pseudos || []\n    let index = -1\n\n    while (++index < pseudos.length) {\n      if (pseudo.needsIndex.includes(pseudos[index].name)) {\n        state.index = true\n        break\n      }\n    }\n\n    return state\n  }\n}\n\n// Shouldnt be called, all data is handled.\n/* c8 ignore next 6 */\n/**\n * @param {{[x: string]: unknown, type: string}} query\n */\nfunction unknownType(query) {\n  throw new Error('Unknown type `' + query.type + '`')\n}\n\n// Shouldnt be called, parser gives correct data.\n/* c8 ignore next 3 */\nfunction invalidType() {\n  throw new Error('Invalid type')\n}\n\nclass Collector {\n  /**\n   * @param {boolean|undefined} [one]\n   */\n  constructor(one) {\n    /** @type {Array<Element>} */\n    this.result = []\n    /** @type {boolean|undefined} */\n    this.one = one\n    /** @type {boolean} */\n    this.found = false\n  }\n\n  /**\n   * Append nodes to array, filtering out duplicates.\n   *\n   * @param {Array<Element>} elements\n   */\n  collectAll(elements) {\n    let index = -1\n\n    while (++index < elements.length) {\n      this.collect(elements[index])\n    }\n  }\n\n  /**\n   * Append one node.\n   *\n   * @param {Element} element\n   */\n  collect(element) {\n    if (this.one) {\n      // Shouldnt happen, safeguards performance problems.\n      /* c8 ignore next */\n      if (this.found) return\n      this.found = true\n    }\n\n    if (!this.result.includes(element)) this.result.push(element)\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isIdentStart(c) {\n    return (c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z') || (c === '-') || (c === '_');\n}\nexports.isIdentStart = isIdentStart;\nfunction isIdent(c) {\n    return (c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z') || (c >= '0' && c <= '9') || c === '-' || c === '_';\n}\nexports.isIdent = isIdent;\nfunction isHex(c) {\n    return (c >= 'a' && c <= 'f') || (c >= 'A' && c <= 'F') || (c >= '0' && c <= '9');\n}\nexports.isHex = isHex;\nfunction escapeIdentifier(s) {\n    var len = s.length;\n    var result = '';\n    var i = 0;\n    while (i < len) {\n        var chr = s.charAt(i);\n        if (exports.identSpecialChars[chr]) {\n            result += '\\\\' + chr;\n        }\n        else {\n            if (!(chr === '_' || chr === '-' ||\n                (chr >= 'A' && chr <= 'Z') ||\n                (chr >= 'a' && chr <= 'z') ||\n                (i !== 0 && chr >= '0' && chr <= '9'))) {\n                var charCode = chr.charCodeAt(0);\n                if ((charCode & 0xF800) === 0xD800) {\n                    var extraCharCode = s.charCodeAt(i++);\n                    if ((charCode & 0xFC00) !== 0xD800 || (extraCharCode & 0xFC00) !== 0xDC00) {\n                        throw Error('UCS-2(decode): illegal sequence');\n                    }\n                    charCode = ((charCode & 0x3FF) << 10) + (extraCharCode & 0x3FF) + 0x10000;\n                }\n                result += '\\\\' + charCode.toString(16) + ' ';\n            }\n            else {\n                result += chr;\n            }\n        }\n        i++;\n    }\n    return result;\n}\nexports.escapeIdentifier = escapeIdentifier;\nfunction escapeStr(s) {\n    var len = s.length;\n    var result = '';\n    var i = 0;\n    var replacement;\n    while (i < len) {\n        var chr = s.charAt(i);\n        if (chr === '\"') {\n            chr = '\\\\\"';\n        }\n        else if (chr === '\\\\') {\n            chr = '\\\\\\\\';\n        }\n        else if ((replacement = exports.strReplacementsRev[chr]) !== undefined) {\n            chr = replacement;\n        }\n        result += chr;\n        i++;\n    }\n    return \"\\\"\" + result + \"\\\"\";\n}\nexports.escapeStr = escapeStr;\nexports.identSpecialChars = {\n    '!': true,\n    '\"': true,\n    '#': true,\n    '$': true,\n    '%': true,\n    '&': true,\n    '\\'': true,\n    '(': true,\n    ')': true,\n    '*': true,\n    '+': true,\n    ',': true,\n    '.': true,\n    '/': true,\n    ';': true,\n    '<': true,\n    '=': true,\n    '>': true,\n    '?': true,\n    '@': true,\n    '[': true,\n    '\\\\': true,\n    ']': true,\n    '^': true,\n    '`': true,\n    '{': true,\n    '|': true,\n    '}': true,\n    '~': true\n};\nexports.strReplacementsRev = {\n    '\\n': '\\\\n',\n    '\\r': '\\\\r',\n    '\\t': '\\\\t',\n    '\\f': '\\\\f',\n    '\\v': '\\\\v'\n};\nexports.singleQuoteEscapeChars = {\n    n: '\\n',\n    r: '\\r',\n    t: '\\t',\n    f: '\\f',\n    '\\\\': '\\\\',\n    '\\'': '\\''\n};\nexports.doubleQuotesEscapeChars = {\n    n: '\\n',\n    r: '\\r',\n    t: '\\t',\n    f: '\\f',\n    '\\\\': '\\\\',\n    '\"': '\"'\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction parseCssSelector(str, pos, pseudos, attrEqualityMods, ruleNestingOperators, substitutesEnabled) {\n    var l = str.length;\n    var chr = '';\n    function getStr(quote, escapeTable) {\n        var result = '';\n        pos++;\n        chr = str.charAt(pos);\n        while (pos < l) {\n            if (chr === quote) {\n                pos++;\n                return result;\n            }\n            else if (chr === '\\\\') {\n                pos++;\n                chr = str.charAt(pos);\n                var esc = void 0;\n                if (chr === quote) {\n                    result += quote;\n                }\n                else if ((esc = escapeTable[chr]) !== undefined) {\n                    result += esc;\n                }\n                else if (utils_1.isHex(chr)) {\n                    var hex = chr;\n                    pos++;\n                    chr = str.charAt(pos);\n                    while (utils_1.isHex(chr)) {\n                        hex += chr;\n                        pos++;\n                        chr = str.charAt(pos);\n                    }\n                    if (chr === ' ') {\n                        pos++;\n                        chr = str.charAt(pos);\n                    }\n                    result += String.fromCharCode(parseInt(hex, 16));\n                    continue;\n                }\n                else {\n                    result += chr;\n                }\n            }\n            else {\n                result += chr;\n            }\n            pos++;\n            chr = str.charAt(pos);\n        }\n        return result;\n    }\n    function getIdent() {\n        var result = '';\n        chr = str.charAt(pos);\n        while (pos < l) {\n            if (utils_1.isIdent(chr)) {\n                result += chr;\n            }\n            else if (chr === '\\\\') {\n                pos++;\n                if (pos >= l) {\n                    throw Error('Expected symbol but end of file reached.');\n                }\n                chr = str.charAt(pos);\n                if (utils_1.identSpecialChars[chr]) {\n                    result += chr;\n                }\n                else if (utils_1.isHex(chr)) {\n                    var hex = chr;\n                    pos++;\n                    chr = str.charAt(pos);\n                    while (utils_1.isHex(chr)) {\n                        hex += chr;\n                        pos++;\n                        chr = str.charAt(pos);\n                    }\n                    if (chr === ' ') {\n                        pos++;\n                        chr = str.charAt(pos);\n                    }\n                    result += String.fromCharCode(parseInt(hex, 16));\n                    continue;\n                }\n                else {\n                    result += chr;\n                }\n            }\n            else {\n                return result;\n            }\n            pos++;\n            chr = str.charAt(pos);\n        }\n        return result;\n    }\n    function skipWhitespace() {\n        chr = str.charAt(pos);\n        var result = false;\n        while (chr === ' ' || chr === \"\\t\" || chr === \"\\n\" || chr === \"\\r\" || chr === \"\\f\") {\n            result = true;\n            pos++;\n            chr = str.charAt(pos);\n        }\n        return result;\n    }\n    function parse() {\n        var res = parseSelector();\n        if (pos < l) {\n            throw Error('Rule expected but \"' + str.charAt(pos) + '\" found.');\n        }\n        return res;\n    }\n    function parseSelector() {\n        var selector = parseSingleSelector();\n        if (!selector) {\n            return null;\n        }\n        var res = selector;\n        chr = str.charAt(pos);\n        while (chr === ',') {\n            pos++;\n            skipWhitespace();\n            if (res.type !== 'selectors') {\n                res = {\n                    type: 'selectors',\n                    selectors: [selector]\n                };\n            }\n            selector = parseSingleSelector();\n            if (!selector) {\n                throw Error('Rule expected after \",\".');\n            }\n            res.selectors.push(selector);\n        }\n        return res;\n    }\n    function parseSingleSelector() {\n        skipWhitespace();\n        var selector = {\n            type: 'ruleSet'\n        };\n        var rule = parseRule();\n        if (!rule) {\n            return null;\n        }\n        var currentRule = selector;\n        while (rule) {\n            rule.type = 'rule';\n            currentRule.rule = rule;\n            currentRule = rule;\n            skipWhitespace();\n            chr = str.charAt(pos);\n            if (pos >= l || chr === ',' || chr === ')') {\n                break;\n            }\n            if (ruleNestingOperators[chr]) {\n                var op = chr;\n                pos++;\n                skipWhitespace();\n                rule = parseRule();\n                if (!rule) {\n                    throw Error('Rule expected after \"' + op + '\".');\n                }\n                rule.nestingOperator = op;\n            }\n            else {\n                rule = parseRule();\n                if (rule) {\n                    rule.nestingOperator = null;\n                }\n            }\n        }\n        return selector;\n    }\n    // @ts-ignore no-overlap\n    function parseRule() {\n        var rule = null;\n        while (pos < l) {\n            chr = str.charAt(pos);\n            if (chr === '*') {\n                pos++;\n                (rule = rule || {}).tagName = '*';\n            }\n            else if (utils_1.isIdentStart(chr) || chr === '\\\\') {\n                (rule = rule || {}).tagName = getIdent();\n            }\n            else if (chr === '.') {\n                pos++;\n                rule = rule || {};\n                (rule.classNames = rule.classNames || []).push(getIdent());\n            }\n            else if (chr === '#') {\n                pos++;\n                (rule = rule || {}).id = getIdent();\n            }\n            else if (chr === '[') {\n                pos++;\n                skipWhitespace();\n                var attr = {\n                    name: getIdent()\n                };\n                skipWhitespace();\n                // @ts-ignore\n                if (chr === ']') {\n                    pos++;\n                }\n                else {\n                    var operator = '';\n                    if (attrEqualityMods[chr]) {\n                        operator = chr;\n                        pos++;\n                        chr = str.charAt(pos);\n                    }\n                    if (pos >= l) {\n                        throw Error('Expected \"=\" but end of file reached.');\n                    }\n                    if (chr !== '=') {\n                        throw Error('Expected \"=\" but \"' + chr + '\" found.');\n                    }\n                    attr.operator = operator + '=';\n                    pos++;\n                    skipWhitespace();\n                    var attrValue = '';\n                    attr.valueType = 'string';\n                    // @ts-ignore\n                    if (chr === '\"') {\n                        attrValue = getStr('\"', utils_1.doubleQuotesEscapeChars);\n                        // @ts-ignore\n                    }\n                    else if (chr === '\\'') {\n                        attrValue = getStr('\\'', utils_1.singleQuoteEscapeChars);\n                        // @ts-ignore\n                    }\n                    else if (substitutesEnabled && chr === '$') {\n                        pos++;\n                        attrValue = getIdent();\n                        attr.valueType = 'substitute';\n                    }\n                    else {\n                        while (pos < l) {\n                            if (chr === ']') {\n                                break;\n                            }\n                            attrValue += chr;\n                            pos++;\n                            chr = str.charAt(pos);\n                        }\n                        attrValue = attrValue.trim();\n                    }\n                    skipWhitespace();\n                    if (pos >= l) {\n                        throw Error('Expected \"]\" but end of file reached.');\n                    }\n                    if (chr !== ']') {\n                        throw Error('Expected \"]\" but \"' + chr + '\" found.');\n                    }\n                    pos++;\n                    attr.value = attrValue;\n                }\n                rule = rule || {};\n                (rule.attrs = rule.attrs || []).push(attr);\n            }\n            else if (chr === ':') {\n                pos++;\n                var pseudoName = getIdent();\n                var pseudo = {\n                    name: pseudoName\n                };\n                // @ts-ignore\n                if (chr === '(') {\n                    pos++;\n                    var value = '';\n                    skipWhitespace();\n                    if (pseudos[pseudoName] === 'selector') {\n                        pseudo.valueType = 'selector';\n                        value = parseSelector();\n                    }\n                    else {\n                        pseudo.valueType = pseudos[pseudoName] || 'string';\n                        // @ts-ignore\n                        if (chr === '\"') {\n                            value = getStr('\"', utils_1.doubleQuotesEscapeChars);\n                            // @ts-ignore\n                        }\n                        else if (chr === '\\'') {\n                            value = getStr('\\'', utils_1.singleQuoteEscapeChars);\n                            // @ts-ignore\n                        }\n                        else if (substitutesEnabled && chr === '$') {\n                            pos++;\n                            value = getIdent();\n                            pseudo.valueType = 'substitute';\n                        }\n                        else {\n                            while (pos < l) {\n                                if (chr === ')') {\n                                    break;\n                                }\n                                value += chr;\n                                pos++;\n                                chr = str.charAt(pos);\n                            }\n                            value = value.trim();\n                        }\n                        skipWhitespace();\n                    }\n                    if (pos >= l) {\n                        throw Error('Expected \")\" but end of file reached.');\n                    }\n                    if (chr !== ')') {\n                        throw Error('Expected \")\" but \"' + chr + '\" found.');\n                    }\n                    pos++;\n                    pseudo.value = value;\n                }\n                rule = rule || {};\n                (rule.pseudos = rule.pseudos || []).push(pseudo);\n            }\n            else {\n                break;\n            }\n        }\n        return rule;\n    }\n    return parse();\n}\nexports.parseCssSelector = parseCssSelector;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nfunction renderEntity(entity) {\n    var res = '';\n    switch (entity.type) {\n        case 'ruleSet':\n            var currentEntity = entity.rule;\n            var parts = [];\n            while (currentEntity) {\n                if (currentEntity.nestingOperator) {\n                    parts.push(currentEntity.nestingOperator);\n                }\n                parts.push(renderEntity(currentEntity));\n                currentEntity = currentEntity.rule;\n            }\n            res = parts.join(' ');\n            break;\n        case 'selectors':\n            res = entity.selectors.map(renderEntity).join(', ');\n            break;\n        case 'rule':\n            if (entity.tagName) {\n                if (entity.tagName === '*') {\n                    res = '*';\n                }\n                else {\n                    res = utils_1.escapeIdentifier(entity.tagName);\n                }\n            }\n            if (entity.id) {\n                res += \"#\" + utils_1.escapeIdentifier(entity.id);\n            }\n            if (entity.classNames) {\n                res += entity.classNames.map(function (cn) {\n                    return \".\" + (utils_1.escapeIdentifier(cn));\n                }).join('');\n            }\n            if (entity.attrs) {\n                res += entity.attrs.map(function (attr) {\n                    if ('operator' in attr) {\n                        if (attr.valueType === 'substitute') {\n                            return \"[\" + utils_1.escapeIdentifier(attr.name) + attr.operator + \"$\" + attr.value + \"]\";\n                        }\n                        else {\n                            return \"[\" + utils_1.escapeIdentifier(attr.name) + attr.operator + utils_1.escapeStr(attr.value) + \"]\";\n                        }\n                    }\n                    else {\n                        return \"[\" + utils_1.escapeIdentifier(attr.name) + \"]\";\n                    }\n                }).join('');\n            }\n            if (entity.pseudos) {\n                res += entity.pseudos.map(function (pseudo) {\n                    if (pseudo.valueType) {\n                        if (pseudo.valueType === 'selector') {\n                            return \":\" + utils_1.escapeIdentifier(pseudo.name) + \"(\" + renderEntity(pseudo.value) + \")\";\n                        }\n                        else if (pseudo.valueType === 'substitute') {\n                            return \":\" + utils_1.escapeIdentifier(pseudo.name) + \"($\" + pseudo.value + \")\";\n                        }\n                        else if (pseudo.valueType === 'numeric') {\n                            return \":\" + utils_1.escapeIdentifier(pseudo.name) + \"(\" + pseudo.value + \")\";\n                        }\n                        else {\n                            return (\":\" + utils_1.escapeIdentifier(pseudo.name) +\n                                \"(\" + utils_1.escapeIdentifier(pseudo.value) + \")\");\n                        }\n                    }\n                    else {\n                        return \":\" + utils_1.escapeIdentifier(pseudo.name);\n                    }\n                }).join('');\n            }\n            break;\n        default:\n            throw Error('Unknown entity type: \"' + entity.type + '\".');\n    }\n    return res;\n}\nexports.renderEntity = renderEntity;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar parser_context_1 = require(\"./parser-context\");\nvar render_1 = require(\"./render\");\nvar CssSelectorParser = /** @class */ (function () {\n    function CssSelectorParser() {\n        this.pseudos = {};\n        this.attrEqualityMods = {};\n        this.ruleNestingOperators = {};\n        this.substitutesEnabled = false;\n    }\n    CssSelectorParser.prototype.registerSelectorPseudos = function () {\n        var pseudos = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            pseudos[_i] = arguments[_i];\n        }\n        for (var _a = 0, pseudos_1 = pseudos; _a < pseudos_1.length; _a++) {\n            var pseudo = pseudos_1[_a];\n            this.pseudos[pseudo] = 'selector';\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.unregisterSelectorPseudos = function () {\n        var pseudos = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            pseudos[_i] = arguments[_i];\n        }\n        for (var _a = 0, pseudos_2 = pseudos; _a < pseudos_2.length; _a++) {\n            var pseudo = pseudos_2[_a];\n            delete this.pseudos[pseudo];\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.registerNumericPseudos = function () {\n        var pseudos = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            pseudos[_i] = arguments[_i];\n        }\n        for (var _a = 0, pseudos_3 = pseudos; _a < pseudos_3.length; _a++) {\n            var pseudo = pseudos_3[_a];\n            this.pseudos[pseudo] = 'numeric';\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.unregisterNumericPseudos = function () {\n        var pseudos = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            pseudos[_i] = arguments[_i];\n        }\n        for (var _a = 0, pseudos_4 = pseudos; _a < pseudos_4.length; _a++) {\n            var pseudo = pseudos_4[_a];\n            delete this.pseudos[pseudo];\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.registerNestingOperators = function () {\n        var operators = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operators[_i] = arguments[_i];\n        }\n        for (var _a = 0, operators_1 = operators; _a < operators_1.length; _a++) {\n            var operator = operators_1[_a];\n            this.ruleNestingOperators[operator] = true;\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.unregisterNestingOperators = function () {\n        var operators = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operators[_i] = arguments[_i];\n        }\n        for (var _a = 0, operators_2 = operators; _a < operators_2.length; _a++) {\n            var operator = operators_2[_a];\n            delete this.ruleNestingOperators[operator];\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.registerAttrEqualityMods = function () {\n        var mods = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            mods[_i] = arguments[_i];\n        }\n        for (var _a = 0, mods_1 = mods; _a < mods_1.length; _a++) {\n            var mod = mods_1[_a];\n            this.attrEqualityMods[mod] = true;\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.unregisterAttrEqualityMods = function () {\n        var mods = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            mods[_i] = arguments[_i];\n        }\n        for (var _a = 0, mods_2 = mods; _a < mods_2.length; _a++) {\n            var mod = mods_2[_a];\n            delete this.attrEqualityMods[mod];\n        }\n        return this;\n    };\n    CssSelectorParser.prototype.enableSubstitutes = function () {\n        this.substitutesEnabled = true;\n        return this;\n    };\n    CssSelectorParser.prototype.disableSubstitutes = function () {\n        this.substitutesEnabled = false;\n        return this;\n    };\n    CssSelectorParser.prototype.parse = function (str) {\n        return parser_context_1.parseCssSelector(str, 0, this.pseudos, this.attrEqualityMods, this.ruleNestingOperators, this.substitutesEnabled);\n    };\n    CssSelectorParser.prototype.render = function (path) {\n        return render_1.renderEntity(path).trim();\n    };\n    return CssSelectorParser;\n}());\nexports.CssSelectorParser = CssSelectorParser;\n","// Following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n// Whitespace as per https://www.w3.org/TR/selectors-3/#lex is \" \\t\\r\\n\\f\"\nconst whitespace = new Set([9, 10, 12, 13, 32]);\nconst ZERO = \"0\".charCodeAt(0);\nconst NINE = \"9\".charCodeAt(0);\n/**\n * Parses an expression.\n *\n * @throws An `Error` if parsing fails.\n * @returns An array containing the integer step size and the integer offset of the nth rule.\n * @example nthCheck.parse(\"2n+3\"); // returns [2, 3]\n */\nexport function parse(formula) {\n    formula = formula.trim().toLowerCase();\n    if (formula === \"even\") {\n        return [2, 0];\n    }\n    else if (formula === \"odd\") {\n        return [2, 1];\n    }\n    // Parse [ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\n    let idx = 0;\n    let a = 0;\n    let sign = readSign();\n    let number = readNumber();\n    if (idx < formula.length && formula.charAt(idx) === \"n\") {\n        idx++;\n        a = sign * (number !== null && number !== void 0 ? number : 1);\n        skipWhitespace();\n        if (idx < formula.length) {\n            sign = readSign();\n            skipWhitespace();\n            number = readNumber();\n        }\n        else {\n            sign = number = 0;\n        }\n    }\n    // Throw if there is anything else\n    if (number === null || idx < formula.length) {\n        throw new Error(`n-th rule couldn't be parsed ('${formula}')`);\n    }\n    return [a, sign * number];\n    function readSign() {\n        if (formula.charAt(idx) === \"-\") {\n            idx++;\n            return -1;\n        }\n        if (formula.charAt(idx) === \"+\") {\n            idx++;\n        }\n        return 1;\n    }\n    function readNumber() {\n        const start = idx;\n        let value = 0;\n        while (idx < formula.length &&\n            formula.charCodeAt(idx) >= ZERO &&\n            formula.charCodeAt(idx) <= NINE) {\n            value = value * 10 + (formula.charCodeAt(idx) - ZERO);\n            idx++;\n        }\n        // Return `null` if we didn't read anything.\n        return idx === start ? null : value;\n    }\n    function skipWhitespace() {\n        while (idx < formula.length &&\n            whitespace.has(formula.charCodeAt(idx))) {\n            idx++;\n        }\n    }\n}\n//# sourceMappingURL=parse.js.map","module.exports = {\n\ttrueFunc: function trueFunc(){\n\t\treturn true;\n\t},\n\tfalseFunc: function falseFunc(){\n\t\treturn false;\n\t}\n};","import { parse } from \"./parse.js\";\nimport { compile, generate } from \"./compile.js\";\nexport { parse, compile, generate };\n/**\n * Parses and compiles a formula to a highly optimized function.\n * Combination of {@link parse} and {@link compile}.\n *\n * If the formula doesn't match any elements,\n * it returns [`boolbase`](https://github.com/fb55/boolbase)'s `falseFunc`.\n * Otherwise, a function accepting an _index_ is returned, which returns\n * whether or not the passed _index_ matches the formula.\n *\n * Note: The nth-rule starts counting at `1`, the returned function at `0`.\n *\n * @param formula The formula to compile.\n * @example\n * const check = nthCheck(\"2n+3\");\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n */\nexport default function nthCheck(formula) {\n    return compile(parse(formula));\n}\n/**\n * Parses and compiles a formula to a generator that produces a sequence of indices.\n * Combination of {@link parse} and {@link generate}.\n *\n * @param formula The formula to compile.\n * @returns A function that produces a sequence of indices.\n * @example <caption>Always increasing</caption>\n *\n * ```js\n * const gen = nthCheck.sequence('2n+3')\n *\n * gen() // `1`\n * gen() // `3`\n * gen() // `5`\n * gen() // `8`\n * gen() // `11`\n * ```\n *\n * @example <caption>With end value</caption>\n *\n * ```js\n *\n * const gen = nthCheck.sequence('-2n+5');\n *\n * gen() // 0\n * gen() // 2\n * gen() // 4\n * gen() // null\n * ```\n */\nexport function sequence(formula) {\n    return generate(parse(formula));\n}\n//# sourceMappingURL=index.js.map","import boolbase from \"boolbase\";\n/**\n * Returns a function that checks if an elements index matches the given rule\n * highly optimized to return the fastest solution.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A highly optimized function that returns whether an index matches the nth-check.\n * @example\n *\n * ```js\n * const check = nthCheck.compile([2, 3]);\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n * ```\n */\nexport function compile(parsed) {\n    const a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    const b = parsed[1] - 1;\n    /*\n     * When `b <= 0`, `a * n` won't be lead to any matches for `a < 0`.\n     * Besides, the specification states that no elements are\n     * matched when `a` and `b` are 0.\n     *\n     * `b < 0` here as we subtracted 1 from `b` above.\n     */\n    if (b < 0 && a <= 0)\n        return boolbase.falseFunc;\n    // When `a` is in the range -1..1, it matches any element (so only `b` is checked).\n    if (a === -1)\n        return (index) => index <= b;\n    if (a === 0)\n        return (index) => index === b;\n    // When `b <= 0` and `a === 1`, they match any element.\n    if (a === 1)\n        return b < 0 ? boolbase.trueFunc : (index) => index >= b;\n    /*\n     * Otherwise, modulo can be used to check if there is a match.\n     *\n     * Modulo doesn't care about the sign, so let's use `a`s absolute value.\n     */\n    const absA = Math.abs(a);\n    // Get `b mod a`, + a if this is negative.\n    const bMod = ((b % absA) + absA) % absA;\n    return a > 1\n        ? (index) => index >= b && index % absA === bMod\n        : (index) => index <= b && index % absA === bMod;\n}\n/**\n * Returns a function that produces a monotonously increasing sequence of indices.\n *\n * If the sequence has an end, the returned function will return `null` after\n * the last index in the sequence.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A function that produces a sequence of indices.\n * @example <caption>Always increasing (2n+3)</caption>\n *\n * ```js\n * const gen = nthCheck.generate([2, 3])\n *\n * gen() // `1`\n * gen() // `3`\n * gen() // `5`\n * gen() // `8`\n * gen() // `11`\n * ```\n *\n * @example <caption>With end value (-2n+10)</caption>\n *\n * ```js\n *\n * const gen = nthCheck.generate([-2, 5]);\n *\n * gen() // 0\n * gen() // 2\n * gen() // 4\n * gen() // null\n * ```\n */\nexport function generate(parsed) {\n    const a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    let b = parsed[1] - 1;\n    let n = 0;\n    // Make sure to always return an increasing sequence\n    if (a < 0) {\n        const aPos = -a;\n        // Get `b mod a`\n        const minValue = ((b % aPos) + aPos) % aPos;\n        return () => {\n            const val = minValue + aPos * n++;\n            return val > b ? null : val;\n        };\n    }\n    if (a === 0)\n        return b < 0\n            ? // There are no result  always return `null`\n                () => null\n            : // Return `b` exactly once\n                () => (n++ === 0 ? b : null);\n    if (b < 0) {\n        b += a * Math.ceil(-b / a);\n    }\n    return () => a * n++ + b;\n}\n//# sourceMappingURL=compile.js.map","/**\n * @typedef {import('./types.js').Selector} Selector\n * @typedef {import('./types.js').Selectors} Selectors\n * @typedef {import('./types.js').RuleSet} RuleSet\n * @typedef {import('./types.js').Rule} Rule\n * @typedef {import('./types.js').RulePseudo} RulePseudo\n * @typedef {import('./types.js').RulePseudoNth} RulePseudoNth\n */\n\nimport {CssSelectorParser} from 'css-selector-parser'\nimport fauxEsmNthCheck from 'nth-check'\nimport {zwitch} from 'zwitch'\n\n/** @type {import('nth-check').default} */\n// @ts-expect-error\nconst nthCheck = fauxEsmNthCheck.default || fauxEsmNthCheck\n\nconst nth = new Set([\n  'nth-child',\n  'nth-last-child',\n  'nth-of-type',\n  'nth-last-of-type'\n])\n\nconst parser = new CssSelectorParser()\n\n// @ts-expect-error: hush.\nconst compile = zwitch('type', {handlers: {selectors, ruleSet, rule}})\n\nparser.registerAttrEqualityMods('~', '|', '^', '$', '*')\nparser.registerSelectorPseudos('any', 'matches', 'not', 'has')\nparser.registerNestingOperators('>', '+', '~')\n\n/**\n * @param {string} selector\n * @returns {Selector}\n */\nexport function parse(selector) {\n  if (typeof selector !== 'string') {\n    throw new TypeError('Expected `string` as selector, not `' + selector + '`')\n  }\n\n  // @ts-expect-error types are wrong.\n  return compile(parser.parse(selector))\n}\n\n/**\n * @param {Selectors} query\n * @returns {Selectors}\n */\nfunction selectors(query) {\n  let index = -1\n\n  while (++index < query.selectors.length) {\n    compile(query.selectors[index])\n  }\n\n  return query\n}\n\n/**\n * @param {RuleSet} query\n * @returns {Rule}\n */\nfunction ruleSet(query) {\n  return rule(query.rule)\n}\n\n/**\n * @param {Rule} query\n * @returns {Rule}\n */\nfunction rule(query) {\n  const pseudos = query.pseudos || []\n  let index = -1\n\n  while (++index < pseudos.length) {\n    const pseudo = pseudos[index]\n\n    if (nth.has(pseudo.name)) {\n      // @ts-expect-error Patch a non-primitive type.\n      pseudo.value = nthCheck(pseudo.value)\n      // @ts-expect-error Patch a non-primitive type.\n      pseudo.valueType = 'function'\n    }\n  }\n\n  compile(query.rule)\n\n  return query\n}\n","/**\n * @typedef {import('./lib/types.js').Element} Element\n * @typedef {import('./lib/types.js').HastNode} HastNode\n * @typedef {import('./lib/types.js').Space} Space\n */\n\nimport {any} from './lib/any.js'\nimport {parse} from './lib/parse.js'\n\n/**\n * @param {string} selector\n * @param {HastNode} [node]\n * @param {Space} [space]\n * @returns {boolean}\n */\nexport function matches(selector, node, space) {\n  return Boolean(\n    any(parse(selector), node, {space, one: true, shallow: true})[0]\n  )\n}\n\n/**\n * @param {string} selector\n * @param {HastNode} [node]\n * @param {Space} [space]\n * @returns {Element|null}\n */\nexport function select(selector, node, space) {\n  return any(parse(selector), node, {space, one: true})[0] || null\n}\n\n/**\n * @param {string} selector\n * @param {HastNode} [node]\n * @param {Space} [space]\n * @returns {Array<Element>}\n */\nexport function selectAll(selector, node, space) {\n  return any(parse(selector), node, {space})\n}\n","// This file was generated. Do not modify manually!\nvar astralIdentifierCodes = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 574, 3, 9, 9, 370, 1, 154, 10, 50, 3, 123, 2, 54, 14, 32, 10, 3, 1, 11, 3, 46, 10, 8, 0, 46, 9, 7, 2, 37, 13, 2, 9, 6, 1, 45, 0, 13, 2, 49, 13, 9, 3, 2, 11, 83, 11, 7, 0, 161, 11, 6, 9, 7, 3, 56, 1, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 193, 17, 10, 9, 5, 0, 82, 19, 13, 9, 214, 6, 3, 8, 28, 1, 83, 16, 16, 9, 82, 12, 9, 9, 84, 14, 5, 9, 243, 14, 166, 9, 71, 5, 2, 1, 3, 3, 2, 0, 2, 1, 13, 9, 120, 6, 3, 6, 4, 0, 29, 9, 41, 6, 2, 3, 9, 0, 10, 10, 47, 15, 406, 7, 2, 7, 17, 9, 57, 21, 2, 13, 123, 5, 4, 0, 2, 1, 2, 6, 2, 0, 9, 9, 49, 4, 2, 1, 2, 4, 9, 9, 330, 3, 19306, 9, 87, 9, 39, 4, 60, 6, 26, 9, 1014, 0, 2, 54, 8, 3, 82, 0, 12, 1, 19628, 1, 4706, 45, 3, 22, 543, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 513, 54, 5, 49, 9, 0, 15, 0, 23, 4, 2, 14, 1361, 6, 2, 16, 3, 6, 2, 1, 2, 4, 262, 6, 10, 9, 357, 0, 62, 13, 1495, 6, 110, 6, 6, 9, 4759, 9, 787719, 239];\n\n// This file was generated. Do not modify manually!\nvar astralIdentifierStartCodes = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 14, 29, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 19, 35, 5, 35, 5, 39, 9, 51, 13, 10, 2, 14, 2, 6, 2, 1, 2, 10, 2, 14, 2, 6, 2, 1, 68, 310, 10, 21, 11, 7, 25, 5, 2, 41, 2, 8, 70, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 66, 18, 2, 1, 11, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 28, 43, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 56, 50, 14, 50, 14, 35, 349, 41, 7, 1, 79, 28, 11, 0, 9, 21, 43, 17, 47, 20, 28, 22, 13, 52, 58, 1, 3, 0, 14, 44, 33, 24, 27, 35, 30, 0, 3, 0, 9, 34, 4, 0, 13, 47, 15, 3, 22, 0, 2, 0, 36, 17, 2, 24, 85, 6, 2, 0, 2, 3, 2, 14, 2, 9, 8, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 19, 0, 13, 4, 159, 52, 19, 3, 21, 2, 31, 47, 21, 1, 2, 0, 185, 46, 42, 3, 37, 47, 21, 0, 60, 42, 14, 0, 72, 26, 38, 6, 186, 43, 117, 63, 32, 7, 3, 0, 3, 7, 2, 1, 2, 23, 16, 0, 2, 0, 95, 7, 3, 38, 17, 0, 2, 0, 29, 0, 11, 39, 8, 0, 22, 0, 12, 45, 20, 0, 19, 72, 264, 8, 2, 36, 18, 0, 50, 29, 113, 6, 2, 1, 2, 37, 22, 0, 26, 5, 2, 1, 2, 31, 15, 0, 328, 18, 190, 0, 80, 921, 103, 110, 18, 195, 2637, 96, 16, 1070, 4050, 582, 8634, 568, 8, 30, 18, 78, 18, 29, 19, 47, 17, 3, 32, 20, 6, 18, 689, 63, 129, 74, 6, 0, 67, 12, 65, 1, 2, 0, 29, 6135, 9, 1237, 43, 8, 8936, 3, 2, 6, 2, 1, 2, 290, 46, 2, 18, 3, 9, 395, 2309, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 1845, 30, 482, 44, 11, 6, 17, 0, 322, 29, 19, 43, 1269, 6, 2, 3, 2, 1, 2, 14, 2, 196, 60, 67, 8, 0, 1205, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42719, 33, 4152, 8, 221, 3, 5761, 15, 7472, 3104, 541, 1507, 4938];\n\n// This file was generated. Do not modify manually!\nvar nonASCIIidentifierChars = \"\\u200c\\u200d\\xb7\\u0300-\\u036f\\u0387\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u0669\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u06f0-\\u06f9\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07c0-\\u07c9\\u07eb-\\u07f3\\u07fd\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0898-\\u089f\\u08ca-\\u08e1\\u08e3-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u09e6-\\u09ef\\u09fe\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0ae6-\\u0aef\\u0afa-\\u0aff\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b55-\\u0b57\\u0b62\\u0b63\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c00-\\u0c04\\u0c3c\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c66-\\u0c6f\\u0c81-\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0ce6-\\u0cef\\u0d00-\\u0d03\\u0d3b\\u0d3c\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d66-\\u0d6f\\u0d81-\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0de6-\\u0def\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0e50-\\u0e59\\u0eb1\\u0eb4-\\u0ebc\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1040-\\u1049\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u1369-\\u1371\\u1712-\\u1715\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b4-\\u17d3\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u180f-\\u1819\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u1946-\\u194f\\u19d0-\\u19da\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1ab0-\\u1abd\\u1abf-\\u1ace\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1bad\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1c40-\\u1c49\\u1c50-\\u1c59\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf4\\u1cf7-\\u1cf9\\u1dc0-\\u1dff\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua620-\\ua629\\ua66f\\ua674-\\ua67d\\ua69e\\ua69f\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua82c\\ua880\\ua881\\ua8b4-\\ua8c5\\ua8d0-\\ua8d9\\ua8e0-\\ua8f1\\ua8ff-\\ua909\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\ua9d0-\\ua9d9\\ua9e5\\ua9f0-\\ua9f9\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa50-\\uaa59\\uaa7b-\\uaa7d\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uaaeb-\\uaaef\\uaaf5\\uaaf6\\uabe3-\\uabea\\uabec\\uabed\\uabf0-\\uabf9\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f\";\n\n// This file was generated. Do not modify manually!\nvar nonASCIIidentifierStartChars = \"\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u037f\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u052f\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05d0-\\u05ea\\u05ef-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086a\\u0870-\\u0887\\u0889-\\u088e\\u08a0-\\u08c9\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u09fc\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0af9\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c39\\u0c3d\\u0c58-\\u0c5a\\u0c5d\\u0c60\\u0c61\\u0c80\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cdd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d04-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d54-\\u0d56\\u0d5f-\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e86-\\u0e8a\\u0e8c-\\u0ea3\\u0ea5\\u0ea7-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f5\\u13f8-\\u13fd\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f8\\u1700-\\u1711\\u171f-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1878\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191e\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19b0-\\u19c9\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4c\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1c80-\\u1c88\\u1c90-\\u1cba\\u1cbd-\\u1cbf\\u1ce9-\\u1cec\\u1cee-\\u1cf3\\u1cf5\\u1cf6\\u1cfa\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2118-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309b-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312f\\u3131-\\u318e\\u31a0-\\u31bf\\u31f0-\\u31ff\\u3400-\\u4dbf\\u4e00-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua69d\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua7ca\\ua7d0\\ua7d1\\ua7d3\\ua7d5-\\ua7d9\\ua7f2-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua8fd\\ua8fe\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\ua9e0-\\ua9e4\\ua9e6-\\ua9ef\\ua9fa-\\ua9fe\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa7e-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uab30-\\uab5a\\uab5c-\\uab69\\uab70-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc\";\n\n// These are a run-length and offset encoded representation of the\n\n// Reserved word lists for various dialects of the language\n\nvar reservedWords = {\n  3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n  5: \"class enum extends super const export import\",\n  6: \"enum\",\n  strict: \"implements interface let package private protected public static yield\",\n  strictBind: \"eval arguments\"\n};\n\n// And the keywords\n\nvar ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n\nvar keywords$1 = {\n  5: ecma5AndLessKeywords,\n  \"5module\": ecma5AndLessKeywords + \" export import\",\n  6: ecma5AndLessKeywords + \" const class extends export import super\"\n};\n\nvar keywordRelationalOperator = /^in(stanceof)?$/;\n\n// ## Character categories\n\nvar nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\nvar nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n\n// This has a complexity linear to the value of the code. The\n// assumption is that looking up astral identifier characters is\n// rare.\nfunction isInAstralSet(code, set) {\n  var pos = 0x10000;\n  for (var i = 0; i < set.length; i += 2) {\n    pos += set[i];\n    if (pos > code) { return false }\n    pos += set[i + 1];\n    if (pos >= code) { return true }\n  }\n}\n\n// Test whether a given character code starts an identifier.\n\nfunction isIdentifierStart(code, astral) {\n  if (code < 65) { return code === 36 }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes)\n}\n\n// Test whether a given character is part of an identifier.\n\nfunction isIdentifierChar(code, astral) {\n  if (code < 48) { return code === 36 }\n  if (code < 58) { return true }\n  if (code < 65) { return false }\n  if (code < 91) { return true }\n  if (code < 97) { return code === 95 }\n  if (code < 123) { return true }\n  if (code <= 0xffff) { return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code)) }\n  if (astral === false) { return false }\n  return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes)\n}\n\n// ## Token types\n\n// The assignment of fine-grained, information-carrying type objects\n// allows the tokenizer to store the information it has about a\n// token in a way that is very cheap for the parser to look up.\n\n// All token type variables start with an underscore, to make them\n// easy to recognize.\n\n// The `beforeExpr` property is used to disambiguate between regular\n// expressions and divisions. It is set on all token types that can\n// be followed by an expression (thus, a slash after them would be a\n// regular expression).\n//\n// The `startsExpr` property is used to check if the token ends a\n// `yield` expression. It is set on all token types that either can\n// directly start an expression (like a quotation mark) or can\n// continue an expression (like the body of a string).\n//\n// `isLoop` marks a keyword as starting a loop, which is important\n// to know when parsing a label, in order to allow or disallow\n// continue jumps to that label.\n\nvar TokenType = function TokenType(label, conf) {\n  if ( conf === void 0 ) conf = {};\n\n  this.label = label;\n  this.keyword = conf.keyword;\n  this.beforeExpr = !!conf.beforeExpr;\n  this.startsExpr = !!conf.startsExpr;\n  this.isLoop = !!conf.isLoop;\n  this.isAssign = !!conf.isAssign;\n  this.prefix = !!conf.prefix;\n  this.postfix = !!conf.postfix;\n  this.binop = conf.binop || null;\n  this.updateContext = null;\n};\n\nfunction binop(name, prec) {\n  return new TokenType(name, {beforeExpr: true, binop: prec})\n}\nvar beforeExpr = {beforeExpr: true}, startsExpr = {startsExpr: true};\n\n// Map keyword names to token types.\n\nvar keywords = {};\n\n// Succinct definitions of keyword token types\nfunction kw(name, options) {\n  if ( options === void 0 ) options = {};\n\n  options.keyword = name;\n  return keywords[name] = new TokenType(name, options)\n}\n\nvar types$1 = {\n  num: new TokenType(\"num\", startsExpr),\n  regexp: new TokenType(\"regexp\", startsExpr),\n  string: new TokenType(\"string\", startsExpr),\n  name: new TokenType(\"name\", startsExpr),\n  privateId: new TokenType(\"privateId\", startsExpr),\n  eof: new TokenType(\"eof\"),\n\n  // Punctuation token types.\n  bracketL: new TokenType(\"[\", {beforeExpr: true, startsExpr: true}),\n  bracketR: new TokenType(\"]\"),\n  braceL: new TokenType(\"{\", {beforeExpr: true, startsExpr: true}),\n  braceR: new TokenType(\"}\"),\n  parenL: new TokenType(\"(\", {beforeExpr: true, startsExpr: true}),\n  parenR: new TokenType(\")\"),\n  comma: new TokenType(\",\", beforeExpr),\n  semi: new TokenType(\";\", beforeExpr),\n  colon: new TokenType(\":\", beforeExpr),\n  dot: new TokenType(\".\"),\n  question: new TokenType(\"?\", beforeExpr),\n  questionDot: new TokenType(\"?.\"),\n  arrow: new TokenType(\"=>\", beforeExpr),\n  template: new TokenType(\"template\"),\n  invalidTemplate: new TokenType(\"invalidTemplate\"),\n  ellipsis: new TokenType(\"...\", beforeExpr),\n  backQuote: new TokenType(\"`\", startsExpr),\n  dollarBraceL: new TokenType(\"${\", {beforeExpr: true, startsExpr: true}),\n\n  // Operators. These carry several kinds of properties to help the\n  // parser use them properly (the presence of these properties is\n  // what categorizes them as operators).\n  //\n  // `binop`, when present, specifies that this operator is a binary\n  // operator, and will refer to its precedence.\n  //\n  // `prefix` and `postfix` mark the operator as a prefix or postfix\n  // unary operator.\n  //\n  // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n  // binary operators with a very low precedence, that should result\n  // in AssignmentExpression nodes.\n\n  eq: new TokenType(\"=\", {beforeExpr: true, isAssign: true}),\n  assign: new TokenType(\"_=\", {beforeExpr: true, isAssign: true}),\n  incDec: new TokenType(\"++/--\", {prefix: true, postfix: true, startsExpr: true}),\n  prefix: new TokenType(\"!/~\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  logicalOR: binop(\"||\", 1),\n  logicalAND: binop(\"&&\", 2),\n  bitwiseOR: binop(\"|\", 3),\n  bitwiseXOR: binop(\"^\", 4),\n  bitwiseAND: binop(\"&\", 5),\n  equality: binop(\"==/!=/===/!==\", 6),\n  relational: binop(\"</>/<=/>=\", 7),\n  bitShift: binop(\"<</>>/>>>\", 8),\n  plusMin: new TokenType(\"+/-\", {beforeExpr: true, binop: 9, prefix: true, startsExpr: true}),\n  modulo: binop(\"%\", 10),\n  star: binop(\"*\", 10),\n  slash: binop(\"/\", 10),\n  starstar: new TokenType(\"**\", {beforeExpr: true}),\n  coalesce: binop(\"??\", 1),\n\n  // Keyword token types.\n  _break: kw(\"break\"),\n  _case: kw(\"case\", beforeExpr),\n  _catch: kw(\"catch\"),\n  _continue: kw(\"continue\"),\n  _debugger: kw(\"debugger\"),\n  _default: kw(\"default\", beforeExpr),\n  _do: kw(\"do\", {isLoop: true, beforeExpr: true}),\n  _else: kw(\"else\", beforeExpr),\n  _finally: kw(\"finally\"),\n  _for: kw(\"for\", {isLoop: true}),\n  _function: kw(\"function\", startsExpr),\n  _if: kw(\"if\"),\n  _return: kw(\"return\", beforeExpr),\n  _switch: kw(\"switch\"),\n  _throw: kw(\"throw\", beforeExpr),\n  _try: kw(\"try\"),\n  _var: kw(\"var\"),\n  _const: kw(\"const\"),\n  _while: kw(\"while\", {isLoop: true}),\n  _with: kw(\"with\"),\n  _new: kw(\"new\", {beforeExpr: true, startsExpr: true}),\n  _this: kw(\"this\", startsExpr),\n  _super: kw(\"super\", startsExpr),\n  _class: kw(\"class\", startsExpr),\n  _extends: kw(\"extends\", beforeExpr),\n  _export: kw(\"export\"),\n  _import: kw(\"import\", startsExpr),\n  _null: kw(\"null\", startsExpr),\n  _true: kw(\"true\", startsExpr),\n  _false: kw(\"false\", startsExpr),\n  _in: kw(\"in\", {beforeExpr: true, binop: 7}),\n  _instanceof: kw(\"instanceof\", {beforeExpr: true, binop: 7}),\n  _typeof: kw(\"typeof\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _void: kw(\"void\", {beforeExpr: true, prefix: true, startsExpr: true}),\n  _delete: kw(\"delete\", {beforeExpr: true, prefix: true, startsExpr: true})\n};\n\n// Matches a whole line break (where CRLF is considered a single\n// line break). Used to count lines.\n\nvar lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\nvar lineBreakG = new RegExp(lineBreak.source, \"g\");\n\nfunction isNewLine(code) {\n  return code === 10 || code === 13 || code === 0x2028 || code === 0x2029\n}\n\nfunction nextLineBreak(code, from, end) {\n  if ( end === void 0 ) end = code.length;\n\n  for (var i = from; i < end; i++) {\n    var next = code.charCodeAt(i);\n    if (isNewLine(next))\n      { return i < end - 1 && next === 13 && code.charCodeAt(i + 1) === 10 ? i + 2 : i + 1 }\n  }\n  return -1\n}\n\nvar nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n\nvar skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n\nvar ref = Object.prototype;\nvar hasOwnProperty = ref.hasOwnProperty;\nvar toString = ref.toString;\n\nvar hasOwn = Object.hasOwn || (function (obj, propName) { return (\n  hasOwnProperty.call(obj, propName)\n); });\n\nvar isArray = Array.isArray || (function (obj) { return (\n  toString.call(obj) === \"[object Array]\"\n); });\n\nfunction wordsRegexp(words) {\n  return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\")\n}\n\nfunction codePointToString(code) {\n  // UTF-16 Decoding\n  if (code <= 0xFFFF) { return String.fromCharCode(code) }\n  code -= 0x10000;\n  return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n}\n\nvar loneSurrogate = /(?:[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/;\n\n// These are used when `options.locations` is on, for the\n// `startLoc` and `endLoc` properties.\n\nvar Position = function Position(line, col) {\n  this.line = line;\n  this.column = col;\n};\n\nPosition.prototype.offset = function offset (n) {\n  return new Position(this.line, this.column + n)\n};\n\nvar SourceLocation = function SourceLocation(p, start, end) {\n  this.start = start;\n  this.end = end;\n  if (p.sourceFile !== null) { this.source = p.sourceFile; }\n};\n\n// The `getLineInfo` function is mostly useful when the\n// `locations` option is off (for performance reasons) and you\n// want to find the line/column position for a given character\n// offset. `input` should be the code string that the offset refers\n// into.\n\nfunction getLineInfo(input, offset) {\n  for (var line = 1, cur = 0;;) {\n    var nextBreak = nextLineBreak(input, cur, offset);\n    if (nextBreak < 0) { return new Position(line, offset - cur) }\n    ++line;\n    cur = nextBreak;\n  }\n}\n\n// A second argument must be given to configure the parser process.\n// These options are recognized (only `ecmaVersion` is required):\n\nvar defaultOptions = {\n  // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n  // either 3, 5, 6 (or 2015), 7 (2016), 8 (2017), 9 (2018), 10\n  // (2019), 11 (2020), 12 (2021), 13 (2022), 14 (2023), or `\"latest\"`\n  // (the latest version the library supports). This influences\n  // support for strict mode, the set of reserved words, and support\n  // for new syntax features.\n  ecmaVersion: null,\n  // `sourceType` indicates the mode the code should be parsed in.\n  // Can be either `\"script\"` or `\"module\"`. This influences global\n  // strict mode and parsing of `import` and `export` declarations.\n  sourceType: \"script\",\n  // `onInsertedSemicolon` can be a callback that will be called\n  // when a semicolon is automatically inserted. It will be passed\n  // the position of the comma as an offset, and if `locations` is\n  // enabled, it is given the location as a `{line, column}` object\n  // as second argument.\n  onInsertedSemicolon: null,\n  // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n  // trailing commas.\n  onTrailingComma: null,\n  // By default, reserved words are only enforced if ecmaVersion >= 5.\n  // Set `allowReserved` to a boolean value to explicitly turn this on\n  // an off. When this option has the value \"never\", reserved words\n  // and keywords can also not be used as property names.\n  allowReserved: null,\n  // When enabled, a return at the top level is not considered an\n  // error.\n  allowReturnOutsideFunction: false,\n  // When enabled, import/export statements are not constrained to\n  // appearing at the top of the program, and an import.meta expression\n  // in a script isn't considered an error.\n  allowImportExportEverywhere: false,\n  // By default, await identifiers are allowed to appear at the top-level scope only if ecmaVersion >= 2022.\n  // When enabled, await identifiers are allowed to appear at the top-level scope,\n  // but they are still not allowed in non-async functions.\n  allowAwaitOutsideFunction: null,\n  // When enabled, super identifiers are not constrained to\n  // appearing in methods and do not raise an error when they appear elsewhere.\n  allowSuperOutsideMethod: null,\n  // When enabled, hashbang directive in the beginning of file is\n  // allowed and treated as a line comment. Enabled by default when\n  // `ecmaVersion` >= 2023.\n  allowHashBang: false,\n  // When `locations` is on, `loc` properties holding objects with\n  // `start` and `end` properties in `{line, column}` form (with\n  // line being 1-based and column 0-based) will be attached to the\n  // nodes.\n  locations: false,\n  // A function can be passed as `onToken` option, which will\n  // cause Acorn to call that function with object in the same\n  // format as tokens returned from `tokenizer().getToken()`. Note\n  // that you are not allowed to call the parser from the\n  // callbackthat will corrupt its internal state.\n  onToken: null,\n  // A function can be passed as `onComment` option, which will\n  // cause Acorn to call that function with `(block, text, start,\n  // end)` parameters whenever a comment is skipped. `block` is a\n  // boolean indicating whether this is a block (`/* */`) comment,\n  // `text` is the content of the comment, and `start` and `end` are\n  // character offsets that denote the start and end of the comment.\n  // When the `locations` option is on, two more parameters are\n  // passed, the full `{line, column}` locations of the start and\n  // end of the comments. Note that you are not allowed to call the\n  // parser from the callbackthat will corrupt its internal state.\n  onComment: null,\n  // Nodes have their start and end characters offsets recorded in\n  // `start` and `end` properties (directly on the node, rather than\n  // the `loc` object, which holds line/column data. To also add a\n  // [semi-standardized][range] `range` property holding a `[start,\n  // end]` array with the same numbers, set the `ranges` option to\n  // `true`.\n  //\n  // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n  ranges: false,\n  // It is possible to parse multiple files into a single AST by\n  // passing the tree produced by parsing the first file as\n  // `program` option in subsequent parses. This will add the\n  // toplevel forms of the parsed file to the `Program` (top) node\n  // of an existing parse tree.\n  program: null,\n  // When `locations` is on, you can pass this to record the source\n  // file in every node's `loc` object.\n  sourceFile: null,\n  // This value, if given, is stored in every node, whether\n  // `locations` is on or off.\n  directSourceFile: null,\n  // When enabled, parenthesized expressions are represented by\n  // (non-standard) ParenthesizedExpression nodes\n  preserveParens: false\n};\n\n// Interpret and default an options object\n\nvar warnedAboutEcmaVersion = false;\n\nfunction getOptions(opts) {\n  var options = {};\n\n  for (var opt in defaultOptions)\n    { options[opt] = opts && hasOwn(opts, opt) ? opts[opt] : defaultOptions[opt]; }\n\n  if (options.ecmaVersion === \"latest\") {\n    options.ecmaVersion = 1e8;\n  } else if (options.ecmaVersion == null) {\n    if (!warnedAboutEcmaVersion && typeof console === \"object\" && console.warn) {\n      warnedAboutEcmaVersion = true;\n      console.warn(\"Since Acorn 8.0.0, options.ecmaVersion is required.\\nDefaulting to 2020, but this will stop working in the future.\");\n    }\n    options.ecmaVersion = 11;\n  } else if (options.ecmaVersion >= 2015) {\n    options.ecmaVersion -= 2009;\n  }\n\n  if (options.allowReserved == null)\n    { options.allowReserved = options.ecmaVersion < 5; }\n\n  if (opts.allowHashBang == null)\n    { options.allowHashBang = options.ecmaVersion >= 14; }\n\n  if (isArray(options.onToken)) {\n    var tokens = options.onToken;\n    options.onToken = function (token) { return tokens.push(token); };\n  }\n  if (isArray(options.onComment))\n    { options.onComment = pushComment(options, options.onComment); }\n\n  return options\n}\n\nfunction pushComment(options, array) {\n  return function(block, text, start, end, startLoc, endLoc) {\n    var comment = {\n      type: block ? \"Block\" : \"Line\",\n      value: text,\n      start: start,\n      end: end\n    };\n    if (options.locations)\n      { comment.loc = new SourceLocation(this, startLoc, endLoc); }\n    if (options.ranges)\n      { comment.range = [start, end]; }\n    array.push(comment);\n  }\n}\n\n// Each scope gets a bitset that may contain these flags\nvar\n    SCOPE_TOP = 1,\n    SCOPE_FUNCTION = 2,\n    SCOPE_ASYNC = 4,\n    SCOPE_GENERATOR = 8,\n    SCOPE_ARROW = 16,\n    SCOPE_SIMPLE_CATCH = 32,\n    SCOPE_SUPER = 64,\n    SCOPE_DIRECT_SUPER = 128,\n    SCOPE_CLASS_STATIC_BLOCK = 256,\n    SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK;\n\nfunction functionFlags(async, generator) {\n  return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0)\n}\n\n// Used in checkLVal* and declareName to determine the type of a binding\nvar\n    BIND_NONE = 0, // Not a binding\n    BIND_VAR = 1, // Var-style binding\n    BIND_LEXICAL = 2, // Let- or const-style binding\n    BIND_FUNCTION = 3, // Function declaration\n    BIND_SIMPLE_CATCH = 4, // Simple (identifier pattern) catch binding\n    BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\nvar Parser = function Parser(options, input, startPos) {\n  this.options = options = getOptions(options);\n  this.sourceFile = options.sourceFile;\n  this.keywords = wordsRegexp(keywords$1[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n  var reserved = \"\";\n  if (options.allowReserved !== true) {\n    reserved = reservedWords[options.ecmaVersion >= 6 ? 6 : options.ecmaVersion === 5 ? 5 : 3];\n    if (options.sourceType === \"module\") { reserved += \" await\"; }\n  }\n  this.reservedWords = wordsRegexp(reserved);\n  var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n  this.reservedWordsStrict = wordsRegexp(reservedStrict);\n  this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n  this.input = String(input);\n\n  // Used to signal to callers of `readWord1` whether the word\n  // contained any escape sequences. This is needed because words with\n  // escape sequences must not be interpreted as keywords.\n  this.containsEsc = false;\n\n  // Set up token state\n\n  // The current position of the tokenizer in the input.\n  if (startPos) {\n    this.pos = startPos;\n    this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n    this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n  } else {\n    this.pos = this.lineStart = 0;\n    this.curLine = 1;\n  }\n\n  // Properties of the current token:\n  // Its type\n  this.type = types$1.eof;\n  // For tokens that include more information than their type, the value\n  this.value = null;\n  // Its start and end offset\n  this.start = this.end = this.pos;\n  // And, if locations are used, the {line, column} object\n  // corresponding to those offsets\n  this.startLoc = this.endLoc = this.curPosition();\n\n  // Position information for the previous token\n  this.lastTokEndLoc = this.lastTokStartLoc = null;\n  this.lastTokStart = this.lastTokEnd = this.pos;\n\n  // The context stack is used to superficially track syntactic\n  // context to predict whether a regular expression is allowed in a\n  // given position.\n  this.context = this.initialContext();\n  this.exprAllowed = true;\n\n  // Figure out if it's a module code.\n  this.inModule = options.sourceType === \"module\";\n  this.strict = this.inModule || this.strictDirective(this.pos);\n\n  // Used to signify the start of a potential arrow function\n  this.potentialArrowAt = -1;\n  this.potentialArrowInForAwait = false;\n\n  // Positions to delayed-check that yield/await does not exist in default parameters.\n  this.yieldPos = this.awaitPos = this.awaitIdentPos = 0;\n  // Labels in scope.\n  this.labels = [];\n  // Thus-far undefined exports.\n  this.undefinedExports = Object.create(null);\n\n  // If enabled, skip leading hashbang line.\n  if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\")\n    { this.skipLineComment(2); }\n\n  // Scope tracking for duplicate variable names (see scope.js)\n  this.scopeStack = [];\n  this.enterScope(SCOPE_TOP);\n\n  // For RegExp validation\n  this.regexpState = null;\n\n  // The stack of private names.\n  // Each element has two properties: 'declared' and 'used'.\n  // When it exited from the outermost class definition, all used private names must be declared.\n  this.privateNameStack = [];\n};\n\nvar prototypeAccessors = { inFunction: { configurable: true },inGenerator: { configurable: true },inAsync: { configurable: true },canAwait: { configurable: true },allowSuper: { configurable: true },allowDirectSuper: { configurable: true },treatFunctionsAsVar: { configurable: true },allowNewDotTarget: { configurable: true },inClassStaticBlock: { configurable: true } };\n\nParser.prototype.parse = function parse () {\n  var node = this.options.program || this.startNode();\n  this.nextToken();\n  return this.parseTopLevel(node)\n};\n\nprototypeAccessors.inFunction.get = function () { return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0 };\n\nprototypeAccessors.inGenerator.get = function () { return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0 && !this.currentVarScope().inClassFieldInit };\n\nprototypeAccessors.inAsync.get = function () { return (this.currentVarScope().flags & SCOPE_ASYNC) > 0 && !this.currentVarScope().inClassFieldInit };\n\nprototypeAccessors.canAwait.get = function () {\n  for (var i = this.scopeStack.length - 1; i >= 0; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.inClassFieldInit || scope.flags & SCOPE_CLASS_STATIC_BLOCK) { return false }\n    if (scope.flags & SCOPE_FUNCTION) { return (scope.flags & SCOPE_ASYNC) > 0 }\n  }\n  return (this.inModule && this.options.ecmaVersion >= 13) || this.options.allowAwaitOutsideFunction\n};\n\nprototypeAccessors.allowSuper.get = function () {\n  var ref = this.currentThisScope();\n    var flags = ref.flags;\n    var inClassFieldInit = ref.inClassFieldInit;\n  return (flags & SCOPE_SUPER) > 0 || inClassFieldInit || this.options.allowSuperOutsideMethod\n};\n\nprototypeAccessors.allowDirectSuper.get = function () { return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0 };\n\nprototypeAccessors.treatFunctionsAsVar.get = function () { return this.treatFunctionsAsVarInScope(this.currentScope()) };\n\nprototypeAccessors.allowNewDotTarget.get = function () {\n  var ref = this.currentThisScope();\n    var flags = ref.flags;\n    var inClassFieldInit = ref.inClassFieldInit;\n  return (flags & (SCOPE_FUNCTION | SCOPE_CLASS_STATIC_BLOCK)) > 0 || inClassFieldInit\n};\n\nprototypeAccessors.inClassStaticBlock.get = function () {\n  return (this.currentVarScope().flags & SCOPE_CLASS_STATIC_BLOCK) > 0\n};\n\nParser.extend = function extend () {\n    var plugins = [], len = arguments.length;\n    while ( len-- ) plugins[ len ] = arguments[ len ];\n\n  var cls = this;\n  for (var i = 0; i < plugins.length; i++) { cls = plugins[i](cls); }\n  return cls\n};\n\nParser.parse = function parse (input, options) {\n  return new this(options, input).parse()\n};\n\nParser.parseExpressionAt = function parseExpressionAt (input, pos, options) {\n  var parser = new this(options, input, pos);\n  parser.nextToken();\n  return parser.parseExpression()\n};\n\nParser.tokenizer = function tokenizer (input, options) {\n  return new this(options, input)\n};\n\nObject.defineProperties( Parser.prototype, prototypeAccessors );\n\nvar pp$9 = Parser.prototype;\n\n// ## Parser utilities\n\nvar literal = /^(?:'((?:\\\\.|[^'\\\\])*?)'|\"((?:\\\\.|[^\"\\\\])*?)\")/;\npp$9.strictDirective = function(start) {\n  if (this.options.ecmaVersion < 5) { return false }\n  for (;;) {\n    // Try to find string literal.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    var match = literal.exec(this.input.slice(start));\n    if (!match) { return false }\n    if ((match[1] || match[2]) === \"use strict\") {\n      skipWhiteSpace.lastIndex = start + match[0].length;\n      var spaceAfter = skipWhiteSpace.exec(this.input), end = spaceAfter.index + spaceAfter[0].length;\n      var next = this.input.charAt(end);\n      return next === \";\" || next === \"}\" ||\n        (lineBreak.test(spaceAfter[0]) &&\n         !(/[(`.[+\\-/*%<>=,?^&]/.test(next) || next === \"!\" && this.input.charAt(end + 1) === \"=\"))\n    }\n    start += match[0].length;\n\n    // Skip semicolon, if any.\n    skipWhiteSpace.lastIndex = start;\n    start += skipWhiteSpace.exec(this.input)[0].length;\n    if (this.input[start] === \";\")\n      { start++; }\n  }\n};\n\n// Predicate that tests whether the next token is of the given\n// type, and if yes, consumes it as a side effect.\n\npp$9.eat = function(type) {\n  if (this.type === type) {\n    this.next();\n    return true\n  } else {\n    return false\n  }\n};\n\n// Tests whether parsed token is a contextual keyword.\n\npp$9.isContextual = function(name) {\n  return this.type === types$1.name && this.value === name && !this.containsEsc\n};\n\n// Consumes contextual keyword if possible.\n\npp$9.eatContextual = function(name) {\n  if (!this.isContextual(name)) { return false }\n  this.next();\n  return true\n};\n\n// Asserts that following token is given contextual keyword.\n\npp$9.expectContextual = function(name) {\n  if (!this.eatContextual(name)) { this.unexpected(); }\n};\n\n// Test whether a semicolon can be inserted at the current position.\n\npp$9.canInsertSemicolon = function() {\n  return this.type === types$1.eof ||\n    this.type === types$1.braceR ||\n    lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\npp$9.insertSemicolon = function() {\n  if (this.canInsertSemicolon()) {\n    if (this.options.onInsertedSemicolon)\n      { this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc); }\n    return true\n  }\n};\n\n// Consume a semicolon, or, failing that, see if we are allowed to\n// pretend that there is a semicolon at this position.\n\npp$9.semicolon = function() {\n  if (!this.eat(types$1.semi) && !this.insertSemicolon()) { this.unexpected(); }\n};\n\npp$9.afterTrailingComma = function(tokType, notNext) {\n  if (this.type === tokType) {\n    if (this.options.onTrailingComma)\n      { this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc); }\n    if (!notNext)\n      { this.next(); }\n    return true\n  }\n};\n\n// Expect a token of a given type. If found, consume it, otherwise,\n// raise an unexpected token error.\n\npp$9.expect = function(type) {\n  this.eat(type) || this.unexpected();\n};\n\n// Raise an unexpected token error.\n\npp$9.unexpected = function(pos) {\n  this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n};\n\nvar DestructuringErrors = function DestructuringErrors() {\n  this.shorthandAssign =\n  this.trailingComma =\n  this.parenthesizedAssign =\n  this.parenthesizedBind =\n  this.doubleProto =\n    -1;\n};\n\npp$9.checkPatternErrors = function(refDestructuringErrors, isAssign) {\n  if (!refDestructuringErrors) { return }\n  if (refDestructuringErrors.trailingComma > -1)\n    { this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\"); }\n  var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n  if (parens > -1) { this.raiseRecoverable(parens, isAssign ? \"Assigning to rvalue\" : \"Parenthesized pattern\"); }\n};\n\npp$9.checkExpressionErrors = function(refDestructuringErrors, andThrow) {\n  if (!refDestructuringErrors) { return false }\n  var shorthandAssign = refDestructuringErrors.shorthandAssign;\n  var doubleProto = refDestructuringErrors.doubleProto;\n  if (!andThrow) { return shorthandAssign >= 0 || doubleProto >= 0 }\n  if (shorthandAssign >= 0)\n    { this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\"); }\n  if (doubleProto >= 0)\n    { this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\"); }\n};\n\npp$9.checkYieldAwaitInDefaultParams = function() {\n  if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos))\n    { this.raise(this.yieldPos, \"Yield expression cannot be a default value\"); }\n  if (this.awaitPos)\n    { this.raise(this.awaitPos, \"Await expression cannot be a default value\"); }\n};\n\npp$9.isSimpleAssignTarget = function(expr) {\n  if (expr.type === \"ParenthesizedExpression\")\n    { return this.isSimpleAssignTarget(expr.expression) }\n  return expr.type === \"Identifier\" || expr.type === \"MemberExpression\"\n};\n\nvar pp$8 = Parser.prototype;\n\n// ### Statement parsing\n\n// Parse a program. Initializes the parser, reads any number of\n// statements, and wraps them in a Program node.  Optionally takes a\n// `program` argument.  If present, the statements will be appended\n// to its body instead of creating a new node.\n\npp$8.parseTopLevel = function(node) {\n  var exports = Object.create(null);\n  if (!node.body) { node.body = []; }\n  while (this.type !== types$1.eof) {\n    var stmt = this.parseStatement(null, true, exports);\n    node.body.push(stmt);\n  }\n  if (this.inModule)\n    { for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1)\n      {\n        var name = list[i];\n\n        this.raiseRecoverable(this.undefinedExports[name].start, (\"Export '\" + name + \"' is not defined\"));\n      } }\n  this.adaptDirectivePrologue(node.body);\n  this.next();\n  node.sourceType = this.options.sourceType;\n  return this.finishNode(node, \"Program\")\n};\n\nvar loopLabel = {kind: \"loop\"}, switchLabel = {kind: \"switch\"};\n\npp$8.isLet = function(context) {\n  if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) { return false }\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n  // For ambiguous cases, determine if a LexicalDeclaration (or only a\n  // Statement) is allowed here. If context is not empty then only a Statement\n  // is allowed. However, `let [` is an explicit negative lookahead for\n  // ExpressionStatement, so special-case it first.\n  if (nextCh === 91 || nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true } // '[', '/', astral\n  if (context) { return false }\n\n  if (nextCh === 123) { return true } // '{'\n  if (isIdentifierStart(nextCh, true)) {\n    var pos = next + 1;\n    while (isIdentifierChar(nextCh = this.input.charCodeAt(pos), true)) { ++pos; }\n    if (nextCh === 92 || nextCh > 0xd7ff && nextCh < 0xdc00) { return true }\n    var ident = this.input.slice(next, pos);\n    if (!keywordRelationalOperator.test(ident)) { return true }\n  }\n  return false\n};\n\n// check 'async [no LineTerminator here] function'\n// - 'async /*foo*/ function' is OK.\n// - 'async /*\\n*/ function' is invalid.\npp$8.isAsyncFunction = function() {\n  if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\"))\n    { return false }\n\n  skipWhiteSpace.lastIndex = this.pos;\n  var skip = skipWhiteSpace.exec(this.input);\n  var next = this.pos + skip[0].length, after;\n  return !lineBreak.test(this.input.slice(this.pos, next)) &&\n    this.input.slice(next, next + 8) === \"function\" &&\n    (next + 8 === this.input.length ||\n     !(isIdentifierChar(after = this.input.charCodeAt(next + 8)) || after > 0xd7ff && after < 0xdc00))\n};\n\n// Parse a single statement.\n//\n// If expecting a statement and finding a slash operator, parse a\n// regular expression literal. This is to handle cases like\n// `if (foo) /blah/.exec(foo)`, where looking at the previous token\n// does not help.\n\npp$8.parseStatement = function(context, topLevel, exports) {\n  var starttype = this.type, node = this.startNode(), kind;\n\n  if (this.isLet(context)) {\n    starttype = types$1._var;\n    kind = \"let\";\n  }\n\n  // Most types of statements are recognized by the keyword they\n  // start with. Many are trivial to parse, some require a bit of\n  // complexity.\n\n  switch (starttype) {\n  case types$1._break: case types$1._continue: return this.parseBreakContinueStatement(node, starttype.keyword)\n  case types$1._debugger: return this.parseDebuggerStatement(node)\n  case types$1._do: return this.parseDoStatement(node)\n  case types$1._for: return this.parseForStatement(node)\n  case types$1._function:\n    // Function as sole body of either an if statement or a labeled statement\n    // works, but not when it is part of a labeled statement that is the sole\n    // body of an if statement.\n    if ((context && (this.strict || context !== \"if\" && context !== \"label\")) && this.options.ecmaVersion >= 6) { this.unexpected(); }\n    return this.parseFunctionStatement(node, false, !context)\n  case types$1._class:\n    if (context) { this.unexpected(); }\n    return this.parseClass(node, true)\n  case types$1._if: return this.parseIfStatement(node)\n  case types$1._return: return this.parseReturnStatement(node)\n  case types$1._switch: return this.parseSwitchStatement(node)\n  case types$1._throw: return this.parseThrowStatement(node)\n  case types$1._try: return this.parseTryStatement(node)\n  case types$1._const: case types$1._var:\n    kind = kind || this.value;\n    if (context && kind !== \"var\") { this.unexpected(); }\n    return this.parseVarStatement(node, kind)\n  case types$1._while: return this.parseWhileStatement(node)\n  case types$1._with: return this.parseWithStatement(node)\n  case types$1.braceL: return this.parseBlock(true, node)\n  case types$1.semi: return this.parseEmptyStatement(node)\n  case types$1._export:\n  case types$1._import:\n    if (this.options.ecmaVersion > 10 && starttype === types$1._import) {\n      skipWhiteSpace.lastIndex = this.pos;\n      var skip = skipWhiteSpace.exec(this.input);\n      var next = this.pos + skip[0].length, nextCh = this.input.charCodeAt(next);\n      if (nextCh === 40 || nextCh === 46) // '(' or '.'\n        { return this.parseExpressionStatement(node, this.parseExpression()) }\n    }\n\n    if (!this.options.allowImportExportEverywhere) {\n      if (!topLevel)\n        { this.raise(this.start, \"'import' and 'export' may only appear at the top level\"); }\n      if (!this.inModule)\n        { this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\"); }\n    }\n    return starttype === types$1._import ? this.parseImport(node) : this.parseExport(node, exports)\n\n    // If the statement does not start with a statement keyword or a\n    // brace, it's an ExpressionStatement or LabeledStatement. We\n    // simply start parsing an expression, and afterwards, if the\n    // next token is a colon and the expression was a simple\n    // Identifier node, we switch to interpreting it as a label.\n  default:\n    if (this.isAsyncFunction()) {\n      if (context) { this.unexpected(); }\n      this.next();\n      return this.parseFunctionStatement(node, true, !context)\n    }\n\n    var maybeName = this.value, expr = this.parseExpression();\n    if (starttype === types$1.name && expr.type === \"Identifier\" && this.eat(types$1.colon))\n      { return this.parseLabeledStatement(node, maybeName, expr, context) }\n    else { return this.parseExpressionStatement(node, expr) }\n  }\n};\n\npp$8.parseBreakContinueStatement = function(node, keyword) {\n  var isBreak = keyword === \"break\";\n  this.next();\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.label = null; }\n  else if (this.type !== types$1.name) { this.unexpected(); }\n  else {\n    node.label = this.parseIdent();\n    this.semicolon();\n  }\n\n  // Verify that there is an actual destination to break or\n  // continue to.\n  var i = 0;\n  for (; i < this.labels.length; ++i) {\n    var lab = this.labels[i];\n    if (node.label == null || lab.name === node.label.name) {\n      if (lab.kind != null && (isBreak || lab.kind === \"loop\")) { break }\n      if (node.label && isBreak) { break }\n    }\n  }\n  if (i === this.labels.length) { this.raise(node.start, \"Unsyntactic \" + keyword); }\n  return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\")\n};\n\npp$8.parseDebuggerStatement = function(node) {\n  this.next();\n  this.semicolon();\n  return this.finishNode(node, \"DebuggerStatement\")\n};\n\npp$8.parseDoStatement = function(node) {\n  this.next();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"do\");\n  this.labels.pop();\n  this.expect(types$1._while);\n  node.test = this.parseParenExpression();\n  if (this.options.ecmaVersion >= 6)\n    { this.eat(types$1.semi); }\n  else\n    { this.semicolon(); }\n  return this.finishNode(node, \"DoWhileStatement\")\n};\n\n// Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n// loop is non-trivial. Basically, we have to parse the init `var`\n// statement or expression, disallowing the `in` operator (see\n// the second parameter to `parseExpression`), and then check\n// whether the next token is `in` or `of`. When there is no init\n// part (semicolon immediately after the opening parenthesis), it\n// is a regular `for` loop.\n\npp$8.parseForStatement = function(node) {\n  this.next();\n  var awaitAt = (this.options.ecmaVersion >= 9 && this.canAwait && this.eatContextual(\"await\")) ? this.lastTokStart : -1;\n  this.labels.push(loopLabel);\n  this.enterScope(0);\n  this.expect(types$1.parenL);\n  if (this.type === types$1.semi) {\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, null)\n  }\n  var isLet = this.isLet();\n  if (this.type === types$1._var || this.type === types$1._const || isLet) {\n    var init$1 = this.startNode(), kind = isLet ? \"let\" : this.value;\n    this.next();\n    this.parseVar(init$1, true, kind);\n    this.finishNode(init$1, \"VariableDeclaration\");\n    if ((this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) && init$1.declarations.length === 1) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types$1._in) {\n          if (awaitAt > -1) { this.unexpected(awaitAt); }\n        } else { node.await = awaitAt > -1; }\n      }\n      return this.parseForIn(node, init$1)\n    }\n    if (awaitAt > -1) { this.unexpected(awaitAt); }\n    return this.parseFor(node, init$1)\n  }\n  var startsWithLet = this.isContextual(\"let\"), isForOf = false;\n  var refDestructuringErrors = new DestructuringErrors;\n  var init = this.parseExpression(awaitAt > -1 ? \"await\" : true, refDestructuringErrors);\n  if (this.type === types$1._in || (isForOf = this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n    if (this.options.ecmaVersion >= 9) {\n      if (this.type === types$1._in) {\n        if (awaitAt > -1) { this.unexpected(awaitAt); }\n      } else { node.await = awaitAt > -1; }\n    }\n    if (startsWithLet && isForOf) { this.raise(init.start, \"The left-hand side of a for-of loop may not start with 'let'.\"); }\n    this.toAssignable(init, false, refDestructuringErrors);\n    this.checkLValPattern(init);\n    return this.parseForIn(node, init)\n  } else {\n    this.checkExpressionErrors(refDestructuringErrors, true);\n  }\n  if (awaitAt > -1) { this.unexpected(awaitAt); }\n  return this.parseFor(node, init)\n};\n\npp$8.parseFunctionStatement = function(node, isAsync, declarationPosition) {\n  this.next();\n  return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync)\n};\n\npp$8.parseIfStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  // allow function declarations in branches, but only in non-strict mode\n  node.consequent = this.parseStatement(\"if\");\n  node.alternate = this.eat(types$1._else) ? this.parseStatement(\"if\") : null;\n  return this.finishNode(node, \"IfStatement\")\n};\n\npp$8.parseReturnStatement = function(node) {\n  if (!this.inFunction && !this.options.allowReturnOutsideFunction)\n    { this.raise(this.start, \"'return' outside of function\"); }\n  this.next();\n\n  // In `return` (and `break`/`continue`), the keywords with\n  // optional arguments, we eagerly look for a semicolon or the\n  // possibility to insert one.\n\n  if (this.eat(types$1.semi) || this.insertSemicolon()) { node.argument = null; }\n  else { node.argument = this.parseExpression(); this.semicolon(); }\n  return this.finishNode(node, \"ReturnStatement\")\n};\n\npp$8.parseSwitchStatement = function(node) {\n  this.next();\n  node.discriminant = this.parseParenExpression();\n  node.cases = [];\n  this.expect(types$1.braceL);\n  this.labels.push(switchLabel);\n  this.enterScope(0);\n\n  // Statements under must be grouped (by label) in SwitchCase\n  // nodes. `cur` is used to keep the node that we are currently\n  // adding statements to.\n\n  var cur;\n  for (var sawDefault = false; this.type !== types$1.braceR;) {\n    if (this.type === types$1._case || this.type === types$1._default) {\n      var isCase = this.type === types$1._case;\n      if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n      node.cases.push(cur = this.startNode());\n      cur.consequent = [];\n      this.next();\n      if (isCase) {\n        cur.test = this.parseExpression();\n      } else {\n        if (sawDefault) { this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\"); }\n        sawDefault = true;\n        cur.test = null;\n      }\n      this.expect(types$1.colon);\n    } else {\n      if (!cur) { this.unexpected(); }\n      cur.consequent.push(this.parseStatement(null));\n    }\n  }\n  this.exitScope();\n  if (cur) { this.finishNode(cur, \"SwitchCase\"); }\n  this.next(); // Closing brace\n  this.labels.pop();\n  return this.finishNode(node, \"SwitchStatement\")\n};\n\npp$8.parseThrowStatement = function(node) {\n  this.next();\n  if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start)))\n    { this.raise(this.lastTokEnd, \"Illegal newline after throw\"); }\n  node.argument = this.parseExpression();\n  this.semicolon();\n  return this.finishNode(node, \"ThrowStatement\")\n};\n\n// Reused empty array added for node fields that are always empty.\n\nvar empty$1 = [];\n\npp$8.parseTryStatement = function(node) {\n  this.next();\n  node.block = this.parseBlock();\n  node.handler = null;\n  if (this.type === types$1._catch) {\n    var clause = this.startNode();\n    this.next();\n    if (this.eat(types$1.parenL)) {\n      clause.param = this.parseBindingAtom();\n      var simple = clause.param.type === \"Identifier\";\n      this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n      this.checkLValPattern(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n      this.expect(types$1.parenR);\n    } else {\n      if (this.options.ecmaVersion < 10) { this.unexpected(); }\n      clause.param = null;\n      this.enterScope(0);\n    }\n    clause.body = this.parseBlock(false);\n    this.exitScope();\n    node.handler = this.finishNode(clause, \"CatchClause\");\n  }\n  node.finalizer = this.eat(types$1._finally) ? this.parseBlock() : null;\n  if (!node.handler && !node.finalizer)\n    { this.raise(node.start, \"Missing catch or finally clause\"); }\n  return this.finishNode(node, \"TryStatement\")\n};\n\npp$8.parseVarStatement = function(node, kind) {\n  this.next();\n  this.parseVar(node, false, kind);\n  this.semicolon();\n  return this.finishNode(node, \"VariableDeclaration\")\n};\n\npp$8.parseWhileStatement = function(node) {\n  this.next();\n  node.test = this.parseParenExpression();\n  this.labels.push(loopLabel);\n  node.body = this.parseStatement(\"while\");\n  this.labels.pop();\n  return this.finishNode(node, \"WhileStatement\")\n};\n\npp$8.parseWithStatement = function(node) {\n  if (this.strict) { this.raise(this.start, \"'with' in strict mode\"); }\n  this.next();\n  node.object = this.parseParenExpression();\n  node.body = this.parseStatement(\"with\");\n  return this.finishNode(node, \"WithStatement\")\n};\n\npp$8.parseEmptyStatement = function(node) {\n  this.next();\n  return this.finishNode(node, \"EmptyStatement\")\n};\n\npp$8.parseLabeledStatement = function(node, maybeName, expr, context) {\n  for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1)\n    {\n    var label = list[i$1];\n\n    if (label.name === maybeName)\n      { this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n  } }\n  var kind = this.type.isLoop ? \"loop\" : this.type === types$1._switch ? \"switch\" : null;\n  for (var i = this.labels.length - 1; i >= 0; i--) {\n    var label$1 = this.labels[i];\n    if (label$1.statementStart === node.start) {\n      // Update information about previous labels on this node\n      label$1.statementStart = this.start;\n      label$1.kind = kind;\n    } else { break }\n  }\n  this.labels.push({name: maybeName, kind: kind, statementStart: this.start});\n  node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n  this.labels.pop();\n  node.label = expr;\n  return this.finishNode(node, \"LabeledStatement\")\n};\n\npp$8.parseExpressionStatement = function(node, expr) {\n  node.expression = expr;\n  this.semicolon();\n  return this.finishNode(node, \"ExpressionStatement\")\n};\n\n// Parse a semicolon-enclosed block of statements, handling `\"use\n// strict\"` declarations when `allowStrict` is true (used for\n// function bodies).\n\npp$8.parseBlock = function(createNewLexicalScope, node, exitStrict) {\n  if ( createNewLexicalScope === void 0 ) createNewLexicalScope = true;\n  if ( node === void 0 ) node = this.startNode();\n\n  node.body = [];\n  this.expect(types$1.braceL);\n  if (createNewLexicalScope) { this.enterScope(0); }\n  while (this.type !== types$1.braceR) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  if (exitStrict) { this.strict = false; }\n  this.next();\n  if (createNewLexicalScope) { this.exitScope(); }\n  return this.finishNode(node, \"BlockStatement\")\n};\n\n// Parse a regular `for` loop. The disambiguation code in\n// `parseStatement` will already have parsed the init statement or\n// expression.\n\npp$8.parseFor = function(node, init) {\n  node.init = init;\n  this.expect(types$1.semi);\n  node.test = this.type === types$1.semi ? null : this.parseExpression();\n  this.expect(types$1.semi);\n  node.update = this.type === types$1.parenR ? null : this.parseExpression();\n  this.expect(types$1.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, \"ForStatement\")\n};\n\n// Parse a `for`/`in` and `for`/`of` loop, which are almost\n// same from parser's perspective.\n\npp$8.parseForIn = function(node, init) {\n  var isForIn = this.type === types$1._in;\n  this.next();\n\n  if (\n    init.type === \"VariableDeclaration\" &&\n    init.declarations[0].init != null &&\n    (\n      !isForIn ||\n      this.options.ecmaVersion < 8 ||\n      this.strict ||\n      init.kind !== \"var\" ||\n      init.declarations[0].id.type !== \"Identifier\"\n    )\n  ) {\n    this.raise(\n      init.start,\n      ((isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\")\n    );\n  }\n  node.left = init;\n  node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n  this.expect(types$1.parenR);\n  node.body = this.parseStatement(\"for\");\n  this.exitScope();\n  this.labels.pop();\n  return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\")\n};\n\n// Parse a list of variable declarations.\n\npp$8.parseVar = function(node, isFor, kind) {\n  node.declarations = [];\n  node.kind = kind;\n  for (;;) {\n    var decl = this.startNode();\n    this.parseVarId(decl, kind);\n    if (this.eat(types$1.eq)) {\n      decl.init = this.parseMaybeAssign(isFor);\n    } else if (kind === \"const\" && !(this.type === types$1._in || (this.options.ecmaVersion >= 6 && this.isContextual(\"of\")))) {\n      this.unexpected();\n    } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types$1._in || this.isContextual(\"of\")))) {\n      this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n    } else {\n      decl.init = null;\n    }\n    node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n    if (!this.eat(types$1.comma)) { break }\n  }\n  return node\n};\n\npp$8.parseVarId = function(decl, kind) {\n  decl.id = this.parseBindingAtom();\n  this.checkLValPattern(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n};\n\nvar FUNC_STATEMENT = 1, FUNC_HANGING_STATEMENT = 2, FUNC_NULLABLE_ID = 4;\n\n// Parse a function declaration or literal (depending on the\n// `statement & FUNC_STATEMENT`).\n\n// Remove `allowExpressionBody` for 7.0.0, as it is only called with false\npp$8.parseFunction = function(node, statement, allowExpressionBody, isAsync, forInit) {\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n    if (this.type === types$1.star && (statement & FUNC_HANGING_STATEMENT))\n      { this.unexpected(); }\n    node.generator = this.eat(types$1.star);\n  }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  if (statement & FUNC_STATEMENT) {\n    node.id = (statement & FUNC_NULLABLE_ID) && this.type !== types$1.name ? null : this.parseIdent();\n    if (node.id && !(statement & FUNC_HANGING_STATEMENT))\n      // If it is a regular function declaration in sloppy mode, then it is\n      // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n      // mode depends on properties of the current scope (see\n      // treatFunctionsAsVar).\n      { this.checkLValSimple(node.id, (this.strict || node.generator || node.async) ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION); }\n  }\n\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(node.async, node.generator));\n\n  if (!(statement & FUNC_STATEMENT))\n    { node.id = this.type === types$1.name ? this.parseIdent() : null; }\n\n  this.parseFunctionParams(node);\n  this.parseFunctionBody(node, allowExpressionBody, false, forInit);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, (statement & FUNC_STATEMENT) ? \"FunctionDeclaration\" : \"FunctionExpression\")\n};\n\npp$8.parseFunctionParams = function(node) {\n  this.expect(types$1.parenL);\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n};\n\n// Parse a class declaration or literal (depending on the\n// `isStatement` parameter).\n\npp$8.parseClass = function(node, isStatement) {\n  this.next();\n\n  // ecma-262 14.6 Class Definitions\n  // A class definition is always strict mode code.\n  var oldStrict = this.strict;\n  this.strict = true;\n\n  this.parseClassId(node, isStatement);\n  this.parseClassSuper(node);\n  var privateNameMap = this.enterClassBody();\n  var classBody = this.startNode();\n  var hadConstructor = false;\n  classBody.body = [];\n  this.expect(types$1.braceL);\n  while (this.type !== types$1.braceR) {\n    var element = this.parseClassElement(node.superClass !== null);\n    if (element) {\n      classBody.body.push(element);\n      if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n        if (hadConstructor) { this.raise(element.start, \"Duplicate constructor in the same class\"); }\n        hadConstructor = true;\n      } else if (element.key && element.key.type === \"PrivateIdentifier\" && isPrivateNameConflicted(privateNameMap, element)) {\n        this.raiseRecoverable(element.key.start, (\"Identifier '#\" + (element.key.name) + \"' has already been declared\"));\n      }\n    }\n  }\n  this.strict = oldStrict;\n  this.next();\n  node.body = this.finishNode(classBody, \"ClassBody\");\n  this.exitClassBody();\n  return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\")\n};\n\npp$8.parseClassElement = function(constructorAllowsSuper) {\n  if (this.eat(types$1.semi)) { return null }\n\n  var ecmaVersion = this.options.ecmaVersion;\n  var node = this.startNode();\n  var keyName = \"\";\n  var isGenerator = false;\n  var isAsync = false;\n  var kind = \"method\";\n  var isStatic = false;\n\n  if (this.eatContextual(\"static\")) {\n    // Parse static init block\n    if (ecmaVersion >= 13 && this.eat(types$1.braceL)) {\n      this.parseClassStaticBlock(node);\n      return node\n    }\n    if (this.isClassElementNameStart() || this.type === types$1.star) {\n      isStatic = true;\n    } else {\n      keyName = \"static\";\n    }\n  }\n  node.static = isStatic;\n  if (!keyName && ecmaVersion >= 8 && this.eatContextual(\"async\")) {\n    if ((this.isClassElementNameStart() || this.type === types$1.star) && !this.canInsertSemicolon()) {\n      isAsync = true;\n    } else {\n      keyName = \"async\";\n    }\n  }\n  if (!keyName && (ecmaVersion >= 9 || !isAsync) && this.eat(types$1.star)) {\n    isGenerator = true;\n  }\n  if (!keyName && !isAsync && !isGenerator) {\n    var lastValue = this.value;\n    if (this.eatContextual(\"get\") || this.eatContextual(\"set\")) {\n      if (this.isClassElementNameStart()) {\n        kind = lastValue;\n      } else {\n        keyName = lastValue;\n      }\n    }\n  }\n\n  // Parse element name\n  if (keyName) {\n    // 'async', 'get', 'set', or 'static' were not a keyword contextually.\n    // The last token is any of those. Make it the element name.\n    node.computed = false;\n    node.key = this.startNodeAt(this.lastTokStart, this.lastTokStartLoc);\n    node.key.name = keyName;\n    this.finishNode(node.key, \"Identifier\");\n  } else {\n    this.parseClassElementName(node);\n  }\n\n  // Parse element value\n  if (ecmaVersion < 13 || this.type === types$1.parenL || kind !== \"method\" || isGenerator || isAsync) {\n    var isConstructor = !node.static && checkKeyName(node, \"constructor\");\n    var allowsDirectSuper = isConstructor && constructorAllowsSuper;\n    // Couldn't move this check into the 'parseClassMethod' method for backward compatibility.\n    if (isConstructor && kind !== \"method\") { this.raise(node.key.start, \"Constructor can't have get/set modifier\"); }\n    node.kind = isConstructor ? \"constructor\" : kind;\n    this.parseClassMethod(node, isGenerator, isAsync, allowsDirectSuper);\n  } else {\n    this.parseClassField(node);\n  }\n\n  return node\n};\n\npp$8.isClassElementNameStart = function() {\n  return (\n    this.type === types$1.name ||\n    this.type === types$1.privateId ||\n    this.type === types$1.num ||\n    this.type === types$1.string ||\n    this.type === types$1.bracketL ||\n    this.type.keyword\n  )\n};\n\npp$8.parseClassElementName = function(element) {\n  if (this.type === types$1.privateId) {\n    if (this.value === \"constructor\") {\n      this.raise(this.start, \"Classes can't have an element named '#constructor'\");\n    }\n    element.computed = false;\n    element.key = this.parsePrivateIdent();\n  } else {\n    this.parsePropertyName(element);\n  }\n};\n\npp$8.parseClassMethod = function(method, isGenerator, isAsync, allowsDirectSuper) {\n  // Check key and flags\n  var key = method.key;\n  if (method.kind === \"constructor\") {\n    if (isGenerator) { this.raise(key.start, \"Constructor can't be a generator\"); }\n    if (isAsync) { this.raise(key.start, \"Constructor can't be an async method\"); }\n  } else if (method.static && checkKeyName(method, \"prototype\")) {\n    this.raise(key.start, \"Classes may not have a static property named prototype\");\n  }\n\n  // Parse value\n  var value = method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n\n  // Check value\n  if (method.kind === \"get\" && value.params.length !== 0)\n    { this.raiseRecoverable(value.start, \"getter should have no params\"); }\n  if (method.kind === \"set\" && value.params.length !== 1)\n    { this.raiseRecoverable(value.start, \"setter should have exactly one param\"); }\n  if (method.kind === \"set\" && value.params[0].type === \"RestElement\")\n    { this.raiseRecoverable(value.params[0].start, \"Setter cannot use rest params\"); }\n\n  return this.finishNode(method, \"MethodDefinition\")\n};\n\npp$8.parseClassField = function(field) {\n  if (checkKeyName(field, \"constructor\")) {\n    this.raise(field.key.start, \"Classes can't have a field named 'constructor'\");\n  } else if (field.static && checkKeyName(field, \"prototype\")) {\n    this.raise(field.key.start, \"Classes can't have a static field named 'prototype'\");\n  }\n\n  if (this.eat(types$1.eq)) {\n    // To raise SyntaxError if 'arguments' exists in the initializer.\n    var scope = this.currentThisScope();\n    var inClassFieldInit = scope.inClassFieldInit;\n    scope.inClassFieldInit = true;\n    field.value = this.parseMaybeAssign();\n    scope.inClassFieldInit = inClassFieldInit;\n  } else {\n    field.value = null;\n  }\n  this.semicolon();\n\n  return this.finishNode(field, \"PropertyDefinition\")\n};\n\npp$8.parseClassStaticBlock = function(node) {\n  node.body = [];\n\n  var oldLabels = this.labels;\n  this.labels = [];\n  this.enterScope(SCOPE_CLASS_STATIC_BLOCK | SCOPE_SUPER);\n  while (this.type !== types$1.braceR) {\n    var stmt = this.parseStatement(null);\n    node.body.push(stmt);\n  }\n  this.next();\n  this.exitScope();\n  this.labels = oldLabels;\n\n  return this.finishNode(node, \"StaticBlock\")\n};\n\npp$8.parseClassId = function(node, isStatement) {\n  if (this.type === types$1.name) {\n    node.id = this.parseIdent();\n    if (isStatement)\n      { this.checkLValSimple(node.id, BIND_LEXICAL, false); }\n  } else {\n    if (isStatement === true)\n      { this.unexpected(); }\n    node.id = null;\n  }\n};\n\npp$8.parseClassSuper = function(node) {\n  node.superClass = this.eat(types$1._extends) ? this.parseExprSubscripts(false) : null;\n};\n\npp$8.enterClassBody = function() {\n  var element = {declared: Object.create(null), used: []};\n  this.privateNameStack.push(element);\n  return element.declared\n};\n\npp$8.exitClassBody = function() {\n  var ref = this.privateNameStack.pop();\n  var declared = ref.declared;\n  var used = ref.used;\n  var len = this.privateNameStack.length;\n  var parent = len === 0 ? null : this.privateNameStack[len - 1];\n  for (var i = 0; i < used.length; ++i) {\n    var id = used[i];\n    if (!hasOwn(declared, id.name)) {\n      if (parent) {\n        parent.used.push(id);\n      } else {\n        this.raiseRecoverable(id.start, (\"Private field '#\" + (id.name) + \"' must be declared in an enclosing class\"));\n      }\n    }\n  }\n};\n\nfunction isPrivateNameConflicted(privateNameMap, element) {\n  var name = element.key.name;\n  var curr = privateNameMap[name];\n\n  var next = \"true\";\n  if (element.type === \"MethodDefinition\" && (element.kind === \"get\" || element.kind === \"set\")) {\n    next = (element.static ? \"s\" : \"i\") + element.kind;\n  }\n\n  // `class { get #a(){}; static set #a(_){} }` is also conflict.\n  if (\n    curr === \"iget\" && next === \"iset\" ||\n    curr === \"iset\" && next === \"iget\" ||\n    curr === \"sget\" && next === \"sset\" ||\n    curr === \"sset\" && next === \"sget\"\n  ) {\n    privateNameMap[name] = \"true\";\n    return false\n  } else if (!curr) {\n    privateNameMap[name] = next;\n    return false\n  } else {\n    return true\n  }\n}\n\nfunction checkKeyName(node, name) {\n  var computed = node.computed;\n  var key = node.key;\n  return !computed && (\n    key.type === \"Identifier\" && key.name === name ||\n    key.type === \"Literal\" && key.value === name\n  )\n}\n\n// Parses module export declaration.\n\npp$8.parseExport = function(node, exports) {\n  this.next();\n  // export * from '...'\n  if (this.eat(types$1.star)) {\n    if (this.options.ecmaVersion >= 11) {\n      if (this.eatContextual(\"as\")) {\n        node.exported = this.parseModuleExportName();\n        this.checkExport(exports, node.exported, this.lastTokStart);\n      } else {\n        node.exported = null;\n      }\n    }\n    this.expectContextual(\"from\");\n    if (this.type !== types$1.string) { this.unexpected(); }\n    node.source = this.parseExprAtom();\n    this.semicolon();\n    return this.finishNode(node, \"ExportAllDeclaration\")\n  }\n  if (this.eat(types$1._default)) { // export default ...\n    this.checkExport(exports, \"default\", this.lastTokStart);\n    var isAsync;\n    if (this.type === types$1._function || (isAsync = this.isAsyncFunction())) {\n      var fNode = this.startNode();\n      this.next();\n      if (isAsync) { this.next(); }\n      node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n    } else if (this.type === types$1._class) {\n      var cNode = this.startNode();\n      node.declaration = this.parseClass(cNode, \"nullableID\");\n    } else {\n      node.declaration = this.parseMaybeAssign();\n      this.semicolon();\n    }\n    return this.finishNode(node, \"ExportDefaultDeclaration\")\n  }\n  // export var|const|let|function|class ...\n  if (this.shouldParseExportStatement()) {\n    node.declaration = this.parseStatement(null);\n    if (node.declaration.type === \"VariableDeclaration\")\n      { this.checkVariableExport(exports, node.declaration.declarations); }\n    else\n      { this.checkExport(exports, node.declaration.id, node.declaration.id.start); }\n    node.specifiers = [];\n    node.source = null;\n  } else { // export { x, y as z } [from '...']\n    node.declaration = null;\n    node.specifiers = this.parseExportSpecifiers(exports);\n    if (this.eatContextual(\"from\")) {\n      if (this.type !== types$1.string) { this.unexpected(); }\n      node.source = this.parseExprAtom();\n    } else {\n      for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n        // check for keywords used as local names\n        var spec = list[i];\n\n        this.checkUnreserved(spec.local);\n        // check if export is defined\n        this.checkLocalExport(spec.local);\n\n        if (spec.local.type === \"Literal\") {\n          this.raise(spec.local.start, \"A string literal cannot be used as an exported binding without `from`.\");\n        }\n      }\n\n      node.source = null;\n    }\n    this.semicolon();\n  }\n  return this.finishNode(node, \"ExportNamedDeclaration\")\n};\n\npp$8.checkExport = function(exports, name, pos) {\n  if (!exports) { return }\n  if (typeof name !== \"string\")\n    { name = name.type === \"Identifier\" ? name.name : name.value; }\n  if (hasOwn(exports, name))\n    { this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\"); }\n  exports[name] = true;\n};\n\npp$8.checkPatternExport = function(exports, pat) {\n  var type = pat.type;\n  if (type === \"Identifier\")\n    { this.checkExport(exports, pat, pat.start); }\n  else if (type === \"ObjectPattern\")\n    { for (var i = 0, list = pat.properties; i < list.length; i += 1)\n      {\n        var prop = list[i];\n\n        this.checkPatternExport(exports, prop);\n      } }\n  else if (type === \"ArrayPattern\")\n    { for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n      var elt = list$1[i$1];\n\n        if (elt) { this.checkPatternExport(exports, elt); }\n    } }\n  else if (type === \"Property\")\n    { this.checkPatternExport(exports, pat.value); }\n  else if (type === \"AssignmentPattern\")\n    { this.checkPatternExport(exports, pat.left); }\n  else if (type === \"RestElement\")\n    { this.checkPatternExport(exports, pat.argument); }\n  else if (type === \"ParenthesizedExpression\")\n    { this.checkPatternExport(exports, pat.expression); }\n};\n\npp$8.checkVariableExport = function(exports, decls) {\n  if (!exports) { return }\n  for (var i = 0, list = decls; i < list.length; i += 1)\n    {\n    var decl = list[i];\n\n    this.checkPatternExport(exports, decl.id);\n  }\n};\n\npp$8.shouldParseExportStatement = function() {\n  return this.type.keyword === \"var\" ||\n    this.type.keyword === \"const\" ||\n    this.type.keyword === \"class\" ||\n    this.type.keyword === \"function\" ||\n    this.isLet() ||\n    this.isAsyncFunction()\n};\n\n// Parses a comma-separated list of module exports.\n\npp$8.parseExportSpecifiers = function(exports) {\n  var nodes = [], first = true;\n  // export { x, y as z } [from '...']\n  this.expect(types$1.braceL);\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    var node = this.startNode();\n    node.local = this.parseModuleExportName();\n    node.exported = this.eatContextual(\"as\") ? this.parseModuleExportName() : node.local;\n    this.checkExport(\n      exports,\n      node.exported,\n      node.exported.start\n    );\n    nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n  }\n  return nodes\n};\n\n// Parses import declaration.\n\npp$8.parseImport = function(node) {\n  this.next();\n  // import '...'\n  if (this.type === types$1.string) {\n    node.specifiers = empty$1;\n    node.source = this.parseExprAtom();\n  } else {\n    node.specifiers = this.parseImportSpecifiers();\n    this.expectContextual(\"from\");\n    node.source = this.type === types$1.string ? this.parseExprAtom() : this.unexpected();\n  }\n  this.semicolon();\n  return this.finishNode(node, \"ImportDeclaration\")\n};\n\n// Parses a comma-separated list of module imports.\n\npp$8.parseImportSpecifiers = function() {\n  var nodes = [], first = true;\n  if (this.type === types$1.name) {\n    // import defaultObj, { x, y as z } from '...'\n    var node = this.startNode();\n    node.local = this.parseIdent();\n    this.checkLValSimple(node.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n    if (!this.eat(types$1.comma)) { return nodes }\n  }\n  if (this.type === types$1.star) {\n    var node$1 = this.startNode();\n    this.next();\n    this.expectContextual(\"as\");\n    node$1.local = this.parseIdent();\n    this.checkLValSimple(node$1.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n    return nodes\n  }\n  this.expect(types$1.braceL);\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    var node$2 = this.startNode();\n    node$2.imported = this.parseModuleExportName();\n    if (this.eatContextual(\"as\")) {\n      node$2.local = this.parseIdent();\n    } else {\n      this.checkUnreserved(node$2.imported);\n      node$2.local = node$2.imported;\n    }\n    this.checkLValSimple(node$2.local, BIND_LEXICAL);\n    nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n  }\n  return nodes\n};\n\npp$8.parseModuleExportName = function() {\n  if (this.options.ecmaVersion >= 13 && this.type === types$1.string) {\n    var stringLiteral = this.parseLiteral(this.value);\n    if (loneSurrogate.test(stringLiteral.value)) {\n      this.raise(stringLiteral.start, \"An export name cannot include a lone surrogate.\");\n    }\n    return stringLiteral\n  }\n  return this.parseIdent(true)\n};\n\n// Set `ExpressionStatement#directive` property for directive prologues.\npp$8.adaptDirectivePrologue = function(statements) {\n  for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n    statements[i].directive = statements[i].expression.raw.slice(1, -1);\n  }\n};\npp$8.isDirectiveCandidate = function(statement) {\n  return (\n    this.options.ecmaVersion >= 5 &&\n    statement.type === \"ExpressionStatement\" &&\n    statement.expression.type === \"Literal\" &&\n    typeof statement.expression.value === \"string\" &&\n    // Reject parenthesized strings.\n    (this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\")\n  )\n};\n\nvar pp$7 = Parser.prototype;\n\n// Convert existing expression atom to assignable pattern\n// if possible.\n\npp$7.toAssignable = function(node, isBinding, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 6 && node) {\n    switch (node.type) {\n    case \"Identifier\":\n      if (this.inAsync && node.name === \"await\")\n        { this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\"); }\n      break\n\n    case \"ObjectPattern\":\n    case \"ArrayPattern\":\n    case \"AssignmentPattern\":\n    case \"RestElement\":\n      break\n\n    case \"ObjectExpression\":\n      node.type = \"ObjectPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      for (var i = 0, list = node.properties; i < list.length; i += 1) {\n        var prop = list[i];\n\n      this.toAssignable(prop, isBinding);\n        // Early error:\n        //   AssignmentRestProperty[Yield, Await] :\n        //     `...` DestructuringAssignmentTarget[Yield, Await]\n        //\n        //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n        if (\n          prop.type === \"RestElement\" &&\n          (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")\n        ) {\n          this.raise(prop.argument.start, \"Unexpected token\");\n        }\n      }\n      break\n\n    case \"Property\":\n      // AssignmentProperty has type === \"Property\"\n      if (node.kind !== \"init\") { this.raise(node.key.start, \"Object pattern can't contain getter or setter\"); }\n      this.toAssignable(node.value, isBinding);\n      break\n\n    case \"ArrayExpression\":\n      node.type = \"ArrayPattern\";\n      if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n      this.toAssignableList(node.elements, isBinding);\n      break\n\n    case \"SpreadElement\":\n      node.type = \"RestElement\";\n      this.toAssignable(node.argument, isBinding);\n      if (node.argument.type === \"AssignmentPattern\")\n        { this.raise(node.argument.start, \"Rest elements cannot have a default value\"); }\n      break\n\n    case \"AssignmentExpression\":\n      if (node.operator !== \"=\") { this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\"); }\n      node.type = \"AssignmentPattern\";\n      delete node.operator;\n      this.toAssignable(node.left, isBinding);\n      break\n\n    case \"ParenthesizedExpression\":\n      this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n      break\n\n    case \"ChainExpression\":\n      this.raiseRecoverable(node.start, \"Optional chaining cannot appear in left-hand side\");\n      break\n\n    case \"MemberExpression\":\n      if (!isBinding) { break }\n\n    default:\n      this.raise(node.start, \"Assigning to rvalue\");\n    }\n  } else if (refDestructuringErrors) { this.checkPatternErrors(refDestructuringErrors, true); }\n  return node\n};\n\n// Convert list of expression atoms to binding list.\n\npp$7.toAssignableList = function(exprList, isBinding) {\n  var end = exprList.length;\n  for (var i = 0; i < end; i++) {\n    var elt = exprList[i];\n    if (elt) { this.toAssignable(elt, isBinding); }\n  }\n  if (end) {\n    var last = exprList[end - 1];\n    if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\")\n      { this.unexpected(last.argument.start); }\n  }\n  return exprList\n};\n\n// Parses spread element.\n\npp$7.parseSpread = function(refDestructuringErrors) {\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n  return this.finishNode(node, \"SpreadElement\")\n};\n\npp$7.parseRestBinding = function() {\n  var node = this.startNode();\n  this.next();\n\n  // RestElement inside of a function parameter must be an identifier\n  if (this.options.ecmaVersion === 6 && this.type !== types$1.name)\n    { this.unexpected(); }\n\n  node.argument = this.parseBindingAtom();\n\n  return this.finishNode(node, \"RestElement\")\n};\n\n// Parses lvalue (assignable) atom.\n\npp$7.parseBindingAtom = function() {\n  if (this.options.ecmaVersion >= 6) {\n    switch (this.type) {\n    case types$1.bracketL:\n      var node = this.startNode();\n      this.next();\n      node.elements = this.parseBindingList(types$1.bracketR, true, true);\n      return this.finishNode(node, \"ArrayPattern\")\n\n    case types$1.braceL:\n      return this.parseObj(true)\n    }\n  }\n  return this.parseIdent()\n};\n\npp$7.parseBindingList = function(close, allowEmpty, allowTrailingComma) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (first) { first = false; }\n    else { this.expect(types$1.comma); }\n    if (allowEmpty && this.type === types$1.comma) {\n      elts.push(null);\n    } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n      break\n    } else if (this.type === types$1.ellipsis) {\n      var rest = this.parseRestBinding();\n      this.parseBindingListItem(rest);\n      elts.push(rest);\n      if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n      this.expect(close);\n      break\n    } else {\n      var elem = this.parseMaybeDefault(this.start, this.startLoc);\n      this.parseBindingListItem(elem);\n      elts.push(elem);\n    }\n  }\n  return elts\n};\n\npp$7.parseBindingListItem = function(param) {\n  return param\n};\n\n// Parses assignment pattern around given atom if possible.\n\npp$7.parseMaybeDefault = function(startPos, startLoc, left) {\n  left = left || this.parseBindingAtom();\n  if (this.options.ecmaVersion < 6 || !this.eat(types$1.eq)) { return left }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.right = this.parseMaybeAssign();\n  return this.finishNode(node, \"AssignmentPattern\")\n};\n\n// The following three functions all verify that a node is an lvalue \n// something that can be bound, or assigned to. In order to do so, they perform\n// a variety of checks:\n//\n// - Check that none of the bound/assigned-to identifiers are reserved words.\n// - Record name declarations for bindings in the appropriate scope.\n// - Check duplicate argument names, if checkClashes is set.\n//\n// If a complex binding pattern is encountered (e.g., object and array\n// destructuring), the entire pattern is recursively checked.\n//\n// There are three versions of checkLVal*() appropriate for different\n// circumstances:\n//\n// - checkLValSimple() shall be used if the syntactic construct supports\n//   nothing other than identifiers and member expressions. Parenthesized\n//   expressions are also correctly handled. This is generally appropriate for\n//   constructs for which the spec says\n//\n//   > It is a Syntax Error if AssignmentTargetType of [the production] is not\n//   > simple.\n//\n//   It is also appropriate for checking if an identifier is valid and not\n//   defined elsewhere, like import declarations or function/class identifiers.\n//\n//   Examples where this is used include:\n//     a += ;\n//     import a from '';\n//   where a is the node to be checked.\n//\n// - checkLValPattern() shall be used if the syntactic construct supports\n//   anything checkLValSimple() supports, as well as object and array\n//   destructuring patterns. This is generally appropriate for constructs for\n//   which the spec says\n//\n//   > It is a Syntax Error if [the production] is neither an ObjectLiteral nor\n//   > an ArrayLiteral and AssignmentTargetType of [the production] is not\n//   > simple.\n//\n//   Examples where this is used include:\n//     (a = );\n//     const a = ;\n//     try {  } catch (a) {  }\n//   where a is the node to be checked.\n//\n// - checkLValInnerPattern() shall be used if the syntactic construct supports\n//   anything checkLValPattern() supports, as well as default assignment\n//   patterns, rest elements, and other constructs that may appear within an\n//   object or array destructuring pattern.\n//\n//   As a special case, function parameters also use checkLValInnerPattern(),\n//   as they also support defaults and rest constructs.\n//\n// These functions deliberately support both assignment and binding constructs,\n// as the logic for both is exceedingly similar. If the node is the target of\n// an assignment, then bindingType should be set to BIND_NONE. Otherwise, it\n// should be set to the appropriate BIND_* constant, like BIND_VAR or\n// BIND_LEXICAL.\n//\n// If the function is called with a non-BIND_NONE bindingType, then\n// additionally a checkClashes object may be specified to allow checking for\n// duplicate argument names. checkClashes is ignored if the provided construct\n// is an assignment (i.e., bindingType is BIND_NONE).\n\npp$7.checkLValSimple = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  var isBind = bindingType !== BIND_NONE;\n\n  switch (expr.type) {\n  case \"Identifier\":\n    if (this.strict && this.reservedWordsStrictBind.test(expr.name))\n      { this.raiseRecoverable(expr.start, (isBind ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\"); }\n    if (isBind) {\n      if (bindingType === BIND_LEXICAL && expr.name === \"let\")\n        { this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\"); }\n      if (checkClashes) {\n        if (hasOwn(checkClashes, expr.name))\n          { this.raiseRecoverable(expr.start, \"Argument name clash\"); }\n        checkClashes[expr.name] = true;\n      }\n      if (bindingType !== BIND_OUTSIDE) { this.declareName(expr.name, bindingType, expr.start); }\n    }\n    break\n\n  case \"ChainExpression\":\n    this.raiseRecoverable(expr.start, \"Optional chaining cannot appear in left-hand side\");\n    break\n\n  case \"MemberExpression\":\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding member expression\"); }\n    break\n\n  case \"ParenthesizedExpression\":\n    if (isBind) { this.raiseRecoverable(expr.start, \"Binding parenthesized expression\"); }\n    return this.checkLValSimple(expr.expression, bindingType, checkClashes)\n\n  default:\n    this.raise(expr.start, (isBind ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n  }\n};\n\npp$7.checkLValPattern = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"ObjectPattern\":\n    for (var i = 0, list = expr.properties; i < list.length; i += 1) {\n      var prop = list[i];\n\n    this.checkLValInnerPattern(prop, bindingType, checkClashes);\n    }\n    break\n\n  case \"ArrayPattern\":\n    for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n      var elem = list$1[i$1];\n\n    if (elem) { this.checkLValInnerPattern(elem, bindingType, checkClashes); }\n    }\n    break\n\n  default:\n    this.checkLValSimple(expr, bindingType, checkClashes);\n  }\n};\n\npp$7.checkLValInnerPattern = function(expr, bindingType, checkClashes) {\n  if ( bindingType === void 0 ) bindingType = BIND_NONE;\n\n  switch (expr.type) {\n  case \"Property\":\n    // AssignmentProperty has type === \"Property\"\n    this.checkLValInnerPattern(expr.value, bindingType, checkClashes);\n    break\n\n  case \"AssignmentPattern\":\n    this.checkLValPattern(expr.left, bindingType, checkClashes);\n    break\n\n  case \"RestElement\":\n    this.checkLValPattern(expr.argument, bindingType, checkClashes);\n    break\n\n  default:\n    this.checkLValPattern(expr, bindingType, checkClashes);\n  }\n};\n\n// The algorithm used to determine whether a regexp can appear at a\n\nvar TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n  this.token = token;\n  this.isExpr = !!isExpr;\n  this.preserveSpace = !!preserveSpace;\n  this.override = override;\n  this.generator = !!generator;\n};\n\nvar types = {\n  b_stat: new TokContext(\"{\", false),\n  b_expr: new TokContext(\"{\", true),\n  b_tmpl: new TokContext(\"${\", false),\n  p_stat: new TokContext(\"(\", false),\n  p_expr: new TokContext(\"(\", true),\n  q_tmpl: new TokContext(\"`\", true, true, function (p) { return p.tryReadTemplateToken(); }),\n  f_stat: new TokContext(\"function\", false),\n  f_expr: new TokContext(\"function\", true),\n  f_expr_gen: new TokContext(\"function\", true, false, null, true),\n  f_gen: new TokContext(\"function\", false, false, null, true)\n};\n\nvar pp$6 = Parser.prototype;\n\npp$6.initialContext = function() {\n  return [types.b_stat]\n};\n\npp$6.curContext = function() {\n  return this.context[this.context.length - 1]\n};\n\npp$6.braceIsBlock = function(prevType) {\n  var parent = this.curContext();\n  if (parent === types.f_expr || parent === types.f_stat)\n    { return true }\n  if (prevType === types$1.colon && (parent === types.b_stat || parent === types.b_expr))\n    { return !parent.isExpr }\n\n  // The check for `tt.name && exprAllowed` detects whether we are\n  // after a `yield` or `of` construct. See the `updateContext` for\n  // `tt.name`.\n  if (prevType === types$1._return || prevType === types$1.name && this.exprAllowed)\n    { return lineBreak.test(this.input.slice(this.lastTokEnd, this.start)) }\n  if (prevType === types$1._else || prevType === types$1.semi || prevType === types$1.eof || prevType === types$1.parenR || prevType === types$1.arrow)\n    { return true }\n  if (prevType === types$1.braceL)\n    { return parent === types.b_stat }\n  if (prevType === types$1._var || prevType === types$1._const || prevType === types$1.name)\n    { return false }\n  return !this.exprAllowed\n};\n\npp$6.inGeneratorContext = function() {\n  for (var i = this.context.length - 1; i >= 1; i--) {\n    var context = this.context[i];\n    if (context.token === \"function\")\n      { return context.generator }\n  }\n  return false\n};\n\npp$6.updateContext = function(prevType) {\n  var update, type = this.type;\n  if (type.keyword && prevType === types$1.dot)\n    { this.exprAllowed = false; }\n  else if (update = type.updateContext)\n    { update.call(this, prevType); }\n  else\n    { this.exprAllowed = type.beforeExpr; }\n};\n\n// Used to handle egde cases when token context could not be inferred correctly during tokenization phase\n\npp$6.overrideContext = function(tokenCtx) {\n  if (this.curContext() !== tokenCtx) {\n    this.context[this.context.length - 1] = tokenCtx;\n  }\n};\n\n// Token-specific context update code\n\ntypes$1.parenR.updateContext = types$1.braceR.updateContext = function() {\n  if (this.context.length === 1) {\n    this.exprAllowed = true;\n    return\n  }\n  var out = this.context.pop();\n  if (out === types.b_stat && this.curContext().token === \"function\") {\n    out = this.context.pop();\n  }\n  this.exprAllowed = !out.isExpr;\n};\n\ntypes$1.braceL.updateContext = function(prevType) {\n  this.context.push(this.braceIsBlock(prevType) ? types.b_stat : types.b_expr);\n  this.exprAllowed = true;\n};\n\ntypes$1.dollarBraceL.updateContext = function() {\n  this.context.push(types.b_tmpl);\n  this.exprAllowed = true;\n};\n\ntypes$1.parenL.updateContext = function(prevType) {\n  var statementParens = prevType === types$1._if || prevType === types$1._for || prevType === types$1._with || prevType === types$1._while;\n  this.context.push(statementParens ? types.p_stat : types.p_expr);\n  this.exprAllowed = true;\n};\n\ntypes$1.incDec.updateContext = function() {\n  // tokExprAllowed stays unchanged\n};\n\ntypes$1._function.updateContext = types$1._class.updateContext = function(prevType) {\n  if (prevType.beforeExpr && prevType !== types$1._else &&\n      !(prevType === types$1.semi && this.curContext() !== types.p_stat) &&\n      !(prevType === types$1._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) &&\n      !((prevType === types$1.colon || prevType === types$1.braceL) && this.curContext() === types.b_stat))\n    { this.context.push(types.f_expr); }\n  else\n    { this.context.push(types.f_stat); }\n  this.exprAllowed = false;\n};\n\ntypes$1.backQuote.updateContext = function() {\n  if (this.curContext() === types.q_tmpl)\n    { this.context.pop(); }\n  else\n    { this.context.push(types.q_tmpl); }\n  this.exprAllowed = false;\n};\n\ntypes$1.star.updateContext = function(prevType) {\n  if (prevType === types$1._function) {\n    var index = this.context.length - 1;\n    if (this.context[index] === types.f_expr)\n      { this.context[index] = types.f_expr_gen; }\n    else\n      { this.context[index] = types.f_gen; }\n  }\n  this.exprAllowed = true;\n};\n\ntypes$1.name.updateContext = function(prevType) {\n  var allowed = false;\n  if (this.options.ecmaVersion >= 6 && prevType !== types$1.dot) {\n    if (this.value === \"of\" && !this.exprAllowed ||\n        this.value === \"yield\" && this.inGeneratorContext())\n      { allowed = true; }\n  }\n  this.exprAllowed = allowed;\n};\n\n// A recursive descent parser operates by defining functions for all\n\nvar pp$5 = Parser.prototype;\n\n// Check if property name clashes with already added.\n// Object/class getters and setters are not allowed to clash \n// either with each other or with an init property  and in\n// strict mode, init properties are also not allowed to be repeated.\n\npp$5.checkPropClash = function(prop, propHash, refDestructuringErrors) {\n  if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\")\n    { return }\n  if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand))\n    { return }\n  var key = prop.key;\n  var name;\n  switch (key.type) {\n  case \"Identifier\": name = key.name; break\n  case \"Literal\": name = String(key.value); break\n  default: return\n  }\n  var kind = prop.kind;\n  if (this.options.ecmaVersion >= 6) {\n    if (name === \"__proto__\" && kind === \"init\") {\n      if (propHash.proto) {\n        if (refDestructuringErrors) {\n          if (refDestructuringErrors.doubleProto < 0) {\n            refDestructuringErrors.doubleProto = key.start;\n          }\n        } else {\n          this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\");\n        }\n      }\n      propHash.proto = true;\n    }\n    return\n  }\n  name = \"$\" + name;\n  var other = propHash[name];\n  if (other) {\n    var redefinition;\n    if (kind === \"init\") {\n      redefinition = this.strict && other.init || other.get || other.set;\n    } else {\n      redefinition = other.init || other[kind];\n    }\n    if (redefinition)\n      { this.raiseRecoverable(key.start, \"Redefinition of property\"); }\n  } else {\n    other = propHash[name] = {\n      init: false,\n      get: false,\n      set: false\n    };\n  }\n  other[kind] = true;\n};\n\n// ### Expression parsing\n\n// These nest, from the most general expression type at the top to\n// 'atomic', nondivisible expression types at the bottom. Most of\n// the functions will simply let the function(s) below them parse,\n// and, *if* the syntactic construct they handle is present, wrap\n// the AST node that the inner parser gave them in another node.\n\n// Parse a full expression. The optional arguments are used to\n// forbid the `in` operator (in for loops initalization expressions)\n// and provide reference for storing '=' operator inside shorthand\n// property assignment in contexts where both object expression\n// and object pattern might appear (so it's possible to raise\n// delayed syntax error at correct position).\n\npp$5.parseExpression = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeAssign(forInit, refDestructuringErrors);\n  if (this.type === types$1.comma) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.expressions = [expr];\n    while (this.eat(types$1.comma)) { node.expressions.push(this.parseMaybeAssign(forInit, refDestructuringErrors)); }\n    return this.finishNode(node, \"SequenceExpression\")\n  }\n  return expr\n};\n\n// Parse an assignment expression. This includes applications of\n// operators like `+=`.\n\npp$5.parseMaybeAssign = function(forInit, refDestructuringErrors, afterLeftParse) {\n  if (this.isContextual(\"yield\")) {\n    if (this.inGenerator) { return this.parseYield(forInit) }\n    // The tokenizer will assume an expression is allowed after\n    // `yield`, but this isn't that kind of yield\n    else { this.exprAllowed = false; }\n  }\n\n  var ownDestructuringErrors = false, oldParenAssign = -1, oldTrailingComma = -1, oldDoubleProto = -1;\n  if (refDestructuringErrors) {\n    oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n    oldTrailingComma = refDestructuringErrors.trailingComma;\n    oldDoubleProto = refDestructuringErrors.doubleProto;\n    refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = -1;\n  } else {\n    refDestructuringErrors = new DestructuringErrors;\n    ownDestructuringErrors = true;\n  }\n\n  var startPos = this.start, startLoc = this.startLoc;\n  if (this.type === types$1.parenL || this.type === types$1.name) {\n    this.potentialArrowAt = this.start;\n    this.potentialArrowInForAwait = forInit === \"await\";\n  }\n  var left = this.parseMaybeConditional(forInit, refDestructuringErrors);\n  if (afterLeftParse) { left = afterLeftParse.call(this, left, startPos, startLoc); }\n  if (this.type.isAssign) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.operator = this.value;\n    if (this.type === types$1.eq)\n      { left = this.toAssignable(left, false, refDestructuringErrors); }\n    if (!ownDestructuringErrors) {\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.doubleProto = -1;\n    }\n    if (refDestructuringErrors.shorthandAssign >= left.start)\n      { refDestructuringErrors.shorthandAssign = -1; } // reset because shorthand default was used correctly\n    if (this.type === types$1.eq)\n      { this.checkLValPattern(left); }\n    else\n      { this.checkLValSimple(left); }\n    node.left = left;\n    this.next();\n    node.right = this.parseMaybeAssign(forInit);\n    if (oldDoubleProto > -1) { refDestructuringErrors.doubleProto = oldDoubleProto; }\n    return this.finishNode(node, \"AssignmentExpression\")\n  } else {\n    if (ownDestructuringErrors) { this.checkExpressionErrors(refDestructuringErrors, true); }\n  }\n  if (oldParenAssign > -1) { refDestructuringErrors.parenthesizedAssign = oldParenAssign; }\n  if (oldTrailingComma > -1) { refDestructuringErrors.trailingComma = oldTrailingComma; }\n  return left\n};\n\n// Parse a ternary conditional (`?:`) operator.\n\npp$5.parseMaybeConditional = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprOps(forInit, refDestructuringErrors);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  if (this.eat(types$1.question)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.test = expr;\n    node.consequent = this.parseMaybeAssign();\n    this.expect(types$1.colon);\n    node.alternate = this.parseMaybeAssign(forInit);\n    return this.finishNode(node, \"ConditionalExpression\")\n  }\n  return expr\n};\n\n// Start the precedence parser.\n\npp$5.parseExprOps = function(forInit, refDestructuringErrors) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseMaybeUnary(refDestructuringErrors, false, false, forInit);\n  if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n  return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, forInit)\n};\n\n// Parse binary operators with the operator precedence parsing\n// algorithm. `left` is the left-hand side of the operator.\n// `minPrec` provides context that allows the function to stop and\n// defer further parser to one of its callers when it encounters an\n// operator that has a lower precedence than the set it is parsing.\n\npp$5.parseExprOp = function(left, leftStartPos, leftStartLoc, minPrec, forInit) {\n  var prec = this.type.binop;\n  if (prec != null && (!forInit || this.type !== types$1._in)) {\n    if (prec > minPrec) {\n      var logical = this.type === types$1.logicalOR || this.type === types$1.logicalAND;\n      var coalesce = this.type === types$1.coalesce;\n      if (coalesce) {\n        // Handle the precedence of `tt.coalesce` as equal to the range of logical expressions.\n        // In other words, `node.right` shouldn't contain logical expressions in order to check the mixed error.\n        prec = types$1.logicalAND.binop;\n      }\n      var op = this.value;\n      this.next();\n      var startPos = this.start, startLoc = this.startLoc;\n      var right = this.parseExprOp(this.parseMaybeUnary(null, false, false, forInit), startPos, startLoc, prec, forInit);\n      var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical || coalesce);\n      if ((logical && this.type === types$1.coalesce) || (coalesce && (this.type === types$1.logicalOR || this.type === types$1.logicalAND))) {\n        this.raiseRecoverable(this.start, \"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses\");\n      }\n      return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, forInit)\n    }\n  }\n  return left\n};\n\npp$5.buildBinary = function(startPos, startLoc, left, right, op, logical) {\n  if (right.type === \"PrivateIdentifier\") { this.raise(right.start, \"Private identifier can only be left side of binary expression\"); }\n  var node = this.startNodeAt(startPos, startLoc);\n  node.left = left;\n  node.operator = op;\n  node.right = right;\n  return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\")\n};\n\n// Parse unary operators, both prefix and postfix.\n\npp$5.parseMaybeUnary = function(refDestructuringErrors, sawUnary, incDec, forInit) {\n  var startPos = this.start, startLoc = this.startLoc, expr;\n  if (this.isContextual(\"await\") && this.canAwait) {\n    expr = this.parseAwait(forInit);\n    sawUnary = true;\n  } else if (this.type.prefix) {\n    var node = this.startNode(), update = this.type === types$1.incDec;\n    node.operator = this.value;\n    node.prefix = true;\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true, update, forInit);\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    if (update) { this.checkLValSimple(node.argument); }\n    else if (this.strict && node.operator === \"delete\" &&\n             node.argument.type === \"Identifier\")\n      { this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\"); }\n    else if (node.operator === \"delete\" && isPrivateFieldAccess(node.argument))\n      { this.raiseRecoverable(node.start, \"Private fields can not be deleted\"); }\n    else { sawUnary = true; }\n    expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n  } else if (!sawUnary && this.type === types$1.privateId) {\n    if (forInit || this.privateNameStack.length === 0) { this.unexpected(); }\n    expr = this.parsePrivateIdent();\n    // only could be private fields in 'in', such as #x in obj\n    if (this.type !== types$1._in) { this.unexpected(); }\n  } else {\n    expr = this.parseExprSubscripts(refDestructuringErrors, forInit);\n    if (this.checkExpressionErrors(refDestructuringErrors)) { return expr }\n    while (this.type.postfix && !this.canInsertSemicolon()) {\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.operator = this.value;\n      node$1.prefix = false;\n      node$1.argument = expr;\n      this.checkLValSimple(expr);\n      this.next();\n      expr = this.finishNode(node$1, \"UpdateExpression\");\n    }\n  }\n\n  if (!incDec && this.eat(types$1.starstar)) {\n    if (sawUnary)\n      { this.unexpected(this.lastTokStart); }\n    else\n      { return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false, false, forInit), \"**\", false) }\n  } else {\n    return expr\n  }\n};\n\nfunction isPrivateFieldAccess(node) {\n  return (\n    node.type === \"MemberExpression\" && node.property.type === \"PrivateIdentifier\" ||\n    node.type === \"ChainExpression\" && isPrivateFieldAccess(node.expression)\n  )\n}\n\n// Parse call, dot, and `[]`-subscript expressions.\n\npp$5.parseExprSubscripts = function(refDestructuringErrors, forInit) {\n  var startPos = this.start, startLoc = this.startLoc;\n  var expr = this.parseExprAtom(refDestructuringErrors, forInit);\n  if (expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\")\n    { return expr }\n  var result = this.parseSubscripts(expr, startPos, startLoc, false, forInit);\n  if (refDestructuringErrors && result.type === \"MemberExpression\") {\n    if (refDestructuringErrors.parenthesizedAssign >= result.start) { refDestructuringErrors.parenthesizedAssign = -1; }\n    if (refDestructuringErrors.parenthesizedBind >= result.start) { refDestructuringErrors.parenthesizedBind = -1; }\n    if (refDestructuringErrors.trailingComma >= result.start) { refDestructuringErrors.trailingComma = -1; }\n  }\n  return result\n};\n\npp$5.parseSubscripts = function(base, startPos, startLoc, noCalls, forInit) {\n  var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" &&\n      this.lastTokEnd === base.end && !this.canInsertSemicolon() && base.end - base.start === 5 &&\n      this.potentialArrowAt === base.start;\n  var optionalChained = false;\n\n  while (true) {\n    var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit);\n\n    if (element.optional) { optionalChained = true; }\n    if (element === base || element.type === \"ArrowFunctionExpression\") {\n      if (optionalChained) {\n        var chainNode = this.startNodeAt(startPos, startLoc);\n        chainNode.expression = element;\n        element = this.finishNode(chainNode, \"ChainExpression\");\n      }\n      return element\n    }\n\n    base = element;\n  }\n};\n\npp$5.parseSubscript = function(base, startPos, startLoc, noCalls, maybeAsyncArrow, optionalChained, forInit) {\n  var optionalSupported = this.options.ecmaVersion >= 11;\n  var optional = optionalSupported && this.eat(types$1.questionDot);\n  if (noCalls && optional) { this.raise(this.lastTokStart, \"Optional chaining cannot appear in the callee of new expressions\"); }\n\n  var computed = this.eat(types$1.bracketL);\n  if (computed || (optional && this.type !== types$1.parenL && this.type !== types$1.backQuote) || this.eat(types$1.dot)) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.object = base;\n    if (computed) {\n      node.property = this.parseExpression();\n      this.expect(types$1.bracketR);\n    } else if (this.type === types$1.privateId && base.type !== \"Super\") {\n      node.property = this.parsePrivateIdent();\n    } else {\n      node.property = this.parseIdent(this.options.allowReserved !== \"never\");\n    }\n    node.computed = !!computed;\n    if (optionalSupported) {\n      node.optional = optional;\n    }\n    base = this.finishNode(node, \"MemberExpression\");\n  } else if (!noCalls && this.eat(types$1.parenL)) {\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    var exprList = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n    if (maybeAsyncArrow && !optional && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      if (this.awaitIdentPos > 0)\n        { this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\"); }\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos;\n      return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true, forInit)\n    }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n    var node$1 = this.startNodeAt(startPos, startLoc);\n    node$1.callee = base;\n    node$1.arguments = exprList;\n    if (optionalSupported) {\n      node$1.optional = optional;\n    }\n    base = this.finishNode(node$1, \"CallExpression\");\n  } else if (this.type === types$1.backQuote) {\n    if (optional || optionalChained) {\n      this.raise(this.start, \"Optional chaining cannot appear in the tag of tagged template expressions\");\n    }\n    var node$2 = this.startNodeAt(startPos, startLoc);\n    node$2.tag = base;\n    node$2.quasi = this.parseTemplate({isTagged: true});\n    base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n  }\n  return base\n};\n\n// Parse an atomic expression  either a single token that is an\n// expression, an expression started by a keyword like `function` or\n// `new`, or an expression wrapped in punctuation like `()`, `[]`,\n// or `{}`.\n\npp$5.parseExprAtom = function(refDestructuringErrors, forInit) {\n  // If a division operator appears in an expression position, the\n  // tokenizer got confused, and we force it to read a regexp instead.\n  if (this.type === types$1.slash) { this.readRegexp(); }\n\n  var node, canBeArrow = this.potentialArrowAt === this.start;\n  switch (this.type) {\n  case types$1._super:\n    if (!this.allowSuper)\n      { this.raise(this.start, \"'super' keyword outside a method\"); }\n    node = this.startNode();\n    this.next();\n    if (this.type === types$1.parenL && !this.allowDirectSuper)\n      { this.raise(node.start, \"super() call outside constructor of a subclass\"); }\n    // The `super` keyword can appear at below:\n    // SuperProperty:\n    //     super [ Expression ]\n    //     super . IdentifierName\n    // SuperCall:\n    //     super ( Arguments )\n    if (this.type !== types$1.dot && this.type !== types$1.bracketL && this.type !== types$1.parenL)\n      { this.unexpected(); }\n    return this.finishNode(node, \"Super\")\n\n  case types$1._this:\n    node = this.startNode();\n    this.next();\n    return this.finishNode(node, \"ThisExpression\")\n\n  case types$1.name:\n    var startPos = this.start, startLoc = this.startLoc, containsEsc = this.containsEsc;\n    var id = this.parseIdent(false);\n    if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types$1._function)) {\n      this.overrideContext(types.f_expr);\n      return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true, forInit)\n    }\n    if (canBeArrow && !this.canInsertSemicolon()) {\n      if (this.eat(types$1.arrow))\n        { return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false, forInit) }\n      if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types$1.name && !containsEsc &&\n          (!this.potentialArrowInForAwait || this.value !== \"of\" || this.containsEsc)) {\n        id = this.parseIdent(false);\n        if (this.canInsertSemicolon() || !this.eat(types$1.arrow))\n          { this.unexpected(); }\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true, forInit)\n      }\n    }\n    return id\n\n  case types$1.regexp:\n    var value = this.value;\n    node = this.parseLiteral(value.value);\n    node.regex = {pattern: value.pattern, flags: value.flags};\n    return node\n\n  case types$1.num: case types$1.string:\n    return this.parseLiteral(this.value)\n\n  case types$1._null: case types$1._true: case types$1._false:\n    node = this.startNode();\n    node.value = this.type === types$1._null ? null : this.type === types$1._true;\n    node.raw = this.type.keyword;\n    this.next();\n    return this.finishNode(node, \"Literal\")\n\n  case types$1.parenL:\n    var start = this.start, expr = this.parseParenAndDistinguishExpression(canBeArrow, forInit);\n    if (refDestructuringErrors) {\n      if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr))\n        { refDestructuringErrors.parenthesizedAssign = start; }\n      if (refDestructuringErrors.parenthesizedBind < 0)\n        { refDestructuringErrors.parenthesizedBind = start; }\n    }\n    return expr\n\n  case types$1.bracketL:\n    node = this.startNode();\n    this.next();\n    node.elements = this.parseExprList(types$1.bracketR, true, true, refDestructuringErrors);\n    return this.finishNode(node, \"ArrayExpression\")\n\n  case types$1.braceL:\n    this.overrideContext(types.b_expr);\n    return this.parseObj(false, refDestructuringErrors)\n\n  case types$1._function:\n    node = this.startNode();\n    this.next();\n    return this.parseFunction(node, 0)\n\n  case types$1._class:\n    return this.parseClass(this.startNode(), false)\n\n  case types$1._new:\n    return this.parseNew()\n\n  case types$1.backQuote:\n    return this.parseTemplate()\n\n  case types$1._import:\n    if (this.options.ecmaVersion >= 11) {\n      return this.parseExprImport()\n    } else {\n      return this.unexpected()\n    }\n\n  default:\n    this.unexpected();\n  }\n};\n\npp$5.parseExprImport = function() {\n  var node = this.startNode();\n\n  // Consume `import` as an identifier for `import.meta`.\n  // Because `this.parseIdent(true)` doesn't check escape sequences, it needs the check of `this.containsEsc`.\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword import\"); }\n  var meta = this.parseIdent(true);\n\n  switch (this.type) {\n  case types$1.parenL:\n    return this.parseDynamicImport(node)\n  case types$1.dot:\n    node.meta = meta;\n    return this.parseImportMeta(node)\n  default:\n    this.unexpected();\n  }\n};\n\npp$5.parseDynamicImport = function(node) {\n  this.next(); // skip `(`\n\n  // Parse node.source.\n  node.source = this.parseMaybeAssign();\n\n  // Verify ending.\n  if (!this.eat(types$1.parenR)) {\n    var errorPos = this.start;\n    if (this.eat(types$1.comma) && this.eat(types$1.parenR)) {\n      this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n    } else {\n      this.unexpected(errorPos);\n    }\n  }\n\n  return this.finishNode(node, \"ImportExpression\")\n};\n\npp$5.parseImportMeta = function(node) {\n  this.next(); // skip `.`\n\n  var containsEsc = this.containsEsc;\n  node.property = this.parseIdent(true);\n\n  if (node.property.name !== \"meta\")\n    { this.raiseRecoverable(node.property.start, \"The only valid meta property for import is 'import.meta'\"); }\n  if (containsEsc)\n    { this.raiseRecoverable(node.start, \"'import.meta' must not contain escaped characters\"); }\n  if (this.options.sourceType !== \"module\" && !this.options.allowImportExportEverywhere)\n    { this.raiseRecoverable(node.start, \"Cannot use 'import.meta' outside a module\"); }\n\n  return this.finishNode(node, \"MetaProperty\")\n};\n\npp$5.parseLiteral = function(value) {\n  var node = this.startNode();\n  node.value = value;\n  node.raw = this.input.slice(this.start, this.end);\n  if (node.raw.charCodeAt(node.raw.length - 1) === 110) { node.bigint = node.raw.slice(0, -1).replace(/_/g, \"\"); }\n  this.next();\n  return this.finishNode(node, \"Literal\")\n};\n\npp$5.parseParenExpression = function() {\n  this.expect(types$1.parenL);\n  var val = this.parseExpression();\n  this.expect(types$1.parenR);\n  return val\n};\n\npp$5.parseParenAndDistinguishExpression = function(canBeArrow, forInit) {\n  var startPos = this.start, startLoc = this.startLoc, val, allowTrailingComma = this.options.ecmaVersion >= 8;\n  if (this.options.ecmaVersion >= 6) {\n    this.next();\n\n    var innerStartPos = this.start, innerStartLoc = this.startLoc;\n    var exprList = [], first = true, lastIsComma = false;\n    var refDestructuringErrors = new DestructuringErrors, oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, spreadStart;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    // Do not save awaitIdentPos to allow checking awaits nested in parameters\n    while (this.type !== types$1.parenR) {\n      first ? first = false : this.expect(types$1.comma);\n      if (allowTrailingComma && this.afterTrailingComma(types$1.parenR, true)) {\n        lastIsComma = true;\n        break\n      } else if (this.type === types$1.ellipsis) {\n        spreadStart = this.start;\n        exprList.push(this.parseParenItem(this.parseRestBinding()));\n        if (this.type === types$1.comma) { this.raise(this.start, \"Comma is not permitted after the rest element\"); }\n        break\n      } else {\n        exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n      }\n    }\n    var innerEndPos = this.lastTokEnd, innerEndLoc = this.lastTokEndLoc;\n    this.expect(types$1.parenR);\n\n    if (canBeArrow && !this.canInsertSemicolon() && this.eat(types$1.arrow)) {\n      this.checkPatternErrors(refDestructuringErrors, false);\n      this.checkYieldAwaitInDefaultParams();\n      this.yieldPos = oldYieldPos;\n      this.awaitPos = oldAwaitPos;\n      return this.parseParenArrowList(startPos, startLoc, exprList, forInit)\n    }\n\n    if (!exprList.length || lastIsComma) { this.unexpected(this.lastTokStart); }\n    if (spreadStart) { this.unexpected(spreadStart); }\n    this.checkExpressionErrors(refDestructuringErrors, true);\n    this.yieldPos = oldYieldPos || this.yieldPos;\n    this.awaitPos = oldAwaitPos || this.awaitPos;\n\n    if (exprList.length > 1) {\n      val = this.startNodeAt(innerStartPos, innerStartLoc);\n      val.expressions = exprList;\n      this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n    } else {\n      val = exprList[0];\n    }\n  } else {\n    val = this.parseParenExpression();\n  }\n\n  if (this.options.preserveParens) {\n    var par = this.startNodeAt(startPos, startLoc);\n    par.expression = val;\n    return this.finishNode(par, \"ParenthesizedExpression\")\n  } else {\n    return val\n  }\n};\n\npp$5.parseParenItem = function(item) {\n  return item\n};\n\npp$5.parseParenArrowList = function(startPos, startLoc, exprList, forInit) {\n  return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, false, forInit)\n};\n\n// New's precedence is slightly tricky. It must allow its argument to\n// be a `[]` or dot subscript expression, but not a call  at least,\n// not without wrapping it in parentheses. Thus, it uses the noCalls\n// argument to parseSubscripts to prevent it from consuming the\n// argument list.\n\nvar empty = [];\n\npp$5.parseNew = function() {\n  if (this.containsEsc) { this.raiseRecoverable(this.start, \"Escape sequence in keyword new\"); }\n  var node = this.startNode();\n  var meta = this.parseIdent(true);\n  if (this.options.ecmaVersion >= 6 && this.eat(types$1.dot)) {\n    node.meta = meta;\n    var containsEsc = this.containsEsc;\n    node.property = this.parseIdent(true);\n    if (node.property.name !== \"target\")\n      { this.raiseRecoverable(node.property.start, \"The only valid meta property for new is 'new.target'\"); }\n    if (containsEsc)\n      { this.raiseRecoverable(node.start, \"'new.target' must not contain escaped characters\"); }\n    if (!this.allowNewDotTarget)\n      { this.raiseRecoverable(node.start, \"'new.target' can only be used in functions and class static block\"); }\n    return this.finishNode(node, \"MetaProperty\")\n  }\n  var startPos = this.start, startLoc = this.startLoc, isImport = this.type === types$1._import;\n  node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true, false);\n  if (isImport && node.callee.type === \"ImportExpression\") {\n    this.raise(startPos, \"Cannot use new with import()\");\n  }\n  if (this.eat(types$1.parenL)) { node.arguments = this.parseExprList(types$1.parenR, this.options.ecmaVersion >= 8, false); }\n  else { node.arguments = empty; }\n  return this.finishNode(node, \"NewExpression\")\n};\n\n// Parse template expression.\n\npp$5.parseTemplateElement = function(ref) {\n  var isTagged = ref.isTagged;\n\n  var elem = this.startNode();\n  if (this.type === types$1.invalidTemplate) {\n    if (!isTagged) {\n      this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n    }\n    elem.value = {\n      raw: this.value,\n      cooked: null\n    };\n  } else {\n    elem.value = {\n      raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n      cooked: this.value\n    };\n  }\n  this.next();\n  elem.tail = this.type === types$1.backQuote;\n  return this.finishNode(elem, \"TemplateElement\")\n};\n\npp$5.parseTemplate = function(ref) {\n  if ( ref === void 0 ) ref = {};\n  var isTagged = ref.isTagged; if ( isTagged === void 0 ) isTagged = false;\n\n  var node = this.startNode();\n  this.next();\n  node.expressions = [];\n  var curElt = this.parseTemplateElement({isTagged: isTagged});\n  node.quasis = [curElt];\n  while (!curElt.tail) {\n    if (this.type === types$1.eof) { this.raise(this.pos, \"Unterminated template literal\"); }\n    this.expect(types$1.dollarBraceL);\n    node.expressions.push(this.parseExpression());\n    this.expect(types$1.braceR);\n    node.quasis.push(curElt = this.parseTemplateElement({isTagged: isTagged}));\n  }\n  this.next();\n  return this.finishNode(node, \"TemplateLiteral\")\n};\n\npp$5.isAsyncProp = function(prop) {\n  return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" &&\n    (this.type === types$1.name || this.type === types$1.num || this.type === types$1.string || this.type === types$1.bracketL || this.type.keyword || (this.options.ecmaVersion >= 9 && this.type === types$1.star)) &&\n    !lineBreak.test(this.input.slice(this.lastTokEnd, this.start))\n};\n\n// Parse an object literal or binding pattern.\n\npp$5.parseObj = function(isPattern, refDestructuringErrors) {\n  var node = this.startNode(), first = true, propHash = {};\n  node.properties = [];\n  this.next();\n  while (!this.eat(types$1.braceR)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (this.options.ecmaVersion >= 5 && this.afterTrailingComma(types$1.braceR)) { break }\n    } else { first = false; }\n\n    var prop = this.parseProperty(isPattern, refDestructuringErrors);\n    if (!isPattern) { this.checkPropClash(prop, propHash, refDestructuringErrors); }\n    node.properties.push(prop);\n  }\n  return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\")\n};\n\npp$5.parseProperty = function(isPattern, refDestructuringErrors) {\n  var prop = this.startNode(), isGenerator, isAsync, startPos, startLoc;\n  if (this.options.ecmaVersion >= 9 && this.eat(types$1.ellipsis)) {\n    if (isPattern) {\n      prop.argument = this.parseIdent(false);\n      if (this.type === types$1.comma) {\n        this.raise(this.start, \"Comma is not permitted after the rest element\");\n      }\n      return this.finishNode(prop, \"RestElement\")\n    }\n    // Parse argument.\n    prop.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    // To disallow trailing comma via `this.toAssignable()`.\n    if (this.type === types$1.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n      refDestructuringErrors.trailingComma = this.start;\n    }\n    // Finish\n    return this.finishNode(prop, \"SpreadElement\")\n  }\n  if (this.options.ecmaVersion >= 6) {\n    prop.method = false;\n    prop.shorthand = false;\n    if (isPattern || refDestructuringErrors) {\n      startPos = this.start;\n      startLoc = this.startLoc;\n    }\n    if (!isPattern)\n      { isGenerator = this.eat(types$1.star); }\n  }\n  var containsEsc = this.containsEsc;\n  this.parsePropertyName(prop);\n  if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n    isAsync = true;\n    isGenerator = this.options.ecmaVersion >= 9 && this.eat(types$1.star);\n    this.parsePropertyName(prop, refDestructuringErrors);\n  } else {\n    isAsync = false;\n  }\n  this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n  return this.finishNode(prop, \"Property\")\n};\n\npp$5.parsePropertyValue = function(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n  if ((isGenerator || isAsync) && this.type === types$1.colon)\n    { this.unexpected(); }\n\n  if (this.eat(types$1.colon)) {\n    prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n    prop.kind = \"init\";\n  } else if (this.options.ecmaVersion >= 6 && this.type === types$1.parenL) {\n    if (isPattern) { this.unexpected(); }\n    prop.kind = \"init\";\n    prop.method = true;\n    prop.value = this.parseMethod(isGenerator, isAsync);\n  } else if (!isPattern && !containsEsc &&\n             this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" &&\n             (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n             (this.type !== types$1.comma && this.type !== types$1.braceR && this.type !== types$1.eq)) {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    prop.kind = prop.key.name;\n    this.parsePropertyName(prop);\n    prop.value = this.parseMethod(false);\n    var paramCount = prop.kind === \"get\" ? 0 : 1;\n    if (prop.value.params.length !== paramCount) {\n      var start = prop.value.start;\n      if (prop.kind === \"get\")\n        { this.raiseRecoverable(start, \"getter should have no params\"); }\n      else\n        { this.raiseRecoverable(start, \"setter should have exactly one param\"); }\n    } else {\n      if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\")\n        { this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\"); }\n    }\n  } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n    if (isGenerator || isAsync) { this.unexpected(); }\n    this.checkUnreserved(prop.key);\n    if (prop.key.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = startPos; }\n    prop.kind = \"init\";\n    if (isPattern) {\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n    } else if (this.type === types$1.eq && refDestructuringErrors) {\n      if (refDestructuringErrors.shorthandAssign < 0)\n        { refDestructuringErrors.shorthandAssign = this.start; }\n      prop.value = this.parseMaybeDefault(startPos, startLoc, this.copyNode(prop.key));\n    } else {\n      prop.value = this.copyNode(prop.key);\n    }\n    prop.shorthand = true;\n  } else { this.unexpected(); }\n};\n\npp$5.parsePropertyName = function(prop) {\n  if (this.options.ecmaVersion >= 6) {\n    if (this.eat(types$1.bracketL)) {\n      prop.computed = true;\n      prop.key = this.parseMaybeAssign();\n      this.expect(types$1.bracketR);\n      return prop.key\n    } else {\n      prop.computed = false;\n    }\n  }\n  return prop.key = this.type === types$1.num || this.type === types$1.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\")\n};\n\n// Initialize empty function node.\n\npp$5.initFunction = function(node) {\n  node.id = null;\n  if (this.options.ecmaVersion >= 6) { node.generator = node.expression = false; }\n  if (this.options.ecmaVersion >= 8) { node.async = false; }\n};\n\n// Parse object or class method.\n\npp$5.parseMethod = function(isGenerator, isAsync, allowDirectSuper) {\n  var node = this.startNode(), oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 6)\n    { node.generator = isGenerator; }\n  if (this.options.ecmaVersion >= 8)\n    { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n  this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n\n  this.expect(types$1.parenL);\n  node.params = this.parseBindingList(types$1.parenR, false, this.options.ecmaVersion >= 8);\n  this.checkYieldAwaitInDefaultParams();\n  this.parseFunctionBody(node, false, true, false);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"FunctionExpression\")\n};\n\n// Parse arrow function expression with given parameters.\n\npp$5.parseArrowExpression = function(node, params, isAsync, forInit) {\n  var oldYieldPos = this.yieldPos, oldAwaitPos = this.awaitPos, oldAwaitIdentPos = this.awaitIdentPos;\n\n  this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n  this.initFunction(node);\n  if (this.options.ecmaVersion >= 8) { node.async = !!isAsync; }\n\n  this.yieldPos = 0;\n  this.awaitPos = 0;\n  this.awaitIdentPos = 0;\n\n  node.params = this.toAssignableList(params, true);\n  this.parseFunctionBody(node, true, false, forInit);\n\n  this.yieldPos = oldYieldPos;\n  this.awaitPos = oldAwaitPos;\n  this.awaitIdentPos = oldAwaitIdentPos;\n  return this.finishNode(node, \"ArrowFunctionExpression\")\n};\n\n// Parse function body and check parameters.\n\npp$5.parseFunctionBody = function(node, isArrowFunction, isMethod, forInit) {\n  var isExpression = isArrowFunction && this.type !== types$1.braceL;\n  var oldStrict = this.strict, useStrict = false;\n\n  if (isExpression) {\n    node.body = this.parseMaybeAssign(forInit);\n    node.expression = true;\n    this.checkParams(node, false);\n  } else {\n    var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n    if (!oldStrict || nonSimple) {\n      useStrict = this.strictDirective(this.end);\n      // If this is a strict mode function, verify that argument names\n      // are not repeated, and it does not try to bind the words `eval`\n      // or `arguments`.\n      if (useStrict && nonSimple)\n        { this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\"); }\n    }\n    // Start a new scope with regard to labels and the `inFunction`\n    // flag (restore them to their old value afterwards).\n    var oldLabels = this.labels;\n    this.labels = [];\n    if (useStrict) { this.strict = true; }\n\n    // Add the params to varDeclaredNames to ensure that an error is thrown\n    // if a let/const declaration in the function clashes with one of the params.\n    this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n    // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n    if (this.strict && node.id) { this.checkLValSimple(node.id, BIND_OUTSIDE); }\n    node.body = this.parseBlock(false, undefined, useStrict && !oldStrict);\n    node.expression = false;\n    this.adaptDirectivePrologue(node.body.body);\n    this.labels = oldLabels;\n  }\n  this.exitScope();\n};\n\npp$5.isSimpleParamList = function(params) {\n  for (var i = 0, list = params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    if (param.type !== \"Identifier\") { return false\n  } }\n  return true\n};\n\n// Checks function params for various disallowed patterns such as using \"eval\"\n// or \"arguments\" and duplicate parameters.\n\npp$5.checkParams = function(node, allowDuplicates) {\n  var nameHash = Object.create(null);\n  for (var i = 0, list = node.params; i < list.length; i += 1)\n    {\n    var param = list[i];\n\n    this.checkLValInnerPattern(param, BIND_VAR, allowDuplicates ? null : nameHash);\n  }\n};\n\n// Parses a comma-separated list of expressions, and returns them as\n// an array. `close` is the token type that ends the list, and\n// `allowEmpty` can be turned on to allow subsequent commas with\n// nothing in between them to be parsed as `null` (which is needed\n// for array literals).\n\npp$5.parseExprList = function(close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n  var elts = [], first = true;\n  while (!this.eat(close)) {\n    if (!first) {\n      this.expect(types$1.comma);\n      if (allowTrailingComma && this.afterTrailingComma(close)) { break }\n    } else { first = false; }\n\n    var elt = (void 0);\n    if (allowEmpty && this.type === types$1.comma)\n      { elt = null; }\n    else if (this.type === types$1.ellipsis) {\n      elt = this.parseSpread(refDestructuringErrors);\n      if (refDestructuringErrors && this.type === types$1.comma && refDestructuringErrors.trailingComma < 0)\n        { refDestructuringErrors.trailingComma = this.start; }\n    } else {\n      elt = this.parseMaybeAssign(false, refDestructuringErrors);\n    }\n    elts.push(elt);\n  }\n  return elts\n};\n\npp$5.checkUnreserved = function(ref) {\n  var start = ref.start;\n  var end = ref.end;\n  var name = ref.name;\n\n  if (this.inGenerator && name === \"yield\")\n    { this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\"); }\n  if (this.inAsync && name === \"await\")\n    { this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\"); }\n  if (this.currentThisScope().inClassFieldInit && name === \"arguments\")\n    { this.raiseRecoverable(start, \"Cannot use 'arguments' in class field initializer\"); }\n  if (this.inClassStaticBlock && (name === \"arguments\" || name === \"await\"))\n    { this.raise(start, (\"Cannot use \" + name + \" in class static initialization block\")); }\n  if (this.keywords.test(name))\n    { this.raise(start, (\"Unexpected keyword '\" + name + \"'\")); }\n  if (this.options.ecmaVersion < 6 &&\n    this.input.slice(start, end).indexOf(\"\\\\\") !== -1) { return }\n  var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n  if (re.test(name)) {\n    if (!this.inAsync && name === \"await\")\n      { this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\"); }\n    this.raiseRecoverable(start, (\"The keyword '\" + name + \"' is reserved\"));\n  }\n};\n\n// Parse the next token as an identifier. If `liberal` is true (used\n// when parsing properties), it will also convert keywords into\n// identifiers.\n\npp$5.parseIdent = function(liberal, isBinding) {\n  var node = this.startNode();\n  if (this.type === types$1.name) {\n    node.name = this.value;\n  } else if (this.type.keyword) {\n    node.name = this.type.keyword;\n\n    // To fix https://github.com/acornjs/acorn/issues/575\n    // `class` and `function` keywords push new context into this.context.\n    // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n    // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n    if ((node.name === \"class\" || node.name === \"function\") &&\n        (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n      this.context.pop();\n    }\n  } else {\n    this.unexpected();\n  }\n  this.next(!!liberal);\n  this.finishNode(node, \"Identifier\");\n  if (!liberal) {\n    this.checkUnreserved(node);\n    if (node.name === \"await\" && !this.awaitIdentPos)\n      { this.awaitIdentPos = node.start; }\n  }\n  return node\n};\n\npp$5.parsePrivateIdent = function() {\n  var node = this.startNode();\n  if (this.type === types$1.privateId) {\n    node.name = this.value;\n  } else {\n    this.unexpected();\n  }\n  this.next();\n  this.finishNode(node, \"PrivateIdentifier\");\n\n  // For validating existence\n  if (this.privateNameStack.length === 0) {\n    this.raise(node.start, (\"Private field '#\" + (node.name) + \"' must be declared in an enclosing class\"));\n  } else {\n    this.privateNameStack[this.privateNameStack.length - 1].used.push(node);\n  }\n\n  return node\n};\n\n// Parses yield expression inside generator.\n\npp$5.parseYield = function(forInit) {\n  if (!this.yieldPos) { this.yieldPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  if (this.type === types$1.semi || this.canInsertSemicolon() || (this.type !== types$1.star && !this.type.startsExpr)) {\n    node.delegate = false;\n    node.argument = null;\n  } else {\n    node.delegate = this.eat(types$1.star);\n    node.argument = this.parseMaybeAssign(forInit);\n  }\n  return this.finishNode(node, \"YieldExpression\")\n};\n\npp$5.parseAwait = function(forInit) {\n  if (!this.awaitPos) { this.awaitPos = this.start; }\n\n  var node = this.startNode();\n  this.next();\n  node.argument = this.parseMaybeUnary(null, true, false, forInit);\n  return this.finishNode(node, \"AwaitExpression\")\n};\n\nvar pp$4 = Parser.prototype;\n\n// This function is used to raise exceptions on parse errors. It\n// takes an offset integer (into the current `input`) to indicate\n// the location of the error, attaches the position to the end\n// of the error message, and then raises a `SyntaxError` with that\n// message.\n\npp$4.raise = function(pos, message) {\n  var loc = getLineInfo(this.input, pos);\n  message += \" (\" + loc.line + \":\" + loc.column + \")\";\n  var err = new SyntaxError(message);\n  err.pos = pos; err.loc = loc; err.raisedAt = this.pos;\n  throw err\n};\n\npp$4.raiseRecoverable = pp$4.raise;\n\npp$4.curPosition = function() {\n  if (this.options.locations) {\n    return new Position(this.curLine, this.pos - this.lineStart)\n  }\n};\n\nvar pp$3 = Parser.prototype;\n\nvar Scope = function Scope(flags) {\n  this.flags = flags;\n  // A list of var-declared names in the current lexical scope\n  this.var = [];\n  // A list of lexically-declared names in the current lexical scope\n  this.lexical = [];\n  // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n  this.functions = [];\n  // A switch to disallow the identifier reference 'arguments'\n  this.inClassFieldInit = false;\n};\n\n// The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\npp$3.enterScope = function(flags) {\n  this.scopeStack.push(new Scope(flags));\n};\n\npp$3.exitScope = function() {\n  this.scopeStack.pop();\n};\n\n// The spec says:\n// > At the top level of a function, or script, function declarations are\n// > treated like var declarations rather than like lexical declarations.\npp$3.treatFunctionsAsVarInScope = function(scope) {\n  return (scope.flags & SCOPE_FUNCTION) || !this.inModule && (scope.flags & SCOPE_TOP)\n};\n\npp$3.declareName = function(name, bindingType, pos) {\n  var redeclared = false;\n  if (bindingType === BIND_LEXICAL) {\n    var scope = this.currentScope();\n    redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n    scope.lexical.push(name);\n    if (this.inModule && (scope.flags & SCOPE_TOP))\n      { delete this.undefinedExports[name]; }\n  } else if (bindingType === BIND_SIMPLE_CATCH) {\n    var scope$1 = this.currentScope();\n    scope$1.lexical.push(name);\n  } else if (bindingType === BIND_FUNCTION) {\n    var scope$2 = this.currentScope();\n    if (this.treatFunctionsAsVar)\n      { redeclared = scope$2.lexical.indexOf(name) > -1; }\n    else\n      { redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1; }\n    scope$2.functions.push(name);\n  } else {\n    for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n      var scope$3 = this.scopeStack[i];\n      if (scope$3.lexical.indexOf(name) > -1 && !((scope$3.flags & SCOPE_SIMPLE_CATCH) && scope$3.lexical[0] === name) ||\n          !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n        redeclared = true;\n        break\n      }\n      scope$3.var.push(name);\n      if (this.inModule && (scope$3.flags & SCOPE_TOP))\n        { delete this.undefinedExports[name]; }\n      if (scope$3.flags & SCOPE_VAR) { break }\n    }\n  }\n  if (redeclared) { this.raiseRecoverable(pos, (\"Identifier '\" + name + \"' has already been declared\")); }\n};\n\npp$3.checkLocalExport = function(id) {\n  // scope.functions must be empty as Module code is always strict.\n  if (this.scopeStack[0].lexical.indexOf(id.name) === -1 &&\n      this.scopeStack[0].var.indexOf(id.name) === -1) {\n    this.undefinedExports[id.name] = id;\n  }\n};\n\npp$3.currentScope = function() {\n  return this.scopeStack[this.scopeStack.length - 1]\n};\n\npp$3.currentVarScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR) { return scope }\n  }\n};\n\n// Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\npp$3.currentThisScope = function() {\n  for (var i = this.scopeStack.length - 1;; i--) {\n    var scope = this.scopeStack[i];\n    if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) { return scope }\n  }\n};\n\nvar Node = function Node(parser, pos, loc) {\n  this.type = \"\";\n  this.start = pos;\n  this.end = 0;\n  if (parser.options.locations)\n    { this.loc = new SourceLocation(parser, loc); }\n  if (parser.options.directSourceFile)\n    { this.sourceFile = parser.options.directSourceFile; }\n  if (parser.options.ranges)\n    { this.range = [pos, 0]; }\n};\n\n// Start an AST node, attaching a start offset.\n\nvar pp$2 = Parser.prototype;\n\npp$2.startNode = function() {\n  return new Node(this, this.start, this.startLoc)\n};\n\npp$2.startNodeAt = function(pos, loc) {\n  return new Node(this, pos, loc)\n};\n\n// Finish an AST node, adding `type` and `end` properties.\n\nfunction finishNodeAt(node, type, pos, loc) {\n  node.type = type;\n  node.end = pos;\n  if (this.options.locations)\n    { node.loc.end = loc; }\n  if (this.options.ranges)\n    { node.range[1] = pos; }\n  return node\n}\n\npp$2.finishNode = function(node, type) {\n  return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc)\n};\n\n// Finish node at given position\n\npp$2.finishNodeAt = function(node, type, pos, loc) {\n  return finishNodeAt.call(this, node, type, pos, loc)\n};\n\npp$2.copyNode = function(node) {\n  var newNode = new Node(this, node.start, this.startLoc);\n  for (var prop in node) { newNode[prop] = node[prop]; }\n  return newNode\n};\n\n// This file contains Unicode properties extracted from the ECMAScript\n// specification. The lists are extracted like so:\n// $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n\n// #table-binary-unicode-properties\nvar ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\nvar ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\nvar ecma11BinaryProperties = ecma10BinaryProperties;\nvar ecma12BinaryProperties = ecma11BinaryProperties + \" EBase EComp EMod EPres ExtPict\";\nvar ecma13BinaryProperties = ecma12BinaryProperties;\nvar unicodeBinaryProperties = {\n  9: ecma9BinaryProperties,\n  10: ecma10BinaryProperties,\n  11: ecma11BinaryProperties,\n  12: ecma12BinaryProperties,\n  13: ecma13BinaryProperties\n};\n\n// #table-unicode-general-category-values\nvar unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\";\n\n// #table-unicode-script-values\nvar ecma9ScriptValues = \"Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\nvar ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\nvar ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\nvar ecma12ScriptValues = ecma11ScriptValues + \" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi\";\nvar ecma13ScriptValues = ecma12ScriptValues + \" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith\";\nvar unicodeScriptValues = {\n  9: ecma9ScriptValues,\n  10: ecma10ScriptValues,\n  11: ecma11ScriptValues,\n  12: ecma12ScriptValues,\n  13: ecma13ScriptValues\n};\n\nvar data = {};\nfunction buildUnicodeData(ecmaVersion) {\n  var d = data[ecmaVersion] = {\n    binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n    nonBinary: {\n      General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n      Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n    }\n  };\n  d.nonBinary.Script_Extensions = d.nonBinary.Script;\n\n  d.nonBinary.gc = d.nonBinary.General_Category;\n  d.nonBinary.sc = d.nonBinary.Script;\n  d.nonBinary.scx = d.nonBinary.Script_Extensions;\n}\n\nfor (var i = 0, list = [9, 10, 11, 12, 13]; i < list.length; i += 1) {\n  var ecmaVersion = list[i];\n\n  buildUnicodeData(ecmaVersion);\n}\n\nvar pp$1 = Parser.prototype;\n\nvar RegExpValidationState = function RegExpValidationState(parser) {\n  this.parser = parser;\n  this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\") + (parser.options.ecmaVersion >= 13 ? \"d\" : \"\");\n  this.unicodeProperties = data[parser.options.ecmaVersion >= 13 ? 13 : parser.options.ecmaVersion];\n  this.source = \"\";\n  this.flags = \"\";\n  this.start = 0;\n  this.switchU = false;\n  this.switchN = false;\n  this.pos = 0;\n  this.lastIntValue = 0;\n  this.lastStringValue = \"\";\n  this.lastAssertionIsQuantifiable = false;\n  this.numCapturingParens = 0;\n  this.maxBackReference = 0;\n  this.groupNames = [];\n  this.backReferenceNames = [];\n};\n\nRegExpValidationState.prototype.reset = function reset (start, pattern, flags) {\n  var unicode = flags.indexOf(\"u\") !== -1;\n  this.start = start | 0;\n  this.source = pattern + \"\";\n  this.flags = flags;\n  this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n  this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n};\n\nRegExpValidationState.prototype.raise = function raise (message) {\n  this.parser.raiseRecoverable(this.start, (\"Invalid regular expression: /\" + (this.source) + \"/: \" + message));\n};\n\n// If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n// Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\nRegExpValidationState.prototype.at = function at (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return -1\n  }\n  var c = s.charCodeAt(i);\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n    return c\n  }\n  var next = s.charCodeAt(i + 1);\n  return next >= 0xDC00 && next <= 0xDFFF ? (c << 10) + next - 0x35FDC00 : c\n};\n\nRegExpValidationState.prototype.nextIndex = function nextIndex (i, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  var s = this.source;\n  var l = s.length;\n  if (i >= l) {\n    return l\n  }\n  var c = s.charCodeAt(i), next;\n  if (!(forceU || this.switchU) || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l ||\n      (next = s.charCodeAt(i + 1)) < 0xDC00 || next > 0xDFFF) {\n    return i + 1\n  }\n  return i + 2\n};\n\nRegExpValidationState.prototype.current = function current (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.pos, forceU)\n};\n\nRegExpValidationState.prototype.lookahead = function lookahead (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  return this.at(this.nextIndex(this.pos, forceU), forceU)\n};\n\nRegExpValidationState.prototype.advance = function advance (forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  this.pos = this.nextIndex(this.pos, forceU);\n};\n\nRegExpValidationState.prototype.eat = function eat (ch, forceU) {\n    if ( forceU === void 0 ) forceU = false;\n\n  if (this.current(forceU) === ch) {\n    this.advance(forceU);\n    return true\n  }\n  return false\n};\n\n/**\n * Validate the flags part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$1.validateRegExpFlags = function(state) {\n  var validFlags = state.validFlags;\n  var flags = state.flags;\n\n  for (var i = 0; i < flags.length; i++) {\n    var flag = flags.charAt(i);\n    if (validFlags.indexOf(flag) === -1) {\n      this.raise(state.start, \"Invalid regular expression flag\");\n    }\n    if (flags.indexOf(flag, i + 1) > -1) {\n      this.raise(state.start, \"Duplicate regular expression flag\");\n    }\n  }\n};\n\n/**\n * Validate the pattern part of a given RegExpLiteral.\n *\n * @param {RegExpValidationState} state The state to validate RegExp.\n * @returns {void}\n */\npp$1.validateRegExpPattern = function(state) {\n  this.regexp_pattern(state);\n\n  // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n  // parsing contains a |GroupName|, reparse with the goal symbol\n  // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n  // exception if _P_ did not conform to the grammar, if any elements of _P_\n  // were not matched by the parse, or if any Early Error conditions exist.\n  if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n    state.switchN = true;\n    this.regexp_pattern(state);\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\npp$1.regexp_pattern = function(state) {\n  state.pos = 0;\n  state.lastIntValue = 0;\n  state.lastStringValue = \"\";\n  state.lastAssertionIsQuantifiable = false;\n  state.numCapturingParens = 0;\n  state.maxBackReference = 0;\n  state.groupNames.length = 0;\n  state.backReferenceNames.length = 0;\n\n  this.regexp_disjunction(state);\n\n  if (state.pos !== state.source.length) {\n    // Make the same messages as V8.\n    if (state.eat(0x29 /* ) */)) {\n      state.raise(\"Unmatched ')'\");\n    }\n    if (state.eat(0x5D /* ] */) || state.eat(0x7D /* } */)) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  }\n  if (state.maxBackReference > state.numCapturingParens) {\n    state.raise(\"Invalid escape\");\n  }\n  for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n    var name = list[i];\n\n    if (state.groupNames.indexOf(name) === -1) {\n      state.raise(\"Invalid named capture referenced\");\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\npp$1.regexp_disjunction = function(state) {\n  this.regexp_alternative(state);\n  while (state.eat(0x7C /* | */)) {\n    this.regexp_alternative(state);\n  }\n\n  // Make the same message as V8.\n  if (this.regexp_eatQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  if (state.eat(0x7B /* { */)) {\n    state.raise(\"Lone quantifier brackets\");\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\npp$1.regexp_alternative = function(state) {\n  while (state.pos < state.source.length && this.regexp_eatTerm(state))\n    { }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\npp$1.regexp_eatTerm = function(state) {\n  if (this.regexp_eatAssertion(state)) {\n    // Handle `QuantifiableAssertion Quantifier` alternative.\n    // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n    // is a QuantifiableAssertion.\n    if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n      // Make the same message as V8.\n      if (state.switchU) {\n        state.raise(\"Invalid quantifier\");\n      }\n    }\n    return true\n  }\n\n  if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n    this.regexp_eatQuantifier(state);\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\npp$1.regexp_eatAssertion = function(state) {\n  var start = state.pos;\n  state.lastAssertionIsQuantifiable = false;\n\n  // ^, $\n  if (state.eat(0x5E /* ^ */) || state.eat(0x24 /* $ */)) {\n    return true\n  }\n\n  // \\b \\B\n  if (state.eat(0x5C /* \\ */)) {\n    if (state.eat(0x42 /* B */) || state.eat(0x62 /* b */)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  // Lookahead / Lookbehind\n  if (state.eat(0x28 /* ( */) && state.eat(0x3F /* ? */)) {\n    var lookbehind = false;\n    if (this.options.ecmaVersion >= 9) {\n      lookbehind = state.eat(0x3C /* < */);\n    }\n    if (state.eat(0x3D /* = */) || state.eat(0x21 /* ! */)) {\n      this.regexp_disjunction(state);\n      if (!state.eat(0x29 /* ) */)) {\n        state.raise(\"Unterminated group\");\n      }\n      state.lastAssertionIsQuantifiable = !lookbehind;\n      return true\n    }\n  }\n\n  state.pos = start;\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\npp$1.regexp_eatQuantifier = function(state, noError) {\n  if ( noError === void 0 ) noError = false;\n\n  if (this.regexp_eatQuantifierPrefix(state, noError)) {\n    state.eat(0x3F /* ? */);\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\npp$1.regexp_eatQuantifierPrefix = function(state, noError) {\n  return (\n    state.eat(0x2A /* * */) ||\n    state.eat(0x2B /* + */) ||\n    state.eat(0x3F /* ? */) ||\n    this.regexp_eatBracedQuantifier(state, noError)\n  )\n};\npp$1.regexp_eatBracedQuantifier = function(state, noError) {\n  var start = state.pos;\n  if (state.eat(0x7B /* { */)) {\n    var min = 0, max = -1;\n    if (this.regexp_eatDecimalDigits(state)) {\n      min = state.lastIntValue;\n      if (state.eat(0x2C /* , */) && this.regexp_eatDecimalDigits(state)) {\n        max = state.lastIntValue;\n      }\n      if (state.eat(0x7D /* } */)) {\n        // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n        if (max !== -1 && max < min && !noError) {\n          state.raise(\"numbers out of order in {} quantifier\");\n        }\n        return true\n      }\n    }\n    if (state.switchU && !noError) {\n      state.raise(\"Incomplete quantifier\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\npp$1.regexp_eatAtom = function(state) {\n  return (\n    this.regexp_eatPatternCharacters(state) ||\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state)\n  )\n};\npp$1.regexp_eatReverseSolidusAtomEscape = function(state) {\n  var start = state.pos;\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatAtomEscape(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatUncapturingGroup = function(state) {\n  var start = state.pos;\n  if (state.eat(0x28 /* ( */)) {\n    if (state.eat(0x3F /* ? */) && state.eat(0x3A /* : */)) {\n      this.regexp_disjunction(state);\n      if (state.eat(0x29 /* ) */)) {\n        return true\n      }\n      state.raise(\"Unterminated group\");\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatCapturingGroup = function(state) {\n  if (state.eat(0x28 /* ( */)) {\n    if (this.options.ecmaVersion >= 9) {\n      this.regexp_groupSpecifier(state);\n    } else if (state.current() === 0x3F /* ? */) {\n      state.raise(\"Invalid group\");\n    }\n    this.regexp_disjunction(state);\n    if (state.eat(0x29 /* ) */)) {\n      state.numCapturingParens += 1;\n      return true\n    }\n    state.raise(\"Unterminated group\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\npp$1.regexp_eatExtendedAtom = function(state) {\n  return (\n    state.eat(0x2E /* . */) ||\n    this.regexp_eatReverseSolidusAtomEscape(state) ||\n    this.regexp_eatCharacterClass(state) ||\n    this.regexp_eatUncapturingGroup(state) ||\n    this.regexp_eatCapturingGroup(state) ||\n    this.regexp_eatInvalidBracedQuantifier(state) ||\n    this.regexp_eatExtendedPatternCharacter(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\npp$1.regexp_eatInvalidBracedQuantifier = function(state) {\n  if (this.regexp_eatBracedQuantifier(state, true)) {\n    state.raise(\"Nothing to repeat\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\npp$1.regexp_eatSyntaxCharacter = function(state) {\n  var ch = state.current();\n  if (isSyntaxCharacter(ch)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isSyntaxCharacter(ch) {\n  return (\n    ch === 0x24 /* $ */ ||\n    ch >= 0x28 /* ( */ && ch <= 0x2B /* + */ ||\n    ch === 0x2E /* . */ ||\n    ch === 0x3F /* ? */ ||\n    ch >= 0x5B /* [ */ && ch <= 0x5E /* ^ */ ||\n    ch >= 0x7B /* { */ && ch <= 0x7D /* } */\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n// But eat eager.\npp$1.regexp_eatPatternCharacters = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n    state.advance();\n  }\n  return state.pos !== start\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\npp$1.regexp_eatExtendedPatternCharacter = function(state) {\n  var ch = state.current();\n  if (\n    ch !== -1 &&\n    ch !== 0x24 /* $ */ &&\n    !(ch >= 0x28 /* ( */ && ch <= 0x2B /* + */) &&\n    ch !== 0x2E /* . */ &&\n    ch !== 0x3F /* ? */ &&\n    ch !== 0x5B /* [ */ &&\n    ch !== 0x5E /* ^ */ &&\n    ch !== 0x7C /* | */\n  ) {\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// GroupSpecifier ::\n//   [empty]\n//   `?` GroupName\npp$1.regexp_groupSpecifier = function(state) {\n  if (state.eat(0x3F /* ? */)) {\n    if (this.regexp_eatGroupName(state)) {\n      if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n        state.raise(\"Duplicate capture group name\");\n      }\n      state.groupNames.push(state.lastStringValue);\n      return\n    }\n    state.raise(\"Invalid group\");\n  }\n};\n\n// GroupName ::\n//   `<` RegExpIdentifierName `>`\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$1.regexp_eatGroupName = function(state) {\n  state.lastStringValue = \"\";\n  if (state.eat(0x3C /* < */)) {\n    if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E /* > */)) {\n      return true\n    }\n    state.raise(\"Invalid capture group name\");\n  }\n  return false\n};\n\n// RegExpIdentifierName ::\n//   RegExpIdentifierStart\n//   RegExpIdentifierName RegExpIdentifierPart\n// Note: this updates `state.lastStringValue` property with the eaten name.\npp$1.regexp_eatRegExpIdentifierName = function(state) {\n  state.lastStringValue = \"\";\n  if (this.regexp_eatRegExpIdentifierStart(state)) {\n    state.lastStringValue += codePointToString(state.lastIntValue);\n    while (this.regexp_eatRegExpIdentifierPart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n    }\n    return true\n  }\n  return false\n};\n\n// RegExpIdentifierStart ::\n//   UnicodeIDStart\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\npp$1.regexp_eatRegExpIdentifierStart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierStart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierStart(ch) {\n  return isIdentifierStart(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */\n}\n\n// RegExpIdentifierPart ::\n//   UnicodeIDContinue\n//   `$`\n//   `_`\n//   `\\` RegExpUnicodeEscapeSequence[+U]\n//   <ZWNJ>\n//   <ZWJ>\npp$1.regexp_eatRegExpIdentifierPart = function(state) {\n  var start = state.pos;\n  var forceU = this.options.ecmaVersion >= 11;\n  var ch = state.current(forceU);\n  state.advance(forceU);\n\n  if (ch === 0x5C /* \\ */ && this.regexp_eatRegExpUnicodeEscapeSequence(state, forceU)) {\n    ch = state.lastIntValue;\n  }\n  if (isRegExpIdentifierPart(ch)) {\n    state.lastIntValue = ch;\n    return true\n  }\n\n  state.pos = start;\n  return false\n};\nfunction isRegExpIdentifierPart(ch) {\n  return isIdentifierChar(ch, true) || ch === 0x24 /* $ */ || ch === 0x5F /* _ */ || ch === 0x200C /* <ZWNJ> */ || ch === 0x200D /* <ZWJ> */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\npp$1.regexp_eatAtomEscape = function(state) {\n  if (\n    this.regexp_eatBackReference(state) ||\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state) ||\n    (state.switchN && this.regexp_eatKGroupName(state))\n  ) {\n    return true\n  }\n  if (state.switchU) {\n    // Make the same message as V8.\n    if (state.current() === 0x63 /* c */) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.raise(\"Invalid escape\");\n  }\n  return false\n};\npp$1.regexp_eatBackReference = function(state) {\n  var start = state.pos;\n  if (this.regexp_eatDecimalEscape(state)) {\n    var n = state.lastIntValue;\n    if (state.switchU) {\n      // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n      if (n > state.maxBackReference) {\n        state.maxBackReference = n;\n      }\n      return true\n    }\n    if (n <= state.numCapturingParens) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatKGroupName = function(state) {\n  if (state.eat(0x6B /* k */)) {\n    if (this.regexp_eatGroupName(state)) {\n      state.backReferenceNames.push(state.lastStringValue);\n      return true\n    }\n    state.raise(\"Invalid named reference\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\npp$1.regexp_eatCharacterEscape = function(state) {\n  return (\n    this.regexp_eatControlEscape(state) ||\n    this.regexp_eatCControlLetter(state) ||\n    this.regexp_eatZero(state) ||\n    this.regexp_eatHexEscapeSequence(state) ||\n    this.regexp_eatRegExpUnicodeEscapeSequence(state, false) ||\n    (!state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state)) ||\n    this.regexp_eatIdentityEscape(state)\n  )\n};\npp$1.regexp_eatCControlLetter = function(state) {\n  var start = state.pos;\n  if (state.eat(0x63 /* c */)) {\n    if (this.regexp_eatControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n  return false\n};\npp$1.regexp_eatZero = function(state) {\n  if (state.current() === 0x30 /* 0 */ && !isDecimalDigit(state.lookahead())) {\n    state.lastIntValue = 0;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\npp$1.regexp_eatControlEscape = function(state) {\n  var ch = state.current();\n  if (ch === 0x74 /* t */) {\n    state.lastIntValue = 0x09; /* \\t */\n    state.advance();\n    return true\n  }\n  if (ch === 0x6E /* n */) {\n    state.lastIntValue = 0x0A; /* \\n */\n    state.advance();\n    return true\n  }\n  if (ch === 0x76 /* v */) {\n    state.lastIntValue = 0x0B; /* \\v */\n    state.advance();\n    return true\n  }\n  if (ch === 0x66 /* f */) {\n    state.lastIntValue = 0x0C; /* \\f */\n    state.advance();\n    return true\n  }\n  if (ch === 0x72 /* r */) {\n    state.lastIntValue = 0x0D; /* \\r */\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\npp$1.regexp_eatControlLetter = function(state) {\n  var ch = state.current();\n  if (isControlLetter(ch)) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\nfunction isControlLetter(ch) {\n  return (\n    (ch >= 0x41 /* A */ && ch <= 0x5A /* Z */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x7A /* z */)\n  )\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\npp$1.regexp_eatRegExpUnicodeEscapeSequence = function(state, forceU) {\n  if ( forceU === void 0 ) forceU = false;\n\n  var start = state.pos;\n  var switchU = forceU || state.switchU;\n\n  if (state.eat(0x75 /* u */)) {\n    if (this.regexp_eatFixedHexDigits(state, 4)) {\n      var lead = state.lastIntValue;\n      if (switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n        var leadSurrogateEnd = state.pos;\n        if (state.eat(0x5C /* \\ */) && state.eat(0x75 /* u */) && this.regexp_eatFixedHexDigits(state, 4)) {\n          var trail = state.lastIntValue;\n          if (trail >= 0xDC00 && trail <= 0xDFFF) {\n            state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n            return true\n          }\n        }\n        state.pos = leadSurrogateEnd;\n        state.lastIntValue = lead;\n      }\n      return true\n    }\n    if (\n      switchU &&\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatHexDigits(state) &&\n      state.eat(0x7D /* } */) &&\n      isValidUnicode(state.lastIntValue)\n    ) {\n      return true\n    }\n    if (switchU) {\n      state.raise(\"Invalid unicode escape\");\n    }\n    state.pos = start;\n  }\n\n  return false\n};\nfunction isValidUnicode(ch) {\n  return ch >= 0 && ch <= 0x10FFFF\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\npp$1.regexp_eatIdentityEscape = function(state) {\n  if (state.switchU) {\n    if (this.regexp_eatSyntaxCharacter(state)) {\n      return true\n    }\n    if (state.eat(0x2F /* / */)) {\n      state.lastIntValue = 0x2F; /* / */\n      return true\n    }\n    return false\n  }\n\n  var ch = state.current();\n  if (ch !== 0x63 /* c */ && (!state.switchN || ch !== 0x6B /* k */)) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\npp$1.regexp_eatDecimalEscape = function(state) {\n  state.lastIntValue = 0;\n  var ch = state.current();\n  if (ch >= 0x31 /* 1 */ && ch <= 0x39 /* 9 */) {\n    do {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n      state.advance();\n    } while ((ch = state.current()) >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */)\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\npp$1.regexp_eatCharacterClassEscape = function(state) {\n  var ch = state.current();\n\n  if (isCharacterClassEscape(ch)) {\n    state.lastIntValue = -1;\n    state.advance();\n    return true\n  }\n\n  if (\n    state.switchU &&\n    this.options.ecmaVersion >= 9 &&\n    (ch === 0x50 /* P */ || ch === 0x70 /* p */)\n  ) {\n    state.lastIntValue = -1;\n    state.advance();\n    if (\n      state.eat(0x7B /* { */) &&\n      this.regexp_eatUnicodePropertyValueExpression(state) &&\n      state.eat(0x7D /* } */)\n    ) {\n      return true\n    }\n    state.raise(\"Invalid property name\");\n  }\n\n  return false\n};\nfunction isCharacterClassEscape(ch) {\n  return (\n    ch === 0x64 /* d */ ||\n    ch === 0x44 /* D */ ||\n    ch === 0x73 /* s */ ||\n    ch === 0x53 /* S */ ||\n    ch === 0x77 /* w */ ||\n    ch === 0x57 /* W */\n  )\n}\n\n// UnicodePropertyValueExpression ::\n//   UnicodePropertyName `=` UnicodePropertyValue\n//   LoneUnicodePropertyNameOrValue\npp$1.regexp_eatUnicodePropertyValueExpression = function(state) {\n  var start = state.pos;\n\n  // UnicodePropertyName `=` UnicodePropertyValue\n  if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D /* = */)) {\n    var name = state.lastStringValue;\n    if (this.regexp_eatUnicodePropertyValue(state)) {\n      var value = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n      return true\n    }\n  }\n  state.pos = start;\n\n  // LoneUnicodePropertyNameOrValue\n  if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n    var nameOrValue = state.lastStringValue;\n    this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n    return true\n  }\n  return false\n};\npp$1.regexp_validateUnicodePropertyNameAndValue = function(state, name, value) {\n  if (!hasOwn(state.unicodeProperties.nonBinary, name))\n    { state.raise(\"Invalid property name\"); }\n  if (!state.unicodeProperties.nonBinary[name].test(value))\n    { state.raise(\"Invalid property value\"); }\n};\npp$1.regexp_validateUnicodePropertyNameOrValue = function(state, nameOrValue) {\n  if (!state.unicodeProperties.binary.test(nameOrValue))\n    { state.raise(\"Invalid property name\"); }\n};\n\n// UnicodePropertyName ::\n//   UnicodePropertyNameCharacters\npp$1.regexp_eatUnicodePropertyName = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyNameCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyNameCharacter(ch) {\n  return isControlLetter(ch) || ch === 0x5F /* _ */\n}\n\n// UnicodePropertyValue ::\n//   UnicodePropertyValueCharacters\npp$1.regexp_eatUnicodePropertyValue = function(state) {\n  var ch = 0;\n  state.lastStringValue = \"\";\n  while (isUnicodePropertyValueCharacter(ch = state.current())) {\n    state.lastStringValue += codePointToString(ch);\n    state.advance();\n  }\n  return state.lastStringValue !== \"\"\n};\nfunction isUnicodePropertyValueCharacter(ch) {\n  return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch)\n}\n\n// LoneUnicodePropertyNameOrValue ::\n//   UnicodePropertyValueCharacters\npp$1.regexp_eatLoneUnicodePropertyNameOrValue = function(state) {\n  return this.regexp_eatUnicodePropertyValue(state)\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\npp$1.regexp_eatCharacterClass = function(state) {\n  if (state.eat(0x5B /* [ */)) {\n    state.eat(0x5E /* ^ */);\n    this.regexp_classRanges(state);\n    if (state.eat(0x5D /* ] */)) {\n      return true\n    }\n    // Unreachable since it threw \"unterminated regular expression\" error before.\n    state.raise(\"Unterminated character class\");\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n// https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\npp$1.regexp_classRanges = function(state) {\n  while (this.regexp_eatClassAtom(state)) {\n    var left = state.lastIntValue;\n    if (state.eat(0x2D /* - */) && this.regexp_eatClassAtom(state)) {\n      var right = state.lastIntValue;\n      if (state.switchU && (left === -1 || right === -1)) {\n        state.raise(\"Invalid character class\");\n      }\n      if (left !== -1 && right !== -1 && left > right) {\n        state.raise(\"Range out of order in character class\");\n      }\n    }\n  }\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n// https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\npp$1.regexp_eatClassAtom = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x5C /* \\ */)) {\n    if (this.regexp_eatClassEscape(state)) {\n      return true\n    }\n    if (state.switchU) {\n      // Make the same message as V8.\n      var ch$1 = state.current();\n      if (ch$1 === 0x63 /* c */ || isOctalDigit(ch$1)) {\n        state.raise(\"Invalid class escape\");\n      }\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n\n  var ch = state.current();\n  if (ch !== 0x5D /* ] */) {\n    state.lastIntValue = ch;\n    state.advance();\n    return true\n  }\n\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\npp$1.regexp_eatClassEscape = function(state) {\n  var start = state.pos;\n\n  if (state.eat(0x62 /* b */)) {\n    state.lastIntValue = 0x08; /* <BS> */\n    return true\n  }\n\n  if (state.switchU && state.eat(0x2D /* - */)) {\n    state.lastIntValue = 0x2D; /* - */\n    return true\n  }\n\n  if (!state.switchU && state.eat(0x63 /* c */)) {\n    if (this.regexp_eatClassControlLetter(state)) {\n      return true\n    }\n    state.pos = start;\n  }\n\n  return (\n    this.regexp_eatCharacterClassEscape(state) ||\n    this.regexp_eatCharacterEscape(state)\n  )\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\npp$1.regexp_eatClassControlLetter = function(state) {\n  var ch = state.current();\n  if (isDecimalDigit(ch) || ch === 0x5F /* _ */) {\n    state.lastIntValue = ch % 0x20;\n    state.advance();\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$1.regexp_eatHexEscapeSequence = function(state) {\n  var start = state.pos;\n  if (state.eat(0x78 /* x */)) {\n    if (this.regexp_eatFixedHexDigits(state, 2)) {\n      return true\n    }\n    if (state.switchU) {\n      state.raise(\"Invalid escape\");\n    }\n    state.pos = start;\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\npp$1.regexp_eatDecimalDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isDecimalDigit(ch = state.current())) {\n    state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30 /* 0 */);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isDecimalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\npp$1.regexp_eatHexDigits = function(state) {\n  var start = state.pos;\n  var ch = 0;\n  state.lastIntValue = 0;\n  while (isHexDigit(ch = state.current())) {\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return state.pos !== start\n};\nfunction isHexDigit(ch) {\n  return (\n    (ch >= 0x30 /* 0 */ && ch <= 0x39 /* 9 */) ||\n    (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) ||\n    (ch >= 0x61 /* a */ && ch <= 0x66 /* f */)\n  )\n}\nfunction hexToInt(ch) {\n  if (ch >= 0x41 /* A */ && ch <= 0x46 /* F */) {\n    return 10 + (ch - 0x41 /* A */)\n  }\n  if (ch >= 0x61 /* a */ && ch <= 0x66 /* f */) {\n    return 10 + (ch - 0x61 /* a */)\n  }\n  return ch - 0x30 /* 0 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n// Allows only 0-377(octal) i.e. 0-255(decimal).\npp$1.regexp_eatLegacyOctalEscapeSequence = function(state) {\n  if (this.regexp_eatOctalDigit(state)) {\n    var n1 = state.lastIntValue;\n    if (this.regexp_eatOctalDigit(state)) {\n      var n2 = state.lastIntValue;\n      if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n        state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n      } else {\n        state.lastIntValue = n1 * 8 + n2;\n      }\n    } else {\n      state.lastIntValue = n1;\n    }\n    return true\n  }\n  return false\n};\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\npp$1.regexp_eatOctalDigit = function(state) {\n  var ch = state.current();\n  if (isOctalDigit(ch)) {\n    state.lastIntValue = ch - 0x30; /* 0 */\n    state.advance();\n    return true\n  }\n  state.lastIntValue = 0;\n  return false\n};\nfunction isOctalDigit(ch) {\n  return ch >= 0x30 /* 0 */ && ch <= 0x37 /* 7 */\n}\n\n// https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n// https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n// And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\npp$1.regexp_eatFixedHexDigits = function(state, length) {\n  var start = state.pos;\n  state.lastIntValue = 0;\n  for (var i = 0; i < length; ++i) {\n    var ch = state.current();\n    if (!isHexDigit(ch)) {\n      state.pos = start;\n      return false\n    }\n    state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n    state.advance();\n  }\n  return true\n};\n\n// Object type used to represent tokens. Note that normally, tokens\n// simply exist as properties on the parser object. This is only\n// used for the onToken callback and the external tokenizer.\n\nvar Token = function Token(p) {\n  this.type = p.type;\n  this.value = p.value;\n  this.start = p.start;\n  this.end = p.end;\n  if (p.options.locations)\n    { this.loc = new SourceLocation(p, p.startLoc, p.endLoc); }\n  if (p.options.ranges)\n    { this.range = [p.start, p.end]; }\n};\n\n// ## Tokenizer\n\nvar pp = Parser.prototype;\n\n// Move to the next token\n\npp.next = function(ignoreEscapeSequenceInKeyword) {\n  if (!ignoreEscapeSequenceInKeyword && this.type.keyword && this.containsEsc)\n    { this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + this.type.keyword); }\n  if (this.options.onToken)\n    { this.options.onToken(new Token(this)); }\n\n  this.lastTokEnd = this.end;\n  this.lastTokStart = this.start;\n  this.lastTokEndLoc = this.endLoc;\n  this.lastTokStartLoc = this.startLoc;\n  this.nextToken();\n};\n\npp.getToken = function() {\n  this.next();\n  return new Token(this)\n};\n\n// If we're in an ES6 environment, make parsers iterable\nif (typeof Symbol !== \"undefined\")\n  { pp[Symbol.iterator] = function() {\n    var this$1$1 = this;\n\n    return {\n      next: function () {\n        var token = this$1$1.getToken();\n        return {\n          done: token.type === types$1.eof,\n          value: token\n        }\n      }\n    }\n  }; }\n\n// Toggle strict mode. Re-reads the next number or string to please\n// pedantic tests (`\"use strict\"; 010;` should fail).\n\n// Read a single token, updating the parser object's token-related\n// properties.\n\npp.nextToken = function() {\n  var curContext = this.curContext();\n  if (!curContext || !curContext.preserveSpace) { this.skipSpace(); }\n\n  this.start = this.pos;\n  if (this.options.locations) { this.startLoc = this.curPosition(); }\n  if (this.pos >= this.input.length) { return this.finishToken(types$1.eof) }\n\n  if (curContext.override) { return curContext.override(this) }\n  else { this.readToken(this.fullCharCodeAtPos()); }\n};\n\npp.readToken = function(code) {\n  // Identifier or keyword. '\\uXXXX' sequences are allowed in\n  // identifiers, so '\\' also dispatches to that.\n  if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n    { return this.readWord() }\n\n  return this.getTokenFromCode(code)\n};\n\npp.fullCharCodeAtPos = function() {\n  var code = this.input.charCodeAt(this.pos);\n  if (code <= 0xd7ff || code >= 0xdc00) { return code }\n  var next = this.input.charCodeAt(this.pos + 1);\n  return next <= 0xdbff || next >= 0xe000 ? code : (code << 10) + next - 0x35fdc00\n};\n\npp.skipBlockComment = function() {\n  var startLoc = this.options.onComment && this.curPosition();\n  var start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2);\n  if (end === -1) { this.raise(this.pos - 2, \"Unterminated comment\"); }\n  this.pos = end + 2;\n  if (this.options.locations) {\n    for (var nextBreak = (void 0), pos = start; (nextBreak = nextLineBreak(this.input, pos, this.pos)) > -1;) {\n      ++this.curLine;\n      pos = this.lineStart = nextBreak;\n    }\n  }\n  if (this.options.onComment)\n    { this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\npp.skipLineComment = function(startSkip) {\n  var start = this.pos;\n  var startLoc = this.options.onComment && this.curPosition();\n  var ch = this.input.charCodeAt(this.pos += startSkip);\n  while (this.pos < this.input.length && !isNewLine(ch)) {\n    ch = this.input.charCodeAt(++this.pos);\n  }\n  if (this.options.onComment)\n    { this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                           startLoc, this.curPosition()); }\n};\n\n// Called at the start of the parse and after every token. Skips\n// whitespace and comments, and.\n\npp.skipSpace = function() {\n  loop: while (this.pos < this.input.length) {\n    var ch = this.input.charCodeAt(this.pos);\n    switch (ch) {\n    case 32: case 160: // ' '\n      ++this.pos;\n      break\n    case 13:\n      if (this.input.charCodeAt(this.pos + 1) === 10) {\n        ++this.pos;\n      }\n    case 10: case 8232: case 8233:\n      ++this.pos;\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      break\n    case 47: // '/'\n      switch (this.input.charCodeAt(this.pos + 1)) {\n      case 42: // '*'\n        this.skipBlockComment();\n        break\n      case 47:\n        this.skipLineComment(2);\n        break\n      default:\n        break loop\n      }\n      break\n    default:\n      if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n        ++this.pos;\n      } else {\n        break loop\n      }\n    }\n  }\n};\n\n// Called at the end of every token. Sets `end`, `val`, and\n// maintains `context` and `exprAllowed`, and skips the space after\n// the token, so that the next one's `start` will point at the\n// right position.\n\npp.finishToken = function(type, val) {\n  this.end = this.pos;\n  if (this.options.locations) { this.endLoc = this.curPosition(); }\n  var prevType = this.type;\n  this.type = type;\n  this.value = val;\n\n  this.updateContext(prevType);\n};\n\n// ### Token reading\n\n// This is the function that is called to fetch the next token. It\n// is somewhat obscure, because it works in character codes rather\n// than characters, and because operator parsing has been inlined\n// into it.\n//\n// All in the name of speed.\n//\npp.readToken_dot = function() {\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next >= 48 && next <= 57) { return this.readNumber(true) }\n  var next2 = this.input.charCodeAt(this.pos + 2);\n  if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n    this.pos += 3;\n    return this.finishToken(types$1.ellipsis)\n  } else {\n    ++this.pos;\n    return this.finishToken(types$1.dot)\n  }\n};\n\npp.readToken_slash = function() { // '/'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (this.exprAllowed) { ++this.pos; return this.readRegexp() }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.slash, 1)\n};\n\npp.readToken_mult_modulo_exp = function(code) { // '%*'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  var tokentype = code === 42 ? types$1.star : types$1.modulo;\n\n  // exponentiation operator ** and **=\n  if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n    ++size;\n    tokentype = types$1.starstar;\n    next = this.input.charCodeAt(this.pos + 2);\n  }\n\n  if (next === 61) { return this.finishOp(types$1.assign, size + 1) }\n  return this.finishOp(tokentype, size)\n};\n\npp.readToken_pipe_amp = function(code) { // '|&'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (this.options.ecmaVersion >= 12) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 === 61) { return this.finishOp(types$1.assign, 3) }\n    }\n    return this.finishOp(code === 124 ? types$1.logicalOR : types$1.logicalAND, 2)\n  }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(code === 124 ? types$1.bitwiseOR : types$1.bitwiseAND, 1)\n};\n\npp.readToken_caret = function() { // '^'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.bitwiseXOR, 1)\n};\n\npp.readToken_plus_min = function(code) { // '+-'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === code) {\n    if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 &&\n        (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n      // A `-->` line comment\n      this.skipLineComment(3);\n      this.skipSpace();\n      return this.nextToken()\n    }\n    return this.finishOp(types$1.incDec, 2)\n  }\n  if (next === 61) { return this.finishOp(types$1.assign, 2) }\n  return this.finishOp(types$1.plusMin, 1)\n};\n\npp.readToken_lt_gt = function(code) { // '<>'\n  var next = this.input.charCodeAt(this.pos + 1);\n  var size = 1;\n  if (next === code) {\n    size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n    if (this.input.charCodeAt(this.pos + size) === 61) { return this.finishOp(types$1.assign, size + 1) }\n    return this.finishOp(types$1.bitShift, size)\n  }\n  if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 &&\n      this.input.charCodeAt(this.pos + 3) === 45) {\n    // `<!--`, an XML-style comment that should be interpreted as a line comment\n    this.skipLineComment(4);\n    this.skipSpace();\n    return this.nextToken()\n  }\n  if (next === 61) { size = 2; }\n  return this.finishOp(types$1.relational, size)\n};\n\npp.readToken_eq_excl = function(code) { // '=!'\n  var next = this.input.charCodeAt(this.pos + 1);\n  if (next === 61) { return this.finishOp(types$1.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2) }\n  if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n    this.pos += 2;\n    return this.finishToken(types$1.arrow)\n  }\n  return this.finishOp(code === 61 ? types$1.eq : types$1.prefix, 1)\n};\n\npp.readToken_question = function() { // '?'\n  var ecmaVersion = this.options.ecmaVersion;\n  if (ecmaVersion >= 11) {\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 46) {\n      var next2 = this.input.charCodeAt(this.pos + 2);\n      if (next2 < 48 || next2 > 57) { return this.finishOp(types$1.questionDot, 2) }\n    }\n    if (next === 63) {\n      if (ecmaVersion >= 12) {\n        var next2$1 = this.input.charCodeAt(this.pos + 2);\n        if (next2$1 === 61) { return this.finishOp(types$1.assign, 3) }\n      }\n      return this.finishOp(types$1.coalesce, 2)\n    }\n  }\n  return this.finishOp(types$1.question, 1)\n};\n\npp.readToken_numberSign = function() { // '#'\n  var ecmaVersion = this.options.ecmaVersion;\n  var code = 35; // '#'\n  if (ecmaVersion >= 13) {\n    ++this.pos;\n    code = this.fullCharCodeAtPos();\n    if (isIdentifierStart(code, true) || code === 92 /* '\\' */) {\n      return this.finishToken(types$1.privateId, this.readWord1())\n    }\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n};\n\npp.getTokenFromCode = function(code) {\n  switch (code) {\n  // The interpretation of a dot depends on whether it is followed\n  // by a digit or another two dots.\n  case 46: // '.'\n    return this.readToken_dot()\n\n  // Punctuation tokens.\n  case 40: ++this.pos; return this.finishToken(types$1.parenL)\n  case 41: ++this.pos; return this.finishToken(types$1.parenR)\n  case 59: ++this.pos; return this.finishToken(types$1.semi)\n  case 44: ++this.pos; return this.finishToken(types$1.comma)\n  case 91: ++this.pos; return this.finishToken(types$1.bracketL)\n  case 93: ++this.pos; return this.finishToken(types$1.bracketR)\n  case 123: ++this.pos; return this.finishToken(types$1.braceL)\n  case 125: ++this.pos; return this.finishToken(types$1.braceR)\n  case 58: ++this.pos; return this.finishToken(types$1.colon)\n\n  case 96: // '`'\n    if (this.options.ecmaVersion < 6) { break }\n    ++this.pos;\n    return this.finishToken(types$1.backQuote)\n\n  case 48: // '0'\n    var next = this.input.charCodeAt(this.pos + 1);\n    if (next === 120 || next === 88) { return this.readRadixNumber(16) } // '0x', '0X' - hex number\n    if (this.options.ecmaVersion >= 6) {\n      if (next === 111 || next === 79) { return this.readRadixNumber(8) } // '0o', '0O' - octal number\n      if (next === 98 || next === 66) { return this.readRadixNumber(2) } // '0b', '0B' - binary number\n    }\n\n  // Anything else beginning with a digit is an integer, octal\n  // number, or float.\n  case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n    return this.readNumber(false)\n\n  // Quotes produce strings.\n  case 34: case 39: // '\"', \"'\"\n    return this.readString(code)\n\n  // Operators are parsed inline in tiny state machines. '=' (61) is\n  // often referred to. `finishOp` simply skips the amount of\n  // characters it is given as second argument, and returns a token\n  // of the type given by its first argument.\n  case 47: // '/'\n    return this.readToken_slash()\n\n  case 37: case 42: // '%*'\n    return this.readToken_mult_modulo_exp(code)\n\n  case 124: case 38: // '|&'\n    return this.readToken_pipe_amp(code)\n\n  case 94: // '^'\n    return this.readToken_caret()\n\n  case 43: case 45: // '+-'\n    return this.readToken_plus_min(code)\n\n  case 60: case 62: // '<>'\n    return this.readToken_lt_gt(code)\n\n  case 61: case 33: // '=!'\n    return this.readToken_eq_excl(code)\n\n  case 63: // '?'\n    return this.readToken_question()\n\n  case 126: // '~'\n    return this.finishOp(types$1.prefix, 1)\n\n  case 35: // '#'\n    return this.readToken_numberSign()\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\");\n};\n\npp.finishOp = function(type, size) {\n  var str = this.input.slice(this.pos, this.pos + size);\n  this.pos += size;\n  return this.finishToken(type, str)\n};\n\npp.readRegexp = function() {\n  var escaped, inClass, start = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(start, \"Unterminated regular expression\"); }\n    var ch = this.input.charAt(this.pos);\n    if (lineBreak.test(ch)) { this.raise(start, \"Unterminated regular expression\"); }\n    if (!escaped) {\n      if (ch === \"[\") { inClass = true; }\n      else if (ch === \"]\" && inClass) { inClass = false; }\n      else if (ch === \"/\" && !inClass) { break }\n      escaped = ch === \"\\\\\";\n    } else { escaped = false; }\n    ++this.pos;\n  }\n  var pattern = this.input.slice(start, this.pos);\n  ++this.pos;\n  var flagsStart = this.pos;\n  var flags = this.readWord1();\n  if (this.containsEsc) { this.unexpected(flagsStart); }\n\n  // Validate pattern\n  var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n  state.reset(start, pattern, flags);\n  this.validateRegExpFlags(state);\n  this.validateRegExpPattern(state);\n\n  // Create Literal#value property value.\n  var value = null;\n  try {\n    value = new RegExp(pattern, flags);\n  } catch (e) {\n    // ESTree requires null if it failed to instantiate RegExp object.\n    // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n  }\n\n  return this.finishToken(types$1.regexp, {pattern: pattern, flags: flags, value: value})\n};\n\n// Read an integer in the given radix. Return null if zero digits\n// were read, the integer value otherwise. When `len` is given, this\n// will return `null` unless the integer has exactly `len` digits.\n\npp.readInt = function(radix, len, maybeLegacyOctalNumericLiteral) {\n  // `len` is used for character escape sequences. In that case, disallow separators.\n  var allowSeparators = this.options.ecmaVersion >= 12 && len === undefined;\n\n  // `maybeLegacyOctalNumericLiteral` is true if it doesn't have prefix (0x,0o,0b)\n  // and isn't fraction part nor exponent part. In that case, if the first digit\n  // is zero then disallow separators.\n  var isLegacyOctalNumericLiteral = maybeLegacyOctalNumericLiteral && this.input.charCodeAt(this.pos) === 48;\n\n  var start = this.pos, total = 0, lastCode = 0;\n  for (var i = 0, e = len == null ? Infinity : len; i < e; ++i, ++this.pos) {\n    var code = this.input.charCodeAt(this.pos), val = (void 0);\n\n    if (allowSeparators && code === 95) {\n      if (isLegacyOctalNumericLiteral) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed in legacy octal numeric literals\"); }\n      if (lastCode === 95) { this.raiseRecoverable(this.pos, \"Numeric separator must be exactly one underscore\"); }\n      if (i === 0) { this.raiseRecoverable(this.pos, \"Numeric separator is not allowed at the first of digits\"); }\n      lastCode = code;\n      continue\n    }\n\n    if (code >= 97) { val = code - 97 + 10; } // a\n    else if (code >= 65) { val = code - 65 + 10; } // A\n    else if (code >= 48 && code <= 57) { val = code - 48; } // 0-9\n    else { val = Infinity; }\n    if (val >= radix) { break }\n    lastCode = code;\n    total = total * radix + val;\n  }\n\n  if (allowSeparators && lastCode === 95) { this.raiseRecoverable(this.pos - 1, \"Numeric separator is not allowed at the last of digits\"); }\n  if (this.pos === start || len != null && this.pos - start !== len) { return null }\n\n  return total\n};\n\nfunction stringToNumber(str, isLegacyOctalNumericLiteral) {\n  if (isLegacyOctalNumericLiteral) {\n    return parseInt(str, 8)\n  }\n\n  // `parseFloat(value)` stops parsing at the first numeric separator then returns a wrong value.\n  return parseFloat(str.replace(/_/g, \"\"))\n}\n\nfunction stringToBigInt(str) {\n  if (typeof BigInt !== \"function\") {\n    return null\n  }\n\n  // `BigInt(value)` throws syntax error if the string contains numeric separators.\n  return BigInt(str.replace(/_/g, \"\"))\n}\n\npp.readRadixNumber = function(radix) {\n  var start = this.pos;\n  this.pos += 2; // 0x\n  var val = this.readInt(radix);\n  if (val == null) { this.raise(this.start + 2, \"Expected number in radix \" + radix); }\n  if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n    val = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n  } else if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n  return this.finishToken(types$1.num, val)\n};\n\n// Read an integer, octal integer, or floating-point number.\n\npp.readNumber = function(startsWithDot) {\n  var start = this.pos;\n  if (!startsWithDot && this.readInt(10, undefined, true) === null) { this.raise(start, \"Invalid number\"); }\n  var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n  if (octal && this.strict) { this.raise(start, \"Invalid number\"); }\n  var next = this.input.charCodeAt(this.pos);\n  if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n    var val$1 = stringToBigInt(this.input.slice(start, this.pos));\n    ++this.pos;\n    if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n    return this.finishToken(types$1.num, val$1)\n  }\n  if (octal && /[89]/.test(this.input.slice(start, this.pos))) { octal = false; }\n  if (next === 46 && !octal) { // '.'\n    ++this.pos;\n    this.readInt(10);\n    next = this.input.charCodeAt(this.pos);\n  }\n  if ((next === 69 || next === 101) && !octal) { // 'eE'\n    next = this.input.charCodeAt(++this.pos);\n    if (next === 43 || next === 45) { ++this.pos; } // '+-'\n    if (this.readInt(10) === null) { this.raise(start, \"Invalid number\"); }\n  }\n  if (isIdentifierStart(this.fullCharCodeAtPos())) { this.raise(this.pos, \"Identifier directly after number\"); }\n\n  var val = stringToNumber(this.input.slice(start, this.pos), octal);\n  return this.finishToken(types$1.num, val)\n};\n\n// Read a string value, interpreting backslash-escapes.\n\npp.readCodePoint = function() {\n  var ch = this.input.charCodeAt(this.pos), code;\n\n  if (ch === 123) { // '{'\n    if (this.options.ecmaVersion < 6) { this.unexpected(); }\n    var codePos = ++this.pos;\n    code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n    ++this.pos;\n    if (code > 0x10FFFF) { this.invalidStringToken(codePos, \"Code point out of bounds\"); }\n  } else {\n    code = this.readHexChar(4);\n  }\n  return code\n};\n\npp.readString = function(quote) {\n  var out = \"\", chunkStart = ++this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated string constant\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === quote) { break }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(false);\n      chunkStart = this.pos;\n    } else if (ch === 0x2028 || ch === 0x2029) {\n      if (this.options.ecmaVersion < 10) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n      if (this.options.locations) {\n        this.curLine++;\n        this.lineStart = this.pos;\n      }\n    } else {\n      if (isNewLine(ch)) { this.raise(this.start, \"Unterminated string constant\"); }\n      ++this.pos;\n    }\n  }\n  out += this.input.slice(chunkStart, this.pos++);\n  return this.finishToken(types$1.string, out)\n};\n\n// Reads template string tokens.\n\nvar INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\npp.tryReadTemplateToken = function() {\n  this.inTemplateElement = true;\n  try {\n    this.readTmplToken();\n  } catch (err) {\n    if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n      this.readInvalidTemplateToken();\n    } else {\n      throw err\n    }\n  }\n\n  this.inTemplateElement = false;\n};\n\npp.invalidStringToken = function(position, message) {\n  if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n    throw INVALID_TEMPLATE_ESCAPE_ERROR\n  } else {\n    this.raise(position, message);\n  }\n};\n\npp.readTmplToken = function() {\n  var out = \"\", chunkStart = this.pos;\n  for (;;) {\n    if (this.pos >= this.input.length) { this.raise(this.start, \"Unterminated template\"); }\n    var ch = this.input.charCodeAt(this.pos);\n    if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n      if (this.pos === this.start && (this.type === types$1.template || this.type === types$1.invalidTemplate)) {\n        if (ch === 36) {\n          this.pos += 2;\n          return this.finishToken(types$1.dollarBraceL)\n        } else {\n          ++this.pos;\n          return this.finishToken(types$1.backQuote)\n        }\n      }\n      out += this.input.slice(chunkStart, this.pos);\n      return this.finishToken(types$1.template, out)\n    }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos);\n      out += this.readEscapedChar(true);\n      chunkStart = this.pos;\n    } else if (isNewLine(ch)) {\n      out += this.input.slice(chunkStart, this.pos);\n      ++this.pos;\n      switch (ch) {\n      case 13:\n        if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; }\n      case 10:\n        out += \"\\n\";\n        break\n      default:\n        out += String.fromCharCode(ch);\n        break\n      }\n      if (this.options.locations) {\n        ++this.curLine;\n        this.lineStart = this.pos;\n      }\n      chunkStart = this.pos;\n    } else {\n      ++this.pos;\n    }\n  }\n};\n\n// Reads a template token to search for the end, without validating any escape sequences\npp.readInvalidTemplateToken = function() {\n  for (; this.pos < this.input.length; this.pos++) {\n    switch (this.input[this.pos]) {\n    case \"\\\\\":\n      ++this.pos;\n      break\n\n    case \"$\":\n      if (this.input[this.pos + 1] !== \"{\") {\n        break\n      }\n\n    // falls through\n    case \"`\":\n      return this.finishToken(types$1.invalidTemplate, this.input.slice(this.start, this.pos))\n\n    // no default\n    }\n  }\n  this.raise(this.start, \"Unterminated template\");\n};\n\n// Used to read escaped characters\n\npp.readEscapedChar = function(inTemplate) {\n  var ch = this.input.charCodeAt(++this.pos);\n  ++this.pos;\n  switch (ch) {\n  case 110: return \"\\n\" // 'n' -> '\\n'\n  case 114: return \"\\r\" // 'r' -> '\\r'\n  case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n  case 117: return codePointToString(this.readCodePoint()) // 'u'\n  case 116: return \"\\t\" // 't' -> '\\t'\n  case 98: return \"\\b\" // 'b' -> '\\b'\n  case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n  case 102: return \"\\f\" // 'f' -> '\\f'\n  case 13: if (this.input.charCodeAt(this.pos) === 10) { ++this.pos; } // '\\r\\n'\n  case 10: // ' \\n'\n    if (this.options.locations) { this.lineStart = this.pos; ++this.curLine; }\n    return \"\"\n  case 56:\n  case 57:\n    if (this.strict) {\n      this.invalidStringToken(\n        this.pos - 1,\n        \"Invalid escape sequence\"\n      );\n    }\n    if (inTemplate) {\n      var codePos = this.pos - 1;\n\n      this.invalidStringToken(\n        codePos,\n        \"Invalid escape sequence in template string\"\n      );\n\n      return null\n    }\n  default:\n    if (ch >= 48 && ch <= 55) {\n      var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n      var octal = parseInt(octalStr, 8);\n      if (octal > 255) {\n        octalStr = octalStr.slice(0, -1);\n        octal = parseInt(octalStr, 8);\n      }\n      this.pos += octalStr.length - 1;\n      ch = this.input.charCodeAt(this.pos);\n      if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n        this.invalidStringToken(\n          this.pos - 1 - octalStr.length,\n          inTemplate\n            ? \"Octal literal in template string\"\n            : \"Octal literal in strict mode\"\n        );\n      }\n      return String.fromCharCode(octal)\n    }\n    if (isNewLine(ch)) {\n      // Unicode new line characters after \\ get removed from output in both\n      // template literals and strings\n      return \"\"\n    }\n    return String.fromCharCode(ch)\n  }\n};\n\n// Used to read character escape sequences ('\\x', '\\u', '\\U').\n\npp.readHexChar = function(len) {\n  var codePos = this.pos;\n  var n = this.readInt(16, len);\n  if (n === null) { this.invalidStringToken(codePos, \"Bad character escape sequence\"); }\n  return n\n};\n\n// Read an identifier, and return it as a string. Sets `this.containsEsc`\n// to whether the word contained a '\\u' escape.\n//\n// Incrementally adds only escaped chars, adding other chunks as-is\n// as a micro-optimization.\n\npp.readWord1 = function() {\n  this.containsEsc = false;\n  var word = \"\", first = true, chunkStart = this.pos;\n  var astral = this.options.ecmaVersion >= 6;\n  while (this.pos < this.input.length) {\n    var ch = this.fullCharCodeAtPos();\n    if (isIdentifierChar(ch, astral)) {\n      this.pos += ch <= 0xffff ? 1 : 2;\n    } else if (ch === 92) { // \"\\\"\n      this.containsEsc = true;\n      word += this.input.slice(chunkStart, this.pos);\n      var escStart = this.pos;\n      if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n        { this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\"); }\n      ++this.pos;\n      var esc = this.readCodePoint();\n      if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n        { this.invalidStringToken(escStart, \"Invalid Unicode escape\"); }\n      word += codePointToString(esc);\n      chunkStart = this.pos;\n    } else {\n      break\n    }\n    first = false;\n  }\n  return word + this.input.slice(chunkStart, this.pos)\n};\n\n// Read an identifier or keyword token. Will check for reserved\n// words when necessary.\n\npp.readWord = function() {\n  var word = this.readWord1();\n  var type = types$1.name;\n  if (this.keywords.test(word)) {\n    type = keywords[word];\n  }\n  return this.finishToken(type, word)\n};\n\n// Acorn is a tiny, fast JavaScript parser written in JavaScript.\n\nvar version = \"8.8.1\";\n\nParser.acorn = {\n  Parser: Parser,\n  version: version,\n  defaultOptions: defaultOptions,\n  Position: Position,\n  SourceLocation: SourceLocation,\n  getLineInfo: getLineInfo,\n  Node: Node,\n  TokenType: TokenType,\n  tokTypes: types$1,\n  keywordTypes: keywords,\n  TokContext: TokContext,\n  tokContexts: types,\n  isIdentifierChar: isIdentifierChar,\n  isIdentifierStart: isIdentifierStart,\n  Token: Token,\n  isNewLine: isNewLine,\n  lineBreak: lineBreak,\n  lineBreakG: lineBreakG,\n  nonASCIIwhitespace: nonASCIIwhitespace\n};\n\n// The main exported interface (under `self.acorn` when in the\n// browser) is a `parse` function that takes a code string and\n// returns an abstract syntax tree as specified by [Mozilla parser\n// API][api].\n//\n// [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\nfunction parse(input, options) {\n  return Parser.parse(input, options)\n}\n\n// This function tries to parse a single expression at a given\n// offset in a string. Useful for parsing mixed-language formats\n// that embed JavaScript expressions.\n\nfunction parseExpressionAt(input, pos, options) {\n  return Parser.parseExpressionAt(input, pos, options)\n}\n\n// Acorn is organized as a tokenizer and a recursive-descent parser.\n// The `tokenizer` export provides an interface to the tokenizer.\n\nfunction tokenizer(input, options) {\n  return Parser.tokenizer(input, options)\n}\n\nexport { Node, Parser, Position, SourceLocation, TokContext, Token, TokenType, defaultOptions, getLineInfo, isIdentifierChar, isIdentifierStart, isNewLine, keywords as keywordTypes, lineBreak, lineBreakG, nonASCIIwhitespace, parse, parseExpressionAt, types as tokContexts, types$1 as tokTypes, tokenizer, version };\n","\n\nimport * as acorn from 'acorn'\nimport quote from './quoted-string.js'\n\nexport default function strToJs(str,throwOnInvalid = false) {\n\n    try {\n        const node = acorn.parse('[' + str + ']', {ecmaVersion: 2020})\n\n        // this is the simplest case that doesn't need to be wrapped\n        // TODO: detect more cases\n        if (node.body[0].expression.elements[0].type == 'Literal') {\n            return `[${str}]`\n        } else {\n            return `(()=>{try{return [${str}]}catch(e){return [${quote(str)}]}})()`\n        }\n    } catch (e) {\n        if (throwOnInvalid) {\n            throw e\n        } else {\n            return `[${quote(str)}]`\n        }\n    }\n}\n","/**\n * Finite State Machine generation utilities\n */\n\n/**\n * Define a basic state machine state. j is the list of character transitions,\n * jr is the list of regex-match transitions, jd is the default state to\n * transition to t is the accepting token type, if any. If this is the terminal\n * state, then it does not emit a token.\n * @param {string|class} token to emit\n */\nfunction State(token) {\n  this.j = {}; // IMPLEMENTATION 1\n  // this.j = []; // IMPLEMENTATION 2\n\n  this.jr = [];\n  this.jd = null;\n  this.t = token;\n}\n/**\n * Take the transition from this state to the next one on the given input.\n * If this state does not exist deterministically, will create it.\n *\n * @param {string} input character or token to transition on\n * @param {string|class} [token] token or multi-token to emit when reaching\n * this state\n */\n\nState.prototype = {\n  /**\n   * @param {State} state\n   */\n  accepts: function accepts() {\n    return !!this.t;\n  },\n\n  /**\n   * Short for \"take transition\", this is a method for building/working with\n   * state machines.\n   *\n   * If a state already exists for the given input, returns it.\n   *\n   * If a token is specified, that state will emit that token when reached by\n   * the linkify engine.\n   *\n   * If no state exists, it will be initialized with some default transitions\n   * that resemble existing default transitions.\n   *\n   * If a state is given for the second argument, that state will be\n   * transitioned to on the given input regardless of what that input\n   * previously did.\n   *\n   * @param {string} input character or token to transition on\n   * @param {Token|State} tokenOrState transition to a matching state\n   * @returns State taken after the given input\n   */\n  tt: function tt(input, tokenOrState) {\n    if (tokenOrState && tokenOrState.j) {\n      // State, default a basic transition\n      this.j[input] = tokenOrState;\n      return tokenOrState;\n    } // See if there's a direct state transition (not regex or default)\n\n\n    var token = tokenOrState;\n    var nextState = this.j[input];\n\n    if (nextState) {\n      if (token) {\n        nextState.t = token;\n      } // overrwites previous token\n\n\n      return nextState;\n    } // Create a new state for this input\n\n\n    nextState = makeState(); // Take the transition using the usual default mechanisms\n\n    var templateState = takeT(this, input);\n\n    if (templateState) {\n      // Some default state transition, make a prime state based on this one\n      Object.assign(nextState.j, templateState.j);\n      nextState.jr.append(templateState.jr);\n      nextState.jr = templateState.jd;\n      nextState.t = token || templateState.t;\n    } else {\n      nextState.t = token;\n    }\n\n    this.j[input] = nextState;\n    return nextState;\n  }\n};\n/**\n * Utility function to create state without using new keyword (reduced file size\n * when minified)\n */\n\nvar makeState = function makeState() {\n  return new State();\n};\n/**\n * Similar to previous except it is an accepting state that emits a token\n * @param {Token} token\n */\n\nvar makeAcceptingState = function makeAcceptingState(token) {\n  return new State(token);\n};\n/**\n * Create a transition from startState to nextState via the given character\n * @param {State} startState transition from thie starting state\n * @param {Token} input via this input character or other concrete token type\n * @param {State} nextState to this next state\n */\n\nvar makeT = function makeT(startState, input, nextState) {\n  // IMPLEMENTATION 1: Add to object (fast)\n  if (!startState.j[input]) {\n    startState.j[input] = nextState;\n  } // IMPLEMENTATION 2: Add to array (slower)\n  // startState.j.push([input, nextState]);\n\n};\n/**\n *\n * @param {State} startState stransition from this starting state\n * @param {RegExp} regex Regular expression to match on input\n * @param {State} nextState transition to this next state if there's are regex match\n */\n\nvar makeRegexT = function makeRegexT(startState, regex, nextState) {\n  startState.jr.push([regex, nextState]);\n};\n/**\n * Follow the transition from the given character to the next state\n * @param {State} state\n * @param {Token} input character or other concrete token type to transition\n * @returns {?State} the next state, if any\n */\n\nvar takeT = function takeT(state, input) {\n  // IMPLEMENTATION 1: Object key lookup (faster)\n  var nextState = state.j[input];\n\n  if (nextState) {\n    return nextState;\n  } // IMPLEMENTATION 2: List lookup (slower)\n  // Loop through all the state transitions and see if there's a match\n  // for (let i = 0; i < state.j.length; i++) {\n  //\tconst val = state.j[i][0];\n  //\tconst nextState = state.j[i][1];\n  // \tif (input === val) { return nextState; }\n  // }\n\n\n  for (var i = 0; i < state.jr.length; i++) {\n    var regex = state.jr[i][0];\n    var _nextState = state.jr[i][1];\n\n    if (regex.test(input)) {\n      return _nextState;\n    }\n  } // Nowhere left to jump! Return default, if any\n\n\n  return state.jd;\n};\n/**\n * Similar to makeT, but takes a list of characters that all transition to the\n * same nextState startState\n * @param {State} startState\n * @param {Array} chars\n * @param {State} nextState\n */\n\nvar makeMultiT = function makeMultiT(startState, chars, nextState) {\n  for (var i = 0; i < chars.length; i++) {\n    makeT(startState, chars[i], nextState);\n  }\n};\n/**\n * Set up a list of multiple transitions at once. transitions is a list of\n * tuples, where the first element is the transitions character and the second\n * is the state to transition to\n * @param {State} startState\n * @param {Array} transitions\n */\n\nvar makeBatchT = function makeBatchT(startState, transitions) {\n  for (var i = 0; i < transitions.length; i++) {\n    var input = transitions[i][0];\n    var nextState = transitions[i][1];\n    makeT(startState, input, nextState);\n  }\n};\n/**\n * For state machines that transition on characters only; given a non-empty\n * target string, generates states (if required) for each consecutive substring\n * of characters starting from the beginning of the string. The final state will\n * have a special value, as specified in options. All other \"in between\"\n * substrings will have a default end state.\n *\n * This turns the state machine into a Trie-like data structure (rather than a\n * intelligently-designed DFA).\n * @param {State} state\n * @param {string} str\n * @param {Token} endStateFactory\n * @param {Token} defaultStateFactory\n */\n\nvar makeChainT = function makeChainT(state, str, endState, defaultStateFactory) {\n  var i = 0,\n      len = str.length,\n      nextState; // Find the next state without a jump to the next character\n\n  while (i < len && (nextState = state.j[str[i]])) {\n    state = nextState;\n    i++;\n  }\n\n  if (i >= len) {\n    return [];\n  } // no new tokens were added\n\n\n  while (i < len - 1) {\n    nextState = defaultStateFactory();\n    makeT(state, str[i], nextState);\n    state = nextState;\n    i++;\n  }\n\n  makeT(state, str[len - 1], endState);\n};\n\n/******************************************************************************\n\tText Tokens\n\tTokens composed of strings\n******************************************************************************/\n// A valid web domain token\nvar DOMAIN = 'DOMAIN';\nvar LOCALHOST = 'LOCALHOST'; // special case of domain\n// Valid top-level domain (see tlds.js)\n\nvar TLD = 'TLD'; // Any sequence of digits 0-9\n\nvar NUM = 'NUM'; // A web URL protocol. Supported types include\n// - `http:`\n// - `https:`\n// - `ftp:`\n// - `ftps:`\n// - user-defined custom protocols\n\nvar PROTOCOL = 'PROTOCOL'; // Start of the email URI protocol\n\nvar MAILTO = 'MAILTO'; // mailto:\n// Any number of consecutive whitespace characters that are not newline\n\nvar WS = 'WS'; // New line (unix style)\n\nvar NL = 'NL'; // \\n\n// Opening/closing bracket classes\n\nvar OPENBRACE = 'OPENBRACE'; // {\n\nvar OPENBRACKET = 'OPENBRACKET'; // [\n\nvar OPENANGLEBRACKET = 'OPENANGLEBRACKET'; // <\n\nvar OPENPAREN = 'OPENPAREN'; // (\n\nvar CLOSEBRACE = 'CLOSEBRACE'; // }\n\nvar CLOSEBRACKET = 'CLOSEBRACKET'; // ]\n\nvar CLOSEANGLEBRACKET = 'CLOSEANGLEBRACKET'; // >\n\nvar CLOSEPAREN = 'CLOSEPAREN'; // )\n// Various symbols\n\nvar AMPERSAND = 'AMPERSAND'; // &\n\nvar APOSTROPHE = 'APOSTROPHE'; // '\n\nvar ASTERISK = 'ASTERISK'; // *\n\nvar AT = 'AT'; // @\n\nvar BACKSLASH = 'BACKSLASH'; // \\\n\nvar BACKTICK = 'BACKTICK'; // `\n\nvar CARET = 'CARET'; // ^\n\nvar COLON = 'COLON'; // :\n\nvar COMMA = 'COMMA'; // ,\n\nvar DOLLAR = 'DOLLAR'; // $\n\nvar DOT = 'DOT'; // .\n\nvar EQUALS = 'EQUALS'; // =\n\nvar EXCLAMATION = 'EXCLAMATION'; // !\n\nvar HYPHEN = 'HYPHEN'; // -\n\nvar PERCENT = 'PERCENT'; // %\n\nvar PIPE = 'PIPE'; // |\n\nvar PLUS = 'PLUS'; // +\n\nvar POUND = 'POUND'; // #\n\nvar QUERY = 'QUERY'; // ?\n\nvar QUOTE = 'QUOTE'; // \"\n\nvar SEMI = 'SEMI'; // ;\n\nvar SLASH = 'SLASH'; // /\n\nvar TILDE = 'TILDE'; // ~\n\nvar UNDERSCORE = 'UNDERSCORE'; // _\n// Default token - anything that is not one of the above\n\nvar SYM = 'SYM';\n\nvar text = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDOMAIN: DOMAIN,\n\tLOCALHOST: LOCALHOST,\n\tTLD: TLD,\n\tNUM: NUM,\n\tPROTOCOL: PROTOCOL,\n\tMAILTO: MAILTO,\n\tWS: WS,\n\tNL: NL,\n\tOPENBRACE: OPENBRACE,\n\tOPENBRACKET: OPENBRACKET,\n\tOPENANGLEBRACKET: OPENANGLEBRACKET,\n\tOPENPAREN: OPENPAREN,\n\tCLOSEBRACE: CLOSEBRACE,\n\tCLOSEBRACKET: CLOSEBRACKET,\n\tCLOSEANGLEBRACKET: CLOSEANGLEBRACKET,\n\tCLOSEPAREN: CLOSEPAREN,\n\tAMPERSAND: AMPERSAND,\n\tAPOSTROPHE: APOSTROPHE,\n\tASTERISK: ASTERISK,\n\tAT: AT,\n\tBACKSLASH: BACKSLASH,\n\tBACKTICK: BACKTICK,\n\tCARET: CARET,\n\tCOLON: COLON,\n\tCOMMA: COMMA,\n\tDOLLAR: DOLLAR,\n\tDOT: DOT,\n\tEQUALS: EQUALS,\n\tEXCLAMATION: EXCLAMATION,\n\tHYPHEN: HYPHEN,\n\tPERCENT: PERCENT,\n\tPIPE: PIPE,\n\tPLUS: PLUS,\n\tPOUND: POUND,\n\tQUERY: QUERY,\n\tQUOTE: QUOTE,\n\tSEMI: SEMI,\n\tSLASH: SLASH,\n\tTILDE: TILDE,\n\tUNDERSCORE: UNDERSCORE,\n\tSYM: SYM\n});\n\n// NOTE: punycode versions of IDNs are not included here because these will not\n// be as commonly used without the http prefix anyway and linkify will already\n// force-encode those.\n// To be updated with the values in this list\n// http://data.iana.org/TLD/tlds-alpha-by-domain.txt\n// Version 2021022800, Last Updated Sun Feb 28 07:07:01 2021 UTC\nvar tlds = 'aaa \\\naarp \\\nabarth \\\nabb \\\nabbott \\\nabbvie \\\nabc \\\nable \\\nabogado \\\nabudhabi \\\nac \\\nacademy \\\naccenture \\\naccountant \\\naccountants \\\naco \\\nactor \\\nad \\\nadac \\\nads \\\nadult \\\nae \\\naeg \\\naero \\\naetna \\\naf \\\nafamilycompany \\\nafl \\\nafrica \\\nag \\\nagakhan \\\nagency \\\nai \\\naig \\\nairbus \\\nairforce \\\nairtel \\\nakdn \\\nal \\\nalfaromeo \\\nalibaba \\\nalipay \\\nallfinanz \\\nallstate \\\nally \\\nalsace \\\nalstom \\\nam \\\namazon \\\namericanexpress \\\namericanfamily \\\namex \\\namfam \\\namica \\\namsterdam \\\nanalytics \\\nandroid \\\nanquan \\\nanz \\\nao \\\naol \\\napartments \\\napp \\\napple \\\naq \\\naquarelle \\\nar \\\narab \\\naramco \\\narchi \\\narmy \\\narpa \\\nart \\\narte \\\nas \\\nasda \\\nasia \\\nassociates \\\nat \\\nathleta \\\nattorney \\\nau \\\nauction \\\naudi \\\naudible \\\naudio \\\nauspost \\\nauthor \\\nauto \\\nautos \\\navianca \\\naw \\\naws \\\nax \\\naxa \\\naz \\\nazure \\\nba \\\nbaby \\\nbaidu \\\nbanamex \\\nbananarepublic \\\nband \\\nbank \\\nbar \\\nbarcelona \\\nbarclaycard \\\nbarclays \\\nbarefoot \\\nbargains \\\nbaseball \\\nbasketball \\\nbauhaus \\\nbayern \\\nbb \\\nbbc \\\nbbt \\\nbbva \\\nbcg \\\nbcn \\\nbd \\\nbe \\\nbeats \\\nbeauty \\\nbeer \\\nbentley \\\nberlin \\\nbest \\\nbestbuy \\\nbet \\\nbf \\\nbg \\\nbh \\\nbharti \\\nbi \\\nbible \\\nbid \\\nbike \\\nbing \\\nbingo \\\nbio \\\nbiz \\\nbj \\\nblack \\\nblackfriday \\\nblockbuster \\\nblog \\\nbloomberg \\\nblue \\\nbm \\\nbms \\\nbmw \\\nbn \\\nbnpparibas \\\nbo \\\nboats \\\nboehringer \\\nbofa \\\nbom \\\nbond \\\nboo \\\nbook \\\nbooking \\\nbosch \\\nbostik \\\nboston \\\nbot \\\nboutique \\\nbox \\\nbr \\\nbradesco \\\nbridgestone \\\nbroadway \\\nbroker \\\nbrother \\\nbrussels \\\nbs \\\nbt \\\nbudapest \\\nbugatti \\\nbuild \\\nbuilders \\\nbusiness \\\nbuy \\\nbuzz \\\nbv \\\nbw \\\nby \\\nbz \\\nbzh \\\nca \\\ncab \\\ncafe \\\ncal \\\ncall \\\ncalvinklein \\\ncam \\\ncamera \\\ncamp \\\ncancerresearch \\\ncanon \\\ncapetown \\\ncapital \\\ncapitalone \\\ncar \\\ncaravan \\\ncards \\\ncare \\\ncareer \\\ncareers \\\ncars \\\ncasa \\\ncase \\\ncash \\\ncasino \\\ncat \\\ncatering \\\ncatholic \\\ncba \\\ncbn \\\ncbre \\\ncbs \\\ncc \\\ncd \\\ncenter \\\nceo \\\ncern \\\ncf \\\ncfa \\\ncfd \\\ncg \\\nch \\\nchanel \\\nchannel \\\ncharity \\\nchase \\\nchat \\\ncheap \\\nchintai \\\nchristmas \\\nchrome \\\nchurch \\\nci \\\ncipriani \\\ncircle \\\ncisco \\\ncitadel \\\nciti \\\ncitic \\\ncity \\\ncityeats \\\nck \\\ncl \\\nclaims \\\ncleaning \\\nclick \\\nclinic \\\nclinique \\\nclothing \\\ncloud \\\nclub \\\nclubmed \\\ncm \\\ncn \\\nco \\\ncoach \\\ncodes \\\ncoffee \\\ncollege \\\ncologne \\\ncom \\\ncomcast \\\ncommbank \\\ncommunity \\\ncompany \\\ncompare \\\ncomputer \\\ncomsec \\\ncondos \\\nconstruction \\\nconsulting \\\ncontact \\\ncontractors \\\ncooking \\\ncookingchannel \\\ncool \\\ncoop \\\ncorsica \\\ncountry \\\ncoupon \\\ncoupons \\\ncourses \\\ncpa \\\ncr \\\ncredit \\\ncreditcard \\\ncreditunion \\\ncricket \\\ncrown \\\ncrs \\\ncruise \\\ncruises \\\ncsc \\\ncu \\\ncuisinella \\\ncv \\\ncw \\\ncx \\\ncy \\\ncymru \\\ncyou \\\ncz \\\ndabur \\\ndad \\\ndance \\\ndata \\\ndate \\\ndating \\\ndatsun \\\nday \\\ndclk \\\ndds \\\nde \\\ndeal \\\ndealer \\\ndeals \\\ndegree \\\ndelivery \\\ndell \\\ndeloitte \\\ndelta \\\ndemocrat \\\ndental \\\ndentist \\\ndesi \\\ndesign \\\ndev \\\ndhl \\\ndiamonds \\\ndiet \\\ndigital \\\ndirect \\\ndirectory \\\ndiscount \\\ndiscover \\\ndish \\\ndiy \\\ndj \\\ndk \\\ndm \\\ndnp \\\ndo \\\ndocs \\\ndoctor \\\ndog \\\ndomains \\\ndot \\\ndownload \\\ndrive \\\ndtv \\\ndubai \\\nduck \\\ndunlop \\\ndupont \\\ndurban \\\ndvag \\\ndvr \\\ndz \\\nearth \\\neat \\\nec \\\neco \\\nedeka \\\nedu \\\neducation \\\nee \\\neg \\\nemail \\\nemerck \\\nenergy \\\nengineer \\\nengineering \\\nenterprises \\\nepson \\\nequipment \\\ner \\\nericsson \\\nerni \\\nes \\\nesq \\\nestate \\\net \\\netisalat \\\neu \\\neurovision \\\neus \\\nevents \\\nexchange \\\nexpert \\\nexposed \\\nexpress \\\nextraspace \\\nfage \\\nfail \\\nfairwinds \\\nfaith \\\nfamily \\\nfan \\\nfans \\\nfarm \\\nfarmers \\\nfashion \\\nfast \\\nfedex \\\nfeedback \\\nferrari \\\nferrero \\\nfi \\\nfiat \\\nfidelity \\\nfido \\\nfilm \\\nfinal \\\nfinance \\\nfinancial \\\nfire \\\nfirestone \\\nfirmdale \\\nfish \\\nfishing \\\nfit \\\nfitness \\\nfj \\\nfk \\\nflickr \\\nflights \\\nflir \\\nflorist \\\nflowers \\\nfly \\\nfm \\\nfo \\\nfoo \\\nfood \\\nfoodnetwork \\\nfootball \\\nford \\\nforex \\\nforsale \\\nforum \\\nfoundation \\\nfox \\\nfr \\\nfree \\\nfresenius \\\nfrl \\\nfrogans \\\nfrontdoor \\\nfrontier \\\nftr \\\nfujitsu \\\nfujixerox \\\nfun \\\nfund \\\nfurniture \\\nfutbol \\\nfyi \\\nga \\\ngal \\\ngallery \\\ngallo \\\ngallup \\\ngame \\\ngames \\\ngap \\\ngarden \\\ngay \\\ngb \\\ngbiz \\\ngd \\\ngdn \\\nge \\\ngea \\\ngent \\\ngenting \\\ngeorge \\\ngf \\\ngg \\\nggee \\\ngh \\\ngi \\\ngift \\\ngifts \\\ngives \\\ngiving \\\ngl \\\nglade \\\nglass \\\ngle \\\nglobal \\\nglobo \\\ngm \\\ngmail \\\ngmbh \\\ngmo \\\ngmx \\\ngn \\\ngodaddy \\\ngold \\\ngoldpoint \\\ngolf \\\ngoo \\\ngoodyear \\\ngoog \\\ngoogle \\\ngop \\\ngot \\\ngov \\\ngp \\\ngq \\\ngr \\\ngrainger \\\ngraphics \\\ngratis \\\ngreen \\\ngripe \\\ngrocery \\\ngroup \\\ngs \\\ngt \\\ngu \\\nguardian \\\ngucci \\\nguge \\\nguide \\\nguitars \\\nguru \\\ngw \\\ngy \\\nhair \\\nhamburg \\\nhangout \\\nhaus \\\nhbo \\\nhdfc \\\nhdfcbank \\\nhealth \\\nhealthcare \\\nhelp \\\nhelsinki \\\nhere \\\nhermes \\\nhgtv \\\nhiphop \\\nhisamitsu \\\nhitachi \\\nhiv \\\nhk \\\nhkt \\\nhm \\\nhn \\\nhockey \\\nholdings \\\nholiday \\\nhomedepot \\\nhomegoods \\\nhomes \\\nhomesense \\\nhonda \\\nhorse \\\nhospital \\\nhost \\\nhosting \\\nhot \\\nhoteles \\\nhotels \\\nhotmail \\\nhouse \\\nhow \\\nhr \\\nhsbc \\\nht \\\nhu \\\nhughes \\\nhyatt \\\nhyundai \\\nibm \\\nicbc \\\nice \\\nicu \\\nid \\\nie \\\nieee \\\nifm \\\nikano \\\nil \\\nim \\\nimamat \\\nimdb \\\nimmo \\\nimmobilien \\\nin \\\ninc \\\nindustries \\\ninfiniti \\\ninfo \\\ning \\\nink \\\ninstitute \\\ninsurance \\\ninsure \\\nint \\\ninternational \\\nintuit \\\ninvestments \\\nio \\\nipiranga \\\niq \\\nir \\\nirish \\\nis \\\nismaili \\\nist \\\nistanbul \\\nit \\\nitau \\\nitv \\\niveco \\\njaguar \\\njava \\\njcb \\\nje \\\njeep \\\njetzt \\\njewelry \\\njio \\\njll \\\njm \\\njmp \\\njnj \\\njo \\\njobs \\\njoburg \\\njot \\\njoy \\\njp \\\njpmorgan \\\njprs \\\njuegos \\\njuniper \\\nkaufen \\\nkddi \\\nke \\\nkerryhotels \\\nkerrylogistics \\\nkerryproperties \\\nkfh \\\nkg \\\nkh \\\nki \\\nkia \\\nkim \\\nkinder \\\nkindle \\\nkitchen \\\nkiwi \\\nkm \\\nkn \\\nkoeln \\\nkomatsu \\\nkosher \\\nkp \\\nkpmg \\\nkpn \\\nkr \\\nkrd \\\nkred \\\nkuokgroup \\\nkw \\\nky \\\nkyoto \\\nkz \\\nla \\\nlacaixa \\\nlamborghini \\\nlamer \\\nlancaster \\\nlancia \\\nland \\\nlandrover \\\nlanxess \\\nlasalle \\\nlat \\\nlatino \\\nlatrobe \\\nlaw \\\nlawyer \\\nlb \\\nlc \\\nlds \\\nlease \\\nleclerc \\\nlefrak \\\nlegal \\\nlego \\\nlexus \\\nlgbt \\\nli \\\nlidl \\\nlife \\\nlifeinsurance \\\nlifestyle \\\nlighting \\\nlike \\\nlilly \\\nlimited \\\nlimo \\\nlincoln \\\nlinde \\\nlink \\\nlipsy \\\nlive \\\nliving \\\nlixil \\\nlk \\\nllc \\\nllp \\\nloan \\\nloans \\\nlocker \\\nlocus \\\nloft \\\nlol \\\nlondon \\\nlotte \\\nlotto \\\nlove \\\nlpl \\\nlplfinancial \\\nlr \\\nls \\\nlt \\\nltd \\\nltda \\\nlu \\\nlundbeck \\\nluxe \\\nluxury \\\nlv \\\nly \\\nma \\\nmacys \\\nmadrid \\\nmaif \\\nmaison \\\nmakeup \\\nman \\\nmanagement \\\nmango \\\nmap \\\nmarket \\\nmarketing \\\nmarkets \\\nmarriott \\\nmarshalls \\\nmaserati \\\nmattel \\\nmba \\\nmc \\\nmckinsey \\\nmd \\\nme \\\nmed \\\nmedia \\\nmeet \\\nmelbourne \\\nmeme \\\nmemorial \\\nmen \\\nmenu \\\nmerckmsd \\\nmg \\\nmh \\\nmiami \\\nmicrosoft \\\nmil \\\nmini \\\nmint \\\nmit \\\nmitsubishi \\\nmk \\\nml \\\nmlb \\\nmls \\\nmm \\\nmma \\\nmn \\\nmo \\\nmobi \\\nmobile \\\nmoda \\\nmoe \\\nmoi \\\nmom \\\nmonash \\\nmoney \\\nmonster \\\nmormon \\\nmortgage \\\nmoscow \\\nmoto \\\nmotorcycles \\\nmov \\\nmovie \\\nmp \\\nmq \\\nmr \\\nms \\\nmsd \\\nmt \\\nmtn \\\nmtr \\\nmu \\\nmuseum \\\nmutual \\\nmv \\\nmw \\\nmx \\\nmy \\\nmz \\\nna \\\nnab \\\nnagoya \\\nname \\\nnationwide \\\nnatura \\\nnavy \\\nnba \\\nnc \\\nne \\\nnec \\\nnet \\\nnetbank \\\nnetflix \\\nnetwork \\\nneustar \\\nnew \\\nnews \\\nnext \\\nnextdirect \\\nnexus \\\nnf \\\nnfl \\\nng \\\nngo \\\nnhk \\\nni \\\nnico \\\nnike \\\nnikon \\\nninja \\\nnissan \\\nnissay \\\nnl \\\nno \\\nnokia \\\nnorthwesternmutual \\\nnorton \\\nnow \\\nnowruz \\\nnowtv \\\nnp \\\nnr \\\nnra \\\nnrw \\\nntt \\\nnu \\\nnyc \\\nnz \\\nobi \\\nobserver \\\noff \\\noffice \\\nokinawa \\\nolayan \\\nolayangroup \\\noldnavy \\\nollo \\\nom \\\nomega \\\none \\\nong \\\nonl \\\nonline \\\nonyourside \\\nooo \\\nopen \\\noracle \\\norange \\\norg \\\norganic \\\norigins \\\nosaka \\\notsuka \\\nott \\\novh \\\npa \\\npage \\\npanasonic \\\nparis \\\npars \\\npartners \\\nparts \\\nparty \\\npassagens \\\npay \\\npccw \\\npe \\\npet \\\npf \\\npfizer \\\npg \\\nph \\\npharmacy \\\nphd \\\nphilips \\\nphone \\\nphoto \\\nphotography \\\nphotos \\\nphysio \\\npics \\\npictet \\\npictures \\\npid \\\npin \\\nping \\\npink \\\npioneer \\\npizza \\\npk \\\npl \\\nplace \\\nplay \\\nplaystation \\\nplumbing \\\nplus \\\npm \\\npn \\\npnc \\\npohl \\\npoker \\\npolitie \\\nporn \\\npost \\\npr \\\npramerica \\\npraxi \\\npress \\\nprime \\\npro \\\nprod \\\nproductions \\\nprof \\\nprogressive \\\npromo \\\nproperties \\\nproperty \\\nprotection \\\npru \\\nprudential \\\nps \\\npt \\\npub \\\npw \\\npwc \\\npy \\\nqa \\\nqpon \\\nquebec \\\nquest \\\nqvc \\\nracing \\\nradio \\\nraid \\\nre \\\nread \\\nrealestate \\\nrealtor \\\nrealty \\\nrecipes \\\nred \\\nredstone \\\nredumbrella \\\nrehab \\\nreise \\\nreisen \\\nreit \\\nreliance \\\nren \\\nrent \\\nrentals \\\nrepair \\\nreport \\\nrepublican \\\nrest \\\nrestaurant \\\nreview \\\nreviews \\\nrexroth \\\nrich \\\nrichardli \\\nricoh \\\nril \\\nrio \\\nrip \\\nrmit \\\nro \\\nrocher \\\nrocks \\\nrodeo \\\nrogers \\\nroom \\\nrs \\\nrsvp \\\nru \\\nrugby \\\nruhr \\\nrun \\\nrw \\\nrwe \\\nryukyu \\\nsa \\\nsaarland \\\nsafe \\\nsafety \\\nsakura \\\nsale \\\nsalon \\\nsamsclub \\\nsamsung \\\nsandvik \\\nsandvikcoromant \\\nsanofi \\\nsap \\\nsarl \\\nsas \\\nsave \\\nsaxo \\\nsb \\\nsbi \\\nsbs \\\nsc \\\nsca \\\nscb \\\nschaeffler \\\nschmidt \\\nscholarships \\\nschool \\\nschule \\\nschwarz \\\nscience \\\nscjohnson \\\nscot \\\nsd \\\nse \\\nsearch \\\nseat \\\nsecure \\\nsecurity \\\nseek \\\nselect \\\nsener \\\nservices \\\nses \\\nseven \\\nsew \\\nsex \\\nsexy \\\nsfr \\\nsg \\\nsh \\\nshangrila \\\nsharp \\\nshaw \\\nshell \\\nshia \\\nshiksha \\\nshoes \\\nshop \\\nshopping \\\nshouji \\\nshow \\\nshowtime \\\nsi \\\nsilk \\\nsina \\\nsingles \\\nsite \\\nsj \\\nsk \\\nski \\\nskin \\\nsky \\\nskype \\\nsl \\\nsling \\\nsm \\\nsmart \\\nsmile \\\nsn \\\nsncf \\\nso \\\nsoccer \\\nsocial \\\nsoftbank \\\nsoftware \\\nsohu \\\nsolar \\\nsolutions \\\nsong \\\nsony \\\nsoy \\\nspa \\\nspace \\\nsport \\\nspot \\\nspreadbetting \\\nsr \\\nsrl \\\nss \\\nst \\\nstada \\\nstaples \\\nstar \\\nstatebank \\\nstatefarm \\\nstc \\\nstcgroup \\\nstockholm \\\nstorage \\\nstore \\\nstream \\\nstudio \\\nstudy \\\nstyle \\\nsu \\\nsucks \\\nsupplies \\\nsupply \\\nsupport \\\nsurf \\\nsurgery \\\nsuzuki \\\nsv \\\nswatch \\\nswiftcover \\\nswiss \\\nsx \\\nsy \\\nsydney \\\nsystems \\\nsz \\\ntab \\\ntaipei \\\ntalk \\\ntaobao \\\ntarget \\\ntatamotors \\\ntatar \\\ntattoo \\\ntax \\\ntaxi \\\ntc \\\ntci \\\ntd \\\ntdk \\\nteam \\\ntech \\\ntechnology \\\ntel \\\ntemasek \\\ntennis \\\nteva \\\ntf \\\ntg \\\nth \\\nthd \\\ntheater \\\ntheatre \\\ntiaa \\\ntickets \\\ntienda \\\ntiffany \\\ntips \\\ntires \\\ntirol \\\ntj \\\ntjmaxx \\\ntjx \\\ntk \\\ntkmaxx \\\ntl \\\ntm \\\ntmall \\\ntn \\\nto \\\ntoday \\\ntokyo \\\ntools \\\ntop \\\ntoray \\\ntoshiba \\\ntotal \\\ntours \\\ntown \\\ntoyota \\\ntoys \\\ntr \\\ntrade \\\ntrading \\\ntraining \\\ntravel \\\ntravelchannel \\\ntravelers \\\ntravelersinsurance \\\ntrust \\\ntrv \\\ntt \\\ntube \\\ntui \\\ntunes \\\ntushu \\\ntv \\\ntvs \\\ntw \\\ntz \\\nua \\\nubank \\\nubs \\\nug \\\nuk \\\nunicom \\\nuniversity \\\nuno \\\nuol \\\nups \\\nus \\\nuy \\\nuz \\\nva \\\nvacations \\\nvana \\\nvanguard \\\nvc \\\nve \\\nvegas \\\nventures \\\nverisign \\\nversicherung \\\nvet \\\nvg \\\nvi \\\nviajes \\\nvideo \\\nvig \\\nviking \\\nvillas \\\nvin \\\nvip \\\nvirgin \\\nvisa \\\nvision \\\nviva \\\nvivo \\\nvlaanderen \\\nvn \\\nvodka \\\nvolkswagen \\\nvolvo \\\nvote \\\nvoting \\\nvoto \\\nvoyage \\\nvu \\\nvuelos \\\nwales \\\nwalmart \\\nwalter \\\nwang \\\nwanggou \\\nwatch \\\nwatches \\\nweather \\\nweatherchannel \\\nwebcam \\\nweber \\\nwebsite \\\nwed \\\nwedding \\\nweibo \\\nweir \\\nwf \\\nwhoswho \\\nwien \\\nwiki \\\nwilliamhill \\\nwin \\\nwindows \\\nwine \\\nwinners \\\nwme \\\nwolterskluwer \\\nwoodside \\\nwork \\\nworks \\\nworld \\\nwow \\\nws \\\nwtc \\\nwtf \\\nxbox \\\nxerox \\\nxfinity \\\nxihuan \\\nxin \\\nxxx \\\nxyz \\\nyachts \\\nyahoo \\\nyamaxun \\\nyandex \\\nye \\\nyodobashi \\\nyoga \\\nyokohama \\\nyou \\\nyoutube \\\nyt \\\nyun \\\nza \\\nzappos \\\nzara \\\nzero \\\nzip \\\nzm \\\nzone \\\nzuerich \\\nzw \\\nvermgensberater-ctb \\\nvermgensberatung-pwb \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n \\\n'.split(' ');\n\n/**\n\tThe scanner provides an interface that takes a string of text as input, and\n\toutputs an array of tokens instances that can be used for easy URL parsing.\n\n\t@module linkify\n\t@submodule scanner\n\t@main scanner\n*/\n\nvar LETTER = /(?:[A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u0870-\\u0887\\u0889-\\u088E\\u08A0-\\u08C9\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C5D\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D04-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16F1-\\u16F8\\u1700-\\u1711\\u171F-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u1884\\u1887-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4C\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BF\\u31F0-\\u31FF\\u3400-\\u4DBF\\u4E00-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7CA\\uA7D0\\uA7D1\\uA7D3\\uA7D5-\\uA7D9\\uA7F2-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB69\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]|\\uD800[\\uDC00-\\uDC0B\\uDC0D-\\uDC26\\uDC28-\\uDC3A\\uDC3C\\uDC3D\\uDC3F-\\uDC4D\\uDC50-\\uDC5D\\uDC80-\\uDCFA\\uDE80-\\uDE9C\\uDEA0-\\uDED0\\uDF00-\\uDF1F\\uDF2D-\\uDF40\\uDF42-\\uDF49\\uDF50-\\uDF75\\uDF80-\\uDF9D\\uDFA0-\\uDFC3\\uDFC8-\\uDFCF]|\\uD801[\\uDC00-\\uDC9D\\uDCB0-\\uDCD3\\uDCD8-\\uDCFB\\uDD00-\\uDD27\\uDD30-\\uDD63\\uDD70-\\uDD7A\\uDD7C-\\uDD8A\\uDD8C-\\uDD92\\uDD94\\uDD95\\uDD97-\\uDDA1\\uDDA3-\\uDDB1\\uDDB3-\\uDDB9\\uDDBB\\uDDBC\\uDE00-\\uDF36\\uDF40-\\uDF55\\uDF60-\\uDF67\\uDF80-\\uDF85\\uDF87-\\uDFB0\\uDFB2-\\uDFBA]|\\uD802[\\uDC00-\\uDC05\\uDC08\\uDC0A-\\uDC35\\uDC37\\uDC38\\uDC3C\\uDC3F-\\uDC55\\uDC60-\\uDC76\\uDC80-\\uDC9E\\uDCE0-\\uDCF2\\uDCF4\\uDCF5\\uDD00-\\uDD15\\uDD20-\\uDD39\\uDD80-\\uDDB7\\uDDBE\\uDDBF\\uDE00\\uDE10-\\uDE13\\uDE15-\\uDE17\\uDE19-\\uDE35\\uDE60-\\uDE7C\\uDE80-\\uDE9C\\uDEC0-\\uDEC7\\uDEC9-\\uDEE4\\uDF00-\\uDF35\\uDF40-\\uDF55\\uDF60-\\uDF72\\uDF80-\\uDF91]|\\uD803[\\uDC00-\\uDC48\\uDC80-\\uDCB2\\uDCC0-\\uDCF2\\uDD00-\\uDD23\\uDE80-\\uDEA9\\uDEB0\\uDEB1\\uDF00-\\uDF1C\\uDF27\\uDF30-\\uDF45\\uDF70-\\uDF81\\uDFB0-\\uDFC4\\uDFE0-\\uDFF6]|\\uD804[\\uDC03-\\uDC37\\uDC71\\uDC72\\uDC75\\uDC83-\\uDCAF\\uDCD0-\\uDCE8\\uDD03-\\uDD26\\uDD44\\uDD47\\uDD50-\\uDD72\\uDD76\\uDD83-\\uDDB2\\uDDC1-\\uDDC4\\uDDDA\\uDDDC\\uDE00-\\uDE11\\uDE13-\\uDE2B\\uDE80-\\uDE86\\uDE88\\uDE8A-\\uDE8D\\uDE8F-\\uDE9D\\uDE9F-\\uDEA8\\uDEB0-\\uDEDE\\uDF05-\\uDF0C\\uDF0F\\uDF10\\uDF13-\\uDF28\\uDF2A-\\uDF30\\uDF32\\uDF33\\uDF35-\\uDF39\\uDF3D\\uDF50\\uDF5D-\\uDF61]|\\uD805[\\uDC00-\\uDC34\\uDC47-\\uDC4A\\uDC5F-\\uDC61\\uDC80-\\uDCAF\\uDCC4\\uDCC5\\uDCC7\\uDD80-\\uDDAE\\uDDD8-\\uDDDB\\uDE00-\\uDE2F\\uDE44\\uDE80-\\uDEAA\\uDEB8\\uDF00-\\uDF1A\\uDF40-\\uDF46]|\\uD806[\\uDC00-\\uDC2B\\uDCA0-\\uDCDF\\uDCFF-\\uDD06\\uDD09\\uDD0C-\\uDD13\\uDD15\\uDD16\\uDD18-\\uDD2F\\uDD3F\\uDD41\\uDDA0-\\uDDA7\\uDDAA-\\uDDD0\\uDDE1\\uDDE3\\uDE00\\uDE0B-\\uDE32\\uDE3A\\uDE50\\uDE5C-\\uDE89\\uDE9D\\uDEB0-\\uDEF8]|\\uD807[\\uDC00-\\uDC08\\uDC0A-\\uDC2E\\uDC40\\uDC72-\\uDC8F\\uDD00-\\uDD06\\uDD08\\uDD09\\uDD0B-\\uDD30\\uDD46\\uDD60-\\uDD65\\uDD67\\uDD68\\uDD6A-\\uDD89\\uDD98\\uDEE0-\\uDEF2\\uDFB0]|\\uD808[\\uDC00-\\uDF99]|\\uD809[\\uDC80-\\uDD43]|\\uD80B[\\uDF90-\\uDFF0]|[\\uD80C\\uD81C-\\uD820\\uD822\\uD840-\\uD868\\uD86A-\\uD86C\\uD86F-\\uD872\\uD874-\\uD879\\uD880-\\uD883][\\uDC00-\\uDFFF]|\\uD80D[\\uDC00-\\uDC2E]|\\uD811[\\uDC00-\\uDE46]|\\uD81A[\\uDC00-\\uDE38\\uDE40-\\uDE5E\\uDE70-\\uDEBE\\uDED0-\\uDEED\\uDF00-\\uDF2F\\uDF40-\\uDF43\\uDF63-\\uDF77\\uDF7D-\\uDF8F]|\\uD81B[\\uDE40-\\uDE7F\\uDF00-\\uDF4A\\uDF50\\uDF93-\\uDF9F\\uDFE0\\uDFE1\\uDFE3]|\\uD821[\\uDC00-\\uDFF7]|\\uD823[\\uDC00-\\uDCD5\\uDD00-\\uDD08]|\\uD82B[\\uDFF0-\\uDFF3\\uDFF5-\\uDFFB\\uDFFD\\uDFFE]|\\uD82C[\\uDC00-\\uDD22\\uDD50-\\uDD52\\uDD64-\\uDD67\\uDD70-\\uDEFB]|\\uD82F[\\uDC00-\\uDC6A\\uDC70-\\uDC7C\\uDC80-\\uDC88\\uDC90-\\uDC99]|\\uD835[\\uDC00-\\uDC54\\uDC56-\\uDC9C\\uDC9E\\uDC9F\\uDCA2\\uDCA5\\uDCA6\\uDCA9-\\uDCAC\\uDCAE-\\uDCB9\\uDCBB\\uDCBD-\\uDCC3\\uDCC5-\\uDD05\\uDD07-\\uDD0A\\uDD0D-\\uDD14\\uDD16-\\uDD1C\\uDD1E-\\uDD39\\uDD3B-\\uDD3E\\uDD40-\\uDD44\\uDD46\\uDD4A-\\uDD50\\uDD52-\\uDEA5\\uDEA8-\\uDEC0\\uDEC2-\\uDEDA\\uDEDC-\\uDEFA\\uDEFC-\\uDF14\\uDF16-\\uDF34\\uDF36-\\uDF4E\\uDF50-\\uDF6E\\uDF70-\\uDF88\\uDF8A-\\uDFA8\\uDFAA-\\uDFC2\\uDFC4-\\uDFCB]|\\uD837[\\uDF00-\\uDF1E]|\\uD838[\\uDD00-\\uDD2C\\uDD37-\\uDD3D\\uDD4E\\uDE90-\\uDEAD\\uDEC0-\\uDEEB]|\\uD839[\\uDFE0-\\uDFE6\\uDFE8-\\uDFEB\\uDFED\\uDFEE\\uDFF0-\\uDFFE]|\\uD83A[\\uDC00-\\uDCC4\\uDD00-\\uDD43\\uDD4B]|\\uD83B[\\uDE00-\\uDE03\\uDE05-\\uDE1F\\uDE21\\uDE22\\uDE24\\uDE27\\uDE29-\\uDE32\\uDE34-\\uDE37\\uDE39\\uDE3B\\uDE42\\uDE47\\uDE49\\uDE4B\\uDE4D-\\uDE4F\\uDE51\\uDE52\\uDE54\\uDE57\\uDE59\\uDE5B\\uDE5D\\uDE5F\\uDE61\\uDE62\\uDE64\\uDE67-\\uDE6A\\uDE6C-\\uDE72\\uDE74-\\uDE77\\uDE79-\\uDE7C\\uDE7E\\uDE80-\\uDE89\\uDE8B-\\uDE9B\\uDEA1-\\uDEA3\\uDEA5-\\uDEA9\\uDEAB-\\uDEBB]|\\uD869[\\uDC00-\\uDEDF\\uDF00-\\uDFFF]|\\uD86D[\\uDC00-\\uDF38\\uDF40-\\uDFFF]|\\uD86E[\\uDC00-\\uDC1D\\uDC20-\\uDFFF]|\\uD873[\\uDC00-\\uDEA1\\uDEB0-\\uDFFF]|\\uD87A[\\uDC00-\\uDFE0]|\\uD87E[\\uDC00-\\uDE1D]|\\uD884[\\uDC00-\\uDF4A])/; // Any Unicode character with letter data type\n\nvar EMOJI = /(?:[#\\*0-9\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2604\\u260E\\u2611\\u2614\\u2615\\u2618\\u261D\\u2620\\u2622\\u2623\\u2626\\u262A\\u262E\\u262F\\u2638-\\u263A\\u2640\\u2642\\u2648-\\u2653\\u265F\\u2660\\u2663\\u2665\\u2666\\u2668\\u267B\\u267E\\u267F\\u2692-\\u2697\\u2699\\u269B\\u269C\\u26A0\\u26A1\\u26A7\\u26AA\\u26AB\\u26B0\\u26B1\\u26BD\\u26BE\\u26C4\\u26C5\\u26C8\\u26CE\\u26CF\\u26D1\\u26D3\\u26D4\\u26E9\\u26EA\\u26F0-\\u26F5\\u26F7-\\u26FA\\u26FD\\u2702\\u2705\\u2708-\\u270D\\u270F\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC04\\uDCCF\\uDD70\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE02\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF21\\uDF24-\\uDF93\\uDF96\\uDF97\\uDF99-\\uDF9B\\uDF9E-\\uDFF0\\uDFF3-\\uDFF5\\uDFF7-\\uDFFF]|\\uD83D[\\uDC00-\\uDCFD\\uDCFF-\\uDD3D\\uDD49-\\uDD4E\\uDD50-\\uDD67\\uDD6F\\uDD70\\uDD73-\\uDD7A\\uDD87\\uDD8A-\\uDD8D\\uDD90\\uDD95\\uDD96\\uDDA4\\uDDA5\\uDDA8\\uDDB1\\uDDB2\\uDDBC\\uDDC2-\\uDDC4\\uDDD1-\\uDDD3\\uDDDC-\\uDDDE\\uDDE1\\uDDE3\\uDDE8\\uDDEF\\uDDF3\\uDDFA-\\uDE4F\\uDE80-\\uDEC5\\uDECB-\\uDED2\\uDED5-\\uDED7\\uDEDD-\\uDEE5\\uDEE9\\uDEEB\\uDEEC\\uDEF0\\uDEF3-\\uDEFC\\uDFE0-\\uDFEB\\uDFF0]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7C\\uDE80-\\uDE86\\uDE90-\\uDEAC\\uDEB0-\\uDEBA\\uDEC0-\\uDEC5\\uDED0-\\uDED9\\uDEE0-\\uDEE7\\uDEF0-\\uDEF6])/; // Any Unicode emoji character\n\nvar EMOJI_VARIATION = /\\uFE0F/; // Variation selector, follows heart and others\n\nvar DIGIT = /\\d/;\nvar SPACE = /\\s/;\n/**\n * Initialize the scanner character-based state machine for the given start state\n * @return {State} scanner starting state\n */\n\nfunction init$2() {\n  var customProtocols = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  // Frequently used states\n  var S_START = makeState();\n  var S_NUM = makeAcceptingState(NUM);\n  var S_DOMAIN = makeAcceptingState(DOMAIN);\n  var S_DOMAIN_HYPHEN = makeState(); // domain followed by 1 or more hyphen characters\n\n  var S_WS = makeAcceptingState(WS);\n  var DOMAIN_REGEX_TRANSITIONS = [[DIGIT, S_DOMAIN], [LETTER, S_DOMAIN], [EMOJI, S_DOMAIN], [EMOJI_VARIATION, S_DOMAIN]]; // Create a state which emits a domain token\n\n  var makeDomainState = function makeDomainState() {\n    var state = makeAcceptingState(DOMAIN);\n    state.j = {\n      '-': S_DOMAIN_HYPHEN\n    };\n    state.jr = [].concat(DOMAIN_REGEX_TRANSITIONS);\n    return state;\n  }; // Create a state which does not emit a domain state but the usual alphanumeric\n  // transitions are domains\n\n\n  var makeNearDomainState = function makeNearDomainState(token) {\n    var state = makeDomainState();\n    state.t = token;\n    return state;\n  }; // States for special URL symbols that accept immediately after start\n\n\n  makeBatchT(S_START, [[\"'\", makeAcceptingState(APOSTROPHE)], ['{', makeAcceptingState(OPENBRACE)], ['[', makeAcceptingState(OPENBRACKET)], ['<', makeAcceptingState(OPENANGLEBRACKET)], ['(', makeAcceptingState(OPENPAREN)], ['}', makeAcceptingState(CLOSEBRACE)], [']', makeAcceptingState(CLOSEBRACKET)], ['>', makeAcceptingState(CLOSEANGLEBRACKET)], [')', makeAcceptingState(CLOSEPAREN)], ['&', makeAcceptingState(AMPERSAND)], ['*', makeAcceptingState(ASTERISK)], ['@', makeAcceptingState(AT)], ['`', makeAcceptingState(BACKTICK)], ['^', makeAcceptingState(CARET)], [':', makeAcceptingState(COLON)], [',', makeAcceptingState(COMMA)], ['$', makeAcceptingState(DOLLAR)], ['.', makeAcceptingState(DOT)], ['=', makeAcceptingState(EQUALS)], ['!', makeAcceptingState(EXCLAMATION)], ['-', makeAcceptingState(HYPHEN)], ['%', makeAcceptingState(PERCENT)], ['|', makeAcceptingState(PIPE)], ['+', makeAcceptingState(PLUS)], ['#', makeAcceptingState(POUND)], ['?', makeAcceptingState(QUERY)], ['\"', makeAcceptingState(QUOTE)], ['/', makeAcceptingState(SLASH)], [';', makeAcceptingState(SEMI)], ['~', makeAcceptingState(TILDE)], ['_', makeAcceptingState(UNDERSCORE)], ['\\\\', makeAcceptingState(BACKSLASH)]]); // Whitespace jumps\n  // Tokens of only non-newline whitespace are arbitrarily long\n\n  makeT(S_START, '\\n', makeAcceptingState(NL));\n  makeRegexT(S_START, SPACE, S_WS); // If any whitespace except newline, more whitespace!\n\n  makeT(S_WS, '\\n', makeState()); // non-accepting state\n\n  makeRegexT(S_WS, SPACE, S_WS); // Generates states for top-level domains\n  // Note that this is most accurate when tlds are in alphabetical order\n\n  for (var i = 0; i < tlds.length; i++) {\n    makeChainT(S_START, tlds[i], makeNearDomainState(TLD), makeDomainState);\n  } // Collect the states generated by different protocls\n\n\n  var S_PROTOCOL_FILE = makeDomainState();\n  var S_PROTOCOL_FTP = makeDomainState();\n  var S_PROTOCOL_HTTP = makeDomainState();\n  var S_MAILTO = makeDomainState();\n  makeChainT(S_START, 'file', S_PROTOCOL_FILE, makeDomainState);\n  makeChainT(S_START, 'ftp', S_PROTOCOL_FTP, makeDomainState);\n  makeChainT(S_START, 'http', S_PROTOCOL_HTTP, makeDomainState);\n  makeChainT(S_START, 'mailto', S_MAILTO, makeDomainState); // Protocol states\n\n  var S_PROTOCOL_SECURE = makeDomainState();\n  var S_FULL_PROTOCOL = makeAcceptingState(PROTOCOL); // Full protocol ends with COLON\n\n  var S_FULL_MAILTO = makeAcceptingState(MAILTO); // Mailto ends with COLON\n  // Secure protocols (end with 's')\n\n  makeT(S_PROTOCOL_FTP, 's', S_PROTOCOL_SECURE);\n  makeT(S_PROTOCOL_FTP, ':', S_FULL_PROTOCOL);\n  makeT(S_PROTOCOL_HTTP, 's', S_PROTOCOL_SECURE);\n  makeT(S_PROTOCOL_HTTP, ':', S_FULL_PROTOCOL); // Become protocol tokens after a COLON\n\n  makeT(S_PROTOCOL_FILE, ':', S_FULL_PROTOCOL);\n  makeT(S_PROTOCOL_SECURE, ':', S_FULL_PROTOCOL);\n  makeT(S_MAILTO, ':', S_FULL_MAILTO); // Register custom protocols\n\n  var S_CUSTOM_PROTOCOL = makeDomainState();\n\n  for (var _i = 0; _i < customProtocols.length; _i++) {\n    makeChainT(S_START, customProtocols[_i], S_CUSTOM_PROTOCOL, makeDomainState);\n  }\n\n  makeT(S_CUSTOM_PROTOCOL, ':', S_FULL_PROTOCOL); // Localhost\n\n  makeChainT(S_START, 'localhost', makeNearDomainState(LOCALHOST), makeDomainState); // Everything else\n  // DOMAINs make more DOMAINs\n  // Number and character transitions\n\n  makeRegexT(S_START, DIGIT, S_NUM);\n  makeRegexT(S_START, LETTER, S_DOMAIN);\n  makeRegexT(S_START, EMOJI, S_DOMAIN);\n  makeRegexT(S_START, EMOJI_VARIATION, S_DOMAIN);\n  makeRegexT(S_NUM, DIGIT, S_NUM);\n  makeRegexT(S_NUM, LETTER, S_DOMAIN); // number becomes DOMAIN\n\n  makeRegexT(S_NUM, EMOJI, S_DOMAIN); // number becomes DOMAIN\n\n  makeRegexT(S_NUM, EMOJI_VARIATION, S_DOMAIN); // number becomes DOMAIN\n\n  makeT(S_NUM, '-', S_DOMAIN_HYPHEN); // Default domain transitions\n\n  makeT(S_DOMAIN, '-', S_DOMAIN_HYPHEN);\n  makeT(S_DOMAIN_HYPHEN, '-', S_DOMAIN_HYPHEN);\n  makeRegexT(S_DOMAIN, DIGIT, S_DOMAIN);\n  makeRegexT(S_DOMAIN, LETTER, S_DOMAIN);\n  makeRegexT(S_DOMAIN, EMOJI, S_DOMAIN);\n  makeRegexT(S_DOMAIN, EMOJI_VARIATION, S_DOMAIN);\n  makeRegexT(S_DOMAIN_HYPHEN, DIGIT, S_DOMAIN);\n  makeRegexT(S_DOMAIN_HYPHEN, LETTER, S_DOMAIN);\n  makeRegexT(S_DOMAIN_HYPHEN, EMOJI, S_DOMAIN);\n  makeRegexT(S_DOMAIN_HYPHEN, EMOJI_VARIATION, S_DOMAIN); // Set default transition for start state (some symbol)\n\n  S_START.jd = makeAcceptingState(SYM);\n  return S_START;\n}\n/**\n\tGiven a string, returns an array of TOKEN instances representing the\n\tcomposition of that string.\n\n\t@method run\n\t@param {State} start scanner starting state\n\t@param {string} str input string to scan\n\t@return {{t: string, v: string, s: number, l: number}[]} list of tokens, each with a type and value\n*/\n\nfunction run$1(start, str) {\n  // State machine is not case sensitive, so input is tokenized in lowercased\n  // form (still returns the regular case though) Uses selective `toLowerCase`\n  // is used because lowercasing the entire string causes the length and\n  // character position to vary in some non-English strings with V8-based\n  // runtimes.\n  var iterable = stringToArray(str.replace(/[A-Z]/g, function (c) {\n    return c.toLowerCase();\n  }));\n  var charCount = iterable.length; // <= len if there are emojis, etc\n\n  var tokens = []; // return value\n  // cursor through the string itself, accounting for characters that have\n  // width with length 2 such as emojis\n\n  var cursor = 0; // Cursor through the array-representation of the string\n\n  var charCursor = 0; // Tokenize the string\n\n  while (charCursor < charCount) {\n    var state = start;\n    var nextState = null;\n    var tokenLength = 0;\n    var latestAccepting = null;\n    var sinceAccepts = -1;\n    var charsSinceAccepts = -1;\n\n    while (charCursor < charCount && (nextState = takeT(state, iterable[charCursor]))) {\n      state = nextState; // Keep track of the latest accepting state\n\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        charsSinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts += iterable[charCursor].length;\n        charsSinceAccepts++;\n      }\n\n      tokenLength += iterable[charCursor].length;\n      cursor += iterable[charCursor].length;\n      charCursor++;\n    } // Roll back to the latest accepting state\n\n\n    cursor -= sinceAccepts;\n    charCursor -= charsSinceAccepts;\n    tokenLength -= sinceAccepts; // No more jumps, just make a new token from the last accepting one\n    // TODO: If possible, don't output v, instead output range where values ocur\n\n    tokens.push({\n      t: latestAccepting.t,\n      // token type/name\n      v: str.substr(cursor - tokenLength, tokenLength),\n      // string value\n      s: cursor - tokenLength,\n      // start index\n      e: cursor // end index (excluding)\n\n    });\n  }\n\n  return tokens;\n}\n/**\n * Convert a String to an Array of characters, taking into account that some\n * characters like emojis take up two string indexes.\n *\n * Adapted from core-js (MIT license)\n * https://github.com/zloirock/core-js/blob/2d69cf5f99ab3ea3463c395df81e5a15b68f49d9/packages/core-js/internals/string-multibyte.js\n *\n * @function stringToArray\n * @param {string} str\n * @returns {string[]}\n */\n\nfunction stringToArray(str) {\n  var result = [];\n  var len = str.length;\n  var index = 0;\n\n  while (index < len) {\n    var first = str.charCodeAt(index);\n    var second = void 0;\n    var char = first < 0xd800 || first > 0xdbff || index + 1 === len || (second = str.charCodeAt(index + 1)) < 0xdc00 || second > 0xdfff ? str[index] // single character\n    : str.slice(index, index + 2); // two-index characters\n\n    result.push(char);\n    index += char.length;\n  }\n\n  return result;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n/**\n * @property {string} defaultProtocol\n * @property {{[string]: (event) => void}]} [events]\n */\nvar defaults = {\n  defaultProtocol: 'http',\n  events: null,\n  format: noop,\n  formatHref: noop,\n  nl2br: false,\n  tagName: 'a',\n  target: null,\n  rel: null,\n  validate: true,\n  truncate: 0,\n  className: null,\n  attributes: null,\n  ignoreTags: []\n};\n/**\n * @class Options\n * @param {Object} [opts] Set option properties besides the defaults\n */\n\nfunction Options(opts) {\n  opts = opts || {};\n  this.defaultProtocol = 'defaultProtocol' in opts ? opts.defaultProtocol : defaults.defaultProtocol;\n  this.events = 'events' in opts ? opts.events : defaults.events;\n  this.format = 'format' in opts ? opts.format : defaults.format;\n  this.formatHref = 'formatHref' in opts ? opts.formatHref : defaults.formatHref;\n  this.nl2br = 'nl2br' in opts ? opts.nl2br : defaults.nl2br;\n  this.tagName = 'tagName' in opts ? opts.tagName : defaults.tagName;\n  this.target = 'target' in opts ? opts.target : defaults.target;\n  this.rel = 'rel' in opts ? opts.rel : defaults.rel;\n  this.validate = 'validate' in opts ? opts.validate : defaults.validate;\n  this.truncate = 'truncate' in opts ? opts.truncate : defaults.truncate;\n  this.className = 'className' in opts ? opts.className : defaults.className;\n  this.attributes = opts.attributes || defaults.attributes;\n  this.ignoreTags = []; // Make all tags names upper case\n\n  var ignoredTags = 'ignoreTags' in opts ? opts.ignoreTags : defaults.ignoreTags;\n\n  for (var i = 0; i < ignoredTags.length; i++) {\n    this.ignoreTags.push(ignoredTags[i].toUpperCase());\n  }\n}\nOptions.prototype = {\n  /**\n   * Given the token, return all options for how it should be displayed\n   */\n  resolve: function resolve(token) {\n    var href = token.toHref(this.defaultProtocol);\n    return {\n      formatted: this.get('format', token.toString(), token),\n      formattedHref: this.get('formatHref', href, token),\n      tagName: this.get('tagName', href, token),\n      className: this.get('className', href, token),\n      target: this.get('target', href, token),\n      rel: this.get('rel', href, token),\n      events: this.getObject('events', href, token),\n      attributes: this.getObject('attributes', href, token),\n      truncate: this.get('truncate', href, token)\n    };\n  },\n\n  /**\n   * Returns true or false based on whether a token should be displayed as a\n   * link based on the user options. By default,\n   */\n  check: function check(token) {\n    return this.get('validate', token.toString(), token);\n  },\n  // Private methods\n\n  /**\n   * Resolve an option's value based on the value of the option and the given\n   * params.\n   * @param {string} key Name of option to use\n   * @param operator will be passed to the target option if it's method\n   * @param {MultiToken} token The token from linkify.tokenize\n   */\n  get: function get(key, operator, token) {\n    var option = this[key];\n\n    if (!option) {\n      return option;\n    }\n\n    var optionValue;\n\n    switch (_typeof(option)) {\n      case 'function':\n        return option(operator, token.t);\n\n      case 'object':\n        optionValue = token.t in option ? option[token.t] : defaults[key];\n        return typeof optionValue === 'function' ? optionValue(operator, token.t) : optionValue;\n    }\n\n    return option;\n  },\n  getObject: function getObject(key, operator, token) {\n    var option = this[key];\n    return typeof option === 'function' ? option(operator, token.t) : option;\n  }\n};\n\nfunction noop(val) {\n  return val;\n}\n\nvar options = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tdefaults: defaults,\n\tOptions: Options\n});\n\n/******************************************************************************\n\tMulti-Tokens\n\tTokens composed of arrays of TextTokens\n******************************************************************************/\n\nfunction inherits(parent, child) {\n  var props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var extended = Object.create(parent.prototype);\n\n  for (var p in props) {\n    extended[p] = props[p];\n  }\n\n  extended.constructor = child;\n  child.prototype = extended;\n  return child;\n}\n/**\n\tAbstract class used for manufacturing tokens of text tokens. That is rather\n\tthan the value for a token being a small string of text, it's value an array\n\tof text tokens.\n\n\tUsed for grouping together URLs, emails, hashtags, and other potential\n\tcreations.\n\n\t@class MultiToken\n\t@param {string} value\n\t@param {{t: string, v: string, s: number, e: number}[]} tokens\n\t@abstract\n*/\n\n\nfunction MultiToken() {}\nMultiToken.prototype = {\n  /**\n  \tString representing the type for this token\n  \t@property t\n  \t@default 'token'\n  */\n  t: 'token',\n\n  /**\n  \tIs this multitoken a link?\n  \t@property isLink\n  \t@default false\n  */\n  isLink: false,\n\n  /**\n  \tReturn the string this token represents.\n  \t@method toString\n  \t@return {string}\n  */\n  toString: function toString() {\n    return this.v;\n  },\n\n  /**\n  \tWhat should the value for this token be in the `href` HTML attribute?\n  \tReturns the `.toString` value by default.\n  \t\t@method toHref\n  \t@return {string}\n  */\n  toHref: function toHref() {\n    return this.toString();\n  },\n\n  /**\n   * The start index of this token in the original input string\n   * @returns {number}\n   */\n  startIndex: function startIndex() {\n    return this.tk[0].s;\n  },\n\n  /**\n   * The end index of this token in the original input string (up to this\n   * index but not including it)\n   * @returns {number}\n   */\n  endIndex: function endIndex() {\n    return this.tk[this.tk.length - 1].e;\n  },\n\n  /**\n  \tReturns a hash of relevant values for this token, which includes keys\n  \t* type - Kind of token ('url', 'email', etc.)\n  \t* value - Original text\n  \t* href - The value that should be added to the anchor tag's href\n  \t\tattribute\n  \t\t@method toObject\n  \t@param {string} [protocol] `'http'` by default\n  */\n  toObject: function toObject() {\n    var protocol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.defaultProtocol;\n    return {\n      type: this.t,\n      value: this.v,\n      isLink: this.isLink,\n      href: this.toHref(protocol),\n      start: this.startIndex(),\n      end: this.endIndex()\n    };\n  }\n}; // Base token\n/**\n * Create a new token that can be emitted by the parser state machine\n * @param {string} type readable type of the token\n * @param {object} props properties to assign or override, including isLink = true or false\n * @returns {(value: string, tokens: {t: string, v: string, s: number, e: number}) => MultiToken} new token class\n */\n\nfunction createTokenClass(type, props) {\n  function Token(value, tokens) {\n    this.t = type;\n    this.v = value;\n    this.tk = tokens;\n  }\n\n  inherits(MultiToken, Token, props);\n  return Token;\n}\n/**\n\tRepresents an arbitrarily mailto email address with the prefix included\n\t@class MailtoEmail\n\t@extends MultiToken\n*/\n\nvar MailtoEmail = createTokenClass('email', {\n  isLink: true\n});\n/**\n\tRepresents a list of tokens making up a valid email address\n\t@class Email\n\t@extends MultiToken\n*/\n\nvar Email = createTokenClass('email', {\n  isLink: true,\n  toHref: function toHref() {\n    return 'mailto:' + this.toString();\n  }\n});\n/**\n\tRepresents some plain text\n\t@class Text\n\t@extends MultiToken\n*/\n\nvar Text = createTokenClass('text');\n/**\n\tMulti-linebreak token - represents a line break\n\t@class Nl\n\t@extends MultiToken\n*/\n\nvar Nl = createTokenClass('nl');\n/**\n\tRepresents a list of text tokens making up a valid URL\n\t@class Url\n\t@extends MultiToken\n*/\n\nvar Url = createTokenClass('url', {\n  isLink: true,\n\n  /**\n  \tLowercases relevant parts of the domain and adds the protocol if\n  \trequired. Note that this will not escape unsafe HTML characters in the\n  \tURL.\n  \t\t@method href\n  \t@param {string} protocol\n  \t@return {string}\n  */\n  toHref: function toHref() {\n    var protocol = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaults.defaultProtocol;\n    var tokens = this.tk;\n    var hasProtocol = false;\n    var hasSlashSlash = false;\n    var result = [];\n    var i = 0; // Make the first part of the domain lowercase\n    // Lowercase protocol\n\n    while (tokens[i].t === PROTOCOL) {\n      hasProtocol = true;\n      result.push(tokens[i].v);\n      i++;\n    } // Skip slash-slash\n\n\n    while (tokens[i].t === SLASH) {\n      hasSlashSlash = true;\n      result.push(tokens[i].v);\n      i++;\n    } // Continue pushing characters\n\n\n    for (; i < tokens.length; i++) {\n      result.push(tokens[i].v);\n    }\n\n    result = result.join('');\n\n    if (!(hasProtocol || hasSlashSlash)) {\n      result = \"\".concat(protocol, \"://\").concat(result);\n    }\n\n    return result;\n  },\n  hasProtocol: function hasProtocol() {\n    return this.tk[0].t === PROTOCOL;\n  }\n});\n\nvar multi = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tMultiToken: MultiToken,\n\tBase: MultiToken,\n\tcreateTokenClass: createTokenClass,\n\tMailtoEmail: MailtoEmail,\n\tEmail: Email,\n\tText: Text,\n\tNl: Nl,\n\tUrl: Url\n});\n\n/**\n\tNot exactly parser, more like the second-stage scanner (although we can\n\ttheoretically hotswap the code here with a real parser in the future... but\n\tfor a little URL-finding utility abstract syntax trees may be a little\n\toverkill).\n\n\tURL format: http://en.wikipedia.org/wiki/URI_scheme\n\tEmail format: http://en.wikipedia.org/wiki/Email_address (links to RFC in\n\treference)\n\n\t@module linkify\n\t@submodule parser\n\t@main run\n*/\n/**\n * Generate the parser multi token-based state machine\n * @returns {State} the starting state\n */\n\nfunction init$1() {\n  // The universal starting state.\n  var S_START = makeState(); // Intermediate states for URLs. Note that domains that begin with a protocol\n  // are treated slighly differently from those that don't.\n\n  var S_PROTOCOL = makeState(); // e.g., 'http:'\n\n  var S_MAILTO = makeState(); // 'mailto:'\n\n  var S_PROTOCOL_SLASH = makeState(); // e.g., 'http:/''\n\n  var S_PROTOCOL_SLASH_SLASH = makeState(); // e.g.,'http://'\n\n  var S_DOMAIN = makeState(); // parsed string ends with a potential domain name (A)\n\n  var S_DOMAIN_DOT = makeState(); // (A) domain followed by DOT\n\n  var S_TLD = makeAcceptingState(Url); // (A) Simplest possible URL with no query string\n\n  var S_TLD_COLON = makeState(); // (A) URL followed by colon (potential port number here)\n\n  var S_TLD_PORT = makeAcceptingState(Url); // TLD followed by a port number\n\n  var S_URL = makeAcceptingState(Url); // Long URL with optional port and maybe query string\n\n  var S_URL_NON_ACCEPTING = makeState(); // URL followed by some symbols (will not be part of the final URL)\n\n  var S_URL_OPENBRACE = makeState(); // URL followed by {\n\n  var S_URL_OPENBRACKET = makeState(); // URL followed by [\n\n  var S_URL_OPENANGLEBRACKET = makeState(); // URL followed by <\n\n  var S_URL_OPENPAREN = makeState(); // URL followed by (\n\n  var S_URL_OPENBRACE_Q = makeAcceptingState(Url); // URL followed by { and some symbols that the URL can end it\n\n  var S_URL_OPENBRACKET_Q = makeAcceptingState(Url); // URL followed by [ and some symbols that the URL can end it\n\n  var S_URL_OPENANGLEBRACKET_Q = makeAcceptingState(Url); // URL followed by < and some symbols that the URL can end it\n\n  var S_URL_OPENPAREN_Q = makeAcceptingState(Url); // URL followed by ( and some symbols that the URL can end it\n\n  var S_URL_OPENBRACE_SYMS = makeState(); // S_URL_OPENBRACE_Q followed by some symbols it cannot end it\n\n  var S_URL_OPENBRACKET_SYMS = makeState(); // S_URL_OPENBRACKET_Q followed by some symbols it cannot end it\n\n  var S_URL_OPENANGLEBRACKET_SYMS = makeState(); // S_URL_OPENANGLEBRACKET_Q followed by some symbols it cannot end it\n\n  var S_URL_OPENPAREN_SYMS = makeState(); // S_URL_OPENPAREN_Q followed by some symbols it cannot end it\n\n  var S_EMAIL_DOMAIN = makeState(); // parsed string starts with local email info + @ with a potential domain name (C)\n\n  var S_EMAIL_DOMAIN_DOT = makeState(); // (C) domain followed by DOT\n\n  var S_EMAIL = makeAcceptingState(Email); // (C) Possible email address (could have more tlds)\n\n  var S_EMAIL_COLON = makeState(); // (C) URL followed by colon (potential port number here)\n\n  var S_EMAIL_PORT = makeAcceptingState(Email); // (C) Email address with a port\n\n  var S_MAILTO_EMAIL = makeAcceptingState(MailtoEmail); // Email that begins with the mailto prefix (D)\n\n  var S_MAILTO_EMAIL_NON_ACCEPTING = makeState(); // (D) Followed by some non-query string chars\n\n  var S_LOCALPART = makeState(); // Local part of the email address\n\n  var S_LOCALPART_AT = makeState(); // Local part of the email address plus @\n\n  var S_LOCALPART_DOT = makeState(); // Local part of the email address plus '.' (localpart cannot end in .)\n\n  var S_NL = makeAcceptingState(Nl); // single new line\n  // Make path from start to protocol (with '//')\n\n  makeT(S_START, NL, S_NL);\n  makeT(S_START, PROTOCOL, S_PROTOCOL);\n  makeT(S_START, MAILTO, S_MAILTO);\n  makeT(S_PROTOCOL, SLASH, S_PROTOCOL_SLASH);\n  makeT(S_PROTOCOL_SLASH, SLASH, S_PROTOCOL_SLASH_SLASH); // The very first potential domain name\n\n  makeT(S_START, TLD, S_DOMAIN);\n  makeT(S_START, DOMAIN, S_DOMAIN);\n  makeT(S_START, LOCALHOST, S_TLD);\n  makeT(S_START, NUM, S_DOMAIN); // Force URL for protocol followed by anything sane\n\n  makeT(S_PROTOCOL_SLASH_SLASH, TLD, S_URL);\n  makeT(S_PROTOCOL_SLASH_SLASH, DOMAIN, S_URL);\n  makeT(S_PROTOCOL_SLASH_SLASH, NUM, S_URL);\n  makeT(S_PROTOCOL_SLASH_SLASH, LOCALHOST, S_URL); // Account for dots and hyphens\n  // hyphens are usually parts of domain names\n\n  makeT(S_DOMAIN, DOT, S_DOMAIN_DOT);\n  makeT(S_EMAIL_DOMAIN, DOT, S_EMAIL_DOMAIN_DOT); // Hyphen can jump back to a domain name\n  // After the first domain and a dot, we can find either a URL or another domain\n\n  makeT(S_DOMAIN_DOT, TLD, S_TLD);\n  makeT(S_DOMAIN_DOT, DOMAIN, S_DOMAIN);\n  makeT(S_DOMAIN_DOT, NUM, S_DOMAIN);\n  makeT(S_DOMAIN_DOT, LOCALHOST, S_DOMAIN);\n  makeT(S_EMAIL_DOMAIN_DOT, TLD, S_EMAIL);\n  makeT(S_EMAIL_DOMAIN_DOT, DOMAIN, S_EMAIL_DOMAIN);\n  makeT(S_EMAIL_DOMAIN_DOT, NUM, S_EMAIL_DOMAIN);\n  makeT(S_EMAIL_DOMAIN_DOT, LOCALHOST, S_EMAIL_DOMAIN); // S_TLD accepts! But the URL could be longer, try to find a match greedily\n  // The `run` function should be able to \"rollback\" to the accepting state\n\n  makeT(S_TLD, DOT, S_DOMAIN_DOT);\n  makeT(S_EMAIL, DOT, S_EMAIL_DOMAIN_DOT); // Become real URLs after `SLASH` or `COLON NUM SLASH`\n  // Here PSS and non-PSS converge\n\n  makeT(S_TLD, COLON, S_TLD_COLON);\n  makeT(S_TLD, SLASH, S_URL);\n  makeT(S_TLD_COLON, NUM, S_TLD_PORT);\n  makeT(S_TLD_PORT, SLASH, S_URL);\n  makeT(S_EMAIL, COLON, S_EMAIL_COLON);\n  makeT(S_EMAIL_COLON, NUM, S_EMAIL_PORT); // Types of characters the URL can definitely end in\n\n  var qsAccepting = [AMPERSAND, ASTERISK, AT, BACKSLASH, BACKTICK, CARET, DOLLAR, DOMAIN, EQUALS, HYPHEN, LOCALHOST, NUM, PERCENT, PIPE, PLUS, POUND, PROTOCOL, SLASH, SYM, TILDE, TLD, UNDERSCORE]; // Types of tokens that can follow a URL and be part of the query string\n  // but cannot be the very last characters\n  // Characters that cannot appear in the URL at all should be excluded\n\n  var qsNonAccepting = [APOSTROPHE, CLOSEANGLEBRACKET, CLOSEBRACE, CLOSEBRACKET, CLOSEPAREN, COLON, COMMA, DOT, EXCLAMATION, OPENANGLEBRACKET, OPENBRACE, OPENBRACKET, OPENPAREN, QUERY, QUOTE, SEMI]; // These states are responsible primarily for determining whether or not to\n  // include the final round bracket.\n  // URL, followed by an opening bracket\n\n  makeT(S_URL, OPENBRACE, S_URL_OPENBRACE);\n  makeT(S_URL, OPENBRACKET, S_URL_OPENBRACKET);\n  makeT(S_URL, OPENANGLEBRACKET, S_URL_OPENANGLEBRACKET);\n  makeT(S_URL, OPENPAREN, S_URL_OPENPAREN); // URL with extra symbols at the end, followed by an opening bracket\n\n  makeT(S_URL_NON_ACCEPTING, OPENBRACE, S_URL_OPENBRACE);\n  makeT(S_URL_NON_ACCEPTING, OPENBRACKET, S_URL_OPENBRACKET);\n  makeT(S_URL_NON_ACCEPTING, OPENANGLEBRACKET, S_URL_OPENANGLEBRACKET);\n  makeT(S_URL_NON_ACCEPTING, OPENPAREN, S_URL_OPENPAREN); // Closing bracket component. This character WILL be included in the URL\n\n  makeT(S_URL_OPENBRACE, CLOSEBRACE, S_URL);\n  makeT(S_URL_OPENBRACKET, CLOSEBRACKET, S_URL);\n  makeT(S_URL_OPENANGLEBRACKET, CLOSEANGLEBRACKET, S_URL);\n  makeT(S_URL_OPENPAREN, CLOSEPAREN, S_URL);\n  makeT(S_URL_OPENBRACE_Q, CLOSEBRACE, S_URL);\n  makeT(S_URL_OPENBRACKET_Q, CLOSEBRACKET, S_URL);\n  makeT(S_URL_OPENANGLEBRACKET_Q, CLOSEANGLEBRACKET, S_URL);\n  makeT(S_URL_OPENPAREN_Q, CLOSEPAREN, S_URL);\n  makeT(S_URL_OPENBRACE_SYMS, CLOSEBRACE, S_URL);\n  makeT(S_URL_OPENBRACKET_SYMS, CLOSEBRACKET, S_URL);\n  makeT(S_URL_OPENANGLEBRACKET_SYMS, CLOSEANGLEBRACKET, S_URL);\n  makeT(S_URL_OPENPAREN_SYMS, CLOSEPAREN, S_URL); // URL that beings with an opening bracket, followed by a symbols.\n  // Note that the final state can still be `S_URL_OPENBRACE_Q` (if the URL only\n  // has a single opening bracket for some reason).\n\n  makeMultiT(S_URL_OPENBRACE, qsAccepting, S_URL_OPENBRACE_Q);\n  makeMultiT(S_URL_OPENBRACKET, qsAccepting, S_URL_OPENBRACKET_Q);\n  makeMultiT(S_URL_OPENANGLEBRACKET, qsAccepting, S_URL_OPENANGLEBRACKET_Q);\n  makeMultiT(S_URL_OPENPAREN, qsAccepting, S_URL_OPENPAREN_Q);\n  makeMultiT(S_URL_OPENBRACE, qsNonAccepting, S_URL_OPENBRACE_SYMS);\n  makeMultiT(S_URL_OPENBRACKET, qsNonAccepting, S_URL_OPENBRACKET_SYMS);\n  makeMultiT(S_URL_OPENANGLEBRACKET, qsNonAccepting, S_URL_OPENANGLEBRACKET_SYMS);\n  makeMultiT(S_URL_OPENPAREN, qsNonAccepting, S_URL_OPENPAREN_SYMS); // URL that begins with an opening bracket, followed by some symbols\n\n  makeMultiT(S_URL_OPENBRACE_Q, qsAccepting, S_URL_OPENBRACE_Q);\n  makeMultiT(S_URL_OPENBRACKET_Q, qsAccepting, S_URL_OPENBRACKET_Q);\n  makeMultiT(S_URL_OPENANGLEBRACKET_Q, qsAccepting, S_URL_OPENANGLEBRACKET_Q);\n  makeMultiT(S_URL_OPENPAREN_Q, qsAccepting, S_URL_OPENPAREN_Q);\n  makeMultiT(S_URL_OPENBRACE_Q, qsNonAccepting, S_URL_OPENBRACE_Q);\n  makeMultiT(S_URL_OPENBRACKET_Q, qsNonAccepting, S_URL_OPENBRACKET_Q);\n  makeMultiT(S_URL_OPENANGLEBRACKET_Q, qsNonAccepting, S_URL_OPENANGLEBRACKET_Q);\n  makeMultiT(S_URL_OPENPAREN_Q, qsNonAccepting, S_URL_OPENPAREN_Q);\n  makeMultiT(S_URL_OPENBRACE_SYMS, qsAccepting, S_URL_OPENBRACE_Q);\n  makeMultiT(S_URL_OPENBRACKET_SYMS, qsAccepting, S_URL_OPENBRACKET_Q);\n  makeMultiT(S_URL_OPENANGLEBRACKET_SYMS, qsAccepting, S_URL_OPENANGLEBRACKET_Q);\n  makeMultiT(S_URL_OPENPAREN_SYMS, qsAccepting, S_URL_OPENPAREN_Q);\n  makeMultiT(S_URL_OPENBRACE_SYMS, qsNonAccepting, S_URL_OPENBRACE_SYMS);\n  makeMultiT(S_URL_OPENBRACKET_SYMS, qsNonAccepting, S_URL_OPENBRACKET_SYMS);\n  makeMultiT(S_URL_OPENANGLEBRACKET_SYMS, qsNonAccepting, S_URL_OPENANGLEBRACKET_SYMS);\n  makeMultiT(S_URL_OPENPAREN_SYMS, qsNonAccepting, S_URL_OPENPAREN_SYMS); // Account for the query string\n\n  makeMultiT(S_URL, qsAccepting, S_URL);\n  makeMultiT(S_URL_NON_ACCEPTING, qsAccepting, S_URL);\n  makeMultiT(S_URL, qsNonAccepting, S_URL_NON_ACCEPTING);\n  makeMultiT(S_URL_NON_ACCEPTING, qsNonAccepting, S_URL_NON_ACCEPTING); // Email address-specific state definitions\n  // Note: We are not allowing '/' in email addresses since this would interfere\n  // with real URLs\n  // For addresses with the mailto prefix\n  // 'mailto:' followed by anything sane is a valid email\n\n  makeT(S_MAILTO, TLD, S_MAILTO_EMAIL);\n  makeT(S_MAILTO, DOMAIN, S_MAILTO_EMAIL);\n  makeT(S_MAILTO, NUM, S_MAILTO_EMAIL);\n  makeT(S_MAILTO, LOCALHOST, S_MAILTO_EMAIL); // Greedily get more potential valid email values\n\n  makeMultiT(S_MAILTO_EMAIL, qsAccepting, S_MAILTO_EMAIL);\n  makeMultiT(S_MAILTO_EMAIL, qsNonAccepting, S_MAILTO_EMAIL_NON_ACCEPTING);\n  makeMultiT(S_MAILTO_EMAIL_NON_ACCEPTING, qsAccepting, S_MAILTO_EMAIL);\n  makeMultiT(S_MAILTO_EMAIL_NON_ACCEPTING, qsNonAccepting, S_MAILTO_EMAIL_NON_ACCEPTING); // For addresses without the mailto prefix\n  // Tokens allowed in the localpart of the email\n\n  var localpartAccepting = [AMPERSAND, APOSTROPHE, ASTERISK, BACKSLASH, BACKTICK, CARET, CLOSEBRACE, DOLLAR, DOMAIN, EQUALS, HYPHEN, NUM, OPENBRACE, PERCENT, PIPE, PLUS, POUND, QUERY, SLASH, SYM, TILDE, TLD, UNDERSCORE]; // Some of the tokens in `localpartAccepting` are already accounted for here and\n  // will not be overwritten (don't worry)\n\n  makeMultiT(S_DOMAIN, localpartAccepting, S_LOCALPART);\n  makeT(S_DOMAIN, AT, S_LOCALPART_AT);\n  makeMultiT(S_TLD, localpartAccepting, S_LOCALPART);\n  makeT(S_TLD, AT, S_LOCALPART_AT);\n  makeMultiT(S_DOMAIN_DOT, localpartAccepting, S_LOCALPART); // Now in localpart of address\n  // TODO: IP addresses and what if the email starts with numbers?\n\n  makeMultiT(S_LOCALPART, localpartAccepting, S_LOCALPART);\n  makeT(S_LOCALPART, AT, S_LOCALPART_AT); // close to an email address now\n\n  makeT(S_LOCALPART, DOT, S_LOCALPART_DOT);\n  makeMultiT(S_LOCALPART_DOT, localpartAccepting, S_LOCALPART);\n  makeT(S_LOCALPART_AT, TLD, S_EMAIL_DOMAIN);\n  makeT(S_LOCALPART_AT, DOMAIN, S_EMAIL_DOMAIN);\n  makeT(S_LOCALPART_AT, NUM, S_EMAIL_DOMAIN);\n  makeT(S_LOCALPART_AT, LOCALHOST, S_EMAIL); // States following `@` defined above\n\n  return S_START;\n}\n/**\n * Run the parser state machine on a list of scanned string-based tokens to\n * create a list of multi tokens, each of which represents a URL, email address,\n * plain text, etc.\n *\n * @param {State} start parser start state\n * @param {string} input the original input used to generate the given tokens\n * @param {{t: string, v: string, s: number, e: number}[]} tokens list of scanned tokens\n * @returns {MultiToken[]}\n */\n\nfunction run(start, input, tokens) {\n  var len = tokens.length;\n  var cursor = 0;\n  var multis = [];\n  var textTokens = [];\n\n  while (cursor < len) {\n    var state = start;\n    var secondState = null;\n    var nextState = null;\n    var multiLength = 0;\n    var latestAccepting = null;\n    var sinceAccepts = -1;\n\n    while (cursor < len && !(secondState = takeT(state, tokens[cursor].t))) {\n      // Starting tokens with nowhere to jump to.\n      // Consider these to be just plain text\n      textTokens.push(tokens[cursor++]);\n    }\n\n    while (cursor < len && (nextState = secondState || takeT(state, tokens[cursor].t))) {\n      // Get the next state\n      secondState = null;\n      state = nextState; // Keep track of the latest accepting state\n\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts++;\n      }\n\n      cursor++;\n      multiLength++;\n    }\n\n    if (sinceAccepts < 0) {\n      // No accepting state was found, part of a regular text token\n      // Add all the tokens we looked at to the text tokens array\n      for (var i = cursor - multiLength; i < cursor; i++) {\n        textTokens.push(tokens[i]);\n      }\n    } else {\n      // Accepting state!\n      // First close off the textTokens (if available)\n      if (textTokens.length > 0) {\n        multis.push(parserCreateMultiToken(Text, input, textTokens));\n        textTokens = [];\n      } // Roll back to the latest accepting state\n\n\n      cursor -= sinceAccepts;\n      multiLength -= sinceAccepts; // Create a new multitoken\n\n      var Multi = latestAccepting.t;\n      var subtokens = tokens.slice(cursor - multiLength, cursor);\n      multis.push(parserCreateMultiToken(Multi, input, subtokens));\n    }\n  } // Finally close off the textTokens (if available)\n\n\n  if (textTokens.length > 0) {\n    multis.push(parserCreateMultiToken(Text, input, textTokens));\n  }\n\n  return multis;\n}\n/**\n * Utility function for instantiating a new multitoken with all the relevant\n * fields during parsing.\n * @param {Class<MultiToken>} Multi class to instantiate\n * @param {string} input original input string\n * @param {{t: string, v: string, s: number, e: number}[]} tokens consecutive tokens scanned from input string\n * @returns {MultiToken}\n */\n\nfunction parserCreateMultiToken(Multi, input, tokens) {\n  var startIdx = tokens[0].s;\n  var endIdx = tokens[tokens.length - 1].e;\n  var value = input.substr(startIdx, endIdx - startIdx);\n  return new Multi(value, tokens);\n}\n\nvar warn = typeof console !== 'undefined' && console && console.warn || function () {}; // Side-effect initialization state\n\n\nvar INIT = {\n  scanner: null,\n  parser: null,\n  pluginQueue: [],\n  customProtocols: [],\n  initialized: false\n};\n/**\n * De-register all plugins and reset the internal state-machine. Used for\n * testing; not required in practice.\n * @private\n */\n\nfunction reset() {\n  INIT.scanner = null;\n  INIT.parser = null;\n  INIT.pluginQueue = [];\n  INIT.customProtocols = [];\n  INIT.initialized = false;\n}\n/**\n * Register a linkify extension plugin\n * @param {string} name of plugin to register\n * @param {Function} plugin function that accepts mutable linkify state\n */\n\nfunction registerPlugin(name, plugin) {\n  for (var i = 0; i < INIT.pluginQueue.length; i++) {\n    if (name === INIT.pluginQueue[i][0]) {\n      warn(\"linkifyjs: plugin \\\"\".concat(name, \"\\\" already registered - will be overwritten\"));\n      INIT.pluginQueue[i] = [name, plugin];\n      return;\n    }\n  }\n\n  INIT.pluginQueue.push([name, plugin]);\n\n  if (INIT.initialized) {\n    warn(\"linkifyjs: already initialized - will not register plugin \\\"\".concat(name, \"\\\" until you manually call linkify.init(). To avoid this warning, please register all plugins before invoking linkify the first time.\"));\n  }\n}\n/**\n * Detect URLs with the following additional protocol. Anything following\n * \"protocol:\" will be considered a link.\n * @param {string} protocol\n */\n\nfunction registerCustomProtocol(protocol) {\n  if (INIT.initialized) {\n    warn(\"linkifyjs: already initialized - will not register custom protocol \\\"\".concat(protocol, \"\\\" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.\"));\n  }\n\n  if (!/^[a-z-]+$/.test(protocol)) {\n    throw Error('linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported');\n  }\n\n  INIT.customProtocols.push(protocol);\n}\n/**\n * Initialize the linkify state machine. Called automatically the first time\n * linkify is called on a string, but may be called manually as well.\n */\n\nfunction init() {\n  // Initialize state machines\n  INIT.scanner = {\n    start: init$2(INIT.customProtocols),\n    tokens: text\n  };\n  INIT.parser = {\n    start: init$1(),\n    tokens: multi\n  };\n  var utils = {\n    createTokenClass: createTokenClass\n  }; // Initialize plugins\n\n  for (var i = 0; i < INIT.pluginQueue.length; i++) {\n    INIT.pluginQueue[i][1]({\n      scanner: INIT.scanner,\n      parser: INIT.parser,\n      utils: utils\n    });\n  }\n\n  INIT.initialized = true;\n}\n/**\n\tParse a string into tokens that represent linkable and non-linkable sub-components\n\t@param {string} str\n\t@return {MultiToken[]} tokens\n*/\n\nfunction tokenize(str) {\n  if (!INIT.initialized) {\n    init();\n  }\n\n  return run(INIT.parser.start, str, run$1(INIT.scanner.start, str));\n}\n/**\n\tFind a list of linkable items in the given string.\n\t@param {string} str string to find links in\n\t@param {string} [type] (optional) only find links of a specific type, e.g.,\n\t'url' or 'email'\n*/\n\nfunction find(str) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var tokens = tokenize(str);\n  var filtered = [];\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (token.isLink && (!type || token.t === type)) {\n      filtered.push(token.toObject());\n    }\n  }\n\n  return filtered;\n}\n/**\n * Is the given string valid linkable text of some sort. Note that this does not\n * trim the text for you.\n *\n * Optionally pass in a second `type` param, which is the type of link to test\n * for.\n *\n * For example,\n *\n *     linkify.test(str, 'email');\n *\n * Returns `true` if str is a valid email.\n * @param {string} str string to test for links\n * @param {string} [type] optional specific link type to look for\n * @returns boolean true/false\n */\n\nfunction test(str) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var tokens = tokenize(str);\n  return tokens.length === 1 && tokens[0].isLink && (!type || tokens[0].t === type);\n}\n\nexport { Options, find, init, options, registerCustomProtocol, registerPlugin, reset, test, tokenize };\n","import { Options, tokenize } from 'linkifyjs';\n\n/**\n\tConvert strings of text into linkable HTML text\n*/\n\nfunction escapeText(text) {\n  return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\nfunction escapeAttr(href) {\n  return href.replace(/\"/g, '&quot;');\n}\n\nfunction attributesToString(attributes) {\n  if (!attributes) {\n    return '';\n  }\n\n  var result = [];\n\n  for (var attr in attributes) {\n    var val = attributes[attr] + '';\n    result.push(\"\".concat(attr, \"=\\\"\").concat(escapeAttr(val), \"\\\"\"));\n  }\n\n  return result.join(' ');\n}\n/**\n * Convert a plan text string to an HTML string with links. Expects that the\n * given strings does not contain any HTML entities. Use the linkify-html\n * interface if you need to parse HTML entities.\n *\n * @param {string} str string to linkify\n * @param {object} [opts] overridable options\n * @returns {string}\n */\n\n\nfunction linkifyStr(str) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  opts = new Options(opts);\n  var tokens = tokenize(str);\n  var result = [];\n\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (token.t === 'nl' && opts.nl2br) {\n      result.push('<br>\\n');\n      continue;\n    } else if (!token.isLink || !opts.check(token)) {\n      result.push(escapeText(token.toString()));\n      continue;\n    }\n\n    var _opts$resolve = opts.resolve(token),\n        formatted = _opts$resolve.formatted,\n        formattedHref = _opts$resolve.formattedHref,\n        tagName = _opts$resolve.tagName,\n        className = _opts$resolve.className,\n        target = _opts$resolve.target,\n        rel = _opts$resolve.rel,\n        attributes = _opts$resolve.attributes;\n\n    var link = [\"<\".concat(tagName, \" href=\\\"\").concat(escapeAttr(formattedHref), \"\\\"\")];\n\n    if (className) {\n      link.push(\" class=\\\"\".concat(escapeAttr(className), \"\\\"\"));\n    }\n\n    if (target) {\n      link.push(\" target=\\\"\".concat(escapeAttr(target), \"\\\"\"));\n    }\n\n    if (rel) {\n      link.push(\" rel=\\\"\".concat(escapeAttr(rel), \"\\\"\"));\n    }\n\n    if (attributes) {\n      link.push(\" \".concat(attributesToString(attributes)));\n    }\n\n    link.push(\">\".concat(escapeText(formatted), \"</\").concat(tagName, \">\"));\n    result.push(link.join(''));\n  }\n\n  return result.join('');\n}\n\nif (!String.prototype.linkify) {\n  Object.defineProperty(String.prototype, 'linkify', {\n    writable: false,\n    value: function linkify(options) {\n      return linkifyStr(this, options);\n    }\n  });\n}\n\nexport { linkifyStr as default };\n","\nimport {h} from 'hastscript'\nimport {t} from './hastscript-tools.js'\n\nimport linkifyStr from 'linkify-string';\n\nconst linkifyOptions = { defaultProtocol: 'https' };\n\nfunction url(s) {\n    s = s.replace(/\\\\\\\\/g,'\\\\')\n    const l = linkifyStr(s, linkifyOptions);\n    const m = l.match(/\"([^\"]+)\"/)\n\n    if (m==null) {\n        return null\n    } else {\n        return m[1]\n    }\n}\n\nfunction internalLink(l) {\n    switch(l[0]) {\n        case '/':\n            return '/' + encodeURIComponent(l.substring(1).replace(/ +/g,\"_\").toLowerCase());\n        case '#':\n            return '#' + encodeURIComponent(l.substring(1).replace(/ +/g,\"_\").toLowerCase());\n        default:\n            return null\n    }\n}\n\nexport default function strToLink(s) {\n    var parts = s.split(\"|\", 2);\n    if (parts.length == 2 && parts[0].charAt(parts[0].length-1) == '\\\\') {\n        parts[0] = parts[0].substring(0,parts[0].length - 1) + '|' + parts[1]\n        parts.pop();\n    }\n    if (parts.length == 1) {\n        if (parts[0].trim() == '') {\n            return t(`[${s}]`)\n        }\n\n        let u = parts[0].trim().replace(/\\\\\\]/g,']');\n\n        if (u[0] == '^') {\n            u = u.substring(1).trim();\n            return h('sup',{},[ h('a',{'footnote-u':u,'href': `#footnote-${u}`},[t(`TBD`)])])\n        } else {\n            const addr = parts[0].trim().replace(/\\]/g,']');\n            const u = url(addr)\n            if (u==null) {\n                const il = internalLink(addr)\n                if (il == null) {\n                    return h('a',{'link-ref':addr.toLowerCase()},[t(addr)])\n                } else {\n                    return h('a',{'href':il},[t(il)])\n                }\n            } else {\n                return h('a',{'href':u},[t(u)])\n            }\n        }\n    } else {\n        const txt = parts[0].trim().replace(/\\|/g,'|');\n        const addr = parts[1].trim().replace(/\\]/g,']');\n        const u = url(addr)\n        if (u==null) {\n            const il = internalLink(addr)\n            if (il == null) {\n                return h('a',{'link-ref':addr.toLowerCase()},[t(txt)])\n            } else {\n                return h('a',{'href':il},[t(txt)])\n            }\n        } else {\n            return h('a',{'href':u},[t(txt)])\n        }\n    }\n}\n","\nimport {h} from 'hastscript'\nimport {t} from './hastscript-tools.js'\nimport strToJs from './str-to-js.js'\nimport link from './str-to-link.js'\n\nexport default function lineToSxast(str) {\n\n    let root = h()\n\n    if (typeof str == 'string') {\n        process(root,str,0,'')\n    } else {\n        root.children.push(str);\n    }\n\n    function escapeChar(c) {\n        return c\n        \n        if (c=='`') {\n            return '\\\\`' // '&#96;'\n        // } else if (c==':') {\n        //     return '&#58;'\n        } else if (c=='\\\\') {\n            return '\\\\\\\\'\n        } else {\n            return c;\n        }\n    }\n\n    function tagFor(c) {\n        switch (c) {\n            case '!':\n            case '*':\n                return \"b\";\n            case '~':\n            case '/':\n                return \"i\";\n            case '_':\n                return \"u\";\n            case '-':\n                return \"del\";\n            case '^':\n                return \"sup\";\n            case '`':\n                return \"code\";\n            case '$':\n                return \"kbd\";\n            default:\n                return c + \"\";\n        }\n    }\n\n\n    // function path(s) {\n    //     return '/' + encodeURIComponent(s.replace(/ +/g,\"_\").toLowerCase());\n    // }\n\n \n    function process(parent,s,index,inChar) {\n        var a, b;\n        let str = '';\n\n        while (index < s.length) {\n            a = s.charAt(index++);\n            b = s.charAt(index);\n\n            // TODO: change from if statements that can fall into each other\n\n            if (a == '\\\\') {\n                if (b == '$') {\n                    str += '\\\\$';\n                    index++;\n                    continue;\n                }\n                let punc = /^[-!\\\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]$/\n                if (b.match(punc)) {\n                    str += escapeChar(b);\n                    index++;\n                    continue;    \n                }\n            }\n\n            if (a == '[') {\n                let prev = a;\n                let curr\n                for (let k = index; k < s.length; k++) {\n                    curr = s.charAt(k)\n                    if (curr == ']' && prev !='\\\\')\t{\n                        parent.children.push(t(str))\n                        str = ''\n                        parent.children.push(link(s.substring(index,k)))\n                        index = k + 1;\n                        if (index >= s.length) {\n                            parent.children.push(t(str))\n                            str = ''\n                            return index;// {i: index, str: strs};\n                        }\n                        a = s.charAt(index++);\n                        break;\n                    }\n                    prev = curr\n                }\n            }\n            if (a == '@') {\n                const ch0 = /^[a-zA-Z]$/\n                const chx = /^[a-zA-Z\\d_]$/\n                let user = ''\n                let k = index\n                for (; k < s.length; k++) {\n                    let ch = s.charAt(k)\n                    if ((k==index && ch.match(ch0))\n                            || (ch.match(chx))) {\n                        user += ch;\n                    } else {\n                        break;\n                    }\n                }\n                if (user !== '') {\n                    index = k;\n                    a = s.charAt(index++);\n                    parent.children.push(t(str))\n                    str = ''\n                    parent.children.push(h('a',{'href':`/users/${user}`},[t(`@${user}`)]))\n                }\n            }\n            if (a == '$' && b == '{') {\n                let template = ''\n                index++\n                while (index < s.length) {\n                    let ch = s.charAt(index)\n\n                    if (ch!='}') {\n                        template += ch\n                    } else {\n                        try {\n                            strToJs(template,true)\n                            str += '${' + template + '}'\n                            template = null\n                            index++\n                            a = s.charAt(index++);\n                            b = s.charAt(index);\n                            break;\n                        } catch (e) {\n                            template += ch\n                        }\n                    }\n                    index++\n                }\n                if (index == s.length && template != null) {\n                    str += '\\\\${' + template\n                    continue\n                }\n            }\n            if (a == '#') {\n                const tagAt = index-1\n                const ch0 = /^[a-zA-Z]$/\n                const chx = /^[a-zA-Z\\d_]$/\n                let tag = ''\n                let bang = false;\n                if (s.charAt(index)=='!') {\n                    bang = true;\n                    index++;\n                }\n                let jj = index\n                let dotAt = -1\n                for (; jj < s.length; jj++) {\n                    let ch = s.charAt(jj)\n                    if ((jj==index && ch.match(ch0))\n                            || (ch.match(chx)) || (bang==true && ch=='.' && dotAt == -1)) {\n                        tag += ch;\n                        if (ch=='.') dotAt = jj\n                    } else {\n                        break;\n                    }\n                }\n                if (tag !== '') {\n\n                    index = jj;\n                    a = s.charAt(index++);\n                    let tagStr = null\n                    let tagValue = null\n                    let tagValueStr = null\n\n                    if (a=='(') {\n                        for (var k = index; k < s.length; k++) {\n                            let ch = s.charAt(k)\n                            if (ch==')') {\n                                tagValueStr = s.substring(index,k)\n                                try {\n                                    tagValue = strToJs(tagValueStr,true)\n                                    tagStr = s.substring(tagAt,k+1)\n                                    index = k + 1\n                                    a = s.charAt(index++);\n                                    break;\n                                } catch (e) {\n                                    // find next end bracket and try again\n                                }\n                            }\n                        }\n                        \n                        if (tagValue == null) {\n                            // if ')' was never found tagValueStr == null\n                            if (tagValueStr == null) {\n                                tagValueStr = s.substring(index)\n                            }\n                            tagValue = strToJs(tagValueStr,false)\n                        }\n                    } else {\n                        tagStr = s.substring(tagAt,index-1)\n                        tagValue = strToJs('true',false)\n                    }\n\n                    if (str != '') {\n                        parent.children.push(t(str))\n                        str = ''\n                    }\n\n                    if (bang) {\n                        const includeOpts = {\n                            type: 'include',\n                            name: tag, \n                            args: tagValue\n                        }\n                        if (dotAt != -1) {\n                            const ss = tag.split('.')\n                            if (ss.length != 2) throw new Error(`error parsing tag with namespace \"${tag}\"`)\n                            includeOpts.collection = ss[0]\n                            includeOpts.name = ss[1]\n                        }\n                        parent.children.push(includeOpts)\n                    } else {\n                        parent.children.push({\n                            type:'tag',\n                            indent: 0,\n                            name: tag,\n                            colon: true,\n                            args: tagValue,\n                            children: [t(tagStr)] \n                        })\n\n                    }\n\n                    if (index >= s.length) {\n                        break;\n                    }\n                }\n            }\n            if (index + 1 > s.length) {\n                str += escapeChar(a);\n                parent.children.push(t(str))\n                return index;//{index: index, str: strs};\n            }\n            if (a == b\n                    && (a == '!' || a == '*' || a == '~' || a == '/' || a == '_' || a == '-'\n                            || a == '^' || a == '`' || a == '$')) {\n                index++;\n                while (s.charAt(index)==a) {\n                    b = a;\n                    index++; // permissive with extra formatting tag chars\n                }\n                if (a == inChar) {\n                    parent.children.push(t(str))\n                    return index; //{index: index, str: strs};\n                } else {\n                    parent.children.push(t(str))\n                    str = '';\n                    const el = h(tagFor(a),{})\n                    parent.children.push(el)\n                    index = process(el,s,index,a)\n                }\n            } else {\n                str += escapeChar(a);\n            }\n        }\n\n        if (str != '' ) parent.children.push(t(str));//strs.push(str)\n        return index;//{index: index,str: strs};\n    }\n\n    return root.children\n}","\nimport {h} from 'hastscript'\nimport {visit} from 'unist-util-visit'\nimport {t} from './hastscript-tools.js'\nimport lineToSxast from './line-to-sxast.js'\n\nfunction tableOf(rows) {\n    let head = []\n    let body = []\n    let foot = []\n    let colAlignment = {}\n\n    for (let i=0 ; i<rows.length ; i++) {\n        if (rows[i].divider) {\n            head = body\n            body = []\n            for (let j=i+1 ; j<rows.length ; j++) {\n                if (rows[j].divider) {\n                    for (let k=j+1 ; k<rows.length ; k++) {\n                        if (rows[k].divider) continue\n                        foot.push(rows[k])\n                    }\n                    break\n                }\n                body.push(rows[j])\n            }\n            break\n        }\n        body.push(rows[i])\n    }\n\n    if (head.length>0) {\n        for (let i=0 ; i<head.length ; i++) {\n            for (let j=0 ; j<head[i].cells.length ; j++) {\n                if (head[i].cells[j].formatting.align) {\n                    colAlignment[j] = head[i].cells[j].formatting.align\n                }\n            }\n        }\n    }\n\n    function cell(row,cellNumber,forceHeader) {\n        let el = h((forceHeader || row.cells[cellNumber].formatting.header ? 'th' : 'td'))\n\n        if (row.cells[cellNumber].formatting.colspan !== undefined) {\n            el.properties.colspan = row.cells[cellNumber].formatting.colspan\n        }\n\n        if (row.cells[cellNumber].formatting.rowspan !== undefined) {\n            el.properties.rowspan = row.cells[cellNumber].formatting.rowspan\n        }\n\n        if (row.cells[cellNumber].formatting.align !== undefined) {\n            el.properties.style = `text-align: ${row.cells[cellNumber].formatting.align};`\n        } else if (colAlignment[cellNumber] !== undefined) {\n            el.properties.style = `text-align: ${colAlignment[cellNumber]};`\n        }\n\n        return el\n    }\n\n    const table = h('table')\n\n    if (head.length>0) {\n        const thead = h('thead')\n        table.children.push(thead)\n        for (let i=0 ; i<head.length ; i++) {\n            const tr = h('tr')\n            thead.children.push(tr)\n            for (let j=0 ; j<head[i].cells.length ; j++) {\n                const th = cell(head[i],j,true)\n                tr.children.push(th)\n                th.children = head[i].cells[j].children\n            }\n        }\n    }\n\n    const tbody = h('tbody')\n    table.children.push(tbody)\n    for (let i=0 ; i<body.length ; i++) {\n        const tr = h('tr')\n        tbody.children.push(tr)\n        for (let j=0 ; j<body[i].cells.length ; j++) {\n            const td = cell(body[i],j)\n            tr.children.push(td)\n            td.children = body[i].cells[j].children\n        }\n    }\n\n    if (foot.length>0) {\n        const tfoot = h('tfoot')\n        table.children.push(tfoot)\n        for (let i=0 ; i<foot.length ; i++) {\n            const tr = h('tr')\n            tfoot.children.push(tr)\n            for (let j=0 ; j<foot[i].cells.length ; j++) {\n                const td = cell(foot[i],j)\n                tr.children.push(td)\n                td.children = foot[i].cells[j].children\n            }\n        }\n    }\n\n    return table;\n}\n\nexport default function sastToHast(sqrm) {\n\n    const doc = { type: \"root\", children: [] }\n    let footnotes = []\n    let linkDefinitions = []\n    let i = 0\n\n    function next() {\n        if (i==sqrm.length) return null\n        return sqrm[i++]\n    }\n\n    function peek() {\n        if (i==sqrm.length) return null\n        return sqrm[i]\n    }\n\n    // function footnoteNum(id,text) {\n    //     for (let i=0 ; i<footnotes.length ; i++) {\n    //         if (footnotes[i].id == id) {\n    //             if (text != undefined) {\n    //                 footnotes[i].text = text;\n    //             }\n    //             return i+1\n    //         }\n    //     }\n    //     footnotes.push({ id: id, text: text });\n    //     return footnotes.length;\n    // }\n\n    function processIndentation(indent) {\n\n        function raw() {\n            const lines = [t('\\n')];\n    \n            while (peek()!=null) {\n                if (peek().type == 'blank') {\n                    next()\n                    lines.push(t('\\n'))\n                } else if (peek().indent > indent) {\n                    let n = next()\n                    lines.push(t(n.text.substring((indent+1)*2))) // TODO: hard coded indenting\n                    lines.push(t('\\n'))\n                } else {\n                    break;\n                }\n            }\n    \n            return lines\n    \n        }\n\n        function pre(preIndent) {\n            const lines = [t('\\n')];\n    \n            while (peek()!=null) {\n                if (peek().type == 'blank') {\n                    next()\n                    lines.push(t('\\n'))\n                } else if (peek().indent > preIndent) {\n                    let n = next()\n\n                    if (n.type == 'div') {\n\n                        let props = {}\n                        Object.keys(n.properties).forEach(k => {\n                            props[k] = n.properties[k].value\n                        })\n            \n                        let div = h(`${n.tag}`,props)\n                        div.children = div.children.concat(pre(n.indent))\n                        lines.push(div)\n                        lines.push(t('\\n'))\n                    } else {\n                        // lines.push(t(n.text))\n                        // lines.push(t('\\n'))\n                        const ss = n.text.split('\\n')\n                        for (let j=0 ; j<ss.length ; j++) {\n                            lines.push(t(ss[j].substring((preIndent+1)*2))) // TODO: hard coded indenting\n                            lines.push(t('\\n'))\n                        }\n                    }\n                } else {\n                    break;\n                }\n            }\n    \n            return lines\n    \n        }\n\n        function blockOf(language,lines) {\n            switch(language) {\n                case \"info\":\n                case \"tip\":\n                case \"note\":\n                case \"warning\":\n                    {\n                        const div = h('div',{class: 'alert-' + language},[])\n                        let text = \"\"\n                        for (let i=0 ; i<lines.length ; i++) {\n                            // if (lines[i].type != 'blank') {\n                            //     if (div.children.length > 0) div.children.push(t('\\n'))\n                            //     div.children.push(t(lines[i].text.substring((indent+1)*2)))\n                            // }\n                            if (lines[i].type == 'blank') {\n                                if (text!=\"\") {\n                                    div.children.push(...lineToSxast(text))\n                                    text = \"\"\n                                }\n                            } else {\n                                const ss = lines[i].text.split('\\n')\n                                for (let j=0 ; j<ss.length ; j++) {\n                                    if (text != \"\") text += '\\n'\n                                    text += ss[j].substring((indent+1)*2) // TODO: hard coded indenting\n                                }\n                            }\n                        }\n                        if (text!=\"\") {\n                            div.children.push(...lineToSxast(text))\n                        }\n\n                        return div            \n                    }\n                default:\n                    {\n                        const code = h('code',{class: 'language-' + (language==\"\"?'text':language)})\n                        let text = '\\n'\n                        for (let i=0 ; i<lines.length ; i++) {\n                            if (lines[i].type == 'blank') {\n                                text += '\\n'\n                            } else {\n                                const ss = lines[i].text.split('\\n')\n                                for (let j=0 ; j<ss.length ; j++) {\n                                    text += ss[j].substring((indent+1)*2) + '\\n' // TODO: hard coded indenting\n                                }\n                            }\n                        }\n                        code.children = [t(text)]\n                        return h('pre',{},[code])\n            \n                    }\n            }\n        }\n        \n        function div() {\n            let n = next()\n\n            let props = {}\n            if (n.properties) {\n                Object.keys(n.properties).forEach(k => {\n                    props[k] = n.properties[k].value\n                })\n            }\n\n            if (n.tag == '!DOCTYPE') {\n                let doctype = { type: 'doctype', properties: props }\n                doctype.children = processIndentation(indent+1)\n                return doctype\n            } else if (n.tag == '!--') {\n                let comment = { type: 'comment' }\n                comment.children = raw()\n                return comment\n            } else if (n.tag == 'script' || n.tag == 'style') {\n                let el = h(n.tag)\n                el.children = raw()\n                return el\n            } else if (n.tag == 'pre') {\n                let el = h('pre')\n                el.children = pre(n.indent)\n                return el\n            } else {\n                // n.properties.forEach(p => {\n                //     props[p.name] = p.value\n                // })\n                let div = h(`${n.tag}`,props)\n                div.children = processIndentation(indent+1)\n                return div\n            }\n        }\n    \n        function heading() {\n            let n = next()\n            if (n==null || n.type != 'heading') {\n                throw new Error('expected heading but found ' + n.type)\n            }\n            return h(`h${Math.min(n.level,6)}`,{}, n.children)\n        }\n    \n        function xList(tagName,type) {\n            return function() {\n                const list = h(tagName,{}, [listItem()] )\n                let n = peek()\n                while (n!=null) {\n                    if (n.indent == indent && n.type == type) {\n                        list.children.push(listItem())\n                    } else if (n.type == 'blank') {\n                        blank()\n                    } else if (n.indent >= indent + 1 ) {\n                        list.children = list.children.concat(processIndentation(indent+1))\n                    } else {\n                        break\n                    }\n                    n = peek()\n                }\n                return list\n            }\n        }\n\n        let orderedList = xList('ol','ordered-list-item')\n        let unorderedList = xList('ul','unordered-list-item')\n\n        function listItem() {\n            let n = next()\n            if (n==null || (n.type != 'unordered-list-item' && n.type != 'ordered-list-item')) {\n                throw new Error('expected list-item but found ' + n.type)\n            }\n            const li = h('li',{}, n.children )\n            let el = li\n            if (n.task) {\n                const form = h('form', {method: 'PUT'})\n                li.children.push(form)\n                const hidden = h('input',{type:'hidden',value:n.task.line})\n                form.children.push(hidden)\n                const checkbox = h('input',{type:'checkbox',onchange:'this.form.submit()'})\n                if (n.task.done) checkbox.properties.checked = 'checked'\n                form.children.push(checkbox)\n                el = checkbox\n            }\n            // n = peek()\n            // while (n != null && n.indent == indent + 1 && n.type == 'text') {\n            //     n = next()\n            //     el.children = el.children.concat(t('\\n')).concat(n.children)\n            //     n = peek()\n            // }\n            return li\n        }\n\n        function blank() {\n            let n = next()\n            if (n==null || n.type != 'blank') {\n                throw new Error('expected blank but found ' + n.type)\n            }\n            return null\n        }\n\n        function scriptError() {\n            let n = next()\n            if (n==null || n.type != 'script-error') {\n                throw new Error('expected script-error but found ' + n.type);\n            }\n            return h('pre',{class:'script-error'},[t(n.text)])\n        }\n       \n        function paragraph() {\n            let n = next()\n            const p = h('div',{ class: 'p' }, n.children)\n            // n = peek()\n            // while (n != null && n.type == 'text' && n.indent == indent) {\n            //     n = next()\n            //     p.children = p.children.concat(t('\\n')).concat(n.children)\n            //     n = peek()\n            // }\n            return p\n        }\n\n        function hr() {\n            let n = next()\n            return h('hr')\n        }\n\n        function codeBlock() {\n            let n = next()\n            if (n==null || n.type != 'code-block') {\n                throw new Error('expected code-block but found ' + n.type)\n            }\n            const language = n.language\n            let lines = []\n            n = peek()\n            while (n!=null && (n.type == \"blank\" || n.indent >= indent + 1)) {\n                lines.push(next())\n                n = peek()\n            }\n            return blockOf(language,lines)\n        }\n    \n        function table() {\n            let n = next()\n            if (n==null || n.type != 'table-row') {\n                throw new Error('expected table-row but found ' + n.type)\n            }\n            let rows = [n]\n            n = peek()\n            while (n!=null && n.type == 'table-row' && n.indent == indent) {\n                rows.push(next())\n                n = peek()\n            }\n            return tableOf(rows)\n        }\n    \n        function yaml() {\n            let n = next()\n            return h('p',{}, n.children)\n        }\n\n        function processLine() {\n            let ln = peek()\n\n            if (ln.indent == undefined) {\n                return blank()\n            }\n    \n            if (ln.indent < indent) {\n                // reduced indentation, exit indented scope\n                return -1\n            }\n    \n            if (ln.indent > indent) {\n                let div = h('div')\n                const divIndent = indent + 1\n                div.children = processIndentation(divIndent)\n                return div\n            }\n    \n            switch (ln.type) {\n                case 'code-block':\n                    return codeBlock()\n                case \"div\":\n                    return div()\n                case \"footnote\":\n                    footnotes.push(next())\n                    return null\n                case \"heading\":\n                    return heading()\n                case 'hr':\n                    return hr()\n                case \"ordered-list-item\":\n                    return orderedList()\n                case \"unordered-list-item\":\n                    return unorderedList()\n                case \"paragraph\":\n                    return paragraph()\n                case \"table-row\":\n                    return table()\n                case \"yaml\":\n                    return yaml()\n                case \"link-definition\":\n                    linkDefinitions.push(next())\n                    return null\n                default:\n                    throw new Error('un-handled type: ' + ln.type)                \n            }\n    \n        }\n\n        const lines = [];\n\n        while (peek()!=null) {\n            let child = processLine()\n            if (child == -1) break\n            if (child) lines.push(child)\n        }\n\n        return lines\n\n    }\n\n    doc.children = processIndentation(0)\n\n    // http://www.java2s.com/example/html-css/css-widget/adding-parentheses-in-html-ordered-list.html\n    if (footnotes.length>0) {\n        let footnotesLookup = {}\n        const ol = h('ol')\n        doc.children.push(h('section',{ class: 'footnotes'},[ol]))\n        for (let i=0 ; i<footnotes.length ; i++) {\n            footnotesLookup[footnotes[i].id] = i+1\n\n            ol.children.push(h('li',{},[ h('a',{name:`footnote-${footnotes[i].id}`}\n            )].concat([t(' ')]).concat(footnotes[i].children)))\n        }\n\n        visit(doc, (node) => {\n            return node.type=='element' && node.tagName=='a' && node.properties['footnote-u'] !== undefined\n        }, (node) => {\n            const id = node.properties['footnote-u']\n            let num = footnotesLookup[node.properties['footnote-u']]\n            if (num===undefined) {\n                // used but not defined\n                num = Object.keys(footnotesLookup).length + 1\n                footnotesLookup[id] = num\n                ol.children.push(h('li',{},[ h('a',{name:`footnote-${id}`}) ]))\n            }\n            node.children[0].value = `[${num}]`\n        })\n    }\n\n    if (linkDefinitions.length>0) {\n\n        let lookup = {}\n\n        for (let i=0 ; i<linkDefinitions.length ; i++) {\n            lookup[linkDefinitions[i].id] = linkDefinitions[i]\n        }\n\n        visit(doc, (node) => {\n            return node.type=='element' && node.tagName=='a' && node.properties['link-ref'] !== undefined\n        }, (node) => {\n            const id = node.properties['link-ref']\n            let ld = lookup[id]\n            if (ld) {\n                delete node.properties['link-ref']\n                const href = ld.link.properties.href\n                const txt = ld.link.children[0].value\n                node.properties['href'] = ld.link.properties.href\n                if (href != txt) {\n                    // if these are different the link definition contains link text\n                    node.children = ld.link.children\n                }\n            }\n        })\n    }\n\n    return doc\n}\n","\nlet handler = {\n    has(target, property) {\n        switch (target.type) {\n            case 'object': {\n                for (let i=0 ; i<target.children.length ; i++) {\n                    let child = target.children[i]\n                    if (child.name == property) {\n                        return true\n                    }\n                }\n            }\n            case 'array': {\n                return property in target.children\n            }\n            case 'unknown': {\n                return false\n            }\n            // case 'value': {\n            //     return true\n            // }\n            default: {\n                throw new Error(target.type)\n            }\n        }\n        return false\n\n        // return property in target\n    },\n    get(target, property, receiver) {\n        switch (target.type) {\n            case 'object': {\n                for (let i=0 ; i<target.children.length ; i++) {\n                    let child = target.children[i]\n                    if (child.name == property) {\n                        if (child.type == 'value') {\n                            return child.value\n                        } else {\n                            return new Proxy(child,handler)\n                        }\n                    }\n                }\n                return null;\n            }\n            case 'array': {\n                const v = target.children[property]\n                if (v==null) return null\n                else if (v.type == 'value') return v.value\n                return new Proxy(v,handler)\n            }\n            case 'unknown': {\n                return null;\n            }\n            case 'value': {\n                return target.value[property]\n            }\n            default: {\n                throw new Error(target.type)\n            }\n        }\n    },\n    set(target, property, value, receiver) {\n        throw new Error('set not-implemented')\n    }\n}\n\nexport default class JsonTree {\n\n    constructor() {\n        this.root = { minChildIndent: 0, type: 'unknown', name: 'root' }\n        this.json = new Proxy(this.root,handler)        \n    }\n\n    iterateLikeStack(cb) {\n        let el = this.root\n        while (el != null) {\n            if (cb.call(null,el) === false) return\n            el = (el.children ? el.children[el.children.length-1] : null)\n            if (el!=null && el.type == 'value') {\n                el = null\n            }\n        }\n    }   \n}\n","\nimport {h} from 'hastscript'\nimport {t} from './hastscript-tools.js'\nimport {matches, select, selectAll} from 'hast-util-select'\nimport SqrmRequest from './SqrmRequest.js'\nimport sastToHast from './sast-to-hast.js';\nimport JsonTree from './jast.js'\n\nexport default class SqrmResponse {\n    constructor(db,jsonTree) {\n        this.db = db\n        this.root = [];\n\n        this.yamlNotAllowedIndent = -1\n\n        this.hastCallbacks = []\n\n        this.jsonTree = jsonTree || new JsonTree()\n        this.json = this.jsonTree.json\n\n        this.libs = {\n            h: h,\n            t: t,\n            matches: matches,\n            select: select,\n            selectAll: selectAll,\n            processHast: this.processHast.bind(this),\n            include: this.include.bind(this),\n//            j: this.j.bind(this),\n            maybeYaml: this.maybeYaml.bind(this),\n            addTask: this.addTask.bind(this),\n            inlineTag: this.inlineTag.bind(this),\n            appendToHtml: this.appendToHtml.bind(this),\n            template: this.template.bind(this),\n//            set: this.set,\n//            append: this.append//.bind(this),\n        };//, tree: new Tree(), util: util };\n\n\n    }\n\n    processHast(cb) {\n        this.hastCallbacks.push(cb)\n    }\n\n    include({collection = 'default',name,args}) {\n\n        const docs = this.db.find(collection,name)\n\n        if (docs == null) {\n            return { type: 'comment', value: `failed to include doc: ${collection}.${name}( ${JSON.stringify(args)} )` }\n        }\n\n        if (docs.length != 1) {\n            return { type: 'comment', value: `failed to include single doc: ${collection}.${name}( ${JSON.stringify(args)} )` }\n        }\n\n        const doc = docs[0]\n        let request = new SqrmRequest(args);\n        let response = new SqrmResponse(this.db,this.jsonTree);\n        doc.execute(request,response)\n        let hast = sastToHast(response.root)\n        return h('div',{class: `${collection}.${name}`},hast.children)\n    }\n\n    appendToHtml(obj) {\n\n        if (this.yamlNotAllowedIndent != -1 && obj.type != 'blank') {\n            if (obj.indent < this.yamlNotAllowedIndent) {\n                this.yamlNotAllowedIndent = -1\n            }\n        }\n\n        if (this.yamlNotAllowedIndent == -1 && obj.type == 'div') {\n            switch (obj.tag) {\n                case 'pre':\n                case 'script':\n                case 'style':\n                case '!--':\n                    this.yamlNotAllowedIndent = obj.indent + 1\n            }\n        }\n\n        let wasAppended = false\n        if (this.appendTextToNode != null && obj.type == 'paragraph') {\n            if (this.appendTextToNode.minIndent !== undefined) {\n                if (this.appendTextToNode.minIndent <= obj.indent) {\n                    delete this.appendTextToNode.minIndent\n                    this.appendTextToNode.indent = obj.indent\n                    const ls = obj.text.split('\\n')\n                    for (let i=0 ; i<ls.length ; i++) {\n                        if (this.appendTextToNode.jsonNode.value != '') {\n                            if (this.appendTextToNode.mode == '|') {\n                                this.appendTextToNode.jsonNode.value += '\\n'\n                            } else {\n                                this.appendTextToNode.jsonNode.value += ' '\n                            }\n                        }\n                        this.appendTextToNode.jsonNode.value += ls[i].trim() // obj.text.trim()\n                    }\n                    wasAppended = true\n                }\n            } else if (this.appendTextToNode.indent == obj.indent) {\n                const ls = obj.text.split('\\n')\n                for (let i=0 ; i<ls.length ; i++) {\n                    if (this.appendTextToNode.jsonNode.value != '') {\n                        if (this.appendTextToNode.mode == '|') {\n                            this.appendTextToNode.jsonNode.value += '\\n'\n                        } else {\n                            this.appendTextToNode.jsonNode.value += ' '\n                        }\n                    }\n                    this.appendTextToNode.jsonNode.value += ls[i].trim() // obj.text.trim()\n                }\n                wasAppended = true\n            }\n        }\n\n        if (!wasAppended) {\n            this.appendTextToNode = null\n            this.root.push(obj)\n        }\n    }\n\n    maybeYaml(obj) {\n\n        if (this.yamlNotAllowedIndent != -1 && obj.indent < this.yamlNotAllowedIndent) {\n            this.yamlNotAllowedIndent = -1\n        }\n\n        const yaml = ( obj.type == 'yaml' ? obj : obj.yaml )\n\n        const line = obj\n\n        if (this.yamlNotAllowedIndent != -1) {\n            this.appendTextToNode = null\n            if (obj.type == 'yaml') obj.type = 'paragraph'\n            this.root.push( obj )// { type: 'text', line: obj.line, text: obj.text, indent: obj.indent, children: obj.children }\n        } else {\n\n            let jsonNode = this.jsonTag(yaml)\n\n            if (jsonNode != null) {\n                if (yaml.value && yaml.value.length==1 && typeof yaml.value[0] == \"string\") {\n\n                    if (yaml.value[0]=='|' || yaml.value[0]=='>') {\n                        // remove the | or > from the value of this node\n                        jsonNode.value = ''\n                        this.appendTextToNode = { minIndent: yaml.indent+1, mode: yaml.value[0], jsonNode: jsonNode }\n                    } else {\n                        this.appendTextToNode = null\n                    }\n                } else {\n                    this.appendTextToNode = null\n                }\n\n                this.root.push( { type: 'blank', line: obj.line } )// h('a',{href:`/tags/${obj.name}`},obj.children)\n            } else {\n                this.appendTextToNode = null\n                if (obj.type == 'yaml') obj.type = 'paragraph'\n                this.root.push( obj )// { type: 'text', line: obj.line, text: obj.text, indent: obj.indent, children: obj.children }\n            }\n        }\n    }\n\n    addTask({line,done,text}) {\n        let tasksNode = null\n\n        if (this.jsonTree.root.type == 'unknown') {\n            this.jsonTree.root.type = 'object'\n            this.jsonTree.root.childrenIndent = 0\n            delete this.jsonTree.root.minChildIndent\n            tasksNode = { type: 'array', name: 'tasks', childrenIndent: 1, children: [] }\n            this.jsonTree.root.children = [tasksNode]\n        } else if (this.jsonTree.root.type == 'object') {\n            for (let i=0 ; i<this.jsonTree.root.children.length ; i++) {\n                const child = this.jsonTree.root.children[i]\n                if (child.name == 'tasks') {\n                    tasksNode = child\n                    break\n                }\n            }\n\n            if (tasksNode == null) {\n                tasksNode = { type: 'array', name: 'tasks', childrenIndent: 1, children: [] }\n                this.jsonTree.root.children.push(tasksNode)\n            }\n        } else {\n            // silently not supported if the root is an array\n            return\n        }\n\n        const taskNode = { type: 'object', childrenIndent: 2, children: [] }\n        taskNode.children.push({ type: 'value', name: 'line', value: line })\n        taskNode.children.push({ type: 'value', name: 'text', value: text })\n        taskNode.children.push({ type: 'value', name: 'done', value: done })\n        tasksNode.children.push(taskNode)\n\n        // this.updateJson()\n    }\n\n    template(fn) {\n        return fn()\n    }\n\n    inlineTag({name,args,children}) {\n        this.jsonTag({\n            indent: 0,\n            isArrayElement: false,\n            name: name,\n            colon: true,\n            value: (args === undefined ? true : args )\n        })\n\n        return h('a',{ href: `/tags/${name}` }, children )\n    }\n\n    // j(name,value) {\n\n    //     if (typeof name == 'object') {\n    //         if (this.jsonTag(name)) {\n    //             // valid yaml, added to json\n    //             return h('a',{href:`/tags/${name.name}`},name.children)\n    //         } else {\n    //             return name.children\n    //         }\n    //     } else {\n    //         if (this.jsonTag({\n    //                 indent: 0,\n    //                 isArrayElement: false,\n    //                 name: name,\n    //                 colon: true,\n    //                 value: value})) {\n    //             // valid yaml, added to json\n    //             return h('a',{href:`/tags/${name.name}`},name.children)\n    //         } else {\n    //             return name.children\n    //         }\n    //     }\n    // }\n\n    jsonTag({indent,isArrayElement,name,colon,value}) {\n\n        if (value != undefined && value.length == 1) {\n            value = value[0]\n        }\n\n        let parent = null\n        if (isArrayElement) {\n            // if this is an array element: look for unknown or array\n\n            this.jsonTree.iterateLikeStack((el) => {\n                if (el.type=='unknown' && el.minChildIndent<=indent) {\n                    parent = el\n                    return false\n                } else if (el.type=='array' && el.childrenIndent==indent) {\n                    parent = el\n                    return false\n                }\n            })\n\n        } else {\n            // if this is not an array element: look fo unknown or object\n\n            this.jsonTree.iterateLikeStack((el) => {\n                if (el.type=='unknown' && el.minChildIndent<=indent) {\n                    parent = el\n                    return false\n                } else if (el.type=='object' && el.childrenIndent==indent) {\n                    parent = el\n                    return false\n                }                \n            })\n        }\n\n        if (parent == null) {\n            return null\n        }\n\n        if (parent.type == 'unknown' && !isArrayElement) {\n            if (parent.minChildIndent > indent) throw new Error()\n\n            parent.type = 'object'\n            parent.childrenIndent = indent\n            delete parent.minChildIndent\n\n            if (colon && value === undefined) {\n                parent.children = [ { minChildIndent: indent, type: 'unknown', name: name } ]\n            } else {\n                parent.children = [ { type: 'value', name: name, value: value } ]\n            }\n\n            // this.updateJson()\n            return parent.children[0]\n        }\n\n        if (parent.type == 'unknown' && isArrayElement) {\n            if (parent.minChildIndent > indent) throw new Error()\n\n            parent.type = 'array'\n            parent.childrenIndent = indent\n            delete parent.minChildIndent\n\n            let jsonNode = null\n            if (colon && value === undefined) {\n                jsonNode = { minChildIndent: indent+1, type:'unknown',name:name }\n                const arrayElement = { childrenIndent: indent+1, type: 'object', children: [jsonNode]}\n                parent.children = [arrayElement]\n            } else if (colon) {\n                jsonNode = { childrenIndent: indent+1, type:'value', name:name, value:value}\n                const arrayElement = { childrenIndent: indent+1, type: 'object', children: [jsonNode]}\n                parent.children = [arrayElement]\n            } else if (!colon) {\n                jsonNode = { type: 'value', value: value }\n                parent.children = [ jsonNode ]\n            }\n\n            // this.updateJson()\n            return jsonNode\n        }\n\n        if (parent.type == 'object' && !isArrayElement) {\n \n            let child = null\n            if (colon && value === undefined) {\n                child = { minChildIndent: indent, type: 'unknown', name: name }\n            } else {\n                child = { type: 'value', name: name, value: value }\n            }\n\n            for (let i=0 ; i<parent.children.length ; i++) {\n                if (parent.children[i].name == name) {\n                    parent.children[i] = child\n                    return parent.children[i]\n                }\n            }\n\n            parent.children.push(child)\n            return parent.children[parent.children.length-1]\n        }\n\n        if (parent.type == 'array' && isArrayElement) {\n\n            let jsonNode = null\n            if (colon && value === undefined) {\n                jsonNode = { minChildIndent: indent+1, type:'unknown',name:name }\n                const arrayElement = { childrenIndent: indent+1, type: 'object', children: [jsonNode]}\n                parent.children.push(arrayElement)\n            } else if (colon) {\n                jsonNode = { childrenIndent: indent+1, type:'value',name:name,value:value}\n                const arrayElement = { childrenIndent: indent+1, type: 'object', children: [jsonNode]}\n                parent.children.push(arrayElement)\n            } else if (!colon) {\n                jsonNode = { type: 'value', value: value }\n                parent.children.push(jsonNode)\n            }\n\n            // this.updateJson()\n            return jsonNode\n        }\n\n        return null\n    }\n\n    // append(ln) {\n    //     this.lines.push(ln)\n    // }\n} \n","\nimport {sxastToJs,sxastToTextJs} from './sxast-to-js.js'\nimport SqrmRequest from './SqrmRequest.js'\nimport SqrmResponse from './SqrmResponse.js'\nimport * as acorn from 'acorn'\n\nexport default class SqrmDocument {\n    \n    constructor(collection,name,sxast,db) {\n        this.collection = collection\n        this.name = name\n        this.db = db;\n\n        const js = sxastToJs(collection,name,sxast)\n\n        if (this.db.settings.log_code) {\n            console.log('= js =============')\n            console.log(js)\n        }\n\n        this.fn = null\n        try {\n            this.fn = new Function(js);\n        } catch (e) {\n\n            // an error occured compiling the template\n            //\n            // the information from this js runtime isn't very\n            // useful for the user as it exposes the call stack\n            // of this code, rather than the users template code\n            //\n            // so we parse with acorn and get that error, but ...\n            // it can be a different error but in the same \n            // location so its so useful\n            //\n            // do we throw an error or return the raw text?\n            //\n            // in the spirit of markdown where every document is\n            // a valid document we return the raw text\n\n            // which this isn't doing at the moment!\n\n            try {\n                const node = acorn.parse(js, {ecmaVersion: 2020})\n            } catch (e) {\n                const errorMessage = e.message.replace(/\\([0-9]+:[[0-9]+\\)/,'')\n                // -1 for 1 based line number in error\n                // -21 for number of extra lines in function\n                const errorLine = e.loc.line - 21 - 1// TODO: magic number\n                // -1 for 1 based column number in error\n                const errorColumn = e.loc.column// - 1\n            \n                const errJs = sxastToTextJs(collection,name,sxast,{errorMessage,errorLine,errorColumn})\n\n                if (this.db.settings.log_code) {\n                    console.log('= js =============')\n                    console.log(errJs)\n                }\n\n                try {\n                    this.fn = new Function(errJs);            \n                } catch (e) {\n                    // this should NOT occur, something really went wrong\n                    throw e\n                }\n            }\n        }\n    }\n\n    execute(request,response) {\n        if (this.fn == null) return\n\n        if (arguments.length == 0) {\n            request = new SqrmRequest();\n            response = new SqrmResponse(this.db);\n        }\n\n        try {\n            this.fn(request,response)\n        } catch (e) {\n            // this is handled in the doc scripts try/catch\n            // it is re-thrown so includes can handle it\n            // this can be ignored\n        }\n\n        return response\n    }\n\n    getIndexedJson() {\n        const doc = this.db.db[this.collection].findOne({ _id: this._id })\n        const res = Object.assign({},doc)\n        delete res._id\n        delete res._text\n        return res\n    }\n\n    getIndexedText() {\n        const doc = this.db.db[this.collection].findOne({ _id: this._id })\n        return doc._text\n    }\n}\n","\n\nimport lineToSxast from './line-to-sxast.js'\nimport strToJs from './str-to-js.js'\nimport link from './str-to-link.js'\n\nconst RE_DocumentSeparator = /^---$/\n\nconst RE_BlankLine = /^\\s*$/\nconst RE_Tag = /^\\s*(([a-zA-Z_$][-a-zA-Z\\d_$]*)\\s*:(\\s+(.*?))?)\\s*$/\nconst RE_ListItemTag = /^\\s*-\\s+([a-zA-Z_$][-a-zA-Z\\d_$]*)(\\s*:(\\s+(.*?))?)?\\s*$/\nconst RE_Script = /^(\\s*)<%(.*?)\\s*$/\nconst RE_Footnote = /^\\s*\\[ *\\^ *(\\S+) *\\] *: *(.+?) *$/\nconst RE_LinkDefinition = /^\\s*\\[ *([^\\]]+) *\\] *: *(.+?) *$/\nconst RE_CodeBlock = /^\\s*``` *(([a-zA-Z]+)?)\\s*$/\nconst RE_Div = /^\\s*(<\\s*((\\!doctype)|([a-z]+([a-z0-9]+)?))((?:\\s+[a-z]+(=\"[^\"]*\")?)*)\\s*>?\\s*)$/i\nconst RE_Heading = /^\\s*((=+)\\s*(\\S.*?)\\s*[-=]*)\\s*$/\nconst RE_HR = /^\\s*[-=_\\*\\s]+$/\nconst RE_ListItem = /^\\s*(?:(?:([-*+])|(\\d+[\\.)]))\\s+(\\S.*?))\\s*$/\nconst RE_ListItemTask = /^\\s*\\[ *([xX]?) *\\]\\s+(.*?)\\s*$/\nconst RE_Table = /^\\s*(\\|(.+?)\\|?)\\s*$/\nconst RE_TableHeader = /^\\s*[-| ]+$/\n\nconst RE_ScriptEnd = /%>\\s*$/\n\nexport default function linesToSxast(lines) {\n    let docs = [[]]\n    let doc = docs[0]\n    let i = 0\n\n    function next() {\n        if (i==lines.length) return null\n        return lines[i++]\n    }\n\n    function peek() {\n        if (i==lines.length) return null\n        return lines[i]\n    }\n\n    function script() {\n        while (peek()!=null) {\n            let ln = next()\n            let m = ln.text.match(RE_ScriptEnd)\n            if (m) {\n                doc.push({ type: 'script', line: ln.line, code: ln.text.replace(RE_ScriptEnd,''), text: ln.text})\n                break\n            } else {\n                doc.push({ type: 'script', line: ln.line, code: ln.text,text: ln.text })\n            }\n        }\n    }\n\n    while (peek()!=null) {\n        let ln = next()\n\n        const s = lineToSqrm(ln)\n\n        if (s.type == 'document-separator') {\n            doc = []\n            docs.push(doc)\n        } else {\n\n            doc.push(s)\n\n            if (s.type == 'script') {\n                let m = ln.text.match(RE_ScriptEnd)\n                if (m) {\n                    s.code = s.code.replace(RE_ScriptEnd,'')\n                } else {\n                    script()\n                }\n            }\n        }\n    }\n\n    // TODO: put this logic inline rather than post\n    // at this point text lines and unordered/ordered-list-item lines \n    // do not have have .children set\n\n    const docsX = []\n    for (const doc of docs) {\n        const docX = []\n        docsX.push(docX)\n        for (let i=0 ; i<doc.length ; i++) {\n            const line = doc[i]\n            if (line.type == 'text') {\n                let text = line.text\n                let trimmed = line.text.trim()\n                for (let j=i+1 ; j<doc.length ; j++) {\n                    const lineX = doc[j]\n                    if (lineX.type == 'text' && lineX.indent == line.indent) {\n                        text += '\\n' + lineX.text\n                        trimmed += '\\n' + lineX.text.trim()\n                        i++\n                    } else {\n                        break\n                    }\n                }\n                line.type = 'paragraph'\n                line.children = textToHast(trimmed)\n                line.text = text\n            } else if (line.type == 'unordered-list-item' || line.type == 'ordered-list-item') {\n                let text = line.text\n                let trimmed = line.item.trim()\n\n                for (let j=i+1 ; j<doc.length ; j++) {\n                    const lineX = doc[j]\n                    if (lineX.type == 'text' && lineX.indent == line.indent + 1) {\n                        text += '\\n' + lineX.text\n                        trimmed += '\\n' + lineX.text.trim()\n                        i++\n                    } else {\n                        break\n                    }\n                }\n\n                line.item = trimmed\n                line.children = textToHast(trimmed)\n                line.text = text\n            }\n\n            docX.push(line)\n        }\n    }\n\n    return docsX\n}\n\nfunction textToCells(text) {\n\n    function splitText(text) {\n        let cells = text.split('|')\n\n        for (let c = cells.length-1 ; c>0 ; c--) {\n            if (cells[c-1].charAt(cells[c-1].length-1) == '\\\\') {\n                cells[c-1] = cells[c-1].slice(0,-1) + '|' + cells[c];\n                cells.splice(c,1);\n            }\n        }\n    \n        return cells;\n    }\n\n    function pragmasToAttributes(pragmas) {\n        let attr = {}\n        \n        for (let i=0 ; i<pragmas.length ; i++) {\n            switch (pragmas[i]) {\n                case '!' :\n                    attr.header = true;\n                    break;\n                case 'r':\n                    attr.align='right';\n                    break;\n                case 'l':\n                    attr.align='left';\n                    break;\n                case 'c':\n                    attr.align='center';\n                    break;\n                case 'v':\n                    if (i+1<pragmas.length) {\n                        let c = pragmas[i+1]\n                        if (c >= '3' && c <= '9') {\n                            attr.rowspan=c*1\n                            i++\n                        } else {\n                            attr.rowspan=2\n                        }\n                    } else {\n                        attr.rowspan=2\n                    }\n                    break;\n                case '>':\n                    if (i+1<pragmas.length) {\n                        let c = pragmas[i+1]\n                        if (c >= '3' && c <= '9') {\n                            attr.colspan=c*1\n                            i++\n                        } else {\n                            attr.colspan=2\n                        }\n                    } else {\n                        attr.colspan=2\n                    }\n\n                    break;\n            }\n        }\n        return attr\n    }\n\n    function tableCellFormatting(s) {\n        for (let i=0; i<s.length ; i++) {\n            if (s[i]==' ') {\n                if (i==0 || i==s.length-1) return ['',s.trim()];\n                return [s.substring(0,i),s.substring(i).trim()]\n            }\n        }\n        return [\"\",s.trim()];\n    }\n        \n    let cells = splitText(text)\n    for (let i=0 ; i<cells.length ; i++) {\n        let [f,t] = tableCellFormatting(cells[i])\n        cells[i] = { children: textToHast(t), formatting: pragmasToAttributes(f) }\n    }\n    return cells;\n}\n\nfunction textToHast(text) {\n    return lineToSxast(text)\n}\n\nfunction lineToSqrm(ln) {\n\n    if (ln.text.length==0) {\n        return {type:'blank', line:ln.line, text: ln.text}\n    }\n\n    let m;\n\n    m = ln.text.match(RE_DocumentSeparator);\n    if (m) {\n        return {type:'document-separator', line: ln.line}\n    }\n\n    m = ln.text.match(RE_HR);\n    if (m) {\n        return {type:'hr',indent:ln.indent,line:ln.line, text: ln.text}\n    }\n\n    m = ln.text.match(RE_Heading)\n    if (m) {\n        return {type:'heading',text: ln.text, level:m[2].length,indent:ln.indent,children:textToHast(m[3]),line:ln.line}\n    }\n\n    m = ln.text.match(RE_ListItem)\n    if (m) {\n\n        if (m[1]!==undefined) {\n            let t = m[3].match(RE_ListItemTask)\n            if (t) {\n                let task = { line: ln.line, done: t[1]!='', text: t[2] }\n                // children = text and is converted to hast in post-process\n                return {type:'unordered-list-item',text: ln.text, indent:ln.indent,marker:m[1],item:t[2],line:ln.line, task: task}\n            } else {\n                // children = text and is converted to hast in post-process\n                let uli = {type:'unordered-list-item',text: ln.text, indent:ln.indent,marker:m[1],item:m[3],line:ln.line}\n\n                let yaml = ln.text.match(RE_ListItemTag)\n                if (yaml) {\n                    uli.yaml = { indent: ln.indent, isArrayElement: true }\n                    if (yaml[4]) {\n                        uli.yaml.name = yaml[1]\n                        uli.yaml.value = strToJs(yaml[4],false)\n                        uli.yaml.colon = true\n                    } else if (yaml[2]) {\n                        uli.yaml.name = yaml[1]\n                        uli.yaml.colon = true\n                    } else {\n                        uli.yaml.value = strToJs(yaml[1],false)\n                        uli.yaml.colon = false\n                    }\n                }\n\n                return uli\n            }\n        } else if (m[2]!==undefined) {\n            let t = m[3].match(RE_ListItemTask)\n            if (t) {\n                let task = { line: ln.line, done: t[1]!='', text: t[2] }\n                // children = text and is converted to hast in post-process\n                return {type:'ordered-list-item',text: ln.text, indent:ln.indent,number:m[2],item:t[2],line:ln.line, task : task}\n            } else {\n                // children = text and is converted to hast in post-process\n                return {type:'ordered-list-item',text: ln.text, indent:ln.indent,number:m[2],item:m[3],line:ln.line}\n            }\n        }\n    }\n\n    m = ln.text.match(RE_Script)\n    if (m) {\n        return {type:'script',indent:ln.indent, code: m[1] + '  ' + m[2], line:ln.line, text: ln.text}\n    }\n\n    m = ln.text.match(RE_Div)\n    if (m) {\n        let properties = {}\n        if (m[6]) {\n            let props =  [... m[6].matchAll(/([^\\s=]+)(=[\"]([^\"]*)[\"])?/g) ]\n            for (let prop of props) {\n                if (prop[3]) {\n                    properties[prop[1]] = { value: prop[3] }\n                } else {\n                    properties[prop[1]] = { value: true }\n                }\n            }\n        }\n        return {type:'div',indent:ln.indent,tag:(m[2]?m[2]:'div'),properties:properties, text: ln.text, line:ln.line}\n    }\n\n    m = ln.text.match(RE_Table)\n    if (m) {\n        const divider = ln.text.match(RE_TableHeader) !== null\n        return { type: 'table-row', indent: ln.indent, divider: divider, text: ln.text, cells: textToCells(m[2]), line: ln.line }\n    }\n\n    m = ln.text.match(RE_BlankLine) \n    if (m) {\n        return {type:'blank', line:ln.line}\n    }\n\n    m = ln.text.match(RE_Tag);\n    if (m) {\n        let tag = {type:'yaml',indent:ln.indent, name:m[2], colon: true, isArrayElement: false, line:ln.line, children: textToHast(m[1]), text: ln.text}\n        if (m[4]) {\n            tag.value  = strToJs(m[4],false)\n        }\n        return tag\n    }\n\n    m = ln.text.match(RE_Footnote);\n    if (m) {\n        return { type: 'footnote', indent: ln.indent, id: m[1], children: textToHast(m[2]), text: ln.text }\n    }\n\n    m = ln.text.match(RE_LinkDefinition);\n    if (m) {\n        return { type: 'link-definition', indent: ln.indent, id: m[1].trim().toLowerCase(), link: link(m[2]) }\n    }\n\n    m = ln.text.match(RE_CodeBlock);\n    if (m) {\n        return {type:'code-block',indent:ln.indent,language: m[1],line:ln.line}\n    }\n\n    // children = text and is converted to hast in post-process\n    return {type:'text',indent:ln.indent,line:ln.line, children:ln.text.trim(),text: ln.text}\n\n}\n","\nimport sqrmToLines from './sqrm-to-lines.js'\nimport linesToSxast from './lines-to-sxast.js'\n\nexport default function sxastParser(src,options) {\n\n    if (options.log_src) {\n        console.log('= src ================')\n        console.log(src)\n    }\n    \n    // TODO: hack to fix invalid javascript quoting\n    src = src.replace(/[]/g,'\"')\n\n    const lines = sqrmToLines(src)\n    \n    if (options.log_lines) {\n        console.log('= lines =============')\n        console.log(JSON.stringify(lines,null,'\\t'));\n    }\n    \n    const sxasts = linesToSxast(lines)\n    \n    if (options.log_sxast) {\n        console.log('= sxast =============')\n        console.log(JSON.stringify(sxasts,null,'\\t'));\n    }\n    \n    return sxasts\n}","\nexport default function sqrmToLines(str, indentation = 2) {\n\n    const l = str.length\n    let lines = []\n    let i = 0;\n    let j = 0;\n    let n = 1;\n\n    let atLineStart = true\n    let indent = 0\n\n    function addLine(split) {\n        lines.push({line: n, indent: Math.floor(indent/indentation), text: str.substring(i,j)})\n        ++n\n        atLineStart = true\n        indent = 0\n        i = j + split;\n        j = i\n    }\n\n    while (j<l) {\n\n        const s = str[j]\n        if (atLineStart) {\n            if (s==' ') {\n                ++indent\n            } else {\n                atLineStart = false\n            }\n        }\n        if (s=='\\r') {\n            if (j+1<l && str[j+1]=='\\n') {\n                addLine(2)\n            } else {\n                j++\n            }\n        } else if (s=='\\n') {\n            addLine(1)\n        } else {\n            ++j\n        }\n    }\n    addLine(0)\n\n    return lines;\n}\n","/**\n * List of HTML void tag names.\n *\n * @type {Array<string>}\n */\nexport const htmlVoidElements = [\n  'area',\n  'base',\n  'basefont',\n  'bgsound',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'frame',\n  'hr',\n  'image',\n  'img',\n  'input',\n  'isindex',\n  'keygen',\n  'link',\n  'menuitem',\n  'meta',\n  'nextid',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]\n","/**\n * @typedef {import('../../types.js').Comment} Comment\n */\n\nimport {convert} from 'unist-util-is'\n\n/** @type {import('unist-util-is').AssertPredicate<Comment>} */\n// @ts-ignore\nexport const comment = convert('comment')\n","/**\n * @typedef {import('../../types.js').Parent} Parent\n * @typedef {import('../../types.js').Child} Child\n */\n\nimport {whitespace} from 'hast-util-whitespace'\n\nexport const siblingAfter = siblings(1)\nexport const siblingBefore = siblings(-1)\n\n/**\n * Factory to check siblings in a direction.\n *\n * @param {number} increment\n */\nfunction siblings(increment) {\n  return sibling\n\n  /**\n   * Find applicable siblings in a direction.\n   *\n   * @param {Parent} parent\n   * @param {number} index\n   * @param {boolean} [includeWhitespace=false]\n   * @returns {Child}\n   */\n  function sibling(parent, index, includeWhitespace) {\n    const siblings = parent && parent.children\n    let offset = index + increment\n    let next = siblings && siblings[offset]\n\n    if (!includeWhitespace) {\n      while (next && whitespace(next)) {\n        offset += increment\n        next = siblings[offset]\n      }\n    }\n\n    return next\n  }\n}\n","/**\n * @typedef {import('../../types.js').Node} Node\n * @typedef {import('../../types.js').Text} Text\n */\n\nimport {convert} from 'unist-util-is'\nimport {whitespace} from 'hast-util-whitespace'\n\n/** @type {import('unist-util-is').AssertPredicate<Text>} */\n// @ts-ignore\nconst isText = convert('text')\n\n/**\n * Check if `node` starts with whitespace.\n *\n * @param {Node} node\n * @returns {boolean}\n */\nexport function whitespaceStart(node) {\n  return isText(node) && whitespace(node.value.charAt(0))\n}\n","/**\n * @typedef {import('../types.js').OmitHandle} OmitHandle\n */\n\nconst own = {}.hasOwnProperty\n\n/**\n * Factory to check if a given node can have a tag omitted.\n *\n * @param {Object.<string, OmitHandle>} handlers\n * @returns {OmitHandle}\n */\nexport function omission(handlers) {\n  return omit\n\n  /**\n   * Check if a given node can have a tag omitted.\n   *\n   * @type {OmitHandle}\n   */\n  function omit(node, index, parent) {\n    return (\n      own.call(handlers, node.tagName) &&\n      handlers[node.tagName](node, index, parent)\n    )\n  }\n}\n","/**\n * @typedef {import('../types.js').OmitHandle} OmitHandle\n */\n\nimport {isElement} from 'hast-util-is-element'\nimport {comment} from './util/comment.js'\nimport {siblingAfter} from './util/siblings.js'\nimport {whitespaceStart} from './util/whitespace-start.js'\nimport {omission} from './omission.js'\n\nexport const closing = omission({\n  html,\n  head: headOrColgroupOrCaption,\n  body,\n  p,\n  li,\n  dt,\n  dd,\n  rt: rubyElement,\n  rp: rubyElement,\n  optgroup,\n  option,\n  menuitem,\n  colgroup: headOrColgroupOrCaption,\n  caption: headOrColgroupOrCaption,\n  thead,\n  tbody,\n  tfoot,\n  tr,\n  td: cells,\n  th: cells\n})\n\n/**\n * Macro for `</head>`, `</colgroup>`, and `</caption>`.\n *\n * @type {OmitHandle}\n */\nfunction headOrColgroupOrCaption(_, index, parent) {\n  const next = siblingAfter(parent, index, true)\n  return !next || (!comment(next) && !whitespaceStart(next))\n}\n\n/**\n * Whether to omit `</html>`.\n *\n * @type {OmitHandle}\n */\nfunction html(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || !comment(next)\n}\n\n/**\n * Whether to omit `</body>`.\n *\n * @type {OmitHandle}\n */\nfunction body(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || !comment(next)\n}\n\n/**\n * Whether to omit `</p>`.\n *\n * @type {OmitHandle}\n */\nfunction p(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return next\n    ? isElement(next, [\n        'address',\n        'article',\n        'aside',\n        'blockquote',\n        'details',\n        'div',\n        'dl',\n        'fieldset',\n        'figcaption',\n        'figure',\n        'footer',\n        'form',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'header',\n        'hgroup',\n        'hr',\n        'main',\n        'menu',\n        'nav',\n        'ol',\n        'p',\n        'pre',\n        'section',\n        'table',\n        'ul'\n      ])\n    : !parent ||\n        // Confusing parent.\n        !isElement(parent, [\n          'a',\n          'audio',\n          'del',\n          'ins',\n          'map',\n          'noscript',\n          'video'\n        ])\n}\n\n/**\n * Whether to omit `</li>`.\n *\n * @type {OmitHandle}\n */\nfunction li(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, 'li')\n}\n\n/**\n * Whether to omit `</dt>`.\n *\n * @type {OmitHandle}\n */\nfunction dt(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return next && isElement(next, ['dt', 'dd'])\n}\n\n/**\n * Whether to omit `</dd>`.\n *\n * @type {OmitHandle}\n */\nfunction dd(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, ['dt', 'dd'])\n}\n\n/**\n * Whether to omit `</rt>` or `</rp>`.\n *\n * @type {OmitHandle}\n */\nfunction rubyElement(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, ['rp', 'rt'])\n}\n\n/**\n * Whether to omit `</optgroup>`.\n *\n * @type {OmitHandle}\n */\nfunction optgroup(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, 'optgroup')\n}\n\n/**\n * Whether to omit `</option>`.\n *\n * @type {OmitHandle}\n */\nfunction option(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, ['option', 'optgroup'])\n}\n\n/**\n * Whether to omit `</menuitem>`.\n *\n * @type {OmitHandle}\n */\nfunction menuitem(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, ['menuitem', 'hr', 'menu'])\n}\n\n/**\n * Whether to omit `</thead>`.\n *\n * @type {OmitHandle}\n */\nfunction thead(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return next && isElement(next, ['tbody', 'tfoot'])\n}\n\n/**\n * Whether to omit `</tbody>`.\n *\n * @type {OmitHandle}\n */\nfunction tbody(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, ['tbody', 'tfoot'])\n}\n\n/**\n * Whether to omit `</tfoot>`.\n *\n * @type {OmitHandle}\n */\nfunction tfoot(_, index, parent) {\n  return !siblingAfter(parent, index)\n}\n\n/**\n * Whether to omit `</tr>`.\n *\n * @type {OmitHandle}\n */\nfunction tr(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, 'tr')\n}\n\n/**\n * Whether to omit `</td>` or `</th>`.\n *\n * @type {OmitHandle}\n */\nfunction cells(_, index, parent) {\n  const next = siblingAfter(parent, index)\n  return !next || isElement(next, ['td', 'th'])\n}\n","/**\n * @typedef {import('../types.js').OmitHandle} OmitHandle\n * @typedef {import('../types.js').Child} Child\n */\n\nimport {isElement} from 'hast-util-is-element'\nimport {comment} from './util/comment.js'\nimport {siblingBefore, siblingAfter} from './util/siblings.js'\nimport {whitespaceStart} from './util/whitespace-start.js'\nimport {closing} from './closing.js'\nimport {omission} from './omission.js'\n\nexport const opening = omission({\n  html,\n  head,\n  body,\n  colgroup,\n  tbody\n})\n\n/**\n * Whether to omit `<html>`.\n *\n * @type {OmitHandle}\n */\nfunction html(node) {\n  const head = siblingAfter(node, -1)\n  return !head || !comment(head)\n}\n\n/**\n * Whether to omit `<head>`.\n *\n * @type {OmitHandle}\n */\nfunction head(node) {\n  const children = node.children\n  /** @type {Array.<string>} */\n  const seen = []\n  let index = -1\n  /** @type {Child} */\n  let child\n\n  while (++index < children.length) {\n    child = children[index]\n    if (isElement(child, ['title', 'base'])) {\n      if (seen.includes(child.tagName)) return false\n      seen.push(child.tagName)\n    }\n  }\n\n  return children.length > 0\n}\n\n/**\n * Whether to omit `<body>`.\n *\n * @type {OmitHandle}\n */\nfunction body(node) {\n  const head = siblingAfter(node, -1, true)\n\n  return (\n    !head ||\n    (!comment(head) &&\n      !whitespaceStart(head) &&\n      !isElement(head, ['meta', 'link', 'script', 'style', 'template']))\n  )\n}\n\n/**\n * Whether to omit `<colgroup>`.\n * The spec describes some logic for the opening tag, but its easier to\n * implement in the closing tag, to the same effect, so we handle it there\n * instead.\n *\n * @type {OmitHandle}\n */\nfunction colgroup(node, index, parent) {\n  const previous = siblingBefore(parent, index)\n  const head = siblingAfter(node, -1, true)\n\n  // Previous colgroup was already omitted.\n  if (\n    isElement(previous, 'colgroup') &&\n    closing(previous, parent.children.indexOf(previous), parent)\n  ) {\n    return false\n  }\n\n  return head && isElement(head, 'col')\n}\n\n/**\n * Whether to omit `<tbody>`.\n *\n * @type {OmitHandle}\n */\nfunction tbody(node, index, parent) {\n  const previous = siblingBefore(parent, index)\n  const head = siblingAfter(node, -1)\n\n  // Previous table section was already omitted.\n  if (\n    isElement(previous, ['thead', 'tbody']) &&\n    closing(previous, parent.children.indexOf(previous), parent)\n  ) {\n    return false\n  }\n\n  return head && isElement(head, 'tr')\n}\n","/**\n * @typedef {import('../types.js').Omission} Omission\n */\n\nimport {opening} from './opening.js'\nimport {closing} from './closing.js'\n\n/** @type {Omission} */\nexport const omission = {opening, closing}\n","/**\n * @typedef CoreOptions\n * @property {Array<string>} [subset=[]]\n *   Whether to only escape the given subset of characters.\n * @property {boolean} [escapeOnly=false]\n *   Whether to only escape possibly dangerous characters.\n *   Those characters are `\"`, `&`, `'`, `<`, `>`, and `` ` ``.\n *\n * @typedef FormatOptions\n * @property {(code: number, next: number, options: CoreWithFormatOptions) => string} format\n *   Format strategy.\n *\n * @typedef {CoreOptions & FormatOptions & import('./util/format-smart.js').FormatSmartOptions} CoreWithFormatOptions\n */\n\n/**\n * Encode certain characters in `value`.\n *\n * @param {string} value\n * @param {CoreWithFormatOptions} options\n * @returns {string}\n */\nexport function core(value, options) {\n  value = value.replace(\n    options.subset ? charactersToExpression(options.subset) : /[\"&'<>`]/g,\n    basic\n  )\n\n  if (options.subset || options.escapeOnly) {\n    return value\n  }\n\n  return (\n    value\n      // Surrogate pairs.\n      .replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, surrogate)\n      // BMP control characters (C0 except for LF, CR, SP; DEL; and some more\n      // non-ASCII ones).\n      .replace(\n        // eslint-disable-next-line no-control-regex, unicorn/no-hex-escape\n        /[\\x01-\\t\\v\\f\\x0E-\\x1F\\x7F\\x81\\x8D\\x8F\\x90\\x9D\\xA0-\\uFFFF]/g,\n        basic\n      )\n  )\n\n  /**\n   * @param {string} pair\n   * @param {number} index\n   * @param {string} all\n   */\n  function surrogate(pair, index, all) {\n    return options.format(\n      (pair.charCodeAt(0) - 0xd800) * 0x400 +\n        pair.charCodeAt(1) -\n        0xdc00 +\n        0x10000,\n      all.charCodeAt(index + 2),\n      options\n    )\n  }\n\n  /**\n   * @param {string} character\n   * @param {number} index\n   * @param {string} all\n   */\n  function basic(character, index, all) {\n    return options.format(\n      character.charCodeAt(0),\n      all.charCodeAt(index + 1),\n      options\n    )\n  }\n}\n\n/**\n * @param {Array<string>} subset\n * @returns {RegExp}\n */\nfunction charactersToExpression(subset) {\n  /** @type {Array<string>} */\n  const groups = []\n  let index = -1\n\n  while (++index < subset.length) {\n    groups.push(subset[index].replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&'))\n  }\n\n  return new RegExp('(?:' + groups.join('|') + ')', 'g')\n}\n","/**\n * List of legacy HTML named character references that dont need a trailing semicolon.\n *\n * @type {Array<string>}\n */\nexport const characterEntitiesLegacy = [\n  'AElig',\n  'AMP',\n  'Aacute',\n  'Acirc',\n  'Agrave',\n  'Aring',\n  'Atilde',\n  'Auml',\n  'COPY',\n  'Ccedil',\n  'ETH',\n  'Eacute',\n  'Ecirc',\n  'Egrave',\n  'Euml',\n  'GT',\n  'Iacute',\n  'Icirc',\n  'Igrave',\n  'Iuml',\n  'LT',\n  'Ntilde',\n  'Oacute',\n  'Ocirc',\n  'Ograve',\n  'Oslash',\n  'Otilde',\n  'Ouml',\n  'QUOT',\n  'REG',\n  'THORN',\n  'Uacute',\n  'Ucirc',\n  'Ugrave',\n  'Uuml',\n  'Yacute',\n  'aacute',\n  'acirc',\n  'acute',\n  'aelig',\n  'agrave',\n  'amp',\n  'aring',\n  'atilde',\n  'auml',\n  'brvbar',\n  'ccedil',\n  'cedil',\n  'cent',\n  'copy',\n  'curren',\n  'deg',\n  'divide',\n  'eacute',\n  'ecirc',\n  'egrave',\n  'eth',\n  'euml',\n  'frac12',\n  'frac14',\n  'frac34',\n  'gt',\n  'iacute',\n  'icirc',\n  'iexcl',\n  'igrave',\n  'iquest',\n  'iuml',\n  'laquo',\n  'lt',\n  'macr',\n  'micro',\n  'middot',\n  'nbsp',\n  'not',\n  'ntilde',\n  'oacute',\n  'ocirc',\n  'ograve',\n  'ordf',\n  'ordm',\n  'oslash',\n  'otilde',\n  'ouml',\n  'para',\n  'plusmn',\n  'pound',\n  'quot',\n  'raquo',\n  'reg',\n  'sect',\n  'shy',\n  'sup1',\n  'sup2',\n  'sup3',\n  'szlig',\n  'thorn',\n  'times',\n  'uacute',\n  'ucirc',\n  'ugrave',\n  'uml',\n  'uuml',\n  'yacute',\n  'yen',\n  'yuml'\n]\n","/**\n * Map of named character references from HTML 4.\n *\n * @type {Record<string, string>}\n */\nexport const characterEntitiesHtml4 = {\n  nbsp: '',\n  iexcl: '',\n  cent: '',\n  pound: '',\n  curren: '',\n  yen: '',\n  brvbar: '',\n  sect: '',\n  uml: '',\n  copy: '',\n  ordf: '',\n  laquo: '',\n  not: '',\n  shy: '',\n  reg: '',\n  macr: '',\n  deg: '',\n  plusmn: '',\n  sup2: '',\n  sup3: '',\n  acute: '',\n  micro: '',\n  para: '',\n  middot: '',\n  cedil: '',\n  sup1: '',\n  ordm: '',\n  raquo: '',\n  frac14: '',\n  frac12: '',\n  frac34: '',\n  iquest: '',\n  Agrave: '',\n  Aacute: '',\n  Acirc: '',\n  Atilde: '',\n  Auml: '',\n  Aring: '',\n  AElig: '',\n  Ccedil: '',\n  Egrave: '',\n  Eacute: '',\n  Ecirc: '',\n  Euml: '',\n  Igrave: '',\n  Iacute: '',\n  Icirc: '',\n  Iuml: '',\n  ETH: '',\n  Ntilde: '',\n  Ograve: '',\n  Oacute: '',\n  Ocirc: '',\n  Otilde: '',\n  Ouml: '',\n  times: '',\n  Oslash: '',\n  Ugrave: '',\n  Uacute: '',\n  Ucirc: '',\n  Uuml: '',\n  Yacute: '',\n  THORN: '',\n  szlig: '',\n  agrave: '',\n  aacute: '',\n  acirc: '',\n  atilde: '',\n  auml: '',\n  aring: '',\n  aelig: '',\n  ccedil: '',\n  egrave: '',\n  eacute: '',\n  ecirc: '',\n  euml: '',\n  igrave: '',\n  iacute: '',\n  icirc: '',\n  iuml: '',\n  eth: '',\n  ntilde: '',\n  ograve: '',\n  oacute: '',\n  ocirc: '',\n  otilde: '',\n  ouml: '',\n  divide: '',\n  oslash: '',\n  ugrave: '',\n  uacute: '',\n  ucirc: '',\n  uuml: '',\n  yacute: '',\n  thorn: '',\n  yuml: '',\n  fnof: '',\n  Alpha: '',\n  Beta: '',\n  Gamma: '',\n  Delta: '',\n  Epsilon: '',\n  Zeta: '',\n  Eta: '',\n  Theta: '',\n  Iota: '',\n  Kappa: '',\n  Lambda: '',\n  Mu: '',\n  Nu: '',\n  Xi: '',\n  Omicron: '',\n  Pi: '',\n  Rho: '',\n  Sigma: '',\n  Tau: '',\n  Upsilon: '',\n  Phi: '',\n  Chi: '',\n  Psi: '',\n  Omega: '',\n  alpha: '',\n  beta: '',\n  gamma: '',\n  delta: '',\n  epsilon: '',\n  zeta: '',\n  eta: '',\n  theta: '',\n  iota: '',\n  kappa: '',\n  lambda: '',\n  mu: '',\n  nu: '',\n  xi: '',\n  omicron: '',\n  pi: '',\n  rho: '',\n  sigmaf: '',\n  sigma: '',\n  tau: '',\n  upsilon: '',\n  phi: '',\n  chi: '',\n  psi: '',\n  omega: '',\n  thetasym: '',\n  upsih: '',\n  piv: '',\n  bull: '',\n  hellip: '',\n  prime: '',\n  Prime: '',\n  oline: '',\n  frasl: '',\n  weierp: '',\n  image: '',\n  real: '',\n  trade: '',\n  alefsym: '',\n  larr: '',\n  uarr: '',\n  rarr: '',\n  darr: '',\n  harr: '',\n  crarr: '',\n  lArr: '',\n  uArr: '',\n  rArr: '',\n  dArr: '',\n  hArr: '',\n  forall: '',\n  part: '',\n  exist: '',\n  empty: '',\n  nabla: '',\n  isin: '',\n  notin: '',\n  ni: '',\n  prod: '',\n  sum: '',\n  minus: '',\n  lowast: '',\n  radic: '',\n  prop: '',\n  infin: '',\n  ang: '',\n  and: '',\n  or: '',\n  cap: '',\n  cup: '',\n  int: '',\n  there4: '',\n  sim: '',\n  cong: '',\n  asymp: '',\n  ne: '',\n  equiv: '',\n  le: '',\n  ge: '',\n  sub: '',\n  sup: '',\n  nsub: '',\n  sube: '',\n  supe: '',\n  oplus: '',\n  otimes: '',\n  perp: '',\n  sdot: '',\n  lceil: '',\n  rceil: '',\n  lfloor: '',\n  rfloor: '',\n  lang: '',\n  rang: '',\n  loz: '',\n  spades: '',\n  clubs: '',\n  hearts: '',\n  diams: '',\n  quot: '\"',\n  amp: '&',\n  lt: '<',\n  gt: '>',\n  OElig: '',\n  oelig: '',\n  Scaron: '',\n  scaron: '',\n  Yuml: '',\n  circ: '',\n  tilde: '',\n  ensp: '',\n  emsp: '',\n  thinsp: '',\n  zwnj: '',\n  zwj: '',\n  lrm: '',\n  rlm: '',\n  ndash: '',\n  mdash: '',\n  lsquo: '',\n  rsquo: '',\n  sbquo: '',\n  ldquo: '',\n  rdquo: '',\n  bdquo: '',\n  dagger: '',\n  Dagger: '',\n  permil: '',\n  lsaquo: '',\n  rsaquo: '',\n  euro: ''\n}\n","/**\n * List of legacy (that dont need a trailing `;`) named references which could,\n * depending on what follows them, turn into a different meaning\n *\n * @type {Array<string>}\n */\nexport const dangerous = [\n  'cent',\n  'copy',\n  'divide',\n  'gt',\n  'lt',\n  'not',\n  'para',\n  'times'\n]\n","import {characterEntitiesLegacy} from 'character-entities-legacy'\nimport {characterEntitiesHtml4} from 'character-entities-html4'\nimport {dangerous} from '../constant/dangerous.js'\n\nconst own = {}.hasOwnProperty\n\n/**\n * `characterEntitiesHtml4` but inverted.\n *\n * @type {Record<string, string>}\n */\nconst characters = {}\n\n/** @type {string} */\nlet key\n\nfor (key in characterEntitiesHtml4) {\n  if (own.call(characterEntitiesHtml4, key)) {\n    characters[characterEntitiesHtml4[key]] = key\n  }\n}\n\n/**\n * Configurable ways to encode characters as named references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @param {boolean|undefined} attribute\n * @returns {string}\n */\nexport function toNamed(code, next, omit, attribute) {\n  const character = String.fromCharCode(code)\n\n  if (own.call(characters, character)) {\n    const name = characters[character]\n    const value = '&' + name\n\n    if (\n      omit &&\n      characterEntitiesLegacy.includes(name) &&\n      !dangerous.includes(name) &&\n      (!attribute ||\n        (next &&\n          next !== 61 /* `=` */ &&\n          /[^\\da-z]/i.test(String.fromCharCode(next))))\n    ) {\n      return value\n    }\n\n    return value + ';'\n  }\n\n  return ''\n}\n","/**\n * @typedef FormatSmartOptions\n * @property {boolean} [useNamedReferences=false]\n *   Prefer named character references (`&amp;`) where possible.\n * @property {boolean} [useShortestReferences=false]\n *   Prefer the shortest possible reference, if that results in less bytes.\n *   **Note**: `useNamedReferences` can be omitted when using `useShortestReferences`.\n * @property {boolean} [omitOptionalSemicolons=false]\n *   Whether to omit semicolons when possible.\n *   **Note**: This creates what HTML calls parse errors but is otherwise still valid HTML  dont use this except when building a minifier.\n *   Omitting semicolons is possible for certain named and numeric references in some cases.\n * @property {boolean} [attribute=false]\n *   Create character references which dont fail in attributes.\n *   **Note**: `attribute` only applies when operating dangerously with\n *   `omitOptionalSemicolons: true`.\n */\n\nimport {toHexadecimal} from './to-hexadecimal.js'\nimport {toDecimal} from './to-decimal.js'\nimport {toNamed} from './to-named.js'\n\n/**\n * Configurable ways to encode a character yielding pretty or small results.\n *\n * @param {number} code\n * @param {number} next\n * @param {FormatSmartOptions} options\n * @returns {string}\n */\nexport function formatSmart(code, next, options) {\n  let numeric = toHexadecimal(code, next, options.omitOptionalSemicolons)\n  /** @type {string|undefined} */\n  let named\n\n  if (options.useNamedReferences || options.useShortestReferences) {\n    named = toNamed(\n      code,\n      next,\n      options.omitOptionalSemicolons,\n      options.attribute\n    )\n  }\n\n  // Use the shortest numeric reference when requested.\n  // A simple algorithm would use decimal for all code points under 100, as\n  // those are shorter than hexadecimal:\n  //\n  // * `&#99;` vs `&#x63;` (decimal shorter)\n  // * `&#100;` vs `&#x64;` (equal)\n  //\n  // However, because we take `next` into consideration when `omit` is used,\n  // And it would be possible that decimals are shorter on bigger values as\n  // well if `next` is hexadecimal but not decimal, we instead compare both.\n  if (\n    (options.useShortestReferences || !named) &&\n    options.useShortestReferences\n  ) {\n    const decimal = toDecimal(code, next, options.omitOptionalSemicolons)\n\n    if (decimal.length < numeric.length) {\n      numeric = decimal\n    }\n  }\n\n  return named &&\n    (!options.useShortestReferences || named.length < numeric.length)\n    ? named\n    : numeric\n}\n","/**\n * Configurable ways to encode characters as hexadecimal references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @returns {string}\n */\nexport function toHexadecimal(code, next, omit) {\n  const value = '&#x' + code.toString(16).toUpperCase()\n  return omit && next && !/[\\dA-Fa-f]/.test(String.fromCharCode(next))\n    ? value\n    : value + ';'\n}\n","/**\n * Configurable ways to encode characters as decimal references.\n *\n * @param {number} code\n * @param {number} next\n * @param {boolean|undefined} omit\n * @returns {string}\n */\nexport function toDecimal(code, next, omit) {\n  const value = '&#' + String(code)\n  return omit && next && !/\\d/.test(String.fromCharCode(next))\n    ? value\n    : value + ';'\n}\n","/**\n * @typedef {import('./core.js').CoreOptions & import('./util/format-smart.js').FormatSmartOptions} Options\n * @typedef {import('./core.js').CoreOptions} LightOptions\n */\n\nimport {core} from './core.js'\nimport {formatSmart} from './util/format-smart.js'\nimport {formatBasic} from './util/format-basic.js'\n\n/**\n * Encode special characters in `value`.\n *\n * @param {string} value\n *   Value to encode.\n * @param {Options} [options]\n *   Configuration.\n * @returns {string}\n *   Encoded value.\n */\nexport function stringifyEntities(value, options) {\n  return core(value, Object.assign({format: formatSmart}, options))\n}\n\n/**\n * Encode special characters in `value` as hexadecimals.\n *\n * @param {string} value\n *   Value to encode.\n * @param {LightOptions} [options]\n *   Configuration.\n * @returns {string}\n *   Encoded value.\n */\nexport function stringifyEntitiesLight(value, options) {\n  return core(value, Object.assign({format: formatBasic}, options))\n}\n","/**\n * Count how often a character (or substring) is used in a string.\n *\n * @param {string} value\n *   Value to search in.\n * @param {string} character\n *   Character (or substring) to look for.\n * @return {number}\n *   Number of times `character` occurred in `value`.\n */\nexport function ccount(value, character) {\n  const source = String(value)\n\n  if (typeof character !== 'string') {\n    throw new TypeError('Expected character')\n  }\n\n  let count = 0\n  let index = source.indexOf(character)\n\n  while (index !== -1) {\n    count++\n    index = source.indexOf(character, index + character.length)\n  }\n\n  return count\n}\n","// Maps of subsets.\n// Each value is a matrix of tuples.\n// The first value causes parse errors, the second is valid.\n// Of both values, the first value is unsafe, and the second is safe.\nexport const constants = {\n  // See: <https://html.spec.whatwg.org/#attribute-name-state>.\n  name: [\n    ['\\t\\n\\f\\r &/=>'.split(''), '\\t\\n\\f\\r \"&\\'/=>`'.split('')],\n    ['\\0\\t\\n\\f\\r \"&\\'/<=>'.split(''), '\\0\\t\\n\\f\\r \"&\\'/<=>`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(unquoted)-state>.\n  unquoted: [\n    ['\\t\\n\\f\\r &>'.split(''), '\\0\\t\\n\\f\\r \"&\\'<=>`'.split('')],\n    ['\\0\\t\\n\\f\\r \"&\\'<=>`'.split(''), '\\0\\t\\n\\f\\r \"&\\'<=>`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(single-quoted)-state>.\n  single: [\n    [\"&'\".split(''), '\"&\\'`'.split('')],\n    [\"\\0&'\".split(''), '\\0\"&\\'`'.split('')]\n  ],\n  // See: <https://html.spec.whatwg.org/#attribute-value-(double-quoted)-state>.\n  double: [\n    ['\"&'.split(''), '\"&\\'`'.split('')],\n    ['\\0\"&'.split(''), '\\0\"&\\'`'.split('')]\n  ]\n}\n","/**\n * @typedef {import('./types.js').Handle} Handle\n * @typedef {import('./types.js').Text} Text\n */\n\nimport {stringifyEntities} from 'stringify-entities'\n\n/**\n * @type {Handle}\n * @param {Text} node\n */\nexport function text(ctx, node, _, parent) {\n  // Check if content of `node` should be escaped.\n  return parent &&\n    parent.type === 'element' &&\n    // @ts-expect-error: hush.\n    (parent.tagName === 'script' || parent.tagName === 'style')\n    ? node.value\n    : stringifyEntities(\n        node.value,\n        Object.assign({}, ctx.entities, {subset: ['<', '&']})\n      )\n}\n","/**\n * @typedef {import('./types.js').Handle} Handle\n * @typedef {import('./types.js').Element} Element\n * @typedef {import('./types.js').Context} Context\n * @typedef {import('./types.js').Properties} Properties\n * @typedef {import('./types.js').PropertyValue} PropertyValue\n * @typedef {import('./types.js').Parent} Parent\n */\n\nimport {svg, find} from 'property-information'\nimport {stringify as spaces} from 'space-separated-tokens'\nimport {stringify as commas} from 'comma-separated-tokens'\nimport {stringifyEntities} from 'stringify-entities'\nimport {ccount} from 'ccount'\nimport {constants} from './constants.js'\nimport {comment} from './comment.js'\nimport {doctype} from './doctype.js'\nimport {raw} from './raw.js'\nimport {text} from './text.js'\n\n/**\n * @type {Object.<string, Handle>}\n */\nconst handlers = {\n  comment,\n  doctype,\n  element,\n  // @ts-ignore `raw` is nonstandard\n  raw,\n  // @ts-ignore `root` is a parent.\n  root: all,\n  text\n}\n\nconst own = {}.hasOwnProperty\n\n/**\n * @type {Handle}\n */\nexport function one(ctx, node, index, parent) {\n  if (!node || !node.type) {\n    throw new Error('Expected node, not `' + node + '`')\n  }\n\n  if (!own.call(handlers, node.type)) {\n    throw new Error('Cannot compile unknown node `' + node.type + '`')\n  }\n\n  return handlers[node.type](ctx, node, index, parent)\n}\n\n/**\n * Serialize all children of `parent`.\n *\n * @type {Handle}\n * @param {Parent} parent\n */\nexport function all(ctx, parent) {\n  /** @type {Array.<string>} */\n  const results = []\n  const children = (parent && parent.children) || []\n  let index = -1\n\n  while (++index < children.length) {\n    results[index] = one(ctx, children[index], index, parent)\n  }\n\n  return results.join('')\n}\n\n/**\n * @type {Handle}\n * @param {Element} node\n */\n// eslint-disable-next-line complexity\nexport function element(ctx, node, index, parent) {\n  const schema = ctx.schema\n  const omit = schema.space === 'svg' ? undefined : ctx.omit\n  let selfClosing =\n    schema.space === 'svg'\n      ? ctx.closeEmpty\n      : ctx.voids.includes(node.tagName.toLowerCase())\n  /** @type {Array.<string>} */\n  const parts = []\n  /** @type {string} */\n  let last\n\n  if (schema.space === 'html' && node.tagName === 'svg') {\n    ctx.schema = svg\n  }\n\n  const attrs = serializeAttributes(ctx, node.properties)\n\n  const content = all(\n    ctx,\n    schema.space === 'html' && node.tagName === 'template' ? node.content : node\n  )\n\n  ctx.schema = schema\n\n  // If the node is categorised as void, but it has children, remove the\n  // categorisation.\n  // This enables for example `menuitem`s, which are void in W3C HTML but not\n  // void in WHATWG HTML, to be stringified properly.\n  if (content) selfClosing = false\n\n  if (attrs || !omit || !omit.opening(node, index, parent)) {\n    parts.push('<', node.tagName, attrs ? ' ' + attrs : '')\n\n    if (selfClosing && (schema.space === 'svg' || ctx.close)) {\n      last = attrs.charAt(attrs.length - 1)\n      if (\n        !ctx.tightClose ||\n        last === '/' ||\n        (last && last !== '\"' && last !== \"'\")\n      ) {\n        parts.push(' ')\n      }\n\n      parts.push('/')\n    }\n\n    parts.push('>')\n  }\n\n  parts.push(content)\n\n  if (!selfClosing && (!omit || !omit.closing(node, index, parent))) {\n    parts.push('</' + node.tagName + '>')\n  }\n\n  return parts.join('')\n}\n\n/**\n * @param {Context} ctx\n * @param {Properties} props\n * @returns {string}\n */\nfunction serializeAttributes(ctx, props) {\n  /** @type {Array.<string>} */\n  const values = []\n  let index = -1\n  /** @type {string} */\n  let key\n  /** @type {string} */\n  let value\n  /** @type {string} */\n  let last\n\n  for (key in props) {\n    if (props[key] !== undefined && props[key] !== null) {\n      value = serializeAttribute(ctx, key, props[key])\n      if (value) values.push(value)\n    }\n  }\n\n  while (++index < values.length) {\n    last = ctx.tight ? values[index].charAt(values[index].length - 1) : null\n\n    // In tight mode, dont add a space after quoted attributes.\n    if (index !== values.length - 1 && last !== '\"' && last !== \"'\") {\n      values[index] += ' '\n    }\n  }\n\n  return values.join('')\n}\n\n/**\n * @param {Context} ctx\n * @param {string} key\n * @param {PropertyValue} value\n * @returns {string}\n */\n// eslint-disable-next-line complexity\nfunction serializeAttribute(ctx, key, value) {\n  const info = find(ctx.schema, key)\n  let quote = ctx.quote\n  /** @type {string} */\n  let result\n\n  if (info.overloadedBoolean && (value === info.attribute || value === '')) {\n    value = true\n  } else if (\n    info.boolean ||\n    (info.overloadedBoolean && typeof value !== 'string')\n  ) {\n    value = Boolean(value)\n  }\n\n  if (\n    value === undefined ||\n    value === null ||\n    value === false ||\n    (typeof value === 'number' && Number.isNaN(value))\n  ) {\n    return ''\n  }\n\n  const name = stringifyEntities(\n    info.attribute,\n    Object.assign({}, ctx.entities, {\n      // Always encode without parse errors in non-HTML.\n      subset:\n        constants.name[ctx.schema.space === 'html' ? ctx.valid : 1][ctx.safe]\n    })\n  )\n\n  // No value.\n  // There is currently only one boolean property in SVG: `[download]` on\n  // `<a>`.\n  // This property does not seem to work in browsers (FF, Sa, Ch), so I cant\n  // test if dropping the value works.\n  // But I assume that it should:\n  //\n  // ```html\n  // <!doctype html>\n  // <svg viewBox=\"0 0 100 100\">\n  //   <a href=https://example.com download>\n  //     <circle cx=50 cy=40 r=35 />\n  //   </a>\n  // </svg>\n  // ```\n  //\n  // See: <https://github.com/wooorm/property-information/blob/main/lib/svg.js>\n  if (value === true) return name\n\n  value =\n    typeof value === 'object' && 'length' in value\n      ? // `spaces` doesnt accept a second argument, but its given here just to\n        // keep the code cleaner.\n        (info.commaSeparated ? commas : spaces)(value, {\n          padLeft: !ctx.tightLists\n        })\n      : String(value)\n\n  if (ctx.collapseEmpty && !value) return name\n\n  // Check unquoted value.\n  if (ctx.unquoted) {\n    result = stringifyEntities(\n      value,\n      Object.assign({}, ctx.entities, {\n        subset: constants.unquoted[ctx.valid][ctx.safe],\n        attribute: true\n      })\n    )\n  }\n\n  // If we dont want unquoted, or if `value` contains character references when\n  // unquoted\n  if (result !== value) {\n    // If the alternative is less common than `quote`, switch.\n    if (ctx.smart && ccount(value, quote) > ccount(value, ctx.alternative)) {\n      quote = ctx.alternative\n    }\n\n    result =\n      quote +\n      stringifyEntities(\n        value,\n        Object.assign({}, ctx.entities, {\n          // Always encode without parse errors in non-HTML.\n          subset: (quote === \"'\" ? constants.single : constants.double)[\n            ctx.schema.space === 'html' ? ctx.valid : 1\n          ][ctx.safe],\n          attribute: true\n        })\n      ) +\n      quote\n  }\n\n  // Dont add a `=` for unquoted empties.\n  return name + (result ? '=' + result : result)\n}\n","/**\n * @typedef {import('./types.js').Handle} Handle\n * @typedef {import('./types.js').Comment} Comment\n */\n\nimport {stringifyEntities} from 'stringify-entities'\n\n/**\n * @type {Handle}\n * @param {Comment} node\n */\nexport function comment(ctx, node) {\n  // See: <https://html.spec.whatwg.org/multipage/syntax.html#comments>\n  return ctx.bogusComments\n    ? '<?' +\n        stringifyEntities(\n          node.value,\n          Object.assign({}, ctx.entities, {subset: ['>']})\n        ) +\n        '>'\n    : '<!--' + node.value.replace(/^>|^->|<!--|-->|--!>|<!-$/g, encode) + '-->'\n\n  /**\n   * @param {string} $0\n   */\n  function encode($0) {\n    return stringifyEntities(\n      $0,\n      Object.assign({}, ctx.entities, {subset: ['<', '>']})\n    )\n  }\n}\n","/**\n * @typedef {import('./types.js').Handle} Handle\n */\n\n/**\n * @type {Handle}\n */\nexport function doctype(ctx) {\n  return (\n    '<!' +\n    (ctx.upperDoctype ? 'DOCTYPE' : 'doctype') +\n    (ctx.tightDoctype ? '' : ' ') +\n    'html>'\n  )\n}\n","/**\n * @typedef {import('./types.js').Handle} Handle\n * @typedef {import('./types.js').Raw} Raw\n */\n\nimport {text} from './text.js'\n\n/**\n * @type {Handle}\n * @param {Raw} node\n */\nexport function raw(ctx, node, index, parent) {\n  // @ts-ignore Hush.\n  return ctx.dangerous ? node.value : text(ctx, node, index, parent)\n}\n","\nexport default function toJson(jast) {\n\n    if (jast==null) return null\n    \n    if (jast.type == 'value') return jast.value\n\n    if (jast.type == 'array') {\n        let a = []\n\n        for (let i=0 ; i<jast.children.length ; i++) {\n            a.push(toJson(jast.children[i]))\n        }\n\n        return a\n    }\n    if (jast.type == 'object') {\n        let o = {}\n\n        for (let i=0 ; i<jast.children.length ; i++) {\n            o[jast.children[i].name] = toJson(jast.children[i])\n        }\n\n        return o\n    }\n\n    if (jast.type == 'unknown') {\n        return null;\n    }\n\n    throw new Error('toJson Error, unhandled type: ',jast)\n}","\nimport {toHtml} from 'hast-util-to-html'\nimport sastToHast from './sast-to-hast.js';\nimport toJson from './jast-to-json.js'\nimport {visit} from 'unist-util-visit'\n\nexport default function responseToResult(response,options = {}) {\n    let sast = response.root\n        \n    if (options.log_sast) {\n        console.log('= sast =================')\n        console.log(sast);\n    }\n\n    let hast = sastToHast(sast)\n    response.hastCallbacks.forEach((cb) => {\n        cb.call(null,hast)\n    })\n\n    if (options.log_hast) {\n        console.log('= hast =================')\n        console.log(hast);\n    }\n\n    let html = toHtml(hast)\n\n    if (options.log_html) {\n        console.log('= html =================')\n        console.log(html)\n    }\n\n    let text = ''\n    visit(hast, 'text', (node) => {\n        text += node.value +'\\n'\n    })\n\n    if (options.log_text) {\n        console.log('= text =================')\n        console.log(text)\n    }\n\n    let jast = response.jsonTree\n\n    if (options.log_jast) {\n        console.log('= jast =================')\n        console.log(jast);\n    }\n\n    let json = toJson(jast.root)    \n    if (json==null) json = {}\n\n    if (options.log_json) {\n        console.log('= json =================')\n        console.log(json);\n    }\n\n    return {html: html, json: json, text: text}\n}","/**\n * @typedef {import('./types.js').Node} Node\n * @typedef {import('./types.js').Options} Options\n * @typedef {import('./types.js').Context} Context\n * @typedef {import('./types.js').Quote} Quote\n */\n\nimport {html, svg} from 'property-information'\nimport {htmlVoidElements} from 'html-void-elements'\nimport {omission} from './omission/index.js'\nimport {one} from './tree.js'\n\n/**\n * @param {Node|Array.<Node>} node\n * @param {Options} [options]\n * @returns {string}\n */\nexport function toHtml(node, options = {}) {\n  const quote = options.quote || '\"'\n  /** @type {Quote} */\n  const alternative = quote === '\"' ? \"'\" : '\"'\n\n  if (quote !== '\"' && quote !== \"'\") {\n    throw new Error('Invalid quote `' + quote + '`, expected `\\'` or `\"`')\n  }\n\n  /** @type {Context} */\n  const context = {\n    valid: options.allowParseErrors ? 0 : 1,\n    safe: options.allowDangerousCharacters ? 0 : 1,\n    schema: options.space === 'svg' ? svg : html,\n    omit: options.omitOptionalTags ? omission : undefined,\n    quote,\n    alternative,\n    smart: options.quoteSmart,\n    unquoted: options.preferUnquoted,\n    tight: options.tightAttributes,\n    upperDoctype: options.upperDoctype,\n    tightDoctype: options.tightDoctype,\n    bogusComments: options.bogusComments,\n    tightLists: options.tightCommaSeparatedLists,\n    tightClose: options.tightSelfClosing,\n    collapseEmpty: options.collapseEmptyAttributes,\n    dangerous: options.allowDangerousHtml,\n    voids: options.voids || htmlVoidElements.concat(),\n    entities: options.entities || {},\n    close: options.closeSelfClosing,\n    closeEmpty: options.closeEmptyElements\n  }\n\n  return one(\n    context,\n    // @ts-ignore Assume `node` does not contain a root.\n    Array.isArray(node) ? {type: 'root', children: node} : node,\n    null,\n    null\n  )\n}\n","\nimport * as mongo from 'mongo-local-db'\n\nimport SqrmDocument from './SqrmDocument.js'\nimport SqrmRequest from './SqrmRequest.js'\nimport SqrmResponse from './SqrmResponse.js'\nimport sxastParser from './sxast-parser.js';\nimport responseToResult from './response-to-result.js';\n\nconst options = {}\n\nconst defaults = {\n    collection: 'default',\n    name: 'doc',\n\n    log_src: false,\n    log_lines: false,\n    log_sxast: false,\n    log_code: false,\n\n    log_sast: false,\n    log_hast: false,\n    log_html: false,\n    log_jast: false,\n    log_json: false\n};\n\nexport default class SqrmDB {\n\n    constructor(settings = {}) {\n        this.settings = Object.assign({}, defaults, settings);\n        this.settings.db = this\n        this.collections = new Map()\n        this.db = new mongo.DB()\n        this.createCollection('default')\n    }\n  \n    createCollection(name) {\n        this.db.createCollection(name)\n        let info = { name: name, docs: new Map(), docsBy_id: new Map() }\n        this.collections.set(name,info)\n        return info\n    }\n\n    getCollectionNames() {\n        return this.db.getCollectionNames()\n    }\n\n    createDocument(collection,docName,src) {\n        const col = this.collections.get(collection)\n        const sxasts = sxastParser(src,this.settings)\n        \n        if (sxasts.length==1) {\n\n            let doc = new SqrmDocument(collection,docName,sxasts[0],this)\n            col.docs.set(docName,doc)\n\n            const createdDoc = { collection: collection, document: docName }\n\n            let request = new SqrmRequest();\n            let response = new SqrmResponse(this);\n\n            // generate output\n            doc.execute(request,response);\n            const res = responseToResult(response,this.settings)\n            const mongoDoc = Object.assign({},res.json)\n            mongoDoc._text = res.text\n\n            // add to mongo\n            this.db[doc.collection].insertOne(mongoDoc)\n            doc._id = mongoDoc._id\n            this.collections.get(doc.collection).docsBy_id.set(mongoDoc._id,doc)\n\n            createdDoc.html = res.html\n            createdDoc.json = res.json\n\n            return createdDoc\n\n        } else {\n            const createdDocs = { docs: [] }\n\n            for (let i=0 ; i<sxasts.length ; i++) {\n                let sxast = sxasts[i]\n    \n                const dn = `${docName}-${i+1}`\n\n                let doc = new SqrmDocument(collection,dn,sxast,this)\n                col.docs.set(dn,doc)\n                const createdDoc = { collection: collection, document: dn }\n\n                let request = new SqrmRequest();\n                let response = new SqrmResponse(this);\n\n                // generate output\n                doc.execute(request,response);\n                const res = responseToResult(response,this.settings)\n                const mongoDoc = Object.assign({},res.json)\n                mongoDoc._text = res.text\n\n                // add to mongo\n                this.db[doc.collection].insertOne(mongoDoc)\n                doc._id = mongoDoc._id\n                this.collections.get(doc.collection).docsBy_id.set(mongoDoc._id,doc)\n\n                createdDoc.html = res.html\n                createdDoc.json = res.json\n\n                createdDocs.docs.push(createdDoc)\n            }\n\n            return createdDocs\n        }\n\n    }\n\n    call(collection,docName,args) {\n        const request = new SqrmRequest(args);\n        const response = new SqrmResponse(this);\n        const docs = this.find(collection,docName)\n        if (docs == null) {\n            console.log(`-- failed to call ${docName}(${args}) : not found --`)\n            return\n        }\n        if (docs.length != 1) {\n            console.log(`-- failed to call ${docName}(${args}) : not 1 document --`)\n            return\n        }\n        const doc = docs[0]\n        try {\n            doc.execute(request,response);\n        } catch (e) {\n            console.log(`-- failed to call ${docName}(${args}) : script error --`)\n            console.log(e);\n            console.log('---------------------------------------')\n        }\n\n        return responseToResult(response,this.settings)\n\n    }\n\n    find(collection,select,sort,skip,limit) {\n\n        function cursorToDocs(c) {\n            let res = [];\n\n            c.forEach(doc => {\n                res.push(col.docsBy_id.get(doc._id))\n            })\n\n            return res\n        }\n\n        if (typeof collection != \"string\") {\n            throw new Error('collection parameter should be string name of collection')\n        }\n\n        const col = this.collections.get(collection)\n\n        if (col == null) {\n            throw new Error(`collection \"${collection}\" doesn't exist`)\n        }\n\n        if (select == undefined) {\n            return cursorToDocs(this.db[collection].find())\n        } else if (typeof select == \"string\") {\n            return [col.docs.get(select)]\n        } else if (typeof select == 'object' && select == Object(select)) {\n\n            let c = this.db[collection].find(select)\n\n            if (sort !== undefined) {\n                c = c.sort(sort)\n\n                if (skip !== undefined) {\n                    c = c.skip(skip)\n\n                    if (limit !== undefined) {\n                        c = c.limit(limit)\n                    }\n                }\n            }\n\n            return cursorToDocs(c)\n        } else {\n            return []\n        }\n    } \n}","\nimport SqrmDB from './SqrmDB.js'\n\nexport default function sqrm(src, db = new SqrmDB()) {\n    return db.createDocument('default','document',src)\n}"],"names":["_copy","data","Object","keys","reduce","accum","key","_tokenize","value","isObject","replace","RegExp","toLowerCase","split","_compress","values","_disemvowel","char","length","_trigrams","tokens","string","grams","token","isNaN","parseFloat","push","i","substring","CC_Y","charCodeAt","step2list","ational","tional","enci","anci","izer","bli","alli","entli","eli","ousli","ization","ation","ator","alism","iveness","fulness","ousness","aliti","iviti","biliti","logi","step3list","icate","ative","alize","iciti","ical","ful","ness","MEASURE_GT_0","MEASURE_EQ_1","MEASURE_GT_1","VOWEL_IN_STEM","CONSONANT_LIKE","SUFFIX_LL","SUFFIX_E","SUFFIX_Y","SUFFIX_ION","SUFFIX_ED_OR_ING","SUFFIX_AT_OR_BL_OR_IZ","SUFFIX_EED","SUFFIX_S","SUFFIX_SSES_OR_IES","SUFFIX_MULTI_CONSONANT_LIKE","STEP_2","STEP_3","STEP_4","_stemmer","firstCharacterWasLowerCaseY","match","String","substr","test","exec","STOPWORDS","_toText","objectOrPrimitive","seen","Set","has","add","array","_coerceId","id","JSON","parse","e","Txi","stops","stems","trigrams","compressions","misspellings","onchange","storage","defaults","this","get","set","count","word","keycount","index","async","addStops","words","forEach","compress","entry","changed","removeStops","remove","ids","node","getIndex","getKeys","results","getKeyCount","setIndex","newIndex","assign","objectOrText","type","text","stemmed","stem","other","filter","noproperties","misspelled","concat","dedoubled","includes","endsWith","startsWith","_misspellings","compressed","changes","isboolean","isnumber","change","numbers","booleans","boolean","search","all","map","score","properties","result","method","property","some","sort","a","b","earcut","holeIndices","dim","minX","minY","maxX","maxY","x","y","invSize","hasHoles","outerLen","outerNode","linkedList","triangles","next","prev","len","list","queue","steiner","getLeftmost","compareX","eliminateHole","filterPoints","eliminateHoles","Math","max","earcutLinked","start","end","clockwise","last","signedArea","insertNode","equals","removeNode","again","p","area","ear","pass","z","zOrder","prevZ","nextZ","q","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","stop","isEarHashed","isEar","cureLocalIntersections","splitEarcut","c","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","maxZ","n","intersects","locallyInside","isValidDiagonal","splitPolygon","hole","m","hx","hy","qx","Infinity","tan","mx","my","tanMin","abs","findHoleBridge","leftmost","ax","ay","bx","by","cx","cy","px","py","intersectsPolygon","inside","middleInside","r","p1","p2","q1","q2","a2","Node","b2","an","bp","sum","j","earcutModule","exports","earcut_1","default","deviation","polygonArea","trianglesArea","flatten","vertices","holes","dimensions","holeIndex","d","factors","meters","metres","millimeters","earthRadius","millimetres","centimeters","centimetres","kilometers","kilometres","miles","nauticalmiles","inches","yards","feet","radians","degrees","unitsFactors","areaFactors","acres","feature","geometry","options","Error","bbox","undefined","constructor","validateBBox","validateId","feat","point","coordinates","Array","isArray","isNumber","polygon","ring","lineString","featureCollection","features","fc","multiLineString","multiPoint","multiPolygon","radiansToLength","units","factor","lengthToRadians","distance","radiansToDegrees","PI","degreesToRadians","num","input","indexOf","coordEach","geojson","callback","excludeWrapCoord","k","l","geometry$$1","stopG","coords","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","featureIndex","geometries","geomIndex","multiFeatureIndex","geometryIndex","geomType","coordReduce","initialValue","previousValue","currentCoord","propEach","featureEach","featureReduce","currentFeature","geomEach","g","featureProperties","featureBBox","featureId","geomReduce","currentGeometry","flattenEach","coordinate","flattenReduce","segmentEach","feature$$1","segmentIndex","previousCoords","featureIndexCoord","mutliPartIndexCoord","currentSegment","segmentReduce","started","lineEach","BBox","coord","getCoord","obj","getCoords","containsNumber","getGeom","getType","name","freeze","geom","points","polygons","lineStrings","geometryCollection","round","precision","multiplier","pow","lengthToDegrees","bearingToAzimuth","bearing","angle","convertLength","originalUnit","finalUnit","convertArea","startFactor","finalFactor","radians2degrees","degrees2radians","distanceToDegrees","distanceToRadians","radiansToDistance","bearingToAngle","convertDistance","propReduce","currentProperties","coordAll","lineReduce","currentLine","geojsonType","featureOf","collectionOf","featureCollection$$1","getGeomType","quickselect","partialSort","arr","left","right","compare","defaultCompare","log","s","exp","sd","sqrt","newLeft","floor","newRight","min","t","swap","tmp","rbush_1","rbush","maxEntries","format","_maxEntries","_minEntries","ceil","_initFormat","clear","findItem","item","items","equalsFn","calcBBox","toBBox","distBBox","children","destNode","createNode","child","extend","leaf","compareNodeMinX","compareNodeMinY","bboxArea","bboxMargin","contains","intersects$1","height","multiSelect","mid","stack","pop","createCommonjsModule","fn","module","prototype","_all","childBBox","nodesToSearch","collides","load","insert","_build","slice","_splitRoot","tmpNode","_insert","parent","goingUp","path","indexes","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","apply","N","M","right2","right3","N2","N1","_chooseSubtree","level","targetNode","enlargement","minArea","minEnlargement","isNode","insertPath","_split","_adjustParentBBoxes","_chooseSplitAxis","splitIndex","_chooseSplitIndex","newNode","bbox1","bbox2","overlap","minOverlap","_allDistMargin","leftBBox","rightBBox","margin","siblings","compareArr","Function","join","twoProduct_1","SPLITTER","ahi","alo","bhi","blo","robustSum","f","ne","nf","bv","scalarScalar","eptr","fptr","ei","ea","fi","fa","_x","_bv","q0","twoSum","br","ar","robustScale","scale","ts","pq","robustDiff","scalarScalar$1","orientation_1","cofactor","generateSum","expr","determinant","orientation","pos","neg","matrix","args","posExpr","negExpr","funcName","code","proc","orientation3Exact","orientation4Exact","CACHED","det","tol","adx","bdx","cdx","ady","bdy","cdy","adz","bdz","cdz","bdxcdy","cdxbdy","cdxady","adxcdy","adxbdy","bdxady","slowOrient","procArgs","generateOrientationProc","monotoneConvexHull2d","sorted","lower","upper","idx","orient$1","ptr","nl","tinyqueue","TinyQueue","default_1$1","defaultCompare$1","_down","_up","top","peek","current","halfLength","best","pointInPolygon","vs","xi","yi","xj","yj","orient","default_1","concaveman","concavity","lengthThreshold","hull","bottom","cull","filtered","indices","fastConvexHull","tree","segTree","updateBBox","sqConcavity","sqLenThreshold","shift","sqLen","getSqDist","maxSqLen","findCandidate","concave","maxDist","compareDist","dist","sqSegDist","sqSegBoxDist","d0","d1","noIntersections","sqSegSegDist","d2","d3","d4","edges","dx","dy","x0","y0","x1","y1","x2","y2","x3","y3","sc","sN","tc","tN","ux","uy","vx","vy","wx","wy","D","sD","tD","booleanPointInPolygon","ignoreBoundary","pt","polys","inBBox","insidePoly","inRing","inHole","isInside","from","to","coordinates1","coordinates2","dLat","dLon","lat1","lat2","sin","cos","atan2","clone","cloneFeature","cloned","cloneFeatureCollection","cloneGeometry","cloneProperties","deepSlice","cleanCoords","mutate","newCoords","cleanLine","line","polygons$$1","polyPoints","existing","hasOwnProperty","pt1","pt2","prevPoint","point$$1","nextPoint","points$$1","newPoints","secondToLast","isPointOnLineSegment","startX","startY","endX","endY","dxl","dyl","envelope","west","Number","south","east","north","lowLeft","bboxPolygon","destination","origin","longitude1","latitude1","bearing_rad","latitude2","asin","final","bear","calculateFinalBearing","lon1","lon2","centroid","xSum","ySum","default_1$2","insertNode$1","equals$1","intersects$2","quickselect$3","quickselectStep","defaultCompare$2","swap$1","rbush$4","findItem$1","calcBBox$1","distBBox$1","createNode$1","extend$1","compareNodeMinX$1","compareNodeMinY$1","bboxArea$1","bboxMargin$1","contains$1","intersects$4","multiSelect$1","bboxPolygon$2","topLeft","topRight","turfBBox","lineSegment","segments","currentCoords","coords1","coords2","segment","createSegments","lineSegmentFeature","lineIntersect","line1","line2","unique","intersect","intersects$3","call","json","geojsonRbush","x4","y4","denom","numeA","numeB","uA","uB","convert","projection","convertToMercator","convertToWgs84","newCoord","lonLat","D2R","A","MAXEXTENT","xy","R2D","atan","area$1","calculateArea","toMercator","toWgs84","ringArea","lowerIndex","middleIndex","upperIndex","coordsLength","rad","_","booleanPointOnLine","ignoreEndVertices","ptCoords","lineCoords","isPointOnLineSegment$1","lineSegmentStart","lineSegmentEnd","excludeBoundary","truncate","stringify","truncateCoords","polygonToLine","polygon$$1","coordsToLine","lines","lineclip","codeB","lastCode","codeA","bitCode","part","intersect$1","edge","envelopeContains","self","env","every","modulo","polyline","prevInside","EdgeRing","prototypeAccessors","configurable","isValid","isHole","dx1","dy1","dx2","dy2","this$1","hiIndex","high","iPrev","iNext","disc","sign","toMultiPoint","toPolygon","getEnvelope","findEdgeRingContaining","testEdgeRing","shellList","minEnvelope","minShell","testEnvelope","shell","env1","env2","envX1","envY1","envX2","envY2","tryEnvelope","testPoint","find","coord1","coord2","defineProperties","shim","is_arguments","supportsArgumentsClass","toString","arguments","supported","object","unsupported","propertyIsEnumerable","pSlice","deepEqual","actual","expected","opts","Date","getTime","strict","isUndefinedOrNull","isBuffer","ka","kb","objEquiv","copy","DBSCAN_1","DBSCAN","dataset","epsilon","minPts","distanceFunction","_euclideanDistance","clusters","noise","_visited","_assigned","_datasetLength","_init","run","pointId","neighbors","_regionQuery","clusterId","_addToCluster","_expandCluster","pointId2","neighbors2","_mergeArrays","P","KMEANS_1","KMEANS","assignments","centroids","init","randomCentroid","centroidId","mean","maxDim","getClusters","maxId","random","closestCentroid","argmin","MAX_VALUE","arg","diff","PriorityQueue_1","PriorityQueue","elements","priorities","sorting","_queue","_priorities","_sorting","ele","priority","indexToInsert","priority2","_insertAt","func","getElements","getElementPriority","getPriorities","getElementsWithPriorities","OPTICS_1","OPTICS","_reachability","_processed","_coreDistance","_orderedList","priorityQueue","_distanceToCore","_updateQueue","getReachabilityPlot","reachabilityPlot","newReachableDistance","queueElements","coreDistCand","lib","RedBlackTree","RedBlackNode","U","C","L","R","RedBlackRotateLeft","RedBlackRotateRight","RedBlackFirst","createEdge","v0","v1","setEdgeEnd","cells","halfedges","createBorderEdge","vertex","clipEdge","t0","t1","connectEdge","fm","fb","lx","ly","rx","ry","fx","fy","cellHalfedgeAngle","cell","site","va","vb","cellHalfedgeStart","cellHalfedgeEnd","after","grandpa","uncle","sibling","red","firstCircle","circlePool","Circle","arc","attachCircle","lArc","rArc","lSite","cSite","rSite","epsilon2","ha","hc","circle","before","circles","detachCircle","beachPool","Beach","createBeach","beach","detachBeach","beaches","removeBeach","previous","disappearing","unshift","iArc","nArcs","addBeach","dxr","directrix","leftBreakPoint","rightBreakPoint","createCell","newArc","hb","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","lexicographic","Diagram","sites","extent","sortCellHalfedges","clipEdges","iCell","iHalfedge","nHalfedges","nCells","cover","dc","v00","v01","v11","v10","clipCells","randomPosition","coordInBBox","rnd","vertexToCoordinate","hub","cur","clusterEach","bins","createBins","bin","applyFilter","filterType","propertiesContainsFilter","s0","e1","s1","links","source","target","radius","i0","that","i1","_found","v","v2","randomPoint","randomPolygon","num_vertices","max_radial_length","circle_offsets","sumOffsets","scaleOffsets","radial_scaler","randomLineString","max_length","max_rotation","getCluster","clusterReduce","cluster","clusterValue","currentIndex","filterProperties","newProperties","defineProperty","TypeError","arrayLike","relativeStart","parseInt","relativeEnd","writable","isFinite","isInteger","val","trunc","NumberUtil","interfaces_","getClass","equalsWithTolerance","tolerance","IllegalArgumentException","Double","staticAccessors$1","doubleToLongBits","longBitsToDouble","isInfinite","Comparable","Clonable","Comparator","Serializable","Coordinate","NULL_ORDINATE","staticAccessors","DimensionalComparator","serialVersionUID","X","Y","Z","setOrdinate","ordinateIndex","equals2D","getOrdinate","equals3D","equalInZ","compareTo","o","distance3D","dz","hashCode","setCoordinate","NaN","dimensionsToTest","_dimensionsToTest","dimensionsToTest$1","o1","o2","c1","c2","compX","compY","CoordinateSequenceFactory","create","Location","staticAccessors$4","INTERIOR","BOUNDARY","EXTERIOR","NONE","toLocationSymbol","locationValue","hasInterface","MathUtil","staticAccessors$5","LOG_10","log10","ln","v3","v4","clamp","x$1","min$1","max$1","wrap","v1$1","v2$1","v3$1","average","StringBuffer","str","append","setCharAt","Integer","intValue","Character","isWhitespace","toUpperCase","DD","_hi","_lo","dd","hi","lo","staticAccessors$7","TWO_PI","PI_2","E","EPS","SPLIT","MAX_PRINT_DIGITS","TEN","ONE","SCI_NOT_EXPONENT_CHAR","SCI_NOT_ZERO","le","extractSignificantDigits","insertDecimalPoint","magnitude","mag","divide","gt","lt","multiply","decimalPointPos","buf","numDigits","digit","rebiasBy10","digitChar","subtract","valueOf","selfAdd","continueExtractingDigits","remMag","sqr","doubleValue","negate","y$1","isZero","selfSubtract","getSpecialNumberString","selfDivide","yhi","ylo","ty","u","dump","zhi","zlo","createNaN","ge","selfMultiply","reciprocal","fhi","flo","rint","setValue","value$1","isNegative","axdd","H","h","S","H$1","T","S$1","s$1","e$1","f$1","tx","selfSqr","toStandardNotation","toSciNotation","specialStr","fill","sigDigits","charAt","stringOfChar","numZeroes","digits","expStr","trailingDigits","digitsWithDecimal","isPositive","signum","strlen","signCh","numBeforeDec","ch","isDigit","ex","val2","numDecPlaces","scale$1","xAbs","xLog10","xMag","CGAlgorithmsDD","staticAccessors$6","DP_SAFE_EPSILON","orientationIndex","orientationIndexFilter","signOfDet2x2","intersection","denom1","denom2","numx1","numx2","fracP","numy1","numy2","fracQ","pa","pb","pc","detsum","detleft","detright","errbound","CoordinateSequence","staticAccessors$8","size","getCoordinate","getCoordinateCopy","getDimension","getX","expandEnvelope","getY","toCoordinateArray","Exception","NotRepresentableException","Exception$$1","__proto__","System","arraycopy","src","srcPos","dest","destPos","getProperty","HCoordinate","w","_y","p1$1","p2$1","_x$1","_y$1","_w","p1$2","p2$2","pw","qy","qw","xInt","yInt","Envelope","_minx","_maxx","_miny","_maxy","staticAccessors$9","getArea","getWidth","getHeight","otherEnvelope","isNull","getMaxX","getMaxY","getMinX","getMinY","intMinX","intMinY","intMaxX","intMaxY","covers","expandToInclude","minExtent","translate","transX","transY","setToNull","maxExtent","expandBy","deltaX","deltaY","centre","minq","maxq","minp","maxp","regExes","typeStr","emptyTypeStr","spaces","parenComma","doubleParenComma","trimParens","WKTParser","geometryFactory","GeometryFactory","read","wkt","matches","parse$1","write","extractGeometry","getGeometryType","extract$1","wktType","isEmpty","coordinate$1","point$1","_coordinates","multipoint","multipoint$1","_geometries","linestring","linestring$1","_points","linearring","linearring$1","multilinestring","multilinestring$1","polygon$1","_shell","_holes","multipolygon","multipolygon$1","geometrycollection","collection","createPoint","trim","createMultiPoint","components","createLineString","createLinearRing","createMultiLineString","createPolygon","rings","createMultiPolygon","createGeometryCollection","wktArray","WKTWriter","parser","toLineString","p0","RuntimeException","message","AssertionFailedException","RuntimeException$$1","Assert","shouldNeverReachHere","isTrue","expectedValue","actualValue","LineIntersector","_result","_inputLines","_intPt","_intLineIndex","_isProper","_pa","_pb","_precisionModel","staticAccessors$10","DONT_INTERSECT","DO_INTERSECT","COLLINEAR","NO_INTERSECTION","POINT_INTERSECTION","COLLINEAR_INTERSECTION","getIndexAlongSegment","intIndex","computeIntLineIndex","getTopologySummary","catBuf","isEndPoint","isCollinear","computeIntersection","p3","p4","computeIntersect","getIntersectionNum","dist0","getEdgeDistance","dist1","isProper","hasIntersection","setPrecisionModel","precisionModel","isInteriorIntersection","inputLineIndex","getIntersection","computeEdgeDistance","getEndpoint","ptIndex","isIntersection","getIntersectionAlongSegment","pdx","pdy","nonRobustComputeEdgeDistance","RobustLineIntersector","LineIntersector$$1","isInSegmentEnvelopes","intPt","env0","CGAlgorithms","normalizeToMinimum","n1","n2","n3","n4","normPt","smallestInAbsValue","safeHCoordinateIntersection","nearestEndpoint","intersectionWithNormalization","makePrecise","xabs","checkDD","intPtDD","isIn","out","println","normalizeToEnvCentre","computeCollinearIntersection","p1q1p2","p1q2p2","q1p1q2","q1p2q2","n00","n01","n10","n11","minX0","minY0","maxX0","maxY0","minX1","minY1","maxX1","maxY1","intMidX","intMidY","Pq1","Pq2","Qp1","Qp2","nearestPt","minDist","distancePointLine","RobustDeterminant","RayCrossingCounter","_p","_crossingCount","_isPointOnSegment","countSegment","minx","maxx","xIntSign","isPointInPolygon","getLocation","isOnSegment","locatePointInRing","counter","p$1","ring$1","counter$1","i$1","staticAccessors$3","CLOCKWISE","RIGHT","COUNTERCLOCKWISE","LEFT","STRAIGHT","x0$1","sum$1","distanceLineLine","B","noIntersection","rNumb","isPointInRing","computeLength","pts","isCCW","nPts","hiPt","computeOrientation","distancePointLinePerpendicular","len2","minDistance","isOnLine","lineIntersector","GeometryComponentFilter","Geometry","factory","_envelope","_factory","_SRID","_userData","getSRID","staticAccessors$11","SORTINDEX_POINT","SORTINDEX_MULTIPOINT","SORTINDEX_LINESTRING","SORTINDEX_LINEARRING","SORTINDEX_MULTILINESTRING","SORTINDEX_POLYGON","SORTINDEX_MULTIPOLYGON","SORTINDEX_GEOMETRYCOLLECTION","geometryChangedFilter","getSortIndex","getFactory","getGeometryN","isRectangle","g$1","equalsTopo","equalsExact","geometryChanged","geometryChangedAction","equalsNorm","norm","getLength","getNumGeometries","compareToSameClass","other$1","comp","getUserData","toGeometry","getEnvelopeInternal","checkNotGeometryCollection","equal","normalize","getPrecisionModel","computeEnvelopeInternal","setSRID","SRID","setUserData","userData","iterator","hasNext","aElement","bElement","comparison","isGeometryCollectionOrDerived","hasNonEmptyElements","hasNullElements","CoordinateFilter","BoundaryNodeRule","staticAccessors$12","Mod2BoundaryNodeRule","EndPointBoundaryNodeRule","MultiValentEndPointBoundaryNodeRule","MonoValentEndPointBoundaryNodeRule","MOD2_BOUNDARY_RULE","ENDPOINT_BOUNDARY_RULE","MULTIVALENT_ENDPOINT_BOUNDARY_RULE","MONOVALENT_ENDPOINT_BOUNDARY_RULE","OGC_SFS_BOUNDARY_RULE","isInBoundary","boundaryCount","Collection","addAll","toArray","IndexOutOfBoundsException","Iterator","List","Collection$$1","NoSuchElementException","ArrayList","List$$1","array_","ensureCapacity","element","oldElement","Iterator_","found","Iterator$$1","arrayList","arrayList_","position_","CoordinateList","ArrayList$$1","coord$1","allowRepeated","coordArrayType","coll","isChanged","coord$2","allowRepeated$1","allowRepeated$2","coord$3","allowRepeated$3","direction","i$2","i$3","coord$4","allowRepeated$4","coord$5","allowRepeated$5","inc","closeRing","CoordinateArrays","staticAccessors$13","ForwardComparator","BidirectionalComparator","isRing","ptNotInList","testPts","testPt","scroll","firstCoordinate","newCoordinates","coord1$1","coord2$1","coordinateComparator","coordList","hasRepeatedPoints","removeRepeatedPoints","reverse","removeNull","nonNull","copyDeep","srcStart","destStart","isEqualReversed","pts1","pts2","atLeastNCoordinatesOrNothing","increasingDirection","minCoordinate","minCoord","extract","npts","extractPts","iPts","forwardComp","OLDcompare","dir1","dir2","i2","comparePt","Map$1","put","entrySet","SortedMap","Map","OperationNotSupported","HashSet","Set$$1","Iterator_$1","hashSet","hashSet_","colorOf","color","parentOf","setColor","leftOf","rightOf","TreeMap","root_","size_","cmp","getValue","getKey","oldValue","fixAfterInsertion","rotateLeft","rotateRight","getFirstEntry","successor","Lineal","SortedSet","TreeSet","Iterator_$2","treeSet","treeSet_","Arrays","comparator","asList","Dimension","staticAccessors$14","FALSE","TRUE","DONTCARE","SYM_FALSE","SYM_TRUE","SYM_DONTCARE","SYM_P","SYM_L","SYM_A","toDimensionSymbol","dimensionValue","toDimensionValue","dimensionSymbol","GeometryFilter","CoordinateSequenceFilter","seq","isDone","isGeometryChanged","GeometryCollection","Geometry$$1","getCoordinates","getNumPoints","childCoordinates","isEquivalentClass","otherCollection","getBoundaryDimension","dimension","numPoints","revGeoms","theseElements","otherElements","o$1","gc","thisGeom","otherGeom","holeComp","filter$1","filter$2","filter$3","getBoundary","MultiLineString","GeometryCollection$$1","isClosed","nLines","revLines","BoundaryOp","_geom","_geomFact","_bnRule","_endpointMap","bnRule","geom$1","bnRule$1","boundaryMultiLineString","mLine","getEmptyMultiPoint","bdyPts","computeBoundaryCoordinates","createMultiPointFromCoords","LineString$1","boundaryLineString","getStartPoint","getEndPoint","addEndpoint","getCoordinateN","it","valence","Counter","bop","bop$1","PrintStream","StringReader","DecimalFormat","ByteArrayOutputStream","IOException","LineNumberReader","StringUtil","staticAccessors$15","NEWLINE","SIMPLE_ORDINATE_FORMAT","chars","getStackTrace","os","ps","printStackTrace","t$1","depth","stackTrace","lineNumberReader","readLine","separator","separatorlen","tokenList","tmpString","res","CoordinateSequences","copyCoord","minDim","isEqual","cs1","cs2","cs1Size","fact","newseq","cs","ensureValidRing","createClosedRing","LineString","isSimple","otherLineString","getPointN","line$1","ls","getCoordinateSequence","getCoordinateSequenceFactory","isCoordinate","Puntal","Point","Polygonal","Polygon","shellCoordinates","getNumInteriorRing","prevX","prevY","otherPolygon","thisShell","otherPolygonShell","uniqueCoordinates","poly","convexHull","getExteriorRing","otherShell","thisShell$1","otherShell$1","shellComp","nHole1","nHole2","thisHole","getInteriorRingN","otherHole","MultiPoint","LinearRing","LineString$$1","validateConstruction","MINIMUM_VALID_SIZE","MultiPolygon","allRings","allRingsArray","GeometryEditor","_isUserDataCopied","staticAccessors$16","NoOpGeometryOperation","CoordinateOperation","CoordinateSequenceOperation","setCopyUserData","isUserDataCopied","edit","operation","editInternal","editGeometryCollection","editPolygon","getName","collectionForType","newPolygon","GeometryEditorOperation","editCoordinates","CoordinateArraySequence","_dimension","coordSeq","size$1","dimension$1","staticAccessors$18","cloneCoordinates","strBuf","CoordinateArraySequenceFactory","staticAccessors$17","instanceObject","readResolve","instance","HashMap","MapInterface","map_","done","entries","PrecisionModel","_modelType","_scale","FLOATING","Type","modelType","FIXED","setScale","pm","staticAccessors$19","maximumPreciseValue","otherPrecisionModel","getMaximumSignificantDigits","otherSigDigits","getScale","isFloating","FLOATING_SINGLE","description","maxSigDigits","mostPrecise","pm1","pm2","_name","nameToTypeMap","staticAccessors$1$1","_coordinateSequenceFactory","getDefaultCoordinateSequenceFactory","staticAccessors$2","buildGeometry","geomList","geomClass","isHeterogeneous","hasGeometryCollection","partClass","toGeometryArray","geom0","toPolygonArray","toLineStringArray","toPointArray","coordinates$1","shell$1","createGeometry","ptSeq","toMultiPolygonArray","multiPolygons","multiPolygonArray","geometryArray","toMultiLineStringArray","multiLineStrings","multiLineStringArray","lineStringArray","toMultiPointArray","multiPoints","multiPointArray","toLinearRingArray","linearRings","linearRingArray","pointArray","polygonArray","createPointFromInternalCoord","exemplar","geometryTypes","GeoJSONParser","extract$1$1","Feature","FeatureCollection","sub","linearRing","geoJson","shellGeoJson","holeGeoJson","GeoJSONReader","reducePrecision","GeoJSONWriter","Position","staticAccessors$20","ON","EmptyStackException","Stack","opposite","position","empty","RightmostEdgeFinder","_minIndex","_minCoord","_minDe","_orientedDe","getRightmostSide","de","side","getRightmostSideOfSegment","checkForRightmostCoordinate","findRightmostEdgeAtVertex","getEdge","pPrev","pNext","usePrev","findRightmostEdgeAtNode","star","getNode","getEdges","getRightmostEdge","isForward","getSym","findEdge","dirEdgeList","TopologyException","msg","msgWithCoord","LinkedList","addLast","removeFirst","BufferSubgraph","_finder","_dirEdgeList","_nodes","_rightMostCoord","_env","clearVisitedEdges","setVisited","getRightmostCoordinate","computeNodeDepth","startEdge","isVisited","computeDepths","de$1","copySymDepths","computeDepth","outsideDepth","setEdgeDepths","addReachable","findResultEdges","getDepth","isInteriorAreaEdge","setInResult","nodesVisited","nodeQueue","startNode","sym","adjNode","graph","edgeEnv","nodeStack","setDepth","symNode","getNodes","getDirectedEdges","TopologyLocation","location","on","gl","on$1","setAllLocations","locValue","setAllLocationsIfNull","isLine","merge","newLoc","getLocations","flip","temp","setLocations","posIndex","isArea","isAnyNull","setLocation","locIndex","locValue$1","isEqualOnSide","allPositionsEqual","loc","Label","elt","onLoc","lbl","onLoc$1","onLoc$2","leftLoc","rightLoc","geomIndex$1","onLoc$3","leftLoc$1","rightLoc$1","getGeometryCount","location$1","toLine","toLineLabel","label","lineLabel","EdgeRing$1","_startDe","_maxNodeDegree","_edges","_pts","_label","_ring","_isHole","_geometryFactory","computePoints","computeRing","isIsolated","isFirstEdge","getEdgeRing","getLabel","mergeLabel","addPoints","setEdgeRing","getNext","getLinearRing","computeMaxNodeDegree","degree","getOutgoingDegree","edgePts","startIndex","startIndex$1","containsPoint","addHole","isShell","getMaxNodeDegree","getShell","deLabel","deLabel$1","setShell","holeLR","MinimalEdgeRing","EdgeRing$$1","er","setMinEdgeRing","getNextMin","MaximalEdgeRing","buildMinimalRings","minEdgeRings","getMinEdgeRing","minEr","linkDirectedEdgesForMinimalEdgeRings","linkMinimalDirectedEdges","GraphComponent","_isInResult","_isCovered","_isCoveredSet","_isVisited","isInResult","isCovered","isCoveredSet","setLabel","setCovered","updateIM","im","computeIM","Node$2","GraphComponent$$1","_coord","isIncidentEdgeInResult","print","computeMergedLocation","label2","eltIndex","nLoc","argIndex","onLocation","thisLoc","setNode","setLabelBoundary","NodeMap","nodeMap","nodeFact","addNode","node$1","getBoundaryNodes","bdyNodes","Quadrant","staticAccessors$21","NE","NW","SW","SE","isNorthern","quad","isOpposite","quad1","quad2","commonHalfPlane","isInHalfPlane","halfPlane","quadrant","EdgeEnd","_edge","_node","_p0","_p1","_dx","_dy","_quadrant","edge$1","edge$2","p0$1","label$1","compareDirection","getDy","className","lastDotPos","lastIndexOf","getDirectedCoordinate","getDx","getQuadrant","computeLabel","boundaryNodeRule","DirectedEdge","EdgeEnd$$1","_isForward","_sym","_next","_nextMin","_edgeRing","_minEdgeRing","_depth","computeDirectedLabel","depthVal","setNextMin","nextMin","getDepthDelta","minEdgeRing","isLineEdge","isExteriorIfArea0","isExteriorIfArea1","edgeRing","depthDelta","printEdge","printReverse","setSym","setVisitedEdge","directionFactor","oppositePos","oppositeDepth","setNext","depthFactor","currLocation","nextLocation","NodeFactory","PlanarGraph","_edgeEndList","printEdges","eiList","getNodeIterator","linkResultDirectedEdges","nodeit","debugPrintln","isBoundaryNode","linkAllDirectedEdges","matchInSameDirection","ep0","ep1","getEdgeEnds","debugPrint","getEdgeIterator","findEdgeInSameDirection","eCoord","insertEdge","findEdgeEnd","ee","addEdges","edgesToAdd","de1","de2","nodes","PolygonBuilder","_shellList","sortShellsAndHoles","edgeRings","freeHoleList","computePolygons","resultPolyList","placeFreeHoles","buildMinimalEdgeRings","maxEdgeRings","findShell","placePolygonHoles","buildMaximalEdgeRings","dirEdges","getPolygons","testEr","testRing","testEnv","minEnv","tryShell","tryRing","tryEnv","isContained","shellCount","Boundable","getBounds","ItemBoundable","_bounds","_item","bounds","getItem","_size","_items","poll","minItem","reorder","ItemVisitor","visitItem","SpatialIndex","itemEnv","query","AbstractNode","_childBoundables","_level","staticAccessors$22","getLevel","getChildBoundables","addChildBoundable","childBoundable","computeBounds","Collections","reverseOrder","alen","singletonList","BoundablePair","_boundable1","_boundable2","_distance","_itemDistance","boundable1","boundable2","itemDistance","expandToQueue","priQ","isComp1","isComposite","isComp2","expand","isLeaves","nd","bndComposite","bndOther","getDistance","getBoundable","AbstractSTRtree","_root","_built","_itemBoundables","_nodeCapacity","nodeCapacity","DEFAULT_NODE_CAPACITY","nodeCapacity$1","staticAccessors$23","IntersectsOp","getNodeCapacity","lastNode","build","removeItem","childToRemove","itemsTree","valuesTree","valuesTreeForNode","valuesTreeForChild","boundablesAtLevel","boundables","level$1","boundables$1","boundable","searchBounds","getIntersectsOp","searchBounds$1","visitor","searchBounds$2","visitor$1","childBoundables","searchBounds$3","matches$1","childBoundables$1","childBoundable$1","createHigherLevels","getRoot","item$1","childToPrune","boundablesOfALevel","parentBoundables","createParentBoundables","maxChildDepth","childDepth","newLevel","sortedChildBoundables","getComparator","compareDoubles","ItemDistance","item1","item2","STRtree","AbstractSTRtree$$1","STRtreeNode","xComparator","yComparator","intersectsOp","createParentBoundablesFromVerticalSlices","verticalSlices","createParentBoundablesFromVerticalSlice","sliceCount","sliceCapacity","slices","boundablesAddedToSlice","searchEnv","searchEnv$1","minLeafCount","nearestNeighbour","itemDist","initBndPair","POSITIVE_INFINITY","itemDist$1","bp$1","initBndPair$1","maxDistance","distanceLowerBound","minPair","bndPair","currentDistance","itemDist$2","bnd","bp$2","centreX","avg","centreY","aBounds","bBounds","AbstractNode$$1","SegmentPointComparator","relativeSign","octant","xSign","ySign","compareValue","compareSign0","compareSign1","SegmentNode","_segString","_segmentOctant","_isInterior","segString","segmentOctant","maxSegmentIndex","isInterior","SegmentNodeList","_nodeMap","getSplitCoordinates","addEndpoints","eiPrev","addEdgeCoordinates","addCollapsedNodes","collapsedVertexIndexes","findCollapsesFromInsertedNodes","findCollapsesFromExistingVertices","vertexIndex","ei0","ei1","lastSegStartPt","useIntPt1","addSplitEdges","edgeList","newEdge","createSplitEdge","findCollapseIndex","collapsedVertexIndex","numVerticesBetween","maxSegIndex","ipt","NodedSegmentString","getData","eiNew","getSegmentOctant","checkSplitEdgesCorrectness","splitEdges","pt0","splitnPts","ptn","Octant","dx$1","dy$1","SegmentString","setData","NodableSegmentString","addIntersection","_nodeList","_data","safeOctant","intPt$1","addIntersectionNode","li","segmentIndex$1","getNodeList","normalizedSegmentIndex","nextSegIndex","nextPt","addIntersections","getNodedSubstrings","segStrings","resultEdgelist","segStrings$1","resultEdgelist$1","ss","LineSegment","staticAccessors$24","seg","orient0","orient1","geomFactory","isVertical","project","projectionFactor","pf0","pf1","newp0","newp1","distancePerpendicular","midPoint","closestPoints","closestPt","close00","closestPoint","close01","close10","close11","comp0","lineIntersection","pointAlongOffset","segmentLengthFraction","offsetDistance","segx","segy","setCoordinates","segmentFraction","inputPt","segFrac","isHorizontal","pointAlong","bits0","hash0","bits1","MonotoneChainOverlapAction","tempEnv1","tempEnv2","_overlapSeg1","_overlapSeg2","mc1","start1","mc2","start2","getLineSegment","MonotoneChain","_start","_end","_context","_id","context","computeSelect","start0","end0","mcs","select","computeOverlaps","mc","mco","computeOverlapsInternal","setId","getEndIndex","getStartIndex","getContext","getId","end1","p00","p01","p10","p11","mid0","mid1","MonotoneChainBuilder","getChainStartIndices","startIndexList","findChainEnd","toIntArray","safeStart","chainQuad","getChains","pts$1","mcList","Noder","computeNodes","SinglePassNoder","_segInt","segInt","setSegmentIntersector","MCIndexNoder","SinglePassNoder$$1","si","_monoChains","_index","_idCounter","_nodedSegStrings","_nOverlaps","SegmentOverlapAction","getMonotoneChains","segStr","inputSegStrings","intersectChains","overlapAction","queryChain","testChain","MonotoneChainOverlapAction$$1","_si","ss1","ss2","processIntersections","BufferParameters","_quadrantSegments","DEFAULT_QUADRANT_SEGMENTS","_endCapStyle","CAP_ROUND","_joinStyle","JOIN_ROUND","_mitreLimit","DEFAULT_MITRE_LIMIT","_isSingleSided","_simplifyFactor","DEFAULT_SIMPLIFY_FACTOR","quadrantSegments","setQuadrantSegments","quadrantSegments$1","endCapStyle","setEndCapStyle","quadrantSegments$2","endCapStyle$1","joinStyle","mitreLimit","setJoinStyle","setMitreLimit","staticAccessors$25","CAP_FLAT","CAP_SQUARE","JOIN_MITRE","JOIN_BEVEL","getEndCapStyle","isSingleSided","quadSegs","getJoinStyle","setSimplifyFactor","simplifyFactor","getSimplifyFactor","getQuadrantSegments","getMitreLimit","setSingleSided","bufferDistanceError","alpha","BufferInputLineSimplifier","inputLine","_distanceTol","_isDeleted","_angleOrientation","_inputLine","staticAccessors$26","INIT","DELETE","KEEP","NUM_PTS_TO_CHECK","isDeletable","distanceTol","isConcave","isShallow","isShallowSampled","deleteShallowConcavities","midIndex","findNextNonDeletedIndex","lastIndex","isMiddleVertexDeleted","isShallowConcavity","simplify","collapseLine","OffsetSegmentString","_ptList","_minimimVertexDistance","staticAccessors$28","COORDINATE_ARRAY_TYPE","addPt","bufPt","isRedundant","revere","addPts","lastPt","startPt","setMinimumVertexDistance","minimimVertexDistance","Angle","staticAccessors$29","PI_TIMES_2","PI_OVER_2","PI_OVER_4","toDegrees","isAcute","dx0","dy0","isObtuse","interiorAngle","anglePrev","angleNext","normalizePositive","angleBetween","tip1","tip2","a1","ang1","ang2","delAngle","toRadians","angleDegrees","getTurn","crossproduct","angleBetweenOriented","angDel","OffsetSegmentGenerator","_maxCurveSegmentError","_filletAngleQuantum","_closingSegLengthFactor","_segList","_bufParams","_li","_s0","_s1","_s2","_seg0","_seg1","_offset0","_offset1","_side","_hasNarrowConcaveAngle","bufParams","MAX_CLOSING_SEG_LEN_FACTOR","staticAccessors$27","OFFSET_SEGMENT_SEPARATION_FACTOR","INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR","CURVE_VERTEX_SNAP_DISTANCE_FACTOR","addNextSegment","addStartPoint","computeOffsetSegment","outsideTurn","addCollinear","addOutsideTurn","addInsideTurn","addLineEndCap","offsetL","offsetR","addFilletArc","squareCapSideOffset","squareCapLOffset","squareCapROffset","addMitreJoin","offset0","offset1","isMitreWithinLimit","addLimitedMitreJoin","addFilletCorner","startAngle","endAngle","addBevelJoin","createSquare","addSegments","addFirstSegment","addLastSegment","initSideSegments","s2","basePt","ang0","angDiffHalf","midAng","mitreMidAng","mitreDist","bevelHalfLen","bevelMidX","bevelMidY","bevelMidPt","mitreMidLine","bevelEndLeft","bevelEndRight","offset","sideSign","totalAngle","nSegs","currAngleInc","currAngle","createCircle","hasNarrowConcaveAngle","OffsetCurveBuilder","getOffsetCurve","inputPts","isRightSide","posDistance","segGen","getSegGen","computePointCurve","computeOffsetCurve","curvePts","computeSingleSidedBufferCurve","distTol","simplifyTolerance","simp2","simp1","computeRingBufferCurve","simp","computeLineBufferCurve","getLineCurve","getBufferParameters","bufDistance","getRingCurve","copyCoordinates","SubgraphDepthLocater","_subgraphs","_seg","_cga","subgraphs","staticAccessors$30","DepthSegment","findStabbedSegments","stabbingRayLeftPt","stabbedSegments","bsg","stabbingRayLeftPt$1","dirEdge","stabbedSegments$1","ds","stabbingRayLeftPt$2","stabbedSegments$2","_leftDepth","_upwardSeg","orientIndex","seg0","seg1","compare0","Triangle$1","interpolateZ","longestSideLength","circumcentre","area3D","inCentre","m00","m01","m10","m11","lenAB","lenBC","lenCA","maxLen","numx","numy","perpendicularBisector","l1","l2","angleBisector","len0","frac","uz","vz","crossx","crossy","crossz","absSq","len1","circum","inCentreX","inCentreY","OffsetCurveSetBuilder","_inputGeom","_curveBuilder","_curveList","inputGeom","curveBuilder","addPoint","curve","addCurve","addPolygon","offsetSide","shellCoord","isErodedCompletely","addPolygonRing","holeCoord","isTriangleErodedCompletely","triangleCoord","bufferDistance","tri","addLineString","getCurves","cwLeftLoc","cwRightLoc","addCollection","ringCoord","envMinDimension","PointOnGeometryLocator","locate","GeometryCollectionIterator","_parent","_atStart","_max","_subcollectionIterator","isAtomic","SimplePointInAreaLocator","containsPointInPolygon","geomi","g2","EdgeEndStar","_edgeMap","_edgeList","_ptInAreaLocation","getNextCW","iNextCW","propagateSideLabels","startLoc","currLoc","it$1","isAreaLabelsConsistent","geomGraph","computeEdgeEndLabels","getBoundaryNodeRule","checkAreaLabelsConsistent","lastEdgeIndex","findIndex","eSearch","getGeometry","computeLabelling","hasDimensionalCollapseEdge","geomi$1","getDegree","insertEdgeEnd","DirectedEdgeStar","EdgeEndStar$$1","_resultAreaEdgeList","_SCANNING_FOR_INCOMING","_LINKING_TO_OUTGOING","getResultAreaEdges","firstOut","incoming","state","nextOut","nextIn","de0","deLast","quad0","updateLabelling","nodeLabel","prevOut","firstIn","edgeIndex","startDepth","targetLastDepth","nextDepth","lastDepth","endIndex","startDepth$1","currDepth","nextDe","mergeSymLabels","degree$1","findCoveredLineEdges","nextOut$1","nextIn$1","eLabel","eLoc","OverlayNodeFactory","NodeFactory$$1","OrientedCoordinateArray","_orientation","oca","compareOriented","orientation1","orientation2","limit1","limit2","compPt","done1","done2","EdgeList","_ocaMap","edgeColl","findEdgeIndex","findEqualEdge","SegmentIntersector","e0","segIndex0","segIndex1","IntersectionAdder","_hasIntersection","_hasProper","_hasProperInterior","_hasInterior","_properIntersectionPoint","_isSelfIntersection","numIntersections","numInteriorIntersections","numProperIntersections","numTests","isTrivialIntersection","isAdjacentSegments","getProperIntersectionPoint","hasProperInteriorIntersection","getLineIntersector","hasProperIntersection","hasInteriorIntersection","EdgeIntersection","getSegmentIndex","EdgeIntersectionList","Edge$1","MonotoneChainIndexer","MonotoneChainEdge","mcb","chainIndex","computeIntersectsForChain","chainIndex0","mce","chainIndex1","mce$1","getStartIndexes","computeIntersects","Depth","NULL_VALUE","staticAccessors$31","depthValue","minDepth","newValue","getDelta","depthAtLocation","Edge","_mce","_isIsolated","_depthDelta","getCollapsedEdge","newPts","setIsolated","setName","isEqualForward","isEqualReverse","iRev","isCollapsed","getMaximumSegmentIndex","getMonotoneChainEdge","isPointwiseEqual","setDepthDelta","getEdgeIntersectionList","setAtLeastIfValid","BufferBuilder","_workingPrecisionModel","_workingNoder","_graph","setWorkingPrecisionModel","insertUniqueEdge","existingEdge","existingLabel","labelToMerge","mergeDelta","newDelta","buildSubgraphs","subgraphList","polyBuilder","processedGraphs","subgraph","createSubgraphs","createEmptyResultGeometry","getNoder","noder","buffer","bufferSegStrList","computeNodedEdges","oldLabel","setNoder","lLoc","rLoc","convertSegStrings","ScaledNoder","_noder","_scaleFactor","_offsetX","_offsetY","_isScaled","scaleFactor","isIntegerPrecision","noder$1","scaleFactor$1","offsetX","offsetY","rescale","nodedSegmentStrings","roundPts","roundPtsNoDup","splitSS","intSegStrings","NodingValidator","_segStrings","staticAccessors$33","checkEndPtVertexIntersections","ss$1","checkInteriorIntersections","ss0","ss0$1","ss1$1","pts0","checkValid","checkCollapses","checkCollapse","HotPixel","_pt","_originalPt","_ptScaled","_p0Scaled","_p1Scaled","_corner","_safeEnv","initCorners","staticAccessors$34","SAFE_ENV_EXPANSION_FACTOR","intersectsScaled","segMinx","segMaxx","segMiny","segMaxy","isOutsidePixelEnv","intersectsToleranceSquare","copyScaled","pScaled","getSafeEnvelope","safeTolerance","intersectsPixelClosure","intersectsLeft","intersectsBottom","addSnappedNode","segIndex","MonotoneChainSelectAction","selectedSegment","MCIndexPointSnapper","staticAccessors$35","HotPixelSnapAction","snap","hotPixel","hotPixel$1","parentEdge","hotPixelVertexIndex","pixelEnv","hotPixelSnapAction","isNodeAdded","MonotoneChainSelectAction$$1","_hotPixel","_parentEdge","_hotPixelVertexIndex","_isNodeAdded","InteriorIntersectionFinderAdder","_interiorIntersections","getInteriorIntersections","MCIndexSnapRounder","_pm","_pointSnapper","checkCorrectness","inputSegmentStrings","resultSegStrings","nv","snapRound","intersections","findInteriorIntersections","computeIntersectionSnaps","computeVertexSnaps","intFinderAdder","edge0","snapPts","snapPt","BufferOp","_argGeom","_resultGeometry","_saveException","staticAccessors$32","CAP_BUTT","MAX_PRECISION_DIGITS","bufferFixedPrecision","fixedPM","bufBuilder","bufferReducedPrecision","precDigits","precisionDigits","sizeBasedScaleFactor","precisionScaleFactor","computeGeometry","bufferOriginalPrecision","argPM","getResultGeometry","bufferOp","gBuf","geomBuf","distance$1","bufOp","geomBuf$1","g$2","distance$2","params","bufOp$1","geomBuf$2","g$3","distance$3","bufOp$2","geomBuf$3","maxPrecisionDigits","bufEnvMax","minUnitLog10","PointPairDistance","_isNull","setMinimum","ptDist","initialize","setMaximum","DistanceToPointFinder","computeDistance","tempSegment","pt$1","ptDist$1","pt$2","ptDist$2","pt$3","ptDist$3","closestPt$1","BufferCurveMaximumDistanceFinder","_maxPtDist","staticAccessors$36","MaxPointDistanceFilter","MaxMidpointDistanceFilter","computeMaxMidpointDistance","distFilter","getMaxPointDistance","computeMaxVertexDistance","findDistance","bufferCurve","getDistancePoints","_minPtDist","midPt","PolygonExtracter","comps","_comps","LinearComponentExtracter","_lines","_isForcedToLineString","lines$1","isForcedToLineString","setForceToLineString","getLines","forceToLineString","geoms","geom$2","lines$2","geoms$1","lines$3","forceToLineString$1","geom$3","lines$4","forceToLineString$2","PointLocator","_boundaryRule","_isIn","_numBoundaries","boundaryRule","locateInternal","shellLoc","locateInPolygonRing","holeLoc","p$2","ptCoord","updateLocationInfo","computeLocation","ml","mpoly","GeometryLocation","_component","_segIndex","component","INSIDE_AREA","component$1","staticAccessors$38","isInsideArea","getGeometryComponent","PointExtracter","getPoints","ConnectedElementLocationFilter","_locations","locations","DistanceOp","_terminateDistance","_ptLocator","_minDistanceLocation","_minDistance","g0","g1","g0$1","g1$1","terminateDistance","computeContainmentDistance","locPtPoly","polyGeomIndex","locPtPoly$1","locationsIndex","insideLocs","locs","polys$1","locPtPoly$2","ptLoc","locPtPoly$3","computeMinDistanceLinesPoints","locGeom","computeMinDistance","computeFacetDistance","lines0","lines1","computeMinDistanceLines","updateMinDistance","computeMinDistancePoints","nearestLocations","nearestPoints","coord0","segClosestPoint","line0","locGeom$1","coord0$1","dist$1","points0","points1","isWithinDistance","PointPairDistance$2","DistanceToPoint","DiscreteHausdorffDistance","_g0","_g1","_ptDist","_densifyFrac","staticAccessors$39","MaxDensifiedByFractionDistanceFilter","setDensifyFraction","densifyFrac","compute","computeOrientedDistance","discreteGeom","MaxPointDistanceFilter$1","fracFilter","orientedDistance","_euclideanDist","_numSubSegs","fraction","delx","dely","BufferDistanceValidator","_minValidDistance","_maxValidDistance","_minDistanceFound","_maxDistanceFound","_isValid","_errMsg","_errorLocation","_errorIndicator","_input","_bufDistance","staticAccessors$37","VERBOSE","MAX_DISTANCE_DIFF_FRAC","checkMaximumDistance","bufCurve","haus","distDelta","checkPositiveValid","checkNegativeValid","inputCurve","getPolygonLines","checkMinimumDistance","getErrorIndicator","distOp","getErrorLocation","lineExtracter","getErrorMessage","BufferResultValidator","_errorMsg","staticAccessors$40","MAX_ENV_DIFF_FRAC","checkPolygonal","checkExpectedEmpty","checkEnvelope","checkArea","checkDistance","padding","expectedEnv","bufEnv","report","distValid","inputArea","resultArea","checkName","isValidMsg","validator","BasicSegmentString","InteriorIntersectionFinder","_findAllIntersections","_isCheckEndSegmentsOnly","_interiorIntersection","_intSegments","_intersections","_intersectionCount","_keepIntersections","getInteriorIntersection","setCheckEndSegmentsOnly","isCheckEndSegmentsOnly","getIntersectionSegments","getIntersections","setFindAllIntersections","findAllIntersections","setKeepIntersections","keepIntersections","isEndSegment","createAllIntersectionsFinder","finder","createAnyIntersectionFinder","createIntersectionCounter","FastNodingValidator","execute","intSegs","computeIntersections","EdgeNodingValidator","_nv","toSegmentStrings","GeometryCollectionMapper","mapOp","_mapOp","mapped","op","LineBuilder","_op","_lineEdgesList","_resultLineList","ptLocator","collectLines","opCode","getGraph","collectLineEdge","collectBoundaryTouchEdge","labelIsolatedLine","targetIndex","getArgGeometry","buildLines","OverlayOp","isResultOfOp","isCoveredByA","labelIsolatedLines","edgesList","INTERSECTION","PointBuilder","_resultPointList","filterCoveredNodeToPoint","isCoveredByLA","extractNonCoveredResultNodes","GeometryTransformer","_pruneEmptyGeometry","_preserveGeometryCollectionType","_preserveCollections","_preserveType","transformPoint","transformCoordinates","transformPolygon","isAllValidLinearRings","transformLinearRing","createCoordinateSequence","getInputGeometry","transformMultiLineString","transGeomList","transformGeom","transformLineString","transformMultiPoint","transformMultiPolygon","transformGeometryCollection","transform","seqSize","LineStringSnapper","_snapTolerance","_srcPts","_allowSnappingToSourceVertices","_isClosed","srcLine","snapTolerance","srcPts","snapTolerance$1","snapVertices","srcCoords","srcPt","snapVert","findSnapForVertex","snapTo","snapSegments","distinctPtCount","findSegmentIndexToSnap","snapIndex","setAllowSnappingToSourceVertices","allowSnappingToSourceVertices","GeometrySnapper","srcGeom","_srcGeom","staticAccessors$41","SNAP_PRECISION_FACTOR","snapGeom","extractTargetCoordinates","SnapTransformer","snapToSelf","cleanResult","snappedGeom","computeSnapTolerance","ringPts","computeMinimumSegmentLength","ptSet","minSegLen","segLen","snapper0","snapper1","computeOverlaySnapTolerance","computeSizeBasedSnapTolerance","fixedSnapTol","GeometryTransformer$$1","isSelfSnap","_snapPts","_isSelfSnap","snapLine","snapper","CommonBits","_isFirst","_commonMantissaBitsCount","_commonBits","_commonSignExp","getCommon","numBits","signExpBits","numCommonMostSigMantissaBits","zeroLowerBits","bits","numStr","toBinaryString","padStr","bitStr","getBit","nBits","num1","num2","CommonBitsRemover","_commonCoord","_ccFilter","CommonCoordinateFilter","staticAccessors$42","Translater","addCommonBits","trans","removeCommonBits","invCoord","getCommonCoordinate","_commonBitsX","_commonBitsY","xp","yp","SnapOverlayOp","_cbr","selfSnap","remGeom","prepareResult","prepGeom","overlayOp","union","UNION","symDifference","SYMDIFFERENCE","difference","DIFFERENCE","SnapIfNeededOverlayOp","isSuccess","savedException","MonotoneChain$2","SweepLineEvent","_xValue","_eventType","_insertEvent","_deleteEventIndex","_obj","insertEvent","INSERT","staticAccessors$43","isDelete","setDeleteEventIndex","deleteEventIndex","getObject","pe","getInsertEvent","isInsert","isSameLabel","ev","getDeleteEventIndex","EdgeSetIntersector","SegmentIntersector$2","_includeProper","_recordIsolated","_numIntersections","_bdyNodes","_isDone","_isDoneWhenProperInt","includeProper","recordIsolated","setIsDoneIfProperInt","isDoneWhenProperInt","isBoundaryPointInternal","isBoundaryPoint","setBoundaryNodes","bdyNodes0","bdyNodes1","SimpleMCSweepLineIntersector","EdgeSetIntersector$$1","events","nOverlaps","prepareEvents","processOverlaps","edges0","edges1","si$1","si$2","testAllSegments","addEdge","edgeSet","ev0","mc0","ev1","edges$1","IntervalRTreeNode","_min","NEGATIVE_INFINITY","staticAccessors$45","NodeComparator","getMin","queryMin","queryMax","getMax","mid2","IntervalRTreeLeafNode","IntervalRTreeNode$$1","IntervalRTreeBranchNode","_node1","_node2","buildExtent","SortedPackedIntervalRTree","_leaves","buildTree","buildLevel","buildRoot","printNode","ArrayListVisitor","getItems","IndexedPointInAreaLocator","IntervalIndexedGeometry","staticAccessors$44","SegmentVisitor","rcc","_counter","addLine","GeometryGraph","PlanarGraph$$1","_parentGeom","_lineEdgeMap","_boundaryNodeRule","_useBoundaryDeterminationRule","_argIndex","_boundaryNodes","_hasTooFewPoints","_invalidPoint","_areaPtLocator","parentGeom","argIndex$1","parentGeom$1","boundaryNodeRule$1","insertBoundaryPoint","determineBoundary","computeSelfNodes","computeRingSelfNodes","li$1","computeRingSelfNodes$1","isDoneIfProperInt","esi","createEdgeSetIntersector","isRings","computeAllSegments","addSelfIntersectionNodes","computeSplitEdges","edgelist","computeEdgeIntersections","hasTooFewPoints","insertPoint","getInvalidPoint","getBoundaryPoints","addSelfIntersectionNode","lr","cwLeft","cwRight","eiIt","GeometryGraphOp","_resultPrecisionModel","_arg","setComputationPrecision","g0$2","GeometryMapper","MapOp","op$1","mapped$1","gr","_resultGeom","_resultPolyList","cancelDuplicateResultEdges","resultPointList","resultLineList","opcode","createEmptyResult","replaceCollapsedEdges","newEdges","updateNodeLabelling","overlayOpCode","computeOverlay","insertUniqueEdges","copyPoints","baseSplitEdges","computeLabelsFromDepths","labelIncompleteNodes","findResultAreaEdges","lineBuilder","pointBuilder","labelIncompleteNode","graphNode","ni","geom1","resultDimension","dim0","dim1","geomFact","loc0","loc1","loc0$1","loc1$1","FuzzyPointLocator","_g","_boundaryDistanceTolerance","_linework","boundaryDistanceTolerance","extractLinework","isWithinToleranceOfBoundary","extracter","PolygonalLineworkExtracter","linework","getLinework","OffsetPointGenerator","_doLeft","_doRight","extractPoints","offsetPts","computeOffsetPoints","setSidesToGenerate","doLeft","doRight","midX","midY","offsetLeft","offsetRight","OverlayResultValidator","_locFinder","_location","_invalidLocation","TOLERANCE","_testCoords","computeBoundaryDistanceTolerance","staticAccessors$46","reportResult","expectedInterior","addTestPts","overlayOp$1","hasLocation","isValidResult","ptGen","getInvalidLocation","GeometryCombiner","_geomFactory","_skipEmpty","_inputGeoms","extractFactory","extractElements","elems","elemGeom","combine","combiner","combiner$1","createList","combiner$2","obj0","obj1","obj0$1","obj1$1","obj2","list$1","CascadedPolygonUnion","_inputPolys","staticAccessors$47","STRTREE_NODE_CAPACITY","reduceToGeometries","geomTree","unionTree","extractByEnvelope","disjointGeoms","intersectingGeoms","elem","unionOptimized","g0Env","g1Env","unionActual","commonEnv","unionUsingEnvelopeIntersection","itemTree","binaryUnion","unionSafe","repeatedUnion","restrictToPolygons","common","disjointPolys","g0Int","g1Int","bufferUnion","gColl","unionAll","factory$1","gColl$1","unionAll$1","UnionOp","removeEmptyPolygon","adder","Adder","reset","add$1","av","pi","tau","rotationIdentity","lambda","phi","invert","ascending","TransformStream","stream","sphere","lineStart","lineEnd","polygonStart","polygonEnd","triangulate$1","turf.flattenEach","numTriangles","turf.polygon","turf.featureCollection","triangulate","turf.featureEach","triangle","clip","subject","clipper","clipIntersection","clipDifference","polygon1","polygon2","geom2","reader","differenced","turf.difference","flattened","poly1","poly2","turf.intersect","clippers","turf.coordEach","turf.lineIntersect","turf.booleanPointOnLine","turf.distance","turf.lineString","subjects","parts","facet","helpers","centers","turf.segmentEach","turf.centroid","disjoint","geojson1","geojson2","turf.bbox","ndim1","ndim2","similar","array1","array2","index2","invariant","geoType","turf.getType","many","turf.flattenReduce","baseType","currentType","reduceEvery","reducer","reduceSome","meta","coordEvery","turf.coordReduce","coordSome","featureEvery","turf.featureReduce","featureSome","flattenEvery","flattenSome","segmentEvery","turf.segmentReduce","segmentSome","lines2","segments2","turf.lineSegment","segment1","turf.getCoords","partition","boundaries","linePartition","boundary","turf.polygonToLine","triangulation1","triangulation2","triangle1","clips","point$6","isInLine","within","reducerLines","isInPoint","reducerPts","point1","turf.point","point2","isInPolygon","reducerPoly","turf.booleanPointInPolygon","isIntersecting","isOnBoundary","isOverlapping","partition1","inLine","nearest","sectionLength","heightDistance","perpendicularPt1","perpendicularPt2","intersectPt","turf.nearestPointOnLine","isTouching","end2","line$6","isDisjoint","isSimilar","findMatch","features1","features2","length2","isPolygonSimilar","polygons1","polygons2","feature1","feature2","isCoordinateSimilar","relate","polygon$6","isBoundaryIntersecting","boundary1","boundary2","util","line$5","point$5","points2","polygon$5","error","type1","type2","index$1","getProp","LocalStorageStore","localStorage","getStore","setItem","ObjectStore","objs","DB","console","tlMatches","doc","and","els","or","not","operand","nor","where","$err","opMatches","arrayMatches","operator","geoWithin","objectMatches","prop","de9im.default","minLon","maxLat","maxLon","minLat","bboxToGeojson","el","applyProjection","applyUpdates","updates","setOnInsert","fields","amount","field","toRemove","notRemoved","removed","createDocFromUpdate","newDoc","onlyFields","updateKeys","queryKeys","db","Cursor","findNext","batchSize","close","comment","explain","hint","itcount","limit","maxScan","maxTimeMS","noCursorTimeout","objsLeftInBatch","pretty","readConcern","readPref","returnKey","showRecordId","skip","snapshot","SortedCursor","tailable","cursor","sortKeys","isCollection","aggregate","bulkWrite","copyTo","destCollectionName","createCollection","destCol","numCopied","insertOne","createIndex","dataSize","deleteOne","findOne","deletedCount","deleteMany","distinct","vals","drop","dropIndex","dropIndexes","ensureIndex","findAndModify","findOneAndDelete","findOneAndReplace","replacement","returnNewDocument","findOneAndUpdate","update","getIndexes","getShardDistribution","getShardVersion","group","insertMany","docs","isCapped","mapReduce","reIndex","replaceOne","matchedCount","modifiedCount","upsert","upsertedId","justOne","renameCollection","save","stats","storageSize","totalSize","totalIndexSize","multi","updateOne","updateMany","validate","cloneCollection","cloneDatabase","commandHelp","copyDatabase","currentOp","dropDatabase","eval","fsyncLock","fsyncUnlock","getCollection","getCollectionInfos","getCollectionNames","names","getLastError","getLastErrorObj","getLogComponents","getMongo","getPrevError","getProfilingLevel","getProfilingStatus","getReplicationInfo","getSiblingDB","help","hostInfo","isMaster","killOp","listCommands","loadServerScripts","logout","printCollectionStats","printReplicationInfo","printShardingStatus","printSlaveReplicationInfo","repairDatabase","resetError","runCommand","serverBuildInfo","serverCmdLineOpts","serverStatus","setLogLevel","setProfilingLevel","shutdownServer","version","upgradeCheck","upgradeCheckAllDBs","qouted","replaceAll","escape","stringifyArgsObj","first","stringifyA","stringifyO","stringifyYaml","stringifyMaybeYaml","stringifyYamlLine","stringifyInlineTag","stringifyInclude","handler","Reflect","receiver","Proxy","SqrmRequest","Schema","normal","space","definitions","Info","attribute","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated","mustUseProperty","defined","powers","increment","checks","types","DefinedInfo","mask","super","mark","check","own","definition","info","attributes","xlink","xLinkActuate","xLinkArcRole","xLinkHref","xLinkRole","xLinkShow","xLinkTitle","xLinkType","xml","xmlLang","xmlBase","xmlSpace","caseSensitiveTransform","caseInsensitiveTransform","xmlns","xmlnsxlink","xmlnsXLink","aria","ariaActiveDescendant","ariaAtomic","ariaAutoComplete","ariaBusy","ariaChecked","ariaColCount","ariaColIndex","ariaColSpan","ariaControls","ariaCurrent","ariaDescribedBy","ariaDetails","ariaDisabled","ariaDropEffect","ariaErrorMessage","ariaExpanded","ariaFlowTo","ariaGrabbed","ariaHasPopup","ariaHidden","ariaInvalid","ariaKeyShortcuts","ariaLabel","ariaLabelledBy","ariaLevel","ariaLive","ariaModal","ariaMultiLine","ariaMultiSelectable","ariaOrientation","ariaOwns","ariaPlaceholder","ariaPosInSet","ariaPressed","ariaReadOnly","ariaRelevant","ariaRequired","ariaRoleDescription","ariaRowCount","ariaRowIndex","ariaRowSpan","ariaSelected","ariaSetSize","ariaSort","ariaValueMax","ariaValueMin","ariaValueNow","ariaValueText","role","html","acceptcharset","classname","htmlfor","httpequiv","abbr","accept","acceptCharset","accessKey","action","allow","allowFullScreen","allowPaymentRequest","allowUserMedia","alt","as","autoCapitalize","autoComplete","autoFocus","autoPlay","capture","charSet","checked","cite","cols","colSpan","content","contentEditable","controls","controlsList","crossOrigin","dateTime","decoding","defer","dir","dirName","disabled","download","draggable","encType","enterKeyHint","form","formAction","formEncType","formMethod","formNoValidate","formTarget","headers","hidden","href","hrefLang","htmlFor","httpEquiv","imageSizes","imageSrcSet","inputMode","integrity","is","isMap","itemId","itemProp","itemRef","itemScope","itemType","kind","lang","language","loading","loop","low","manifest","maxLength","media","minLength","multiple","muted","nonce","noModule","noValidate","onAbort","onAfterPrint","onAuxClick","onBeforePrint","onBeforeUnload","onBlur","onCancel","onCanPlay","onCanPlayThrough","onChange","onClick","onClose","onContextLost","onContextMenu","onContextRestored","onCopy","onCueChange","onCut","onDblClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onDurationChange","onEmptied","onEnded","onError","onFocus","onFormData","onHashChange","onInput","onInvalid","onKeyDown","onKeyPress","onKeyUp","onLanguageChange","onLoad","onLoadedData","onLoadedMetadata","onLoadEnd","onLoadStart","onMessage","onMessageError","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onOffline","onOnline","onPageHide","onPageShow","onPaste","onPause","onPlay","onPlaying","onPopState","onProgress","onRateChange","onRejectionHandled","onReset","onResize","onScroll","onSecurityPolicyViolation","onSeeked","onSeeking","onSelect","onSlotChange","onStalled","onStorage","onSubmit","onSuspend","onTimeUpdate","onToggle","onUnhandledRejection","onUnload","onVolumeChange","onWaiting","onWheel","open","optimum","pattern","ping","placeholder","playsInline","poster","preload","readOnly","referrerPolicy","rel","required","reversed","rows","rowSpan","sandbox","scope","scoped","seamless","selected","shape","sizes","slot","span","spellCheck","srcDoc","srcLang","srcSet","step","style","tabIndex","title","typeMustMatch","useMap","width","align","aLink","archive","axis","background","bgColor","border","borderColor","bottomMargin","cellPadding","cellSpacing","charOff","classId","codeBase","codeType","compact","declare","event","face","frame","frameBorder","hSpace","leftMargin","link","longDesc","lowSrc","marginHeight","marginWidth","noResize","noHref","noShade","noWrap","profile","prompt","rev","rightMargin","rules","scheme","scrolling","standby","summary","topMargin","valueType","vAlign","vLink","vSpace","allowTransparency","autoCorrect","autoSave","disablePictureInPicture","disableRemotePlayback","prefix","security","unselectable","svg","accentHeight","alignmentBaseline","arabicForm","baselineShift","capHeight","clipPath","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","dataType","dominantBaseline","enableBackground","fillOpacity","fillRule","floodColor","floodOpacity","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","horizAdvX","horizOriginX","horizOriginY","imageRendering","letterSpacing","lightingColor","markerEnd","markerMid","markerStart","navDown","navDownLeft","navDownRight","navLeft","navNext","navPrev","navRight","navUp","navUpLeft","navUpRight","onActivate","onBegin","onEnd","onFocusIn","onFocusOut","onMouseWheel","onRepeat","onShow","onZoom","overlinePosition","overlineThickness","paintOrder","panose1","pointerEvents","renderingIntent","shapeRendering","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","strokeDashArray","strokeDashOffset","strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeOpacity","strokeWidth","textAnchor","textDecoration","textRendering","typeOf","underlinePosition","underlineThickness","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","vectorEffect","vertAdvY","vertOriginX","vertOriginY","wordSpacing","writingMode","xHeight","playbackOrder","timelineBegin","about","accumulate","additive","alphabetic","amplitude","ascent","attributeName","attributeType","azimuth","bandwidth","baseFrequency","baseProfile","begin","bias","calcMode","clipPathUnits","contentScriptType","contentStyleType","defaultAction","descent","diffuseConstant","display","dur","divisor","edgeMode","editable","elevation","exponent","externalResourcesRequired","filterRes","filterUnits","focusable","focusHighlight","fr","glyphRef","gradientTransform","gradientUnits","hanging","hatchContentUnits","hatchUnits","ideographic","initialVisibility","in","in2","intercept","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","kerning","lengthAdjust","limitingConeAngle","local","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","mathematical","mediaCharacterEncoding","mediaContentEncodings","mediaSize","mediaTime","mode","numOctaves","observer","opacity","order","overflow","overlay","pathLength","patternContentUnits","patternTransform","patternUnits","phase","pitch","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","propagate","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","requiredFonts","requiredFormats","resource","restart","rotate","seed","slope","snapshotTime","specularConstant","specularExponent","spreadMethod","spacing","startOffset","stdDeviation","stemh","stemv","stitchTiles","stroke","surfaceScale","syncBehavior","syncBehaviorDefault","syncMaster","syncTolerance","syncToleranceDefault","systemLanguage","tableValues","targetX","targetY","textLength","transformBehavior","u1","u2","unicode","viewBox","viewTarget","visibility","widths","xChannelSelector","yChannelSelector","zoomAndPan","valid","dash","cap","schema","rest","camelcase","dashes","kebab","$0","htmlBase","svgBase","settings","padRight","padLeft","buttonTypes","core","defaultTagName","caseSensitive","adjust","createAdjustMap","selector","subvalue","props","tagName","parseSelector","isProperties","addProperty","addChild","commas","parsePrimitive","finalResult","emojiMap","checkText","XD","xD","XP","D8","DX","O_O","O_o","o_O","o_o","namedReferences","bodyRegExps","html4","html5","entities","characters","$","fj","numericUnicodeMap","surrogatePairs","fromCodePoint","astralCodePoint","fromCharCode","getCodePoint","codePointAt","highSurrogateFrom","highSurrogateTo","__assign","named_references_1","require$$0","numeric_unicode_map_1","require$$1","surrogate_pairs_1","require$$2","allNamedReferences","encodeRegExps","specialChars","nonAscii","nonAsciiPrintable","extensive","defaultEncodeOptions","numeric","encode","_a","_c","_b","_d","_e","encodeRegExp","references","isHex","result_1","code_1","defaultDecodeOptions","baseDecodeRegExps","body","decodeRegExps","outOfBoundsChar","defaultDecodeEntityOptions","decodeEntity","entity","decodeResultByReference_1","decodeSecondChar_1","decodeCode_1","decode_1","decode","decodeRegExp","isAttribute","isStrict","replaceResult_1","replaceMatch_1","replaceLastIndex_1","replaceInput_1","decodeResult_1","decodeEntityLastChar_2","decodeResultByReference_2","decodeSecondChar_2","decodeCode_2","smile2emoji","zwitch","one","invalid","handlers","unknown","ltrRange","rtl","ltr","isElement","convertElement","tagNameFactory","tests","castFactory","any","parameters","anyFactory","Boolean","ok","typeFactory","propsFactory","visitParents","parents","visit","subresult","grandparents","toResult","enterState","currentDirection","editableOrEditingHost","dirInferred","dirProperty","dirBidi","noop","handle","nestingOperator","shallow","descendant","null","indexedSearch","nest","_1","_2","firstElementOnly","childIndex","elementsBefore","elementsByTypeBefore","delayed","elementIndex","typeIndex","elementCount","typeCount","exit","extendedFilter","tag","range","leftIndex","rightIndex","tags","ranges","cast","hasProperty","whitespace","thing","blank","someChildren","_3","enabled","assertDeep","scopeElements","selectors","rule","pseudos","appendScope","optional","readWrite","root","pseudo","needsIndex","normalizeValue","classNames","attrs","collector","Collector","collectAll","ruleSet","configure","collect","isIdentStart","isIdent","escapeIdentifier","chr","identSpecialChars","charCode","extraCharCode","escapeStr","strReplacementsRev","singleQuoteEscapeChars","doubleQuotesEscapeChars","parserContext","utils_1","parseCssSelector","attrEqualityMods","ruleNestingOperators","substitutesEnabled","getStr","quote","escapeTable","esc","hex","getIdent","skipWhitespace","parseSingleSelector","parseRule","currentRule","attr","attrValue","pseudoName","render","renderEntity","currentEntity","cn","parser_context_1","render_1","CssSelectorParser","registerSelectorPseudos","_i","pseudos_1","unregisterSelectorPseudos","pseudos_2","registerNumericPseudos","pseudos_3","unregisterNumericPseudos","pseudos_4","registerNestingOperators","operators","operators_1","unregisterNestingOperators","operators_2","registerAttrEqualityMods","mods","mods_1","mod","unregisterAttrEqualityMods","mods_2","enableSubstitutes","disableSubstitutes","CssSelectorParser_1","ZERO","NINE","boolbase","trueFunc","falseFunc","nthCheck","formula","parsed","absA","bMod","compile","readSign","readNumber","fauxEsmNthCheck","nth","selectAll","astralIdentifierCodes","astralIdentifierStartCodes","nonASCIIidentifierStartChars","reservedWords","strictBind","ecma5AndLessKeywords","keywords$1","keywordRelationalOperator","nonASCIIidentifierStart","nonASCIIidentifier","isInAstralSet","isIdentifierStart","astral","isIdentifierChar","TokenType","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","postfix","binop","updateContext","prec","keywords","kw","types$1","regexp","privateId","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","questionDot","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","slash","starstar","coalesce","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_this","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","isNewLine","nextLineBreak","nonASCIIwhitespace","skipWhiteSpace","ref","hasOwn","propName","wordsRegexp","codePointToString","loneSurrogate","col","column","SourceLocation","sourceFile","getLineInfo","nextBreak","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowSuperOutsideMethod","allowHashBang","onToken","onComment","program","directSourceFile","preserveParens","warnedAboutEcmaVersion","getOptions","opt","warn","block","endLoc","pushComment","functionFlags","generator","Parser","startPos","reserved","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","curLine","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","potentialArrowInForAwait","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","privateNameStack","inFunction","inGenerator","inAsync","canAwait","allowSuper","allowDirectSuper","treatFunctionsAsVar","allowNewDotTarget","inClassStaticBlock","nextToken","parseTopLevel","currentVarScope","flags","inClassFieldInit","currentThisScope","treatFunctionsAsVarInScope","currentScope","plugins","cls","parseExpressionAt","parseExpression","tokenizer","pp$9","literal","spaceAfter","eat","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expression","pp$8","stmt","parseStatement","adaptDirectivePrologue","finishNode","loopLabel","switchLabel","isLet","nextCh","ident","isAsyncFunction","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","startsWithLet","isForOf","toAssignable","checkLValPattern","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty$1","clause","param","parseBindingAtom","simple","finalizer","statementStart","createNewLexicalScope","exitStrict","isForIn","parseMaybeAssign","isFor","decl","parseVarId","isPrivateNameConflicted","privateNameMap","curr","static","checkKeyName","computed","statement","allowExpressionBody","forInit","initFunction","checkLValSimple","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","enterClassBody","classBody","hadConstructor","parseClassElement","superClass","exitClassBody","constructorAllowsSuper","keyName","isGenerator","isStatic","parseClassStaticBlock","isClassElementNameStart","lastValue","startNodeAt","parseClassElementName","isConstructor","allowsDirectSuper","parseClassMethod","parseClassField","parsePrivateIdent","parsePropertyName","parseMethod","oldLabels","SCOPE_CLASS_STATIC_BLOCK","parseExprSubscripts","declared","used","exported","parseModuleExportName","checkExport","parseExprAtom","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","spec","checkUnreserved","checkLocalExport","checkPatternExport","pat","decls","parseImportSpecifiers","node$2","imported","stringLiteral","parseLiteral","statements","isDirectiveCandidate","directive","raw","pp$7","isBinding","toAssignableList","exprList","parseSpread","parseRestBinding","parseObj","allowEmpty","allowTrailingComma","elts","parseBindingListItem","parseMaybeDefault","bindingType","checkClashes","isBind","declareName","checkLValInnerPattern","TokContext","isExpr","preserveSpace","override","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$6","curContext","braceIsBlock","prevType","inGeneratorContext","overrideContext","tokenCtx","statementParens","allowed","pp$5","isPrivateFieldAccess","checkPropClash","propHash","shorthand","proto","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","oldDoubleProto","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","buildBinary","sawUnary","parseAwait","parseSubscripts","base","noCalls","maybeAsyncArrow","optionalChained","parseSubscript","chainNode","optionalSupported","parseExprList","parseArrowExpression","callee","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","regex","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseDynamicImport","parseImportMeta","errorPos","bigint","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","isImport","parseTemplateElement","cooked","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","copyNode","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","allowDuplicates","nameHash","liberal","delegate","pp$4","err","SyntaxError","raisedAt","pp$3","Scope","var","lexical","functions","redeclared","scope$2","scope$3","SCOPE_TOP","pp$2","ecma9BinaryProperties","ecma10BinaryProperties","ecma12BinaryProperties","unicodeBinaryProperties","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","ecma12ScriptValues","unicodeScriptValues","buildUnicodeData","binary","nonBinary","General_Category","Script","Script_Extensions","scx","pp$1","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","isSyntaxCharacter","isControlLetter","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","at","forceU","nextIndex","lookahead","advance","validateRegExpFlags","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","isRegExpIdentifierStart","isRegExpIdentifierPart","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","isCharacterClassEscape","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","Token","pp","stringToBigInt","BigInt","ignoreEscapeSequenceInKeyword","getToken","Symbol","this$1$1","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","readToken_dot","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readToken_question","readToken_numberSign","readWord1","readRadixNumber","readString","escaped","inClass","flagsStart","readInt","radix","maybeLegacyOctalNumericLiteral","allowSeparators","isLegacyOctalNumericLiteral","total","startsWithDot","octal","val$1","readCodePoint","codePos","readHexChar","invalidStringToken","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","inTemplateElement","readTmplToken","readInvalidTemplateToken","inTemplate","octalStr","escStart","strToJs","throwOnInvalid","acorn.parse","State","jr","jd","acorn","tokTypes","keywordTypes","tokContexts","accepts","tt","tokenOrState","nextState","makeState","templateState","takeT","makeAcceptingState","makeT","startState","makeRegexT","_nextState","makeMultiT","makeBatchT","transitions","makeChainT","endState","defaultStateFactory","DOMAIN","TLD","NUM","AT","DOT","SLASH","LOCALHOST","PROTOCOL","MAILTO","WS","NL","OPENBRACE","OPENBRACKET","OPENANGLEBRACKET","OPENPAREN","CLOSEBRACE","CLOSEBRACKET","CLOSEANGLEBRACKET","CLOSEPAREN","AMPERSAND","APOSTROPHE","ASTERISK","BACKSLASH","BACKTICK","CARET","COLON","COMMA","DOLLAR","EQUALS","EXCLAMATION","HYPHEN","PERCENT","PIPE","PLUS","POUND","QUERY","QUOTE","SEMI","TILDE","UNDERSCORE","SYM","tlds","LETTER","EMOJI","EMOJI_VARIATION","DIGIT","SPACE","init$2","customProtocols","S_START","S_NUM","S_DOMAIN","S_DOMAIN_HYPHEN","S_WS","DOMAIN_REGEX_TRANSITIONS","makeDomainState","makeNearDomainState","S_PROTOCOL_FILE","S_PROTOCOL_FTP","S_PROTOCOL_HTTP","S_MAILTO","S_PROTOCOL_SECURE","S_FULL_PROTOCOL","S_FULL_MAILTO","S_CUSTOM_PROTOCOL","defaultProtocol","formatHref","nl2br","ignoreTags","Options","ignoredTags","MultiToken","createTokenClass","tk","extended","inherits","resolve","toHref","formatted","formattedHref","optionValue","option","isLink","toObject","protocol","MailtoEmail","Email","Text","Nl","Url","hasProtocol","hasSlashSlash","Base","S_PROTOCOL","S_PROTOCOL_SLASH","S_PROTOCOL_SLASH_SLASH","S_DOMAIN_DOT","S_TLD","S_TLD_COLON","S_TLD_PORT","S_URL","S_URL_NON_ACCEPTING","S_URL_OPENBRACE","S_URL_OPENBRACKET","S_URL_OPENANGLEBRACKET","S_URL_OPENPAREN","S_URL_OPENBRACE_Q","S_URL_OPENBRACKET_Q","S_URL_OPENANGLEBRACKET_Q","S_URL_OPENPAREN_Q","S_URL_OPENBRACE_SYMS","S_URL_OPENBRACKET_SYMS","S_URL_OPENANGLEBRACKET_SYMS","S_URL_OPENPAREN_SYMS","S_EMAIL_DOMAIN","S_EMAIL_DOMAIN_DOT","S_EMAIL","S_EMAIL_COLON","S_EMAIL_PORT","S_MAILTO_EMAIL","S_MAILTO_EMAIL_NON_ACCEPTING","S_LOCALPART","S_LOCALPART_AT","S_LOCALPART_DOT","S_NL","qsAccepting","qsNonAccepting","localpartAccepting","parserCreateMultiToken","Multi","startIdx","endIdx","scanner","pluginQueue","initialized","tokenize","utils","multis","textTokens","secondState","multiLength","latestAccepting","sinceAccepts","subtokens","iterable","second","stringToArray","charCount","charCursor","tokenLength","charsSinceAccepts","run$1","escapeText","escapeAttr","attributesToString","linkifyStr","_opts$resolve","linkify","linkifyOptions","url","internalLink","encodeURIComponent","strToLink","addr","il","txt","lineToSxast","tagFor","process","inChar","punc","ch0","chx","user","tagAt","bang","jj","dotAt","tagStr","tagValue","tagValueStr","includeOpts","indent","sastToHast","sqrm","footnotes","linkDefinitions","processIndentation","pre","preIndent","div","doctype","xList","listItem","orderedList","unorderedList","task","checkbox","codeBlock","class","blockOf","table","head","foot","colAlignment","divider","formatting","row","cellNumber","forceHeader","header","colspan","rowspan","thead","tr","th","tbody","td","tfoot","tableOf","processLine","divIndent","heading","paragraph","yaml","footnotesLookup","ol","lookup","ld","JsonTree","minChildIndent","iterateLikeStack","cb","SqrmResponse","jsonTree","yamlNotAllowedIndent","hastCallbacks","libs","processHast","bind","include","maybeYaml","addTask","inlineTag","appendToHtml","request","response","hast","wasAppended","appendTextToNode","minIndent","jsonNode","jsonTag","tasksNode","childrenIndent","taskNode","isArrayElement","arrayElement","SqrmDocument","sxast","js","sxastToJs","log_code","errJs","errorLine","uline","errorColumn","errorMessage","sxastToTextJs","getIndexedJson","_text","getIndexedText","RE_DocumentSeparator","RE_BlankLine","RE_Tag","RE_ListItemTag","RE_Script","RE_Footnote","RE_LinkDefinition","RE_CodeBlock","RE_Div","RE_Heading","RE_HR","RE_ListItem","RE_ListItemTask","RE_Table","RE_TableHeader","RE_ScriptEnd","textToCells","pragmasToAttributes","pragmas","tableCellFormatting","splitText","textToHast","lineToSqrm","marker","uli","matchAll","sxastParser","log_src","indentation","atLineStart","sqrmToLines","log_lines","sxasts","script","docsX","docX","trimmed","lineX","linesToSxast","log_sxast","htmlVoidElements","siblingAfter","siblingBefore","includeWhitespace","isText","whitespaceStart","omission","closing","headOrColgroupOrCaption","dt","rt","rubyElement","rp","optgroup","menuitem","colgroup","caption","opening","subset","groups","charactersToExpression","basic","escapeOnly","pair","character","characterEntitiesLegacy","characterEntitiesHtml4","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","beta","gamma","delta","zeta","eta","theta","iota","kappa","mu","nu","omicron","rho","sigmaf","sigma","upsilon","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","exist","nabla","isin","notin","prod","minus","lowast","radic","infin","ang","cup","int","there4","sim","cong","asymp","equiv","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","rang","loz","spades","clubs","hearts","diams","quot","amp","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","dangerous","formatSmart","named","omit","toHexadecimal","omitOptionalSemicolons","useNamedReferences","useShortestReferences","toNamed","decimal","toDecimal","stringifyEntities","ccount","constants","unquoted","single","double","ctx","bogusComments","upperDoctype","tightDoctype","selfClosing","closeEmpty","voids","serializeAttribute","tight","serializeAttributes","tightClose","safe","tightLists","collapseEmpty","smart","alternative","toJson","jast","responseToResult","sast","log_sast","log_hast","allowParseErrors","allowDangerousCharacters","omitOptionalTags","quoteSmart","preferUnquoted","tightAttributes","tightCommaSeparatedLists","tightSelfClosing","collapseEmptyAttributes","allowDangerousHtml","closeSelfClosing","closeEmptyElements","toHtml","log_html","log_text","log_jast","log_json","SqrmDB","collections","mongo.DB","docsBy_id","createDocument","docName","createdDoc","document","mongoDoc","createdDocs","dn","cursorToDocs"],"mappings":"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,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,MAAM,IAAI,OAAO,IAAI,MAAM,IAAI,OAAO,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,YAAY,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,YAAY,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,OAAO,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,KAAKC,WAAW,CAAC,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,OAAO,IAAI,OAAO,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,YAAY,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,OAAO,IAAI,OAAO,IAAI,YAAY,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,OAAO,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,YAAYF,MAAM,CAACC,SAAS,CAAC,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,KAAK,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,KAAK,kBAAkB,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,cAAc,IAAI,SAAS,IAAI,WAAW,IAAI,QAAQ,IAAI,YAAY,IAAI,eAAe,IAAI,SAAS,IAAI,QAAQ,KAAK,SAAS,KAAK,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,QAAQ,IAAI,yBAAyB,IAAI,YAAY,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,YAAY,IAAI,cAAc,IAAI,QAAQ,IAAI,QAAQ,IAAI,cAAc,IAAI,gBAAgB,IAAI,eAAe,IAAI,gBAAgB,IAAI,6BAA6B,IAAI,0BAA0B,IAAI,oBAAoB,IAAI,UAAU,IAAI,WAAW,IAAI,cAAc,IAAI,WAAW,IAAI,oBAAoB,IAAI,SAAS,IAAI,cAAc,IAAI,oCAAoC,IAAI,UAAU,IAAI,SAAS,KAAK,QAAQ,IAAI,WAAW,IAAI,OAAO,IAAI,aAAa,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,KAAK,qBAAqB,IAAI,mBAAmB,IAAI,2BAA2B,IAAI,qBAAqB,IAAI,qBAAqB,IAAI,YAAY,IAAI,kBAAkB,IAAI,SAAS,KAAK,QAAQ,IAAI,WAAW,IAAI,aAAa,IAAI,0BAA0B,IAAI,cAAc,IAAI,oBAAoB,IAAI,oBAAoB,IAAI,yBAAyB,IAAI,kBAAkB,IAAI,wBAAwB,IAAI,6BAA6B,IAAI,yBAAyB,IAAI,qBAAqB,IAAI,mBAAmB,IAAI,kBAAkB,IAAI,sBAAsB,IAAI,sBAAsB,IAAI,cAAc,IAAI,iBAAiB,IAAI,qBAAqB,IAAI,cAAc,IAAI,wBAAwB,IAAI,sBAAsB,IAAI,mBAAmB,IAAI,sBAAsB,IAAI,uBAAuB,IAAI,oBAAoB,IAAI,uBAAuB,IAAI,YAAY,IAAI,iBAAiB,IAAI,cAAc,IAAI,SAAS,KAAK,WAAW,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,KAAK,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,UAAU,IAAI,qBAAqB,IAAI,yBAAyB,IAAI,UAAU,IAAI,SAAS,KAAK,YAAY,IAAI,UAAU,IAAI,eAAe,IAAI,gBAAgB,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,iBAAiB,IAAI,QAAQ,IAAI,QAAQ,KAAK,sBAAsB,IAAI,0BAA0B,IAAI,SAAS,KAAK,WAAW,IAAI,eAAe,IAAI,SAAS,IAAI,SAAS,IAAI,MAAM,IAAI,OAAO,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,KAAK,OAAO,IAAI,SAAS,KAAK,iBAAiB,IAAI,qBAAqB,IAAI,qBAAqB,IAAI,mBAAmB,IAAI,gBAAgB,IAAI,sBAAsB,IAAI,iBAAiB,IAAI,SAAS,KAAK,OAAO,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,iBAAiB,IAAI,SAAS,IAAI,mBAAmB,IAAI,SAAS,IAAI,WAAW,IAAI,iBAAiB,IAAI,cAAc,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,UAAU,IAAI,eAAe,IAAI,YAAY,IAAI,QAAQ,IAAI,aAAa,IAAI,iBAAiB,IAAI,mBAAmB,IAAI,mBAAmB,IAAI,UAAU,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,MAAM,IAAI,OAAO,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,eAAe,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,qBAAqB,IAAI,cAAc,IAAI,iBAAiB,IAAI,wBAAwB,IAAI,gBAAgB,IAAI,sBAAsB,IAAI,sBAAsB,IAAI,mBAAmB,IAAI,sBAAsB,IAAI,cAAc,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,YAAY,IAAI,iBAAiB,IAAI,kBAAkB,IAAI,iBAAiB,IAAI,oBAAoB,IAAI,sBAAsB,IAAI,qBAAqB,IAAI,oBAAoB,IAAI,iBAAiB,IAAI,oBAAoB,IAAI,eAAe,IAAI,kBAAkB,IAAI,cAAc,IAAI,mBAAmB,IAAI,qBAAqB,IAAI,kBAAkB,IAAI,gBAAgB,IAAI,aAAa,IAAI,mBAAmB,IAAI,cAAc,IAAI,QAAQ,KAAK,OAAO,IAAI,eAAe,IAAI,WAAW,IAAI,kBAAkB,IAAI,uBAAuB,IAAI,mBAAmB,IAAI,kBAAkB,IAAI,uBAAuB,IAAI,mBAAmB,IAAI,SAAS,KAAK,mBAAmB,IAAI,oBAAoB,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,gBAAgB,IAAI,cAAc,IAAI,QAAQ,KAAK,cAAc,IAAI,SAAS,KAAK,SAAS,IAAI,OAAO,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,wBAAwB,IAAI,uBAAuB,IAAI,sBAAsB,IAAI,0BAA0B,IAAI,yBAAyB,IAAI,mBAAmB,IAAI,YAAY,KAAK,QAAQ,KAAK,YAAY,IAAI,qBAAqB,IAAI,SAAS,IAAI,QAAQ,IAAI,iBAAiB,IAAI,cAAc,IAAI,yBAAyB,IAAI,eAAe,IAAI,aAAa,IAAI,kBAAkB,KAAK,cAAc,IAAI,eAAe,IAAI,oBAAoB,IAAI,wBAAwB,KAAK,sBAAsB,KAAK,mBAAmB,IAAI,yBAAyB,KAAK,oBAAoB,IAAI,oBAAoB,KAAK,iBAAiB,KAAK,oBAAoB,IAAI,uBAAuB,KAAK,yBAAyB,IAAI,YAAY,IAAI,iBAAiB,IAAI,mBAAmB,IAAI,gBAAgB,KAAK,sBAAsB,KAAK,iBAAiB,IAAI,4BAA4B,KAAK,sBAAsB,KAAK,gBAAgB,IAAI,qBAAqB,KAAK,0BAA0B,IAAI,sBAAsB,IAAI,qBAAqB,IAAI,wBAAwB,KAAK,0BAA0B,IAAI,oBAAoB,KAAK,yBAAyB,IAAI,sBAAsB,KAAK,2BAA2B,IAAI,cAAc,KAAK,mBAAmB,IAAI,gBAAgB,IAAI,qBAAqB,KAAK,0BAA0B,IAAI,qBAAqB,KAAK,gBAAgB,KAAK,qBAAqB,IAAI,aAAa,IAAI,kBAAkB,IAAI,sBAAsB,IAAI,kBAAkB,IAAI,mBAAmB,IAAI,SAAS,KAAK,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,QAAQ,KAAK,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,KAAK,yBAAyB,IAAI,mBAAmB,IAAI,OAAO,IAAI,SAAS,KAAK,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,YAAY,IAAI,cAAc,IAAI,gBAAgB,IAAI,oBAAoB,IAAI,aAAa,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,IAAI,OAAO,IAAI,cAAc,IAAI,kBAAkB,IAAI,SAAS,IAAI,OAAO,IAAI,aAAa,IAAI,kBAAkB,IAAI,uBAAuB,IAAI,kBAAkB,IAAI,UAAU,IAAI,YAAY,IAAI,eAAe,IAAI,iBAAiB,IAAI,SAAS,KAAK,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,KAAK,SAAS,IAAI,SAAS,KAAK,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,OAAO,IAAI,mBAAmB,IAAI,uBAAuB,IAAI,yBAAyB,IAAI,QAAQ,IAAI,QAAQ,IAAI,sBAAsB,IAAI,eAAe,IAAI,kBAAkB,IAAI,wBAAwB,IAAI,iBAAiB,IAAI,uBAAuB,IAAI,uBAAuB,IAAI,oBAAoB,IAAI,uBAAuB,IAAI,eAAe,IAAI,aAAa,IAAI,kBAAkB,IAAI,mBAAmB,IAAI,kBAAkB,IAAI,qBAAqB,IAAI,uBAAuB,IAAI,sBAAsB,IAAI,qBAAqB,IAAI,kBAAkB,IAAI,qBAAqB,IAAI,gBAAgB,IAAI,mBAAmB,IAAI,eAAe,IAAI,SAAS,IAAI,iBAAiB,IAAI,gBAAgB,IAAI,SAAS,IAAI,QAAQ,IAAI,gBAAgB,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,OAAO,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,KAAK,mBAAmB,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,iBAAiB,IAAI,UAAU,IAAI,gBAAgB,IAAI,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,uBAAuB,IAAI,iBAAiB,IAAI,sBAAsB,IAAI,mBAAmB,IAAI,wBAAwB,IAAI,gBAAgB,IAAI,SAAS,KAAK,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,gBAAgB,IAAI,aAAa,IAAI,kBAAkB,IAAI,uBAAuB,IAAI,kBAAkB,IAAI,aAAa,IAAI,QAAQ,IAAI,QAAQ,IAAI,aAAa,IAAI,kBAAkB,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,KAAK,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,QAAQ,KAAK,cAAc,IAAI,UAAU,IAAI,eAAe,KAAK,cAAc,IAAI,UAAU,IAAI,eAAe,IAAI,mBAAmB,IAAI,eAAe,IAAI,SAAS,KAAK,cAAc,IAAI,SAAS,KAAK,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,QAAQ,KAAK,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,eAAe,IAAI,iBAAiB,IAAI,qBAAqB,IAAI,UAAU,IAAI,cAAc,IAAI,UAAU,IAAI,SAAS,KAAK,YAAY,IAAI,eAAe,IAAI,qBAAqB,IAAI,gBAAgB,IAAI,kBAAkB,IAAI,UAAU,IAAI,eAAe,IAAI,YAAY,IAAI,gBAAgB,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,gBAAgB,IAAI,iBAAiB,IAAI,sBAAsB,IAAI,kBAAkB,IAAI,kBAAkB,IAAI,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,QAAQ,KAAK,OAAO,IAAI,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,mBAAmB,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,KAAK,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,OAAO,IAAI,QAAQ,KAAK,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,KAAK,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU,IAAI,YAAY,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,SAAS,KAAK,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,QAAQ,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,aAAa,IAAI,UAAU,IAAI,SAAS,IAAI,aAAa,IAAI,gBAAgB,IAAI,cAAc,IAAI,YAAY,IAAI,cAAc,IAAI,WAAW,IAAI,WAAW,IAAI,aAAa,IAAI,SAAS,IAAI,aAAa,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,YAAY,IAAI,QAAQ,KAAK,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,YAAY,IAAI,aAAa,IAAI,cAAc,IAAI,aAAa,IAAI,YAAY,IAAI,oBAAoB,IAAI,kBAAkB,IAAI,aAAa,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,iBAAiB,IAAI,gBAAgB,IAAI,kBAAkB,IAAI,sBAAsB,IAAI,sBAAsB,IAAI,uBAAuB,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,KAAK,YAAY,KAAK,SAAS,IAAI,SAAS,KAAK,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,YAAY,IAAI,aAAa,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,KAAK,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,UAAU,IAAI,aAAa,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,KAAK,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,cAAc,IAAI,QAAQ,KAAK,SAAS,IAAI,UAAU,IAAI,cAAc,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,oBAAoB,IAAI,qBAAqB,IAAI,aAAa,IAAI,aAAa,IAAI,eAAe,IAAI,gBAAgB,IAAI,gBAAgB,IAAI,SAAS,IAAI,aAAa,IAAI,WAAW,IAAI,YAAY,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,eAAe,IAAI,cAAc,IAAI,SAAS,IAAI,YAAY,IAAI,WAAW,IAAI,SAAS,KAAK,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,QAAQ,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,YAAY,IAAI,gBAAgB,IAAI,gBAAgB,IAAI,aAAa,IAAI,eAAe,IAAI,UAAU,IAAI,WAAW,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,OAAO,IAAI,YAAY,IAAI,UAAU,IAAI,YAAY,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,IAAI,QAAQ,KAAK,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,YAAY,IAAI,gBAAgB,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,kBAAkB,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,KAAK,QAAQ,IAAI,UAAU,IAAI,aAAa,IAAI,aAAa,IAAI,YAAY,IAAI,cAAc,IAAI,mBAAmB,IAAI,cAAc,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,qBAAqB,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,aAAa,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,UAAU,IAAI,QAAQ,KAAK,OAAO,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,OAAO,IAAI,aAAa,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,UAAU,IAAI,eAAe,IAAI,gBAAgB,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,aAAa,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,gBAAgB,IAAI,iBAAiB,IAAI,kBAAkB,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,KAAK,UAAU,IAAI,UAAU,KAAK,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,KAAK,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,aAAa,IAAI,SAAS,KAAK,WAAW,IAAI,QAAQ,KAAK,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,MAAM,IAAI,OAAO,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,cAAc,IAAI,WAAW,IAAI,WAAW,IAAI,cAAc,IAAI,eAAe,IAAI,YAAY,IAAI,WAAW,IAAI,cAAc,KAAK,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,cAAc,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,KAAK,aAAa,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,kBAAkB,IAAI,mBAAmB,IAAI,SAAS,KAAK,WAAW,IAAI,SAAS,KAAK,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,KAAK,UAAU,IAAI,WAAW,IAAI,OAAO,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,YAAY,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,OAAO,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,KAAK,UAAU,IAAI,SAAS,KAAK,SAAS,KAAK,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,QAAQ,KAAK,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,KAAK,SAAS,KAAK,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,KAAK,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,aAAa,IAAI,SAAS,IAAI,OAAO,IAAI,cAAc,IAAI,kBAAkB,IAAI,oBAAoB,IAAI,kBAAkB,IAAI,mBAAmB,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,sBAAsB,IAAI,wBAAwB,IAAI,mBAAmB,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,aAAa,IAAI,SAAS,KAAK,WAAW,IAAI,eAAe,IAAI,YAAY,IAAI,cAAc,IAAI,eAAe,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,KAAK,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,OAAO,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,eAAe,IAAI,QAAQ,IAAI,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,kBAAkB,IAAI,uBAAuB,IAAI,eAAe,IAAI,mBAAmB,IAAI,kBAAkB,IAAI,mBAAmB,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,KAAK,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,MAAM,IAAI,OAAO,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,YAAY,IAAI,cAAc,KAAK,SAAS,KAAK,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,WAAW,IAAI,eAAe,IAAI,eAAe,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,UAAU,IAAI,kBAAkB,IAAI,QAAQ,KAAK,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,KAAK,OAAO,IAAI,SAAS,KAAK,WAAW,IAAI,OAAO,IAAI,aAAa,IAAI,UAAU,IAAI,QAAQ,KAAK,QAAQ,KAAK,SAAS,KAAK,eAAe,IAAI,oBAAoB,IAAI,QAAQ,KAAK,QAAQ,KAAK,SAAS,KAAK,gBAAgB,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,KAAK,QAAQ,IAAI,SAAS,KAAK,UAAU,KAAK,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,YAAY,IAAI,aAAa,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,KAAK,WAAW,KAAK,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,KAAK,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,KAAK,WAAW,IAAI,WAAW,IAAI,UAAU,KAAK,WAAW,IAAI,YAAY,IAAI,QAAQ,KAAK,QAAQ,KAAK,QAAQ,IAAI,SAAS,IAAI,UAAU,KAAK,cAAc,KAAK,SAAS,KAAK,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,KAAK,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,eAAe,IAAI,oBAAoB,IAAI,SAAS,IAAI,UAAU,KAAK,cAAc,KAAK,SAAS,KAAK,UAAU,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,KAAK,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,KAAK,aAAa,KAAK,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,SAAS,IAAI,cAAc,IAAI,WAAW,KAAK,UAAU,KAAK,YAAY,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,KAAK,UAAU,IAAI,YAAY,KAAK,UAAU,IAAI,UAAU,IAAI,WAAW,KAAK,WAAW,KAAK,gBAAgB,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,KAAK,SAAS,KAAK,cAAc,IAAI,mBAAmB,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,SAAS,IAAI,UAAU,KAAK,UAAU,IAAI,YAAY,KAAK,cAAc,IAAI,eAAe,KAAK,UAAU,IAAI,YAAY,KAAK,SAAS,IAAI,UAAU,KAAK,UAAU,IAAI,YAAY,KAAK,cAAc,IAAI,eAAe,KAAK,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,kBAAkB,IAAI,oBAAoB,IAAI,mBAAmB,IAAI,qBAAqB,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,KAAK,WAAW,IAAI,SAAS,KAAK,SAAS,KAAK,YAAY,IAAI,WAAW,IAAI,SAAS,KAAK,SAAS,KAAK,YAAY,KAAK,WAAW,IAAI,YAAY,KAAK,UAAU,KAAK,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,IAAI,OAAO,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,KAAK,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,aAAa,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,YAAY,IAAI,QAAQ,KAAK,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,OAAO,IAAI,cAAc,IAAI,QAAQ,IAAI,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,YAAY,IAAI,OAAO,IAAI,aAAa,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,eAAe,IAAI,gBAAgB,IAAI,WAAW,IAAI,gBAAgB,IAAI,aAAa,IAAI,aAAa,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,KAAK,QAAQ,IAAI,WAAW,IAAI,QAAQ,KAAK,SAAS,IAAI,SAAS,KAAK,WAAW,IAAI,SAAS,KAAK,gBAAgB,IAAI,YAAY,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,KAAK,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,cAAc,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,YAAY,IAAI,aAAa,IAAI,UAAU,IAAI,SAAS,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,KAAK,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,eAAe,IAAI,mBAAmB,IAAI,qBAAqB,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,sBAAsB,IAAI,qBAAqB,IAAI,oBAAoB,IAAI,oBAAoB,IAAI,SAAS,IAAI,iBAAiB,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,eAAe,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,YAAY,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,KAAK,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,YAAY,IAAI,OAAO,IAAI,WAAW,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,KAAK,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,kBAAkB,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,kBAAkB,IAAI,WAAW,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,KAAK,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,KAAK,WAAW,IAAI,cAAc,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,KAAK,UAAU,IAAI,WAAW,KAAK,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,eAAe,IAAI,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,eAAe,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,oBAAoB,IAAI,gBAAgB,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,aAAa,IAAI,cAAc,IAAI,cAAc,IAAI,eAAe,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,eAAe,IAAI,gBAAgB,IAAI,WAAW,IAAI,gBAAgB,IAAI,aAAa,IAAI,aAAa,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,YAAY,IAAI,SAAS,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,IAAI,aAAa,IAAI,cAAc,IAAI,cAAc,IAAI,eAAe,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,QAAQ,KAAK,WAAW,IAAI,cAAc,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,gBAAgB,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,KAAK,YAAY,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,iBAAiB,IAAI,iBAAiB,IAAI,mBAAmB,IAAI,cAAc,IAAI,kBAAkB,IAAI,oBAAoB,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,YAAY,IAAI,UAAU,IAAI,YAAY,IAAI,aAAa,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,qBAAqB,IAAI,sBAAsB,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,KAAK,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,UAAU,IAAI,SAAS,KAAK,YAAY,IAAI,gBAAgB,IAAI,kBAAkB,IAAI,mBAAmB,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,eAAe,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,eAAe,IAAI,aAAa,IAAI,eAAe,IAAI,WAAW,IAAI,UAAU,IAAI,cAAc,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,iBAAiB,KAAK,kBAAkB,KAAK,iBAAiB,KAAK,kBAAkB,KAAK,aAAa,IAAI,oBAAoB,IAAI,qBAAqB,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,KAAK,UAAU,IAAI,UAAU,KAAK,UAAU,KAAK,SAAS,KAAK,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,KAAK,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,KAAK,SAAS,KAAK,OAAO,IAAI,OAAO,IAAI,WAAW,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,KAAK,UAAU,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,KAAK,SAAS,IAAI,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,KAAK,SAAS,IAAI,YAAY,IAAI,SAAS,KAAK,SAAS,KAAK,QAAQ,IAAI,SAAS,KAAKC,WAAW,CAAC,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,KAAK,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,KAAK,SAAS,IAAI,OAAO,IAAI,UAAU,KAAK,SAAS,IAAI,YAAY,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,mBAAmB,IAAI,QAAQ,IAAI,YAAY,IAAI,WAAW,IAAI,SAAS,KAAK,QAAQ,KAAK,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,QAAQ,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,eAAe,IAAI,WAAW,IAAI,UAAU,IAAI,0BAA0B,IAAI,SAAS,IAAI,cAAc,IAAI,WAAW,IAAI,aAAa,IAAI,UAAU,KAAK,SAAS,IAAI,QAAQ,IAAI,YAAY,IAAI,aAAa,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,YAAY,IAAI,SAAS,IAAI,kBAAkB,IAAI,WAAW,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,KAAK,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,OAAO,KAAK,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,cAAc,IAAI,iBAAiB,IAAI,UAAU,IAAI,cAAc,IAAI,wBAAwB,IAAI,sBAAsB,IAAI,UAAU,IAAI,sBAAsB,IAAI,uBAAuB,IAAI,qBAAqB,IAAI,uBAAuB,IAAI,QAAQ,IAAI,eAAe,KAAK,SAAS,IAAI,WAAW,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,KAAK,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,qBAAqB,IAAI,yBAAyB,IAAI,UAAU,KAAK,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,gBAAgB,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,iBAAiB,IAAI,QAAQ,KAAK,QAAQ,IAAI,sBAAsB,IAAI,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,OAAO,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,KAAK,QAAQ,IAAI,QAAQ,KAAK,SAAS,IAAI,QAAQ,IAAI,cAAc,IAAI,SAAS,IAAI,mBAAmB,IAAI,YAAY,IAAI,QAAQ,IAAI,WAAW,KAAK,SAAS,IAAI,OAAO,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,kBAAkB,IAAI,WAAW,IAAI,gBAAgB,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,OAAO,IAAI,UAAU,KAAK,SAAS,IAAI,SAAS,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,OAAO,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,qBAAqB,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,sBAAsB,IAAI,oBAAoB,IAAI,sBAAsB,IAAI,WAAW,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,UAAU,IAAI,eAAe,IAAI,kBAAkB,IAAI,UAAU,IAAI,oBAAoB,IAAI,mBAAmB,IAAI,qBAAqB,IAAI,oBAAoB,IAAI,kBAAkB,IAAI,oBAAoB,IAAI,UAAU,IAAI,kBAAkB,IAAI,cAAc,IAAI,SAAS,IAAI,OAAO,IAAI,aAAa,IAAI,QAAQ,IAAI,SAAS,KAAK,QAAQ,IAAI,OAAO,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,KAAK,SAAS,IAAI,YAAY,IAAI,YAAY,IAAI,QAAQ,IAAI,WAAW,IAAI,OAAO,IAAI,QAAQ,IAAI,QAAQ,IAAI,gBAAgB,IAAI,WAAW,KAAK,QAAQ,IAAI,OAAO,KAAK,SAAS,IAAI,OAAO,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,mBAAmB,KAAK,YAAY,KAAK,QAAQ,IAAI,YAAY,IAAI,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,WAAW,IAAI,cAAc,IAAI,UAAU,IAAI,YAAY,IAAI,OAAO,KAAK,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,KAAK,UAAU,KAAK,SAAS,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,KAAK,UAAU,KAAK,WAAW,IAAI,kBAAkB,KAAK,uBAAuB,IAAI,oBAAoB,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,UAAU,KAAK,4BAA4B,KAAK,sBAAsB,IAAI,UAAU,KAAK,YAAY,IAAI,WAAW,IAAI,YAAY,IAAI,mBAAmB,KAAK,wBAAwB,IAAI,qBAAqB,KAAK,oBAAoB,IAAI,YAAY,KAAK,sBAAsB,IAAI,YAAY,KAAK,UAAU,IAAI,cAAc,IAAI,UAAU,KAAK,YAAY,IAAI,WAAW,KAAK,qBAAqB,KAAK,UAAU,IAAI,cAAc,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,KAAK,SAAS,IAAI,WAAW,IAAI,OAAO,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,KAAK,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,YAAY,KAAK,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,OAAO,KAAK,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,cAAc,IAAI,SAAS,IAAI,oBAAoB,IAAI,SAAS,IAAI,QAAQ,KAAK,QAAQ,IAAI,QAAQ,IAAI,OAAO,IAAI,OAAO,IAAI,WAAW,IAAI,OAAO,IAAI,SAAS,IAAI,WAAW,IAAI,gBAAgB,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,KAAK,SAAS,IAAI,QAAQ,IAAI,SAAS,KAAK,QAAQ,IAAI,cAAc,KAAK,SAAS,IAAI,aAAa,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,sBAAsB,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,aAAa,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,uBAAuB,IAAI,qBAAqB,IAAI,uBAAuB,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,mBAAmB,IAAI,UAAU,IAAI,qBAAqB,IAAI,oBAAoB,IAAI,sBAAsB,IAAI,qBAAqB,IAAI,mBAAmB,IAAI,qBAAqB,IAAI,mBAAmB,IAAI,mBAAmB,IAAI,UAAU,IAAI,iBAAiB,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,IAAI,gBAAgB,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,OAAO,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,KAAK,QAAQ,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,KAAK,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,eAAe,IAAI,aAAa,IAAI,eAAe,IAAI,UAAU,KAAK,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,aAAa,IAAI,SAAS,IAAI,WAAW,IAAI,gBAAgB,IAAI,YAAY,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,aAAa,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,KAAK,QAAQ,IAAI,cAAc,IAAI,UAAU,KAAK,eAAe,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,KAAK,SAAS,IAAI,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,KAAK,QAAQ,IAAI,WAAW,IAAI,UAAUz+H,EAAE,WAAW,IAAI,eAAe,IAAI,SAAS,IAAI,qBAAqB,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,KAAK,SAAS,IAAI,eAAe,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,aAAa,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,KAAK,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,sBAAsB,IAAI,WAAW,IAAI,WAAW,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,QAAQ,IAAI,OAAO,KAAK,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,KAAK,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,KAAK,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,KAAK,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,kBAAkB,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU,IAAI,YAAY,IAAI,aAAa,IAAI,WAAW,IAAI,YAAY,IAAI,UAAU,KAAK,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,aAAa,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,KAAK,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,aAAa,IAAI,aAAa,IAAI,QAAQ,IAAI,WAAW,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,KAAK,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,KAAK,QAAQ,KAAK,YAAY,IAAI,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,KAAK,SAAS,IAAI,UAAU,KAAK,SAAS,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,KAAK,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,YAAY,IAAI,SAAS,KAAK,QAAQ,IAAI,SAAS,IAAI,cAAc,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,OAAO,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,YAAY,IAAI,aAAa,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,eAAe,IAAI,YAAY,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,KAAK,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,gBAAgB,IAAI,gBAAgB,IAAI,mBAAmB,IAAI,YAAY,IAAI,QAAQ,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,KAAK,SAAS,IAAI,oBAAoB,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,mBAAmB,IAAI,UAAU,IAAI,QAAQ,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,KAAK,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,aAAa,IAAI,WAAW0+H,EAAE,WAAW,KAAK,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,KAAK,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,iBAAiB,IAAI,YAAY,IAAI,SAAS,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,IAAI,SAAS,IAAI,kBAAkB,KAAK,QAAQ,IAAI,OAAO,IAAI,WAAW,IAAI,eAAe,IAAI,WAAW,IAAI,OAAO,IAAI,aAAa,IAAI,QAAQ,IAAI,gBAAgB,IAAI,WAAW,IAAI,UAAU,IAAI,eAAe,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,KAAK,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,eAAe,IAAI,WAAW,IAAI,YAAY,IAAI,YAAY,IAAI,aAAa,IAAI,iBAAiB,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,KAAK,QAAQ,IAAI,UAAUC,GAAG,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,KAAK,SAAS,IAAI,cAAc,IAAI,UAAU,IAAI,aAAa,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,KAAK,SAAS,IAAI,eAAe,IAAI,WAAW,IAAI,UAAU,IAAI,cAAc,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,aAAa,KAAK,SAAS,IAAI,WAAW,KAAK,QAAQ,IAAI,UAAU,IAAI,SAAS,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,KAAK,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,IAAI,YAAY,IAAI,wBAAwB,IAAI,WAAW,IAAI,UAAU,IAAI,cAAc,IAAI,SAAS,IAAI,WAAW,KAAK,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,KAAK,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,KAAK,SAAS,IAAI,SAAS,IAAI,WAAW,KAAK,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,KAAK,QAAQ,IAAI,UAAU,KAAK,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,QAAQ,KAAK,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,eAAe,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,eAAe,IAAI,UAAU,IAAI,YAAY,IAAI,WAAW,IAAI,kBAAkB,IAAI,WAAW,IAAI,YAAY,IAAI,kBAAkB,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,KAAK,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,YAAY,IAAI,aAAa,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,aAAa,KAAK,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,KAAK,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,eAAe,IAAI,UAAU,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,KAAK,SAAS,IAAI,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,YAAY,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,KAAK,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,IAAI,WAAW,IAAI,iBAAiB,IAAI,aAAa,IAAI,YAAY,KAAK,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,UAAU,KAAK,QAAQ,IAAI,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,WAAW,KAAK,SAAS,KAAK,SAAS,IAAI,OAAO,IAAI,UAAU,KAAK,QAAQ,KAAK,QAAQ,IAAI,UAAU,IAAI,UAAU,KAAK,QAAQ,KAAK,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,KAAK,SAAS,KAAK,SAAS,KAAK,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,KAAK,aAAa,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,KAAK,UAAU,IAAI,SAAS,KAAK,QAAQ,IAAI,oBAAoB,IAAI,UAAU,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,KAAK,UAAU,IAAI,eAAe,IAAI,SAAS,KAAK,SAAS,IAAI,QAAQ,KAAK,WAAW,KAAK,aAAa,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,KAAK,WAAW,KAAK,UAAU,IAAI,YAAY,IAAI,gBAAgB,KAAK,WAAW,KAAK,WAAW,KAAK,SAAS,IAAI,SAAS,KAAK,eAAe,IAAI,SAAS,KAAK,eAAe,IAAI,WAAW,IAAI,OAAO,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,SAAS,KAAK,SAAS,IAAI,YAAY,IAAI,WAAW,KAAK,SAAS,KAAK,SAAS,KAAK,YAAY,IAAI,WAAW,KAAK,YAAY,KAAK,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,KAAK,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,QAAQ,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,YAAY,IAAI,QAAQ,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,KAAK,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,OAAO,IAAI,UAAU,IAAI,YAAY,IAAI,SAAS,IAAI,aAAa,IAAI,YAAY,IAAI,WAAW,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,aAAa,KAAK,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,eAAe,IAAI,UAAU,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,aAAa,IAAI,aAAa,IAAI,WAAW,KAAK,SAAS,IAAI,QAAQ,IAAI,WAAW,KAAK,QAAQ,KAAK,SAAS,IAAI,WAAW,KAAK,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,YAAY,IAAI,mBAAmB,IAAI,oBAAoB,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,YAAY,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,KAAK,QAAQ,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,eAAe,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,KAAK,SAAS,IAAI,WAAW,IAAI,YAAY,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,IAAI,kBAAkB,IAAI,aAAa,IAAI,YAAY,IAAI,OAAO,IAAI,WAAW,IAAI,QAAQ,IAAI,eAAe,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,gBAAgB,IAAI,aAAa,IAAI,aAAa,IAAI,QAAQ,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,KAAK,QAAQ,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,QAAQ,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,UAAU,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,aAAa,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,KAAK,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,KAAK,SAAS,IAAI,cAAc,KAAK,WAAW,KAAK,WAAW,KAAK,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,cAAc,IAAI,WAAW,IAAI,YAAY,IAAI,YAAY,IAAI,eAAe,IAAI,cAAc,IAAI,YAAY,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,cAAc,IAAI,WAAW,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,eAAe,IAAI,cAAc,IAAI,YAAY,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,WAAW,KAAK,QAAQ,IAAI,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,WAAW,IAAI,WAAW,KAAK,SAAS,IAAI,YAAY,IAAI,WAAW,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,aAAa,IAAI,YAAY,IAAI,UAAU,IAAI,YAAY,IAAI,aAAa,KAAK,SAAS,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,IAAI,UAAU,IAAI,QAAQ,IAAI,WAAW,IAAI,WAAW,KAAK,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,KAAK,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,aAAa,IAAI,WAAW,IAAI,UAAU,IAAI,UAAU,KAAK,SAAS,IAAI,UAAU,IAAI,WAAW,IAAI,SAAS,IAAI,YAAY,IAAI,SAAS,IAAI,UAAU,IAAI,WAAW,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,KAAK,WAAW,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,IAAI,WAAW,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,IAAI,YAAY,IAAI,UAAU,IAAI,WAAW,IAAI,WAAW,IAAI,OAAO,KAAK,QAAQ,KAAK,SAAS,KAAK,SAAS,KAAK,QAAQ,IAAI,OAAO,IAAI,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,WAAW,IAAI,SAAS,IAAI,UAAU,IAAI,QAAQ,IAAI,QAAQ,KAAK,QAAQ,IAAI,SAAS,KAAK,SAAS,KAAK,SAAS,IAAI,SAAS,IAAI,SAAS,IAAI,WAAW,IAAI,WAAW,IAAI,QAAQ,IAAI,SAAS,IAAI,SAAS,KAAK,QAAQ,IAAI,SAAS,IAAI,YAAY,KAAK,SAAS,KAAK,SAAS,IAAI,QAAQ,IAAI,sBCAv6iEtzJ,OAAOooC,eAAemrH,GAAQ,aAAa,CAACjzJ,OAAM,IAAgCizJ,GAAAA,kBAAC,CAAC,EAAE,MAAM,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,IAAI,IAAI,eCAjUvzJ,OAAOooC,eAAeorH,GAAQ,aAAa,CAAClzJ,OAAM,IAA4BkzJ,GAAAC,cAACzuJ,OAAOyuJ,eAAe,SAASC,GAAiB,OAAO1uJ,OAAO2uJ,aAAa3nJ,KAAKkQ,OAAOw3I,EAAgB,OAAO,MAAM,OAAOA,EAAgB,OAAO,KAAK,MAAM,EAAEF,GAAAI,aAAqB5uJ,OAAO4Z,UAAUi1I,YAAY,SAASz+I,EAAM6tD,GAAU,OAAO7tD,EAAMy+I,YAAY5wF,EAAS,EAAE,SAAS7tD,EAAM6tD,GAAU,OAAyC,MAAlC7tD,EAAMxT,WAAWqhE,GAAU,OAAY7tD,EAAMxT,WAAWqhE,EAAS,GAAG,MAAM,KAAK,EAA2BuwF,GAAAM,kBAAC,MAA6BN,GAAAO,gBAAC,MCCnhB,IAAIC,GAAYttJ,GAAQA,EAAKstJ,UAAa,WAStC,OARAA,GAAWh0J,OAAOkI,QAAU,SAASmU,GACjC,IAAK,IAAIR,EAAGpa,EAAI,EAAGgN,EAAI2qB,UAAUp4B,OAAQS,EAAIgN,EAAGhN,IAE5C,IAAK,IAAImL,KADTiP,EAAIud,UAAU33B,GACOzB,OAAO4e,UAAUiP,eAAe8E,KAAK9W,EAAGjP,KACzDyP,EAAEzP,GAAKiP,EAAEjP,IAEjB,OAAOyP,CACf,EACW23I,GAAS9zI,MAAMxZ,KAAM0yB,UAChC,EACAp5B,OAAOooC,eAAepJ,GAAS,aAAc,CAAE1+B,OAAO,IACtD,IAAI2zJ,GAAqBC,GACrBC,GAAwBC,GACxBC,GAAoBC,GACpBC,GAAqBP,GAASA,GAAS,CAAA,EAAIC,GAAmBlB,iBAAkB,CAAEppJ,IAAKsqJ,GAAmBlB,gBAAgBG,QAC1HsB,GAAgB,CAChBC,aAAc,WACdC,SAAU,iJACVC,kBAAmB,0KACnBC,UAAW,0MAEXC,GAAuB,CACvB1I,KAAM,eACNzrI,MAAO,MACPo0I,QAAS,WAwCC91H,GAAA+1H,OArCd,SAAgB1sJ,EAAM2sJ,GAClB,IAAkE7I,OAAc,KAA5B8I,GAAhDC,OAAY,IAAPF,EAAgBH,GAAuBG,GAAY7I,MAA6B,eAAiB8I,EAAqBH,OAAiB,KAAlCK,EAAKD,EAAGJ,SAAmC,UAAYK,EAAIC,EAAKF,EAAGx0I,MACjL,IAAKrY,EACD,MAAO,GAEX,IAII6sJ,EACAD,EALAI,EAAeb,GAAcrI,GAC7BmJ,EAAaf,QALsL,IAAPa,EAAgB,MAAQA,GAK7KhC,WACvCmC,EAAoB,gBAAZT,EAIZ,GAHAO,EAAahnE,UAAY,EACrB6mE,EAAKG,EAAalwJ,KAAKkD,GAEnB,CACJ4sJ,EAAK,GACL,IAAIE,EAAK,EACT,EAAG,CACKA,IAAOD,EAAGluJ,QACViuJ,GAAM5sJ,EAAK3G,UAAUyzJ,EAAID,EAAGluJ,QAEhC,IACIwuJ,EAAWF,EADXF,EAAKF,EAAG,IAEZ,IAAKM,EAAU,CACX,IAAIC,EAASL,EAAGp0J,OAAS,EAAIqzJ,GAAkBT,aAAawB,EAAI,GAAKA,EAAGxzJ,WAAW,GACnF4zJ,GAAYD,EAAQ,MAAQE,EAAOt8H,SAAS,IAAM,KAAOs8H,GAAU,GACtE,CACDR,GAAMO,EACNL,EAAKD,EAAGluJ,MAAQouJ,EAAGp0J,MACtB,OAASk0J,EAAKG,EAAalwJ,KAAKkD,IAC7B8sJ,IAAO9sJ,EAAKrH,SACZi0J,GAAM5sJ,EAAK3G,UAAUyzJ,GAE5B,MAEGF,EACI5sJ,EAER,OAAO4sJ,CACX,EAEA,IAAIS,GAAuB,CACvBrY,MAAO,OACP38H,MAAO,OAEPsZ,GAAS,4CACTwyG,GAAY,gDACZmpB,GAAoB,CACpBrnB,IAAK,CACDt0G,OAAQA,GACRwyG,UAAWA,GACXopB,KAAM3B,GAAmBjB,YAAY1kB,KAEzC2kB,MAAO,CACHj5H,OAAQA,GACRwyG,UAAWA,GACXopB,KAAM3B,GAAmBjB,YAAYC,OAEzCC,MAAO,CACHl5H,OAAQA,GACRwyG,UAAWA,GACXopB,KAAM3B,GAAmBjB,YAAYE,QAGzC2C,GAAgB7B,GAASA,GAAS,GAAI2B,IAAoB,CAAEhsJ,IAAKgsJ,GAAkBzC,QACnFS,GAAe3uJ,OAAO2uJ,aACtBmC,GAAkBnC,GAAa,OAC/BoC,GAA6B,CAC7Br1I,MAAO,OAwCSse,GAAAg3H,aArCpB,SAAsBC,EAAQjB,GAC1B,IAAkEt0I,OAAe,KAA7Ew0I,QAAa,IAAPF,EAAgBe,GAA6Bf,GAAIt0I,OAA+B,MAAQw0I,EAClG,IAAKe,EACD,MAAO,GAEX,IAAIf,EAAKe,EACoBA,EAAOA,EAAOj1J,OAAS,GAYhD,IAAIk1J,EAA4B3B,GAAmB7zI,GAAOyyI,SAAS8C,GACnE,GAAIC,EACAhB,EAAKgB,OAEJ,GAAkB,MAAdD,EAAO,IAA4B,MAAdA,EAAO,GAAY,CAC7C,IAAIE,EAAqBF,EAAO,GAC5BG,EAAqC,KAAtBD,GAAmD,KAAtBA,EAC1C3tH,SAASytH,EAAOhxJ,OAAO,GAAI,IAC3BujC,SAASytH,EAAOhxJ,OAAO,IAC7BiwJ,EACIkB,GAAgB,QACVN,GACAM,EAAe,MACX/B,GAAkBZ,cAAc2C,GAChCzC,GAAaQ,GAAsBZ,kBAAkB6C,IAAiBA,EACvF,CAEL,OAAOlB,CACX,EAgEA,IAAAmB,GAAAr3H,GAAAs3H,OA7DA,SAAgBjuJ,EAAM2sJ,GAClB,IAAImB,OAA4B,IAAPnB,EAAgBU,GAAuBV,EAAIoB,EAAeD,EAAmBz1I,MAAOA,OAAyB,IAAjB01I,EAA0B,MAAQA,EAAclB,EAAKiB,EAAmB9Y,MAAOA,OAAe,IAAP6X,EAA0B,QAAVx0I,EAAkB,SAAW,OAASw0I,EAClQ,IAAK7sJ,EACD,MAAO,GAEX,IAAIkuJ,EAAeV,GAAcn1I,GAAO28H,GACpCiY,EAAaf,GAAmB7zI,GAAOyyI,SACvCqD,EAAwB,cAAVnZ,EACdoZ,EAAqB,WAAVpZ,EACfkZ,EAAaloE,UAAY,EACzB,IACIqoE,EADAC,EAAiBJ,EAAapxJ,KAAKkD,GAEvC,GAAIsuJ,EAAgB,CAChBD,EAAkB,GAClB,IAAIE,EAAqB,EACzB,EAAG,CACKA,IAAuBD,EAAe3vJ,QACtC0vJ,GAAmBruJ,EAAK3G,UAAUk1J,EAAoBD,EAAe3vJ,QAEzE,IAAI6vJ,EAAiBF,EAAe,GAChCG,EAAiBD,EACjBE,EAAyBF,EAAeA,EAAe71J,OAAS,GACpE,GAAIw1J,GAC8B,MAA3BO,EACHD,EAAiBD,OAEhB,GAAIJ,GACyB,MAA3BM,EACHD,EAAiBD,MAEhB,CACD,IAAIG,EAA4B1B,EAAWuB,GAC3C,GAAIG,EACAF,EAAiBE,OAEhB,GAA0B,MAAtBH,EAAe,IAAoC,MAAtBA,EAAe,GAAY,CAC7D,IAAII,EAAqBJ,EAAe,GACpCK,EAAqC,KAAtBD,GAAmD,KAAtBA,EAC1CzuH,SAASquH,EAAe5xJ,OAAO,GAAI,IACnCujC,SAASquH,EAAe5xJ,OAAO,IACrC6xJ,EACII,GAAgB,QACVpB,GACAoB,EAAe,MACX7C,GAAkBZ,cAAcyD,GAChCvD,GAAaQ,GAAsBZ,kBAAkB2D,IAAiBA,EACvF,CACJ,CACDR,GAAmBI,EACnBF,EAAqBD,EAAe3vJ,MAAQ6vJ,EAAe71J,MAC9D,OAAS21J,EAAiBJ,EAAapxJ,KAAKkD,IACzCuuJ,IAAuBvuJ,EAAKrH,SAC5B01J,GAAmBruJ,EAAK3G,UAAUk1J,GAEzC,MAEGF,EACIruJ,EAER,OAAOquJ,CACX,EClMA,MAAMrE,UAAEA,GAASD,SAACA,IAAa+E,GAGxB,SAAS96I,GAAEmxB,GACd,MAAO,CAACplC,KAAM,OAAQ9H,MAAOg2J,GAAOjE,GAAU7kH,GAAK,CAAC9sB,MAAO,UAC/D,CCPA,IAAIgtH,GAAM,CAAE,EAAC7/G,eAqBN,SAASupI,GAAOh3J,EAAKiT,GAC1B,IAAI29I,EAAW39I,GAAW,CAAE,EAoB5B,SAASgkJ,EAAI/2J,GACX,IAAIoe,EAAK24I,EAAIC,QACTC,EAAWF,EAAIE,SAMnB,GAJIj3J,GAASotI,GAAI/6G,KAAKryB,EAAOF,KAC3Bse,EAAKgvH,GAAI/6G,KAAK4kI,EAAUj3J,EAAMF,IAAQm3J,EAASj3J,EAAMF,IAAQi3J,EAAIG,SAG/D94I,EACF,OAAOA,EAAGwB,MAAMxZ,KAAM0yB,UAEzB,CAMD,OAJAi+H,EAAIE,SAAWvG,EAASuG,UAAY,CAAE,EACtCF,EAAIC,QAAUtG,EAASsG,QACvBD,EAAIG,QAAUxG,EAASwG,QAEhBH,CACT,CC5DA,MACMI,GACJ,kCAKIC,GAAM,IAAIj3J,OAAO,MAAQg3J,GAAR,iBACjBE,GAAM,IAAIl3J,OAAO,kBAA2Bg3J,GAAW,KCiDtD,MAAMG,GAWb,SAgBcjwJ,EAAMzC,EAAM8B,EAAOwY,EAAQunE,GACnC,MAAM0mD,EAAQoqB,GAAe3yJ,GAE7B,GACE8B,UAEkB,iBAAVA,GACNA,EAAQ,GACRA,IAAU+nB,OAAO+uD,mBAEnB,MAAM,IAAIxqE,MAAM,iDAGlB,KACEkM,SAEEA,EAAOpX,MAASoX,EAAOhC,UAEzB,MAAM,IAAIlK,MAAM,wBAIlB,IAAK3L,IAASA,EAAKS,MAA6B,iBAAdT,EAAKS,KACrC,OAAO,EAGT,GACE,MAACoX,IACT,MAASxY,GAED,MAAM,IAAIsM,MAAM,kCAGlB,OAAOm6H,EAAM96G,KAAKo0D,EAASp/E,EAAMX,EAAOwY,EAE3C,EAEUq4I,GAOb,SAWc3yJ,GACR,GAAIA,QACF,OAAO0mD,GAGT,GAAoB,iBAAT1mD,EACT,OAuDR,SAAwBuoI,GACtB,OAAOmkB,EAMP,SAASA,EAAQjqJ,GACf,OAAOikD,GAAQjkD,IAASA,EAAKiqJ,UAAYnkB,CAC1C,CACH,CAjEeqqB,CAAe5yJ,GAGxB,GAAoB,iBAATA,EACT,OAeR,SAAoB6yJ,GAElB,MAAM5qB,EAAS,GACf,IAAInmI,GAAS,EAEb,OAASA,EAAQ+wJ,EAAM/2J,QACrBmsI,EAAOnmI,GAAS6wJ,GAAeE,EAAM/wJ,IAGvC,OAAOgxJ,GAAYC,GAOnB,SAASA,KAAOC,GACd,IAAIlxJ,GAAS,EAEb,OAASA,EAAQmmI,EAAOnsI,QACtB,GAAImsI,EAAOnmI,GAAO2rB,KAAKjsB,QAASwxJ,GAC9B,OAAO,EAIX,OAAO,CACR,CACH,CA1CeC,CAAWjzJ,GAGpB,GAAoB,mBAATA,EACT,OAAO8yJ,GAAY9yJ,GAGrB,MAAM,IAAIoO,MAAM,8CAEnB,EA0DH,SAAS0kJ,GAAYvqB,GACnB,OAQA,SAAmB9lI,KAASuwJ,GAE1B,OAAOtsG,GAAQjkD,IAASywJ,QAAQ3qB,EAAM96G,KAAKjsB,KAAMiB,KAASuwJ,GAC3D,CACH,CAOA,SAAStsG,GAAQjkD,GACf,OAAOywJ,QACLzwJ,GACkB,iBAATA,GAEO,YAAdA,EAAKS,MAEmB,iBAAjBT,EAAKiqJ,QAElB,CCnMA,SAASyF,GAAI1vJ,GACX,MAAkB,SAAdA,EAAKS,KACAT,EAAKrH,MAGP,aAAcqH,EAAOgC,GAAIhC,GAAQ,EAC1C,CAMA,SAASgC,GAAIhC,GACX,IAAIX,GAAS,EAEb,MAAM+C,EAAS,GAEf,OAAS/C,EAAQW,EAAK6V,SAASxc,QAC7B+I,EAAO/C,GAASqwJ,GAAI1vJ,EAAK6V,SAASxW,IAGpC,OAAO+C,EAAOmY,KAAK,GACrB,CCyCO,MAAMmR,GAOb,SAWcnuB,GACR,GAAIA,QACF,OAAOmzJ,GAGT,GAAoB,iBAATnzJ,EACT,OA+ER,SAAqBuoI,GACnB,OAAOuqB,GAAY5vJ,GAKnB,SAASA,EAAKT,GACZ,OAAOA,GAAQA,EAAKS,OAASqlI,CAC9B,CACH,CAxFe6qB,CAAYpzJ,GAGrB,GAAoB,iBAATA,EACT,OAAO6O,MAAMC,QAAQ9O,GAc7B,SAAoB6yJ,GAElB,MAAM5qB,EAAS,GACf,IAAInmI,GAAS,EAEb,OAASA,EAAQ+wJ,EAAM/2J,QACrBmsI,EAAOnmI,GAASqsB,GAAQ0kI,EAAM/wJ,IAGhC,OAAOgxJ,GAAYC,GAOnB,SAASA,KAAOC,GACd,IAAIlxJ,GAAS,EAEb,OAASA,EAAQmmI,EAAOnsI,QACtB,GAAImsI,EAAOnmI,GAAO2rB,KAAKjsB,QAASwxJ,GAAa,OAAO,EAGtD,OAAO,CACR,CACH,CAvCqCC,CAAWjzJ,GAgDhD,SAAsBuoI,GACpB,OAAOuqB,GAAYruJ,GAMnB,SAASA,EAAIhC,GAEX,IAAIvH,EAEJ,IAAKA,KAAOqtI,EAEV,GAAI9lI,EAAKvH,KAASqtI,EAAMrtI,GAAM,OAAO,EAGvC,OAAO,CACR,CACH,CAlEwDm4J,CAAarzJ,GAG/D,GAAoB,mBAATA,EACT,OAAO8yJ,GAAY9yJ,GAGrB,MAAM,IAAIoO,MAAM,+CAEnB,EAmFH,SAAS0kJ,GAAYvqB,GACnB,OAOA,YAAsByqB,GAEpB,OAAOE,QAAQ3qB,EAAM96G,KAAKjsB,QAASwxJ,GACpC,CACH,CAGA,SAASG,KACP,OAAO,CACT,CCzOO,MAsBMG,GAOb,SAOc7vI,EAAMzjB,EAAMi2E,EAASzsB,GACT,mBAATxpD,GAA0C,mBAAZi2E,IACvCzsB,EAAUysB,EAEVA,EAAUj2E,EACVA,EAAO,MAGT,MAAMwwI,EAAKriH,GAAQnuB,GACb+4I,EAAOvvF,GAAW,EAAI,GAS5B,SAAS5H,EAAQn/C,EAAMX,EAAOyxJ,GAG5B,MAAMn4J,EAAwB,iBAATqH,GAA8B,OAATA,EAAgBA,EAAO,CAAE,EAEnE,IAAIoR,EAEsB,iBAAfzY,EAAM8H,OACf2Q,EAC2B,iBAAlBzY,EAAMsxJ,QACTtxJ,EAAMsxJ,QACgB,iBAAftxJ,EAAMyY,KACbzY,EAAMyY,UACNvF,EAENxT,OAAOooC,eAAeswH,EAAO,OAAQ,CACnCp4J,MACE,UCpFQwR,EDqFFxR,EAAM8H,MAAQ2Q,EAAO,IAAMA,EAAO,IAAM,ICpFnD,QAAejH,EDmFV,aCpFP,IAAeA,ED0Fd,OAAO4mJ,EAEP,SAASA,IAEP,IAEIC,EAEAxjE,EAEAyjE,EANA7uJ,EAAS,GAQb,KAAK7E,GAAQwwI,EAAG/tI,EAAMX,EAAOyxJ,EAAQA,EAAQz3J,OAAS,IAAM,SAC1D+I,EAsCZ,SAAkBzJ,GAChB,GAAIyT,MAAMC,QAAQ1T,GAChB,OAAOA,EAGT,GAAqB,iBAAVA,EACT,MAAO,CAtIa,KAsIFA,GAGpB,MAAO,CAACA,EACV,CAhDqBu4J,CAAS19E,EAAQxzE,EAAM8wJ,IAlFxB,QAoFJ1uJ,EAAO,IACT,OAAOA,EAKX,GAAIpC,EAAK6V,UA9FC,SA8FWzT,EAAO,GAO1B,IALAorF,GAAUzmC,EAAU/mD,EAAK6V,SAASxc,QAAU,GAAKi9I,EAEjD2a,EAAeH,EAAQ7vJ,OAAOjB,GAGvBwtF,GAAU,GAAKA,EAASxtF,EAAK6V,SAASxc,QAAQ,CAInD,GAFA23J,EAAY7xG,EAAQn/C,EAAK6V,SAAS23E,GAASA,EAAQyjE,EAAvC9xG,GAnGN,QAqGF6xG,EAAU,GACZ,OAAOA,EAGTxjE,EAC0B,iBAAjBwjE,EAAU,GAAkBA,EAAU,GAAKxjE,EAAS8oD,CAC9D,CAGH,OAAOl0I,CACR,CACF,CAzED+8C,CAAQn+B,EAAM,KAAM,GAApBm+B,EA2EH,EErHI,MAAM4xG,GAOb,SAOc/vI,EAAMzjB,EAAMi2E,EAASzsB,GACT,mBAATxpD,GAA0C,mBAAZi2E,IACvCzsB,EAAUysB,EACVA,EAAUj2E,EACVA,EAAO,MAGTszJ,GAAa7vI,EAAMzjB,GAMnB,SAAkByC,EAAM8wJ,GACtB,MAAMj5I,EAASi5I,EAAQA,EAAQz3J,OAAS,GACxC,OAAOm6E,EACLxzE,EACA6X,EAASA,EAAOhC,SAASnI,QAAQ1N,GAAQ,KACzC6X,EAEH,GAbkCkvC,EAezC,ECtCO,MAAM9C,GAAUisG,KCChB,SAASiB,GAAW/5D,EAAOp3F,GAChC,MAAM6oJ,EAASzxD,EAAMyxD,OACfra,EAAWp3C,EAAMo3C,SACjB4iB,EAAmBh6D,EAAM/xC,UACzBgsG,EAAwBj6D,EAAMi6D,sBAEpC,IAAIC,EAEAltG,EAEJ,GAAIH,GAAQjkD,IAASA,EAAKmC,WAAY,CACpC,MAAMosI,EAAOvuI,EAAKmC,WAAWykI,SAAW5mI,EAAKmC,WAAWosI,KAClD9tI,EAAOT,EAAKmC,WAAW1B,MAAQ,OAC/B+rI,EAAM+kB,GAAYvxJ,GAEpBuuI,UACFn3C,EAAMo3C,SAAWnxI,OAAOkxI,GACxBnqF,GAAQ,GAGNykG,GAA2B,SAAjBA,EAAOnkB,OACqB,SAApC1kI,EAAKmC,WAAW8pI,kBAClB70C,EAAMi6D,uBAAwB,EAC9BjtG,GAAQ,GAGN6rG,GAAUjwJ,EAAM,SAClBo3F,EAAMyxD,OAAS1O,GACf/1F,GAAQ,GAKE,QAARooF,EACF8kB,EAAc9kB,EAGN,QAARA,GAES,SAARA,GAAkByjB,GAAUjwJ,EAAM,SAE1B,SAARwsI,GAAkByjB,GAAUjwJ,EAAM,UAAqB,QAATS,EAE/C6wJ,EAAc,OAEG,SAAR9kB,GAAkByjB,GAAUjwJ,EAAM,UACvCiwJ,GAAUjwJ,EAAM,YAElBsxJ,EAAcE,GNlCjB,SAAkBxxJ,GAGvB,MAAI,aAAcA,EACTgC,GAAIhC,GAIN,UAAWA,EAAOA,EAAKrH,MAAQ,EACxC,CMyBgC64B,CAASxxB,KAE/BiwJ,GAAUjwJ,EAAM,UACN,UAATS,GACU,WAATA,GACS,QAATA,GACS,SAATA,EAUFswJ,GAAM/wJ,GA0Bd,SAA6BgW,GAC3B,GAAmB,SAAfA,EAAMvV,KAER,OADA6wJ,EAAcE,GAAQx7I,EAAMrd,QACrB24J,GAAqB,KAG9B,GACEt7I,IAAUhW,IACTiwJ,GAAUj6I,EAAO,CAAC,MAAO,SAAU,QAAS,aAC3Cu7I,GAAYv7I,IAEd,MJrGc,MIuGjB,IA7COs7I,EAActxJ,EAAKmC,WAAWxJ,MAE1B64J,GAAQxxJ,EAAKmC,WAAWxJ,OACxB,OAOJ24J,IACFl6D,EAAM/xC,UAAYisG,EAClBltG,GAAQ,IAIHgzC,EAAMi6D,wBACbj6D,EAAMi6D,uBAAwB,EAC9BjtG,GAAQ,EAEX,CAED,OAAOA,EAEP,WACEgzC,EAAMyxD,OAASA,EACfzxD,EAAMo3C,SAAWA,EACjBp3C,EAAM/xC,UAAY+rG,EAClBh6D,EAAMi6D,sBAAwBA,CAC/B,EAPsBI,EAwBzB,CAMA,SAASD,GAAQ74J,GACf,MAAMyJ,ERnHD,SAAmBzJ,GACxB,MAAMmmC,EAASzhC,OAAO1E,GAAS,IAC/B,OAAOo3J,GAAIxyJ,KAAKuhC,GAAU,MAAQkxH,GAAIzyJ,KAAKuhC,GAAU,MAAQ,SAC/D,CQgHiBumB,CAAU1sD,GACzB,MAAkB,YAAXyJ,OAAuByJ,EAAYzJ,CAC5C,CAMA,SAASmvJ,GAAYvxJ,GACnB,MAAMrH,EACJsrD,GAAQjkD,IAASA,EAAKmC,YAA6C,iBAAxBnC,EAAKmC,WAAWqqI,IACvDxsI,EAAKmC,WAAWqqI,IAAIzzI,mBACpB8S,EAEN,MAAiB,SAAVlT,GAA8B,QAAVA,GAA6B,QAAVA,EAC1CA,OACAkT,CACN,CAEA,SAAS4lJ,KAAO,CCzIhB,MAAM1rB,GAAM,CAAE,EAAC7/G,eAETwrI,GAASjC,GAAO,kBAAmB,CAEvCI,QAyBF,SAAwBlgF,GACtB,MAAM,IAAIhkE,MAAM,uBAAyBgkE,EAAMgiF,gBAAkB,IACnE,EAzBEhC,QA4BF,SAAiBhgF,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GAG3C,GAAIv/E,GAAoB,OAAVxY,EACZ,MAAM,IAAIsM,MAAM,uDAKlB,IAAKyrF,EAAMr1C,SACT,MAAM,IAAIp2C,MAAM,uBAGlByrF,EAAMr1C,SAAS4tB,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GACtCA,EAAMw6D,SAASC,GAAWliF,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,EAC7D,EA1CEw4D,SAAU,CAERkC,KAAMD,GAEN,IAAK77I,GAEL,IAuEJ,SAAyB25D,EAAO3iD,EAAG3tB,EAAOwY,EAAQu/E,GAGhD,IAAKv/E,GAAoB,OAAVxY,EAAgB,OAC/B0yJ,GAAcpiF,EAAO93D,EAAQu/E,EAAO/3F,EAAQ,GAAG,EACjD,EA1EI,IA6EJ,SAAwBswE,EAAO3iD,EAAG3tB,EAAOwY,EAAQu/E,GAG/C,IAAKv/E,GAAoB,OAAVxY,EAAgB,OAC/B0yJ,GAAcpiF,EAAO93D,EAAQu/E,EAAO/3F,EAAQ,EAC9C,KA7EO,SAAS2yJ,GAAKriF,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GAC/Cs6D,GAAO/hF,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,EACrC,CA8BA,SAASy6D,GAAWliF,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GAC9C,MAAM77D,EAAW67D,EAAMr1C,SAEvBq1C,EAAMr1C,SAIN,SAASA,EAAS4tB,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GAG5C,IAAK77D,EACH,MAAM,IAAI5vB,MAAM,uBAOlB,GAJAyrF,EAAMr1C,SAAWxmB,EACjBA,EAASo0C,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GACrCA,EAAMr1C,SAAWA,EAEbq1C,EAAMs4D,KAAOt4D,EAAMhzC,MAAO,OAE9BpuC,GAAM25D,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,EACnC,EAjBDphF,GAAM25D,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,EAkBpC,CAGA,SAASphF,GAAM25D,EAAO3vE,EAAMiyJ,EAAIC,EAAI96D,IF9E7B,SAAgBp3F,GAErB,OAAOoM,MAAMC,QAAQrM,EAAK6V,SAC5B,EE4EOgC,CAAO7X,IACiB,IAAzBA,EAAK6V,SAASxc,QAClB04J,GAAcpiF,EAAO3vE,EAAMo3F,EAC7B,CA2BA,SAAS26D,GAAcpiF,EAAO93D,EAAQu/E,EAAO5yE,EAAM2tI,GACjD,MAAMT,EAASt6D,EAAM/3F,MAmDrB,SAAeW,EAAMoyJ,GACnB,MAAMC,EAAiB98H,EACjB+8H,EAAuBvsB,GAAI/6G,KAAKy6G,EAAOzlI,EAAKiqJ,SAC9CxkB,EAAMzlI,EAAKiqJ,SACX,EAEJ/qJ,EAAMc,EAAKiqJ,SAEXsI,EAAQ14J,MAER,WAEEu9F,EAAMo7D,aAAeH,EACrBj7D,EAAMq7D,UAAYH,EAGlBl7D,EAAMs7D,aAAen9H,EACrB6hE,EAAMu7D,UAAYltB,EAAMzlI,EAAKiqJ,SAE7BlsJ,EAAIiC,EAAMoyJ,EACX,GACF,EAxEoCr0J,EAC/B8X,EAAWgC,EAAOhC,SACxB,IAAI0f,EAAW,EACXl2B,GAAS,EAEb,MAAMomI,EAAQ,CAAE,EAEV8sB,EAAU,GAMhB,GAHI/tI,UAAqCA,EAAO,KAG5CA,GAAQ3O,EAASxc,QAArB,CAGA,GAAI+9F,EAAM/3F,MACR,OAASA,EAAQmlB,GAAM,CACrB,MAAMxO,EAAQH,EAASxW,GACnB4kD,GAAQjuC,IAAQ9W,EAAM8W,EAAMi0I,QACjC,CAKH,IAFA5qJ,EAAQmlB,EAAO,IAENnlB,EAAQwW,EAASxc,QAAQ,CAChC,MAAM2c,EAAQH,EAASxW,GAGvB,GAAI4kD,GAAQjuC,GAAQ,CAIlB,GAHA07I,EAAO17I,EAAO3W,GAGV+3F,EAAMs4D,KAAOt4D,EAAMhzC,MAAO,OAC9B,GAAI+tG,EAAkB,KACvB,CACF,CAED,GAAI/6D,EAAM/3F,MAGR,IAFAA,GAAS,IAEAA,EAAQkzJ,EAAQl5J,QAEvB,GADAk5J,EAAQlzJ,KACJ+3F,EAAMs4D,KAAOt4D,EAAMhzC,MAAO,MA9BL,CAiE7B,SAASrmD,EAAIiC,EAAMoyJ,GACjB,MAAMQ,EAAOzB,GAAW/5D,EAAOp3F,GAI/B,IAAKo3F,EAAMr1C,SACT,MAAM,IAAIp2C,MAAM,uBAGlByrF,EAAMr1C,SAAS4tB,EAAO3vE,EAAMoyJ,EAAYv6I,EAAQu/E,GAChDw7D,GACD,CAKD,SAAS1zJ,EAAMkS,GACR20H,GAAI/6G,KAAKy6G,EAAOr0H,KAAOq0H,EAAMr0H,GAAQ,GAC1CmkB,IACAkwG,EAAMr0H,IACP,CACH,CCxHO,MAAMyhJ,IA5DI/sB,GA4DqB,SAAUgtB,EAAKC,GAEnD,MAAMl/I,EAAOi/I,EAAI95J,MAAM,KACjB8a,EAAQi/I,EAAM/5J,MAAM,KAC1B,IAAIg6J,EAAY,EACZC,EAAa,EAGjB,GAA0B,MAAtBn/I,EAAMm/I,IAAuBp/I,EAAKm/I,KAAel/I,EAAMm/I,GACzD,OAAO,EAOT,IAJAD,IACAC,IAGOA,EAAan/I,EAAMza,QAExB,GAA0B,MAAtBya,EAAMm/I,GAAV,CAMA,IAAKp/I,EAAKm/I,GAAY,OAAO,EAG7B,GAAIn/I,EAAKm/I,KAAel/I,EAAMm/I,GAA9B,CAOA,GAA+B,IAA3Bp/I,EAAKm/I,GAAW35J,OAAc,OAAO,EAGzC25J,GANC,MAHCA,IACAC,GARD,MAFCA,IAsBJ,OAAO,CACT,EAtGwBnyJ,IAsGrB,EArGM,SAAUoyJ,EAAMC,GACrB,IAAIt/I,EAAOu/I,GAAKF,EAAM,OACtB,MAAMp/I,EAAQs/I,GACZD,QAA0C,IAAMA,EAChD,SAGIjgH,EAAU,GAChB,IAAI+/G,GAAc,EAElB,OAASA,EAAan/I,EAAMza,QAAQ,CAClC,MAAM05J,EAAQj/I,EAAMm/I,GAAYl6J,cAGhC,IAAK+H,IAAoB,MAAViyJ,EAAe,SAE9B,IAAIC,GAAa,EAEjB,MAAMtvJ,EAAO,GAEb,OAASsvJ,EAAYn/I,EAAKxa,QACxB,GAAIysI,GAAMjyH,EAAKm/I,GAAWj6J,cAAeg6J,GAAQ,CAE/C,IAAKjyJ,GACH,OACE+S,EAAKm/I,GAIT9/G,EAAQr5C,KAAKga,EAAKm/I,GAC5B,MACUtvJ,EAAK7J,KAAKga,EAAKm/I,IAInBn/I,EAAOnQ,CACR,CAID,OACE5C,GAASoyC,OAAUrnC,CAEtB,GA5CH,IAAiBi6H,GAAOhlI,GAqIxB,SAASsyJ,GAAKl6J,EAAQkY,GACpB,MAAMzY,EAAQO,GAA4B,iBAAXA,EAAsB,CAACA,GAAUA,EAEhE,IAAKP,GAA0B,iBAAVA,KAAwB,WAAYA,GACvD,MAAM,IAAIgT,MACR,WAAayF,EAAO,KAAOzY,EAAQ,gCAIvC,OAAOA,CACT,CCzLA,IAAIotI,GAAM,CAAE,EAAC7/G,eASN,SAASmtI,GAAYrzJ,EAAMoR,GAEhC,IAAIzY,EACFyY,GACApR,GACgB,iBAATA,GAEO,YAAdA,EAAKS,MAELT,EAAKmC,YAEL4jI,GAAI/6G,KAAKhrB,EAAKmC,WAAYiP,IAE1BpR,EAAKmC,WAAWiP,GAElB,OAAOzY,UAAmD,IAAVA,CAClD,CCrBO,SAAS26J,GAAWC,GAEzB,IAAI56J,EAEF46J,GAA0B,iBAAVA,GAAqC,SAAfA,EAAM9yJ,KAExC8yJ,EAAM56J,OAAS,GACf46J,EAIN,MAAwB,iBAAV56J,GAA4D,KAAtCA,EAAME,QAAQ,eAAgB,GACpE,CCKA,MAAM64J,GAASjC,GAAO,OAAQ,CAE5BI,QA4fF,SAAuBlgF,GACrB,GAAIA,EAAMv+D,KACR,MAAM,IAAIzF,MAAM,4BAA8BgkE,EAAMv+D,KAAO,KAG7D,MAAM,IAAIzF,MAAM,kDAClB,EAjgBEgkJ,QAofF,WACE,MAAM,IAAIhkJ,MAAM,0BAClB,EArfEikJ,SAAU,CAERU,IAAKp9G,GAEL,WAgIJ,SAAiBlmB,EAAGi3B,GAClB,OACEgsG,GAAUhsG,EAAS,CAAC,IAAK,OAAQ,UAAYovG,GAAYpvG,EAAS,OAEtE,EAlIIuvG,MAySJ,SAAexmI,EAAGi3B,GAChB,OAAQwvG,GAAaxvG,GAMrB,SAAejuC,GACb,MACiB,YAAfA,EAAMvV,MAAsC,SAAfuV,EAAMvV,OAAoB6yJ,GAAWt9I,EAErE,GACH,EAnTI41H,QAuIJ,SAAiB5+G,EAAGi3B,GAClB,GAAIgsG,GAAUhsG,EAAS,CAAC,QAAS,aAC/B,OAAOwsG,QACLxsG,EAAQ9hD,aACuB,aAA5B8hD,EAAQ9hD,WAAW1B,MACU,UAA5BwjD,EAAQ9hD,WAAW1B,OACrB4yJ,GAAYpvG,EAAS,YAI3B,GAAIgsG,GAAUhsG,EAAS,UACrB,OAAOovG,GAAYpvG,EAAS,YAG9B,OAAO,CACT,EApJIuoF,IA8JJ,SAAa78D,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAC9B,OAAOA,EAAM/xC,YAAcsqB,EAAMh3E,KACnC,EA9JI+zI,YAEJnxE,MAgRA,SAAevuC,EAAGi3B,GAChB,OAAQwvG,GAAaxvG,GAMrB,SAAejuC,GACb,MAAsB,YAAfA,EAAMvV,MAAqC,SAAfuV,EAAMvV,IAC1C,GACH,EAxRIkzJ,QAqLJ,SAAiBhkF,EAAO1rB,GACtB,OAAQyoF,GAAS/8D,EAAO1rB,EAC1B,EArLI,cAmTJ,SAAoB0rB,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAErC,OADAw8D,GAAWx8D,EAAOznB,GACY,IAAvBynB,EAAMo7D,YACf,EApTI,gBA0aJ,SAAqB7iF,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAEtC,OADAw8D,GAAWx8D,EAAOznB,GACS,IAApBynB,EAAMq7D,SACf,EA3aI30J,IA8fJ,SAAa6xE,EAAO1rB,EAASiuG,EAAIwB,EAAIt8D,GACnC,MAAMw6D,EAAUx6D,EAAMw6D,QAChBlC,EAAMt4D,EAAMs4D,IACZmE,EAAgBz8D,EAAMy8D,cACtBl7J,EAmBR,SAAqBA,GAEnB,MAAMmxJ,EACW,YAAfnxJ,EAAM8H,KAAqB,CAACA,KAAM,YAAaqzJ,UAAW,CAACn7J,IAAUA,EACvE,IAAI0G,GAAS,EAEb,OAASA,EAAQyqJ,EAASgK,UAAUz6J,QAAQ,CAC1C,MAAM06J,EAAOjK,EAASgK,UAAUz0J,GAAO00J,KACvCA,EAAKpC,gBAAkB,KAGpBoC,EAAKC,SACkB,IAAxBD,EAAKC,QAAQ36J,QACY,UAAzB06J,EAAKC,QAAQ,GAAG5iJ,OAEhB04I,EAASgK,UAAUz0J,GAAS,CAC1BoB,KAAM,UAENszJ,KAAM,CAACtzJ,KAAM,OAAQszJ,OAAMC,QAAS,CAAC,CAAC5iJ,KAAM,YAGjD,CAED,OAAO04I,CACT,CA3CgBmK,CAAYtkF,EAAMh3E,OAEhCy+F,EAAMw6D,SAAU,EAChBx6D,EAAMs4D,KAAM,EACZt4D,EAAMy8D,cAAgB,CAAC5vG,GAEvB,MAAM7hD,EAASkuJ,GAAI33J,EAAOsrD,EAASmzC,GAAO/9F,OAAS,EAMnD,OAJA+9F,EAAMw6D,QAAUA,EAChBx6D,EAAMs4D,IAAMA,EACZt4D,EAAMy8D,cAAgBA,EAEfzxJ,CACT,EA7gBImsI,KA0TJ,SAAc5+D,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAC/B,MACqB,KAAnBA,EAAMo3C,eACa3iI,IAAnBurF,EAAMo3C,UACa,OAAnBp3C,EAAMo3C,UAENqkB,GAAez7D,EAAMo3C,SAAU8b,GAAO36E,EAAMh3E,QAAQU,OAAS,CAEjE,EAhUI,aA0UJ,SAAmBs2E,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAEpC,OADAw8D,GAAWx8D,EAAOznB,GACX8gF,QACLr5D,EAAMs7D,cAAgBt7D,EAAMo7D,eAAiBp7D,EAAMs7D,aAAe,EAEtE,EA7UI,eA+aJ,SAAoB/iF,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAErC,OADAw8D,GAAWx8D,EAAOznB,GAEW,iBAApBynB,EAAMq7D,WACc,iBAApBr7D,EAAMu7D,WACbv7D,EAAMq7D,YAAcr7D,EAAMu7D,UAAY,CAE1C,EApbAz/G,QAAIA,GAEJymF,IA2FA,SAAahqD,EAAO1rB,EAAS5kD,EAAOwY,EAAQu/E,GAC1C,OAAQlkD,GAAQy8B,EAAO1rB,EAAS5kD,EAAOwY,EAAQu/E,EACjD,EA3FI,YA8VJ,SAAkBznB,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAEnC,OADAw8D,GAAWx8D,EAAOznB,GAEc,iBAAvBynB,EAAMo7D,cAA6B7iF,EAAMh3E,MAAMy+F,EAAMo7D,aAEhE,EAjWI,iBA2WJ,SAAsB7iF,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAEvC,OADAw8D,GAAWx8D,EAAOznB,GACX8gF,QACyB,iBAAvBr5D,EAAMs7D,cACmB,iBAAvBt7D,EAAMo7D,cACb7iF,EAAMh3E,MAAMy+F,EAAMs7D,aAAet7D,EAAMo7D,aAAe,GAE5D,EAhXI,cA0XJ,SAAmB7iF,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAEpC,OADAw8D,GAAWx8D,EAAOznB,GACgB,iBAApBynB,EAAMq7D,WAA0B9iF,EAAMh3E,MAAMy+F,EAAMq7D,UAClE,EA3XI,mBAqYJ,SAAuB9iF,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAExC,OADAw8D,GAAWx8D,EAAOznB,GAEW,iBAApBynB,EAAMu7D,WACc,iBAApBv7D,EAAMq7D,WACb9iF,EAAMh3E,MAAMy+F,EAAMu7D,UAAY,EAAIv7D,EAAMq7D,UAE5C,EA1YI,aAyUJ,SAAmB9iF,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAEpC,OADAw8D,GAAWx8D,EAAOznB,GACY,IAAvBynB,EAAMs7D,YACf,EA1UI,eAgbJ,SAAoB/iF,EAAOsiF,EAAIC,EAAIwB,EAAIt8D,GAErC,OADAw8D,GAAWx8D,EAAOznB,GACS,IAApBynB,EAAMu7D,SACf,EAjbIuB,SA4KJ,SAAkBvkF,EAAO1rB,GACvB,OAAQoxF,GAAS1lE,EAAO1rB,EAC1B,EA5KI,YAoMJ,SAAkB0rB,EAAO1rB,EAAS5kD,EAAOwY,EAAQu/E,GAC/C,OAAQ+8D,GAAUxkF,EAAO1rB,EAAS5kD,EAAOwY,EAAQu/E,EACnD,EApMI,aAAc+8D,GAEd9e,YAEA+e,KA0MJ,SAAcpnI,EAAGi3B,EAASguG,EAAIp6I,EAAQu/E,GACpC,OAAOq5D,UACH54I,GAA0B,SAAhBA,EAAOpX,OACjB22F,EAAMyxD,SACkB,SAAvBzxD,EAAMyxD,OAAOnkB,OAA2C,QAAvBttC,EAAMyxD,OAAOnkB,QAC/CurB,GAAUhsG,EAAS,CAAC,OAAQ,QAElC,EA/MIyxF,MAyNJ,SAAe1oH,EAAGi3B,EAASguG,EAAIC,EAAI96D,GACjC,OAAOq5D,QACLR,GAAUhsG,IACRmzC,EAAMy8D,eACNz8D,EAAMy8D,cAAc1yJ,SAAS8iD,GAEnC,KAtMO,SAASowG,GAAO1kF,EAAO1rB,EAAS5kD,EAAOwY,EAAQu/E,GACpD,MAAM48D,EAAUrkF,EAAMqkF,QACtB,IAAIxmE,GAAU,EAEd,OAASA,EAASwmE,EAAQ36J,QACxB,IAAKq4J,GAAOsC,EAAQxmE,GAASvpC,EAAS5kD,EAAOwY,EAAQu/E,GAAQ,OAAO,EAGtE,OAAO,CACT,CAUA,SAASlkD,GAAQy8B,EAAO1rB,EAASguG,EAAIC,EAAI96D,GACvC,MAAMw6D,EAAUx6D,EAAMw6D,QAChBlC,EAAMt4D,EAAMs4D,IAElBt4D,EAAMw6D,SAAU,EAChBx6D,EAAMs4D,KAAM,EAEZ,MAAMttJ,EAASkuJ,GAAI3gF,EAAMh3E,MAAOsrD,EAASmzC,GAAO,KAAOnzC,EAKvD,OAHAmzC,EAAMw6D,QAAUA,EAChBx6D,EAAMs4D,IAAMA,EAELttJ,CACT,CAgEA,SAASsqI,GAAS1/G,EAAGi3B,GACnB,OACEgsG,GAAUhsG,EAAS,CACjB,SACA,QACA,SACA,WACA,WACA,SACA,WACA,cACIovG,GAAYpvG,EAAS,WAE/B,CAgBA,SAASoxF,GAASroH,EAAGi3B,GACnB,OACEgsG,GAAUhsG,EAAS,CAAC,QAAS,WAAY,YACzCovG,GAAYpvG,EAAS,WAEzB,CAmBA,SAASkwG,GAAUnnI,EAAGi3B,EAASguG,EAAIC,EAAI96D,GACrC,OAAO64D,GAAUhsG,EAAS,CAAC,QAAS,cAC/BovG,GAAYpvG,EAAS,cAAgBovG,GAAYpvG,EAAS,YAC3DwsG,QAAQr5D,EAAMi6D,sBACpB,CA4PA,SAASoC,GAAaxvG,EAAS6hF,GAC7B,MAAMjwH,EAAWouC,EAAQpuC,SACzB,IAAIxW,GAAS,EAEb,OAASA,EAAQwW,EAASxc,QACxB,GAAIysI,EAAMjwH,EAASxW,IAAS,OAAO,EAGrC,OAAO,CACT,CAuBA,SAASu0J,GAAWx8D,EAAOznB,GACzB,GAAIynB,EAAMw6D,QACR,MAAM,IAAIjmJ,MAAM,gBAAkBgkE,EAAMv+D,KAAO,mBAEnD,CA9cAijJ,GAAOC,WAAa,CAClB,cACA,gBACA,aACA,eACA,YACA,iBACA,cACA,mBACA,aACA,gBChFF,MAAM5C,GAASjC,GAAO,WAAY,CAEhCI,QAmLF,SAAyBlgF,GACvB,MAAM,IAAIhkE,MAAM,qBAAuBgkE,EAAMuqD,SAAW,IAC1D,EAnLEy1B,QA4CF,SAAgB3iI,EAAGi3B,EAASgiF,GAC1B,OAAOotB,GAAYpvG,EAASgiF,EAAK3jI,SACnC,EA7CEstJ,SAAU,CAER,IAqDJ,SAAejgF,EAAO1rB,EAASgiF,GAC7B,OAAOwqB,QACL4C,GAAYpvG,EAASgiF,EAAK3jI,WACxB2hD,EAAQ9hD,YACRoyJ,GAAetwG,EAAQ9hD,WAAW8jI,EAAK3jI,UAAW2jI,KAAUt2D,EAAMh3E,MAExE,EAzDI,KAmEJ,SAA4Bg3E,EAAO1rB,EAASgiF,GAC1C,MAAMttI,EAAQsrD,EAAQ9hD,YAAc8hD,EAAQ9hD,WAAW8jI,EAAK3jI,UAE5D,OAGI2jI,EAAKhB,gBACLtsI,GACiB,iBAAVA,GACPg3E,EAAMh3E,OACNA,EAAMwI,SAASwuE,EAAMh3E,QAGtB06J,GAAYpvG,EAASgiF,EAAK3jI,WACzBiyJ,GAAe57J,EAAOstI,KAAUt2D,EAAMh3E,KAE5C,EAjFI,KA2FJ,SAAuBg3E,EAAO1rB,EAASgiF,GACrC,MAAMttI,EAAQ47J,GACZtwG,EAAQ9hD,YAAc8hD,EAAQ9hD,WAAW8jI,EAAK3jI,UAC9C2jI,GAGF,OAAOwqB,QACL4C,GAAYpvG,EAASgiF,EAAK3jI,WACxBqtE,EAAMh3E,QACLA,IAAUg3E,EAAMh3E,OACdA,EAAM8e,MAAM,EAAGk4D,EAAMh3E,MAAMU,UAAYs2E,EAAMh3E,OACP,MAArCA,EAAMyyC,OAAOukC,EAAMh3E,MAAMU,SAEnC,EAtGI,KAgHJ,SAAgBs2E,EAAO1rB,EAASgiF,GAC9B,OAAOwqB,QACL4C,GAAYpvG,EAASgiF,EAAK3jI,WACxB2hD,EAAQ9hD,YACRwtE,EAAMh3E,OACN47J,GAAetwG,EAAQ9hD,WAAW8jI,EAAK3jI,UAAW2jI,GAAMxuH,MACtD,EACAk4D,EAAMh3E,MAAMU,UACRs2E,EAAMh3E,MAElB,EAxHI,KAkIJ,SAAcg3E,EAAO1rB,EAASgiF,GAC5B,OAAOwqB,QACL4C,GAAYpvG,EAASgiF,EAAK3jI,WACxB2hD,EAAQ9hD,YACRwtE,EAAMh3E,OACN47J,GAAetwG,EAAQ9hD,WAAW8jI,EAAK3jI,UAAW2jI,GAAMxuH,OACrDk4D,EAAMh3E,MAAMU,UACTs2E,EAAMh3E,MAElB,EAzII,KAmJJ,SAAkBg3E,EAAO1rB,EAASgiF,GAChC,OAAOwqB,QACL4C,GAAYpvG,EAASgiF,EAAK3jI,WACxB2hD,EAAQ9hD,YACRwtE,EAAMh3E,OACN47J,GAAetwG,EAAQ9hD,WAAW8jI,EAAK3jI,UAAW2jI,GAAM9kI,SACtDwuE,EAAMh3E,OAGd,KAmBA,SAAS47J,GAAe57J,EAAOstI,GAC7B,MAAqB,kBAAVttI,EACFstI,EAAKpB,UAGVz4H,MAAMC,QAAQ1T,IACRstI,EAAKhB,eAAiBqlB,GAAS73G,IAAQ95C,GAG1C0E,OAAO1E,EAChB,CCjMO,SAAS4E,GAAKoyE,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GAC/C,OAAOq5D,QACLxsG,GAAQjkD,IACNo3F,EAAMyxD,UACJl5E,EAAMs6E,SClBP,SAAct6E,EAAO1rB,GAC1B,MAAyB,MAAlB0rB,EAAMs6E,SAAmBt6E,EAAMs6E,UAAYhmG,EAAQgmG,OAC5D,CDgByB74I,CAAKu+D,EAAO3vE,OAC7B2vE,EAAM6kF,YEnBP,SAAmB7kF,EAAO1rB,GAG/B,MAAMtrD,EAAQsrD,EAAQ9hD,WAAW8mE,WAAa,GAC9C,IAAI5pE,GAAS,EAEb,GAAIswE,EAAM6kF,WACR,OAASn1J,EAAQswE,EAAM6kF,WAAWn7J,QAChC,IAAKV,EAAMwI,SAASwuE,EAAM6kF,WAAWn1J,IAAS,OAAO,EAIzD,OAAO,CACT,CFM4B4pE,CAAU0G,EAAO3vE,OACrC2vE,EAAMzxE,IGpBP,SAAYyxE,EAAO1rB,GACxB,OAAOwsG,QAAQxsG,EAAQ9hD,YAAc8hD,EAAQ9hD,WAAWjE,KAAOyxE,EAAMzxE,GACvE,CHkBoBA,CAAGyxE,EAAO3vE,OACtB2vE,EAAM8kF,ODWP,SAAmB9kF,EAAO1rB,EAAS4kG,GACxC,MAAM4L,EAAQ9kF,EAAM8kF,MACpB,IAAIp1J,GAAS,EAEb,OAASA,EAAQo1J,EAAMp7J,QACrB,IAAKq4J,GAAO+C,EAAMp1J,GAAQ4kD,EAAShzB,GAAK43H,EAAQ4L,EAAMp1J,GAAO+R,OAC3D,OAAO,EAIX,OAAO,CACT,CCtBuByzH,CAAUl1D,EAAO3vE,EAAMo3F,EAAMyxD,YAC5Cl5E,EAAMqkF,SAAWK,GAAO1kF,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,IAE5D,CIjBA,MAAM32F,GAAOgvJ,GAAO,OAAQ,CAE1BI,QAwHF,SAAqBlgF,GACnB,MAAM,IAAIhkE,MAAM,iBAAmBgkE,EAAMlvE,KAAO,IAClD,EAzHEkvJ,QA6HF,WACE,MAAM,IAAIhkJ,MAAM,eAClB,EA7HEikJ,SAAU,CAACkE,UAoBb,SAAmBnkF,EAAO3vE,EAAMo3F,GAC9B,MAAMs9D,EAAY,IAAIC,GAAUv9D,EAAMs4D,KACtC,IAAIrwJ,GAAS,EAEb,OAASA,EAAQswE,EAAMmkF,UAAUz6J,QAC/Bq7J,EAAUE,WAAWC,GAAQllF,EAAMmkF,UAAUz0J,GAAQW,EAAMo3F,IAG7D,OAAOs9D,EAAUtyJ,MACnB,UA7BwByyJ,GAAOd,KAAEA,MAS1B,SAASzD,GAAI3gF,EAAO3vE,EAAMo3F,GAE/B,OAAOznB,GAAS3vE,EAAOS,GAAKkvE,EAAO3vE,EAAMo3F,GAAS,EACpD,CAyBA,SAASy9D,GAAQllF,EAAO3vE,EAAMo3F,GAC5B,OAAO28D,GAAKpkF,EAAMokF,KAAM/zJ,EAAMo3F,EAChC,CAQA,SAAS28D,GAAKpkF,EAAO3uD,EAAMo2E,GACzB,MAAMs9D,EAAY,IAAIC,GAAUv9D,EAAMs4D,KAEtC,GAAIt4D,EAAMw6D,SAAWjiF,EAAMokF,KACzB,MAAM,IAAIpoJ,MAAM,qCAqBlB,OAlBAqmJ,GACEriF,EACA3uD,EACA,EACA,KACA8zI,EAAUnlF,EAAO,CACfk5E,OAAwB,QAAhBzxD,EAAMstC,MAAkByV,GAAM7P,GACtCkE,cAAU3iI,EACVw5C,UAAW,MACXgsG,uBAAuB,EAEvBwC,cAA6B,SAAd7yI,EAAKvgB,KAAkBugB,EAAKnL,SAAW,CAACmL,GACvD+gC,SASJ,SAAkB4tB,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,GAC5C,MAAMw7D,EAAOzB,GAAW/5D,EAAOp3F,GAE3BzC,GAAKoyE,EAAO3vE,EAAMX,EAAOwY,EAAQu/E,KAC/BznB,EAAMokF,KACR/B,GAAKriF,EAAMokF,KAAM/zJ,EAAMX,EAAOwY,EAAQi9I,EAAUnlF,EAAMokF,KAAM38D,KAG5Ds9D,EAAUK,QAAQ/0J,GAClBo3F,EAAMhzC,OAAQ,IAIlBwuG,GACD,EAtBGlD,IAAKt4D,EAAMs4D,IACXkC,QAASx6D,EAAMw6D,WAIZ8C,EAAUtyJ,OAyBjB,SAAS0yJ,EAAUnlF,EAAOynB,GACxB,MAAM48D,EAAUrkF,EAAMqkF,SAAW,GACjC,IAAI30J,GAAS,EAEb,OAASA,EAAQ20J,EAAQ36J,QACvB,GAAIg7J,GAAOC,WAAWnzJ,SAAS6yJ,EAAQ30J,GAAO+R,MAAO,CACnDgmF,EAAM/3F,OAAQ,EACd,KACD,CAGH,OAAO+3F,CACR,CACH,CAiBA,MAAMu9D,GAIJ7oJ,YAAY4jJ,GAEV3wJ,KAAKqD,OAAS,GAEdrD,KAAK2wJ,IAAMA,EAEX3wJ,KAAKqlD,OAAQ,CACd,CAODwwG,WAAWr/H,GACT,IAAIl2B,GAAS,EAEb,OAASA,EAAQk2B,EAASl8B,QACxB0F,KAAKg2J,QAAQx/H,EAASl2B,GAEzB,CAOD01J,QAAQ9wG,GACN,GAAIllD,KAAK2wJ,IAAK,CAGZ,GAAI3wJ,KAAKqlD,MAAO,OAChBrlD,KAAKqlD,OAAQ,CACd,CAEIrlD,KAAKqD,OAAOjB,SAAS8iD,IAAUllD,KAAKqD,OAAOvI,KAAKoqD,EACtD,iCC5LH5rD,OAAOooC,eAAcj3B,GAAU,aAAc,CAAE7Q,OAAO,IAItD6Q,GAAAwrJ,aAHA,SAAsB1uJ,GAClB,OAAQA,GAAK,KAAOA,GAAK,KAASA,GAAK,KAAOA,GAAK,KAAe,MAANA,GAAqB,MAANA,CAC9E,EAKDkD,GAAAyrJ,QAHA,SAAiB3uJ,GACb,OAAQA,GAAK,KAAOA,GAAK,KAASA,GAAK,KAAOA,GAAK,KAASA,GAAK,KAAOA,GAAK,KAAc,MAANA,GAAmB,MAANA,CACrG,EAKDkD,GAAAokJ,MAHA,SAAetnJ,GACX,OAAQA,GAAK,KAAOA,GAAK,KAASA,GAAK,KAAOA,GAAK,KAASA,GAAK,KAAOA,GAAK,GAChF,EAkCDkD,GAAA0rJ,iBAhCA,SAA0BhhJ,GAItB,IAHA,IAAItQ,EAAMsQ,EAAE7a,OACR+I,EAAS,GACTtI,EAAI,EACDA,EAAI8J,GAAK,CACZ,IAAIuxJ,EAAMjhJ,EAAEk3B,OAAOtxC,GACnB,GAAI0P,GAAQ4rJ,kBAAkBD,GAC1B/yJ,GAAU,KAAO+yJ,OAGjB,GAAc,MAARA,GAAuB,MAARA,GAChBA,GAAO,KAAOA,GAAO,KACrBA,GAAO,KAAOA,GAAO,KACf,IAANr7J,GAAWq7J,GAAO,KAAOA,GAAO,IAYjC/yJ,GAAU+yJ,MAZ8B,CACxC,IAAIE,EAAWF,EAAIl7J,WAAW,GAC9B,GAA4B,QAAZ,MAAXo7J,GAA+B,CAChC,IAAIC,EAAgBphJ,EAAEja,WAAWH,KACjC,GAA4B,QAAZ,MAAXu7J,IAA8D,QAAZ,MAAhBC,GACnC,MAAM3pJ,MAAM,mCAEhB0pJ,IAAwB,KAAXA,IAAqB,KAAuB,KAAhBC,GAAyB,KACrE,CACDlzJ,GAAU,KAAOizJ,EAAS7jI,SAAS,IAAM,GAC5C,CAKL13B,GACH,CACD,OAAOsI,CACV,EAuBDoH,GAAA+rJ,UArBA,SAAmBrhJ,GAKf,IAJA,IAGI2qH,EAHAj7H,EAAMsQ,EAAE7a,OACR+I,EAAS,GACTtI,EAAI,EAEDA,EAAI8J,GAAK,CACZ,IAAIuxJ,EAAMjhJ,EAAEk3B,OAAOtxC,GACP,MAARq7J,EACAA,EAAM,MAEO,OAARA,EACLA,EAAM,YAEmDtpJ,KAAnDgzH,EAAcr1H,GAAQgsJ,mBAAmBL,MAC/CA,EAAMt2B,GAEVz8H,GAAU+yJ,EACVr7J,GACH,CACD,MAAO,IAAOsI,EAAS,GAC1B,EAEDoH,GAA4B4rJ,kBAAA,CACxB,KAAK,EACL,KAAK,EACL,KAAK,EACL1J,GAAK,EACL,KAAK,EACL,KAAK,EACL,KAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,MAAM,EACN,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,EACL,KAAK,GAETliJ,GAA6BgsJ,mBAAA,CACzB,KAAM,MACN,KAAM,MACN,KAAM,MACN,KAAM,MACN,KAAM,OAEVhsJ,GAAiCisJ,uBAAA,CAC7B3uJ,EAAG,KACH6B,EAAG,KACH+L,EAAG,KACHqG,EAAG,KACH,KAAM,KACN,IAAM,KAEVvR,GAAkCksJ,wBAAA,CAC9B5uJ,EAAG,KACH6B,EAAG,KACH+L,EAAG,KACHqG,EAAG,KACH,KAAM,KACN,IAAK,KCxHT1iB,OAAOooC,eAAek1H,GAAS,aAAc,CAAEh9J,OAAO,IACtD,IAAIi9J,GAAUrJ,GAsUdoJ,GAAAE,iBArUA,SAA0BhwH,EAAKjpB,EAAKo3I,EAAS8B,EAAkBC,EAAsBC,GACjF,IAAIhoJ,EAAI63B,EAAIxsC,OACR87J,EAAM,GACV,SAASc,EAAOC,EAAOC,GACnB,IAAI/zJ,EAAS,GAGb,IAFAwa,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GACVA,EAAM5O,GAAG,CACZ,GAAImnJ,IAAQe,EAER,OADAt5I,IACOxa,EAEN,GAAY,OAAR+yJ,EAAc,CACnBv4I,IAEA,IAAIw5I,OAAM,EACV,IAFAjB,EAAMtvH,EAAIuF,OAAOxuB,MAELs5I,EACR9zJ,GAAU8zJ,OAET,QAAiCrqJ,KAA5BuqJ,EAAMD,EAAYhB,IACxB/yJ,GAAUg0J,MAET,IAAIR,GAAQhI,MAAMuH,GAAM,CACzB,IAAIkB,EAAMlB,EAGV,IAFAv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GACVg5I,GAAQhI,MAAMuH,IACjBkB,GAAOlB,EACPv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GAET,MAARu4I,IACAv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,IAErBxa,GAAU/E,OAAO2uJ,aAAanrH,SAASw1H,EAAK,KAC5C,QACH,CAEGj0J,GAAU+yJ,CACb,CACJ,MAEG/yJ,GAAU+yJ,EAEdv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,EACpB,CACD,OAAOxa,CACV,CACD,SAASk0J,IACL,IAAIl0J,EAAS,GAEb,IADA+yJ,EAAMtvH,EAAIuF,OAAOxuB,GACVA,EAAM5O,GAAG,CACZ,GAAI4nJ,GAAQX,QAAQE,GAChB/yJ,GAAU+yJ,MAET,IAAY,OAARA,EA8BL,OAAO/yJ,EA5BP,KADAwa,GACW5O,EACP,MAAMrC,MAAM,4CAGhB,GADAwpJ,EAAMtvH,EAAIuF,OAAOxuB,GACbg5I,GAAQR,kBAAkBD,GAC1B/yJ,GAAU+yJ,MAET,IAAIS,GAAQhI,MAAMuH,GAAM,CACzB,IAAIkB,EAAMlB,EAGV,IAFAv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GACVg5I,GAAQhI,MAAMuH,IACjBkB,GAAOlB,EACPv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GAET,MAARu4I,IACAv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,IAErBxa,GAAU/E,OAAO2uJ,aAAanrH,SAASw1H,EAAK,KAC5C,QACH,CAEGj0J,GAAU+yJ,CACb,CAIJ,CACDv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,EACpB,CACD,OAAOxa,CACV,CACD,SAASm0J,IACLpB,EAAMtvH,EAAIuF,OAAOxuB,GAEjB,IADA,IAAIxa,GAAS,EACE,MAAR+yJ,GAAuB,OAARA,GAAwB,OAARA,GAAwB,OAARA,GAAwB,OAARA,GAClE/yJ,GAAS,EACTwa,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GAErB,OAAOxa,CACV,CAQD,SAAS8nJ,IACL,IAAIJ,EAAW0M,IACf,IAAK1M,EACD,OAAO,KAEX,IAAIl5F,EAAMk5F,EAEV,IADAqL,EAAMtvH,EAAIuF,OAAOxuB,GACF,MAARu4I,GAAa,CAUhB,GATAv4I,IACA25I,IACiB,cAAb3lG,EAAInwD,OACJmwD,EAAM,CACFnwD,KAAM,YACNqzJ,UAAW,CAAChK,OAGpBA,EAAW0M,KAEP,MAAM7qJ,MAAM,4BAEhBilD,EAAIkjG,UAAUj6J,KAAKiwJ,EACtB,CACD,OAAOl5F,CACV,CACD,SAAS4lG,IACLD,IACA,IAAIzM,EAAW,CACXrpJ,KAAM,WAENszJ,EAAO0C,IACX,IAAK1C,EACD,OAAO,KAGX,IADA,IAAI2C,EAAc5M,EACXiK,IACHA,EAAKtzJ,KAAO,OACZi2J,EAAY3C,KAAOA,EACnB2C,EAAc3C,EACdwC,IACApB,EAAMtvH,EAAIuF,OAAOxuB,KACbA,GAAO5O,GAAa,MAARmnJ,GAAuB,MAARA,KAG/B,GAAIY,EAAqBZ,GAAM,CAC3B,IAAIr/C,EAAKq/C,EAIT,GAHAv4I,IACA25I,MACAxC,EAAO0C,KAEH,MAAM9qJ,MAAM,wBAA0BmqG,EAAK,MAE/Ci+C,EAAKpC,gBAAkB77C,CAC1B,MAEGi+C,EAAO0C,OAEH1C,EAAKpC,gBAAkB,MAInC,OAAO7H,CACV,CAED,SAAS2M,IAEL,IADA,IAAI1C,EAAO,KACJn3I,EAAM5O,GAET,GAAY,OADZmnJ,EAAMtvH,EAAIuF,OAAOxuB,IAEbA,KACCm3I,EAAOA,GAAQ,IAAI9J,QAAU,SAE7B,GAAI2L,GAAQZ,aAAaG,IAAgB,OAARA,GACjCpB,EAAOA,GAAQ,CAAE,GAAE9J,QAAUqM,SAE7B,GAAY,MAARnB,EACLv4I,MACAm3I,EAAOA,GAAQ,IACTS,WAAaT,EAAKS,YAAc,IAAI36J,KAAKy8J,UAE9C,GAAY,MAARnB,EACLv4I,KACCm3I,EAAOA,GAAQ,CAAE,GAAE71J,GAAKo4J,SAExB,GAAY,MAARnB,EAAa,CAClBv4I,IACA25I,IACA,IAAII,EAAO,CACPvlJ,KAAMklJ,KAIV,GAFAC,IAEY,MAARpB,EACAv4I,QAEC,CACD,IAAIs9G,EAAW,GAMf,GALI47B,EAAiBX,KACjBj7B,EAAWi7B,EACXv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,IAEjBA,GAAO5O,EACP,MAAMrC,MAAM,yCAEhB,GAAY,MAARwpJ,EACA,MAAMxpJ,MAAM,qBAAuBwpJ,EAAM,YAE7CwB,EAAKz8B,SAAWA,EAAW,IAC3Bt9G,IACA25I,IACA,IAAIK,EAAY,GAGhB,GAFAD,EAAKpd,UAAY,SAEL,MAAR4b,EACAyB,EAAYX,EAAO,IAAKL,GAAQF,8BAG/B,GAAY,MAARP,EACLyB,EAAYX,EAAO,IAAML,GAAQH,6BAGhC,GAAIO,GAA8B,MAARb,EAC3Bv4I,IACAg6I,EAAYN,IACZK,EAAKpd,UAAY,iBAEhB,CACD,KAAO38H,EAAM5O,GACG,MAARmnJ,GAGJyB,GAAazB,EACbv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GAErBg6I,EAAYA,EAAU7hH,MACzB,CAED,GADAwhH,IACI35I,GAAO5O,EACP,MAAMrC,MAAM,yCAEhB,GAAY,MAARwpJ,EACA,MAAMxpJ,MAAM,qBAAuBwpJ,EAAM,YAE7Cv4I,IACA+5I,EAAKh+J,MAAQi+J,CAChB,GACD7C,EAAOA,GAAQ,IACTU,MAAQV,EAAKU,OAAS,IAAI56J,KAAK88J,EACxC,KACI,IAAY,MAARxB,EAyDL,MAxDAv4I,IACA,IAAIi6I,EAAaP,IACbjC,EAAS,CACTjjJ,KAAMylJ,GAGV,GAAY,MAAR1B,EAAa,CACbv4I,IACA,IAAIjkB,EAAQ,GAEZ,GADA49J,IAC4B,aAAxBvC,EAAQ6C,GACRxC,EAAO9a,UAAY,WACnB5gJ,EAAQuxJ,QAEP,CAGD,GAFAmK,EAAO9a,UAAYya,EAAQ6C,IAAe,SAE9B,MAAR1B,EACAx8J,EAAQs9J,EAAO,IAAKL,GAAQF,8BAG3B,GAAY,MAARP,EACLx8J,EAAQs9J,EAAO,IAAML,GAAQH,6BAG5B,GAAIO,GAA8B,MAARb,EAC3Bv4I,IACAjkB,EAAQ29J,IACRjC,EAAO9a,UAAY,iBAElB,CACD,KAAO38H,EAAM5O,GACG,MAARmnJ,GAGJx8J,GAASw8J,EACTv4I,IACAu4I,EAAMtvH,EAAIuF,OAAOxuB,GAErBjkB,EAAQA,EAAMo8C,MACjB,CACDwhH,GACH,CACD,GAAI35I,GAAO5O,EACP,MAAMrC,MAAM,yCAEhB,GAAY,MAARwpJ,EACA,MAAMxpJ,MAAM,qBAAuBwpJ,EAAM,YAE7Cv4I,IACAy3I,EAAO17J,MAAQA,CAClB,GACDo7J,EAAOA,GAAQ,IACTC,QAAUD,EAAKC,SAAW,IAAIn6J,KAAKw6J,EAI5C,CAEL,OAAON,CACV,CACD,OA3NA,WACI,IAAInjG,EAAMs5F,IACV,GAAIttI,EAAM5O,EACN,MAAMrC,MAAM,sBAAwBk6B,EAAIuF,OAAOxuB,GAAO,YAE1D,OAAOg0C,CACV,CAqNMxyD,EACX,YCtUA/F,OAAOooC,eAAeq2H,GAAS,aAAc,CAAEn+J,OAAO,IACtD,IAAIi9J,GAAUrJ,GA+EduK,GAAAC,aA9EA,SAASA,EAAazI,GAClB,IAAI19F,EAAM,GACV,OAAQ09F,EAAO7tJ,MACX,IAAK,UAGD,IAFA,IAAIu2J,EAAgB1I,EAAOyF,KACvB3hC,EAAQ,GACL4kC,GACCA,EAAcrF,iBACdv/B,EAAMv4H,KAAKm9J,EAAcrF,iBAE7Bv/B,EAAMv4H,KAAKk9J,EAAaC,IACxBA,EAAgBA,EAAcjD,KAElCnjG,EAAMwhE,EAAM73G,KAAK,KACjB,MACJ,IAAK,YACDq2C,EAAM09F,EAAOwF,UAAU7xJ,IAAI80J,GAAcx8I,KAAK,MAC9C,MACJ,IAAK,OACG+zI,EAAOrE,UAEHr5F,EADmB,MAAnB09F,EAAOrE,QACD,IAGA2L,GAAQV,iBAAiB5G,EAAOrE,UAG1CqE,EAAOpwJ,KACP0yD,GAAO,IAAMglG,GAAQV,iBAAiB5G,EAAOpwJ,KAE7CowJ,EAAOkG,aACP5jG,GAAO09F,EAAOkG,WAAWvyJ,KAAI,SAAUg1J,GACnC,MAAO,IAAOrB,GAAQV,iBAAiB+B,EAC3D,IAAmB18I,KAAK,KAER+zI,EAAOmG,QACP7jG,GAAO09F,EAAOmG,MAAMxyJ,KAAI,SAAU00J,GAC9B,MAAI,aAAcA,EACS,eAAnBA,EAAKpd,UACE,IAAMqc,GAAQV,iBAAiByB,EAAKvlJ,MAAQulJ,EAAKz8B,SAAW,IAAMy8B,EAAKh+J,MAAQ,IAG/E,IAAMi9J,GAAQV,iBAAiByB,EAAKvlJ,MAAQulJ,EAAKz8B,SAAW07B,GAAQL,UAAUoB,EAAKh+J,OAAS,IAIhG,IAAMi9J,GAAQV,iBAAiByB,EAAKvlJ,MAAQ,GAE3E,IAAmBmJ,KAAK,KAER+zI,EAAO0F,UACPpjG,GAAO09F,EAAO0F,QAAQ/xJ,KAAI,SAAUoyJ,GAChC,OAAIA,EAAO9a,UACkB,aAArB8a,EAAO9a,UACA,IAAMqc,GAAQV,iBAAiBb,EAAOjjJ,MAAQ,IAAM2lJ,EAAa1C,EAAO17J,OAAS,IAE9D,eAArB07J,EAAO9a,UACL,IAAMqc,GAAQV,iBAAiBb,EAAOjjJ,MAAQ,KAAOijJ,EAAO17J,MAAQ,IAEjD,YAArB07J,EAAO9a,UACL,IAAMqc,GAAQV,iBAAiBb,EAAOjjJ,MAAQ,IAAMijJ,EAAO17J,MAAQ,IAGlE,IAAMi9J,GAAQV,iBAAiBb,EAAOjjJ,MAC1C,IAAMwkJ,GAAQV,iBAAiBb,EAAO17J,OAAS,IAIhD,IAAMi9J,GAAQV,iBAAiBb,EAAOjjJ,KAErE,IAAmBmJ,KAAK,KAEZ,MACJ,QACI,MAAM5O,MAAM,yBAA2B2iJ,EAAO7tJ,KAAO,MAE7D,OAAOmwD,CACX,EC/EAv4D,OAAOooC,eAAepJ,GAAS,aAAc,CAAE1+B,OAAO,IACtD,IAAIu+J,GAAmB3K,GACnB4K,GAAW1K,GACX2K,GAAmC,WACnC,SAASA,IACLr4J,KAAKi1J,QAAU,GACfj1J,KAAK+2J,iBAAmB,GACxB/2J,KAAKg3J,qBAAuB,GAC5Bh3J,KAAKi3J,oBAAqB,CAC7B,CAuGD,OAtGAoB,EAAkBngJ,UAAUogJ,wBAA0B,WAElD,IADA,IAAIrD,EAAU,GACLsD,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCtD,EAAQsD,GAAM7lI,UAAU6lI,GAE5B,IAAK,IAAIjK,EAAK,EAAGkK,EAAYvD,EAAS3G,EAAKkK,EAAUl+J,OAAQg0J,IAAM,CAC/D,IAAIgH,EAASkD,EAAUlK,GACvBtuJ,KAAKi1J,QAAQK,GAAU,UAC1B,CACD,OAAOt1J,IACf,EACIq4J,EAAkBngJ,UAAUugJ,0BAA4B,WAEpD,IADA,IAAIxD,EAAU,GACLsD,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCtD,EAAQsD,GAAM7lI,UAAU6lI,GAE5B,IAAK,IAAIjK,EAAK,EAAGoK,EAAYzD,EAAS3G,EAAKoK,EAAUp+J,OAAQg0J,IAAM,CAC/D,IAAIgH,EAASoD,EAAUpK,UAChBtuJ,KAAKi1J,QAAQK,EACvB,CACD,OAAOt1J,IACf,EACIq4J,EAAkBngJ,UAAUygJ,uBAAyB,WAEjD,IADA,IAAI1D,EAAU,GACLsD,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCtD,EAAQsD,GAAM7lI,UAAU6lI,GAE5B,IAAK,IAAIjK,EAAK,EAAGsK,EAAY3D,EAAS3G,EAAKsK,EAAUt+J,OAAQg0J,IAAM,CAC/D,IAAIgH,EAASsD,EAAUtK,GACvBtuJ,KAAKi1J,QAAQK,GAAU,SAC1B,CACD,OAAOt1J,IACf,EACIq4J,EAAkBngJ,UAAU2gJ,yBAA2B,WAEnD,IADA,IAAI5D,EAAU,GACLsD,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCtD,EAAQsD,GAAM7lI,UAAU6lI,GAE5B,IAAK,IAAIjK,EAAK,EAAGwK,EAAY7D,EAAS3G,EAAKwK,EAAUx+J,OAAQg0J,IAAM,CAC/D,IAAIgH,EAASwD,EAAUxK,UAChBtuJ,KAAKi1J,QAAQK,EACvB,CACD,OAAOt1J,IACf,EACIq4J,EAAkBngJ,UAAU6gJ,yBAA2B,WAEnD,IADA,IAAIC,EAAY,GACPT,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCS,EAAUT,GAAM7lI,UAAU6lI,GAE9B,IAAK,IAAIjK,EAAK,EAAG2K,EAAcD,EAAW1K,EAAK2K,EAAY3+J,OAAQg0J,IAAM,CACrE,IAAInzB,EAAW89B,EAAY3K,GAC3BtuJ,KAAKg3J,qBAAqB77B,IAAY,CACzC,CACD,OAAOn7H,IACf,EACIq4J,EAAkBngJ,UAAUghJ,2BAA6B,WAErD,IADA,IAAIF,EAAY,GACPT,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCS,EAAUT,GAAM7lI,UAAU6lI,GAE9B,IAAK,IAAIjK,EAAK,EAAG6K,EAAcH,EAAW1K,EAAK6K,EAAY7+J,OAAQg0J,IAAM,CACrE,IAAInzB,EAAWg+B,EAAY7K,UACpBtuJ,KAAKg3J,qBAAqB77B,EACpC,CACD,OAAOn7H,IACf,EACIq4J,EAAkBngJ,UAAUkhJ,yBAA2B,WAEnD,IADA,IAAIC,EAAO,GACFd,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCc,EAAKd,GAAM7lI,UAAU6lI,GAEzB,IAAK,IAAIjK,EAAK,EAAGgL,EAASD,EAAM/K,EAAKgL,EAAOh/J,OAAQg0J,IAAM,CACtD,IAAIiL,EAAMD,EAAOhL,GACjBtuJ,KAAK+2J,iBAAiBwC,IAAO,CAChC,CACD,OAAOv5J,IACf,EACIq4J,EAAkBngJ,UAAUshJ,2BAA6B,WAErD,IADA,IAAIH,EAAO,GACFd,EAAK,EAAGA,EAAK7lI,UAAUp4B,OAAQi+J,IACpCc,EAAKd,GAAM7lI,UAAU6lI,GAEzB,IAAK,IAAIjK,EAAK,EAAGmL,EAASJ,EAAM/K,EAAKmL,EAAOn/J,OAAQg0J,IAAM,CACtD,IAAIiL,EAAME,EAAOnL,UACVtuJ,KAAK+2J,iBAAiBwC,EAChC,CACD,OAAOv5J,IACf,EACIq4J,EAAkBngJ,UAAUwhJ,kBAAoB,WAE5C,OADA15J,KAAKi3J,oBAAqB,EACnBj3J,IACf,EACIq4J,EAAkBngJ,UAAUyhJ,mBAAqB,WAE7C,OADA35J,KAAKi3J,oBAAqB,EACnBj3J,IACf,EACIq4J,EAAkBngJ,UAAU7Y,MAAQ,SAAUynC,GAC1C,OAAOqxH,GAAiBrB,iBAAiBhwH,EAAK,EAAG9mC,KAAKi1J,QAASj1J,KAAK+2J,iBAAkB/2J,KAAKg3J,qBAAsBh3J,KAAKi3J,mBAC9H,EACIoB,EAAkBngJ,UAAU6/I,OAAS,SAAU/+I,GAC3C,OAAOo/I,GAASJ,aAAah/I,GAAMg9B,MAC3C,EACWqiH,CACX,IACAuB,GAAAthI,GAAA+/H,kBAA4BA,GCjH5B,MAAM9D,GAAa,IAAIz1J,IAAI,CAAC,EAAG,GAAI,GAAI,GAAI,KACrC+6J,GAAO,IAAI3+J,WAAW,GACtB4+J,GAAO,IAAI5+J,WAAW,GCJ5B,IAAA6+J,GAAiB,CAChBC,SAAU,WACT,OAAO,CACP,EACDC,UAAW,WACV,OAAO,CACP,GCoBa,SAASC,GAASC,GAC7B,OCNG,SAAiBC,GACpB,MAAM12J,EAAI02J,EAAO,GAEXz2J,EAAIy2J,EAAO,GAAK,EAQtB,GAAIz2J,EAAI,GAAKD,GAAK,EACd,OAAOq2J,GAASE,UAEpB,IAAW,IAAPv2J,EACA,OAAQpD,GAAUA,GAASqD,EAC/B,GAAU,IAAND,EACA,OAAQpD,GAAUA,IAAUqD,EAEhC,GAAU,IAAND,EACA,OAAOC,EAAI,EAAIo2J,GAASC,SAAY15J,GAAUA,GAASqD,EAM3D,MAAM02J,EAAO/0J,KAAKwD,IAAIpF,GAEhB42J,GAAS32J,EAAI02J,EAAQA,GAAQA,EACnC,OAAO32J,EAAI,EACJpD,GAAUA,GAASqD,GAAKrD,EAAQ+5J,IAASC,EACzCh6J,GAAUA,GAASqD,GAAKrD,EAAQ+5J,IAASC,CACpD,CD1BWC,CFfJ,SAAeJ,GAElB,GAAgB,UADhBA,EAAUA,EAAQnkH,OAAOh8C,eAErB,MAAO,CAAC,EAAG,GAEV,GAAgB,QAAZmgK,EACL,MAAO,CAAC,EAAG,GAGf,IAAIl6I,EAAM,EACNvc,EAAI,EACJqtB,EAAOypI,IACPv0B,EAASw0B,IAeb,GAdIx6I,EAAMk6I,EAAQ7/J,QAAkC,MAAxB6/J,EAAQ9tH,OAAOpsB,KACvCA,IACAvc,EAAIqtB,GAAQk1G,QAAuCA,EAAS,GAC5DuxB,IACIv3I,EAAMk6I,EAAQ7/J,QACdy2B,EAAOypI,IACPhD,IACAvxB,EAASw0B,KAGT1pI,EAAOk1G,EAAS,GAIT,OAAXA,GAAmBhmH,EAAMk6I,EAAQ7/J,OACjC,MAAM,IAAIsS,MAAM,kCAAkCutJ,OAEtD,MAAO,CAACz2J,EAAGqtB,EAAOk1G,GAClB,SAASu0B,IACL,MAA4B,MAAxBL,EAAQ9tH,OAAOpsB,IACfA,KACQ,IAEgB,MAAxBk6I,EAAQ9tH,OAAOpsB,IACfA,IAEG,EACV,CACD,SAASw6I,IACL,MAAMh1J,EAAQwa,EACd,IAAIrmB,EAAQ,EACZ,KAAOqmB,EAAMk6I,EAAQ7/J,QACjB6/J,EAAQj/J,WAAW+kB,IAAQ45I,IAC3BM,EAAQj/J,WAAW+kB,IAAQ65I,IAC3BlgK,EAAgB,GAARA,GAAcugK,EAAQj/J,WAAW+kB,GAAO45I,IAChD55I,IAGJ,OAAOA,IAAQxa,EAAQ,KAAO7L,CACjC,CACD,SAAS49J,IACL,KAAOv3I,EAAMk6I,EAAQ7/J,QACjBi6J,GAAWx1J,IAAIo7J,EAAQj/J,WAAW+kB,KAClCA,GAEP,CACL,CE5CmB5gB,CAAM86J,GACzB,CEbA,MAAMD,GAAWQ,GAAgB/vJ,SAAW+vJ,GAEtCC,GAAM,IAAI77J,IAAI,CAClB,YACA,iBACA,cACA,qBAGI83C,GAAS,IAAIyhH,GAGbkC,GAAU7J,GAAO,OAAQ,CAACG,SAAU,CAACkE,UAuB3C,SAAmBnkF,GACjB,IAAItwE,GAAS,EAEb,OAASA,EAAQswE,EAAMmkF,UAAUz6J,QAC/BigK,GAAQ3pF,EAAMmkF,UAAUz0J,IAG1B,OAAOswE,CACT,EA/BsDklF,QAqCtD,SAAiBllF,GACf,OAAOokF,GAAKpkF,EAAMokF,KACpB,EAvC+DA,WAUxD,SAAS31J,GAAM0rJ,GACpB,GAAwB,iBAAbA,EACT,MAAM,IAAIppH,UAAU,uCAAyCopH,EAAW,KAI1E,OAAOwP,GAAQ3jH,GAAOv3C,MAAM0rJ,GAC9B,CA4BA,SAASiK,GAAKpkF,GACZ,MAAMqkF,EAAUrkF,EAAMqkF,SAAW,GACjC,IAAI30J,GAAS,EAEb,OAASA,EAAQ20J,EAAQ36J,QAAQ,CAC/B,MAAMg7J,EAASL,EAAQ30J,GAEnBq6J,GAAI57J,IAAIu2J,EAAOjjJ,QAEjBijJ,EAAO17J,MAAQsgK,GAAS5E,EAAO17J,OAE/B07J,EAAO9a,UAAY,WAEtB,CAID,OAFA+f,GAAQ3pF,EAAMokF,MAEPpkF,CACT,CC3EO,SAASz8B,GAAQ42G,EAAU9pJ,EAAM0kI,GACtC,OAAO+rB,QACLH,GAAIlyJ,GAAM0rJ,GAAW9pJ,EAAM,CAAC0kI,QAAOgrB,KAAK,EAAMkC,SAAS,IAAO,GAElE,CAQO,SAASnyE,GAAOqqE,EAAU9pJ,EAAM0kI,GACrC,OAAO4rB,GAAIlyJ,GAAM0rJ,GAAW9pJ,EAAM,CAAC0kI,QAAOgrB,KAAK,IAAO,IAAM,IAC9D,CAQO,SAASiK,GAAU7P,EAAU9pJ,EAAM0kI,GACxC,OAAO4rB,GAAIlyJ,GAAM0rJ,GAAW9pJ,EAAM,CAAC0kI,SACrC,CDVA/uF,GAAOwiH,yBAAyB,IAAK,IAAK,IAAK,IAAK,KACpDxiH,GAAO0hH,wBAAwB,MAAO,UAAW,MAAO,OACxD1hH,GAAOmiH,yBAAyB,IAAK,IAAK,KE9B1C,IAAI8B,GAAwB,CAAC,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,IAAK,GAAI,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,MAAO,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,MAAO,EAAG,KAAM,GAAI,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,EAAG,KAAM,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,IAAK,EAAG,GAAI,GAAI,KAAM,EAAG,IAAK,EAAG,EAAG,EAAG,KAAM,EAAG,OAAQ,KAGv8BC,GAA6B,CAAC,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,IAAK,GAAI,GAAI,IAAK,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,IAAK,IAAK,IAAK,GAAI,IAAK,KAAM,GAAI,GAAI,KAAM,KAAM,IAAK,KAAM,IAAK,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,GAAI,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,KAAM,EAAG,KAAM,GAAI,EAAG,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,KAAM,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAA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GE3uL,EAAQwuL,QAAUxuL,EAAQ4uL,WACrB3hM,EAIPA,EAEGE,QAAQ,mCAeb,SAAmB0hM,EAAMl7L,EAAO2C,GAC9B,OAAO0J,EAAQsJ,OACmB,MAA/BulL,EAAKtgM,WAAW,GAAK,OACpBsgM,EAAKtgM,WAAW,GAChB,MACA,MACF+H,EAAI/H,WAAWoF,EAAQ,GACvBqM,EAEH,IArBI7S,QAEC,6DACAwhM,GAyBN,SAASA,EAAMG,EAAWn7L,EAAO2C,GAC/B,OAAO0J,EAAQsJ,OACbwlL,EAAUvgM,WAAW,GACrB+H,EAAI/H,WAAWoF,EAAQ,GACvBqM,EAEH,CACH,CCpEO,MAAM+uL,GAA0B,CACrC,QACA,MACA,SACA,QACA,SACA,QACA,SACA,OACA,OACA,SACA,MACA,SACA,QACA,SACA,OACA,KACA,SACA,QACA,SACA,OACA,KACA,SACA,SACA,QACA,SACA,SACA,SACA,OACA,OACA,MACA,QACA,SACA,QACA,SACA,OACA,SACA,SACA,QACA,QACA,QACA,SACA,MACA,QACA,SACA,OACA,SACA,SACA,QACA,OACA,OACA,SACA,MACA,SACA,SACA,QACA,SACA,MACA,OACA,SACA,SACA,SACA,KACA,SACA,QACA,QACA,SACA,SACA,OACA,QACA,KACA,OACA,QACA,SACA,OACA,MACA,SACA,SACA,QACA,SACA,OACA,OACA,SACA,SACA,OACA,OACA,SACA,QACA,OACA,QACA,MACA,OACA,MACA,OACA,OACA,OACA,QACA,QACA,QACA,SACA,QACA,SACA,MACA,OACA,SACA,MACA,QC1GWC,GAAyB,CACpCC,KAAM,IACNC,MAAO,IACPC,KAAM,IACNC,MAAO,IACPC,OAAQ,IACRC,IAAK,IACLC,OAAQ,IACRC,KAAM,IACNC,IAAK,IACLxoK,KAAM,IACNyoK,KAAM,IACNC,MAAO,IACP1hE,IAAK,IACL2hE,IAAK,IACLC,IAAK,IACLC,KAAM,IACNC,IAAK,IACLC,OAAQ,IACRC,KAAM,IACNC,KAAM,IACNC,MAAO,IACPC,MAAO,IACPC,KAAM,IACNC,OAAQ,IACRC,MAAO,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"}